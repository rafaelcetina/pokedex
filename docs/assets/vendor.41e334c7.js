/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */var Br=Object.freeze({});function he(e){return e==null}function G(e){return e!=null}function He(e){return e===!0}function M1(e){return e===!1}function ta(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function At(e){return e!==null&&typeof e=="object"}var Kd=Object.prototype.toString;function Gt(e){return Kd.call(e)==="[object Object]"}function L1(e){return Kd.call(e)==="[object RegExp]"}function AS(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function Ef(e){return G(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function U1(e){return e==null?"":Array.isArray(e)||Gt(e)&&e.toString===Kd?JSON.stringify(e,null,2):String(e)}function Ro(e){var t=parseFloat(e);return isNaN(t)?e:t}function Ar(e,t){for(var r=Object.create(null),n=e.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return t?function(o){return r[o.toLowerCase()]}:function(o){return r[o]}}Ar("slot,component",!0);var B1=Ar("key,ref,slot,slot-scope,is");function nn(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var F1=Object.prototype.hasOwnProperty;function Et(e,t){return F1.call(e,t)}function ci(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}var j1=/-(\w)/g,Qn=ci(function(e){return e.replace(j1,function(t,r){return r?r.toUpperCase():""})}),$1=ci(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),z1=/\B([A-Z])/g,ra=ci(function(e){return e.replace(z1,"-$1").toLowerCase()});function q1(e,t){function r(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return r._length=e.length,r}function K1(e,t){return e.bind(t)}var H1=Function.prototype.bind?K1:q1;function Cf(e,t){t=t||0;for(var r=e.length-t,n=new Array(r);r--;)n[r]=e[r+t];return n}function Me(e,t){for(var r in t)e[r]=t[r];return e}function xS(e){for(var t={},r=0;r<e.length;r++)e[r]&&Me(t,e[r]);return t}function Nt(e,t,r){}var ga=function(e,t,r){return!1},TS=function(e){return e};function Zn(e,t){if(e===t)return!0;var r=At(e),n=At(t);if(r&&n)try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every(function(c,u){return Zn(c,t[u])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!i&&!o){var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(c){return Zn(e[c],t[c])})}else return!1}catch{return!1}else return!r&&!n?String(e)===String(t):!1}function IS(e,t){for(var r=0;r<e.length;r++)if(Zn(e[r],t))return r;return-1}function Rs(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var bp="data-server-rendered",wu=["component","directive","filter"],OS=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],fr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:ga,isReservedAttr:ga,isUnknownElement:ga,getTagNamespace:Nt,parsePlatformTagName:TS,mustUseProp:ga,async:!0,_lifecycleHooks:OS},G1=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V1(e){var t=(e+"").charCodeAt(0);return t===36||t===95}function Fi(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var W1=new RegExp("[^"+G1.source+".$_\\d]");function J1(e){if(!W1.test(e)){var t=e.split(".");return function(r){for(var n=0;n<t.length;n++){if(!r)return;r=r[t[n]]}return r}}}var Y1="__proto__"in{},Vt=typeof window!="undefined",Hd=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,PS=Hd&&WXEnvironment.platform.toLowerCase(),gt=Vt&&window.navigator.userAgent.toLowerCase(),Yi=gt&&/msie|trident/.test(gt),Xi=gt&&gt.indexOf("msie 9.0")>0,Gd=gt&&gt.indexOf("edge/")>0;gt&&gt.indexOf("android")>0;var X1=gt&&/iphone|ipad|ipod|ios/.test(gt)||PS==="ios";gt&&/chrome\/\d+/.test(gt);gt&&/phantomjs/.test(gt);var _p=gt&&gt.match(/firefox\/(\d+)/),Af={}.watch,kS=!1;if(Vt)try{var Sp={};Object.defineProperty(Sp,"passive",{get:function(){kS=!0}}),window.addEventListener("test-passive",null,Sp)}catch{}var ya,bu=function(){return ya===void 0&&(!Vt&&!Hd&&typeof global!="undefined"?ya=global.process&&global.process.env.VUE_ENV==="server":ya=!1),ya},Ns=Vt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ji(e){return typeof e=="function"&&/native code/.test(e.toString())}var _u=typeof Symbol!="undefined"&&ji(Symbol)&&typeof Reflect!="undefined"&&ji(Reflect.ownKeys),No;typeof Set!="undefined"&&ji(Set)?No=Set:No=function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(r){return this.set[r]===!0},e.prototype.add=function(r){this.set[r]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var Q1=Nt,Z1=0,Ht=function(){this.id=Z1++,this.subs=[]};Ht.prototype.addSub=function(t){this.subs.push(t)};Ht.prototype.removeSub=function(t){nn(this.subs,t)};Ht.prototype.depend=function(){Ht.target&&Ht.target.addDep(this)};Ht.prototype.notify=function(){for(var t=this.subs.slice(),r=0,n=t.length;r<n;r++)t[r].update()};Ht.target=null;var is=[];function na(e){is.push(e),Ht.target=e}function ia(){is.pop(),Ht.target=is[is.length-1]}var Dt=function(t,r,n,i,o,a,s,c){this.tag=t,this.data=r,this.children=n,this.text=i,this.elm=o,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=r&&r.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},RS={child:{configurable:!0}};RS.child.get=function(){return this.componentInstance};Object.defineProperties(Dt.prototype,RS);var Wn=function(e){e===void 0&&(e="");var t=new Dt;return t.text=e,t.isComment=!0,t};function Mi(e){return new Dt(void 0,void 0,void 0,String(e))}function xf(e){var t=new Dt(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var NS=Array.prototype,Ds=Object.create(NS),eT=["push","pop","shift","unshift","splice","sort","reverse"];eT.forEach(function(e){var t=NS[e];Fi(Ds,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var o=t.apply(this,n),a=this.__ob__,s;switch(e){case"push":case"unshift":s=n;break;case"splice":s=n.slice(2);break}return s&&a.observeArray(s),a.dep.notify(),o})});var tT=Object.getOwnPropertyNames(Ds),Vd=!0;function On(e){Vd=e}var Ms=function(t){this.value=t,this.dep=new Ht,this.vmCount=0,Fi(t,"__ob__",this),Array.isArray(t)?(Y1?rT(t,Ds):nT(t,Ds,tT),this.observeArray(t)):this.walk(t)};Ms.prototype.walk=function(t){for(var r=Object.keys(t),n=0;n<r.length;n++)ti(t,r[n])};Ms.prototype.observeArray=function(t){for(var r=0,n=t.length;r<n;r++)ei(t[r])};function rT(e,t){e.__proto__=t}function nT(e,t,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];Fi(e,o,t[o])}}function ei(e,t){if(!(!At(e)||e instanceof Dt)){var r;return Et(e,"__ob__")&&e.__ob__ instanceof Ms?r=e.__ob__:Vd&&!bu()&&(Array.isArray(e)||Gt(e))&&Object.isExtensible(e)&&!e._isVue&&(r=new Ms(e)),t&&r&&r.vmCount++,r}}function ti(e,t,r,n,i){var o=new Ht,a=Object.getOwnPropertyDescriptor(e,t);if(!(a&&a.configurable===!1)){var s=a&&a.get,c=a&&a.set;(!s||c)&&arguments.length===2&&(r=e[t]);var u=!i&&ei(r);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var l=s?s.call(e):r;return Ht.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(l)&&MS(l))),l},set:function(l){var d=s?s.call(e):r;l===d||l!==l&&d!==d||s&&!c||(c?c.call(e,l):r=l,u=!i&&ei(l),o.notify())}})}}function Wd(e,t,r){if(Array.isArray(e)&&AS(t))return e.length=Math.max(e.length,t),e.splice(t,1,r),r;if(t in e&&!(t in Object.prototype))return e[t]=r,r;var n=e.__ob__;return e._isVue||n&&n.vmCount?r:n?(ti(n.value,t,r),n.dep.notify(),r):(e[t]=r,r)}function DS(e,t){if(Array.isArray(e)&&AS(t)){e.splice(t,1);return}var r=e.__ob__;e._isVue||r&&r.vmCount||!Et(e,t)||(delete e[t],r&&r.dep.notify())}function MS(e){for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&MS(t)}var Fr=fr.optionMergeStrategies;function Tf(e,t){if(!t)return e;for(var r,n,i,o=_u?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)r=o[a],r!=="__ob__"&&(n=e[r],i=t[r],Et(e,r)?n!==i&&Gt(n)&&Gt(i)&&Tf(n,i):Wd(e,r,i));return e}function If(e,t,r){return r?function(){var i=typeof t=="function"?t.call(r,r):t,o=typeof e=="function"?e.call(r,r):e;return i?Tf(i,o):o}:t?e?function(){return Tf(typeof t=="function"?t.call(this,this):t,typeof e=="function"?e.call(this,this):e)}:t:e}Fr.data=function(e,t,r){return r?If(e,t,r):t&&typeof t!="function"?e:If(e,t)};function iT(e,t){var r=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return r&&oT(r)}function oT(e){for(var t=[],r=0;r<e.length;r++)t.indexOf(e[r])===-1&&t.push(e[r]);return t}OS.forEach(function(e){Fr[e]=iT});function aT(e,t,r,n){var i=Object.create(e||null);return t?Me(i,t):i}wu.forEach(function(e){Fr[e+"s"]=aT});Fr.watch=function(e,t,r,n){if(e===Af&&(e=void 0),t===Af&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};Me(i,e);for(var o in t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i};Fr.props=Fr.methods=Fr.inject=Fr.computed=function(e,t,r,n){if(!e)return t;var i=Object.create(null);return Me(i,e),t&&Me(i,t),i};Fr.provide=If;var sT=function(e,t){return t===void 0?e:t};function uT(e,t){var r=e.props;if(!!r){var n={},i,o,a;if(Array.isArray(r))for(i=r.length;i--;)o=r[i],typeof o=="string"&&(a=Qn(o),n[a]={type:null});else if(Gt(r))for(var s in r)o=r[s],a=Qn(s),n[a]=Gt(o)?o:{type:o};e.props=n}}function cT(e,t){var r=e.inject;if(!!r){var n=e.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(Gt(r))for(var o in r){var a=r[o];n[o]=Gt(a)?Me({from:o},a):{from:a}}}}function fT(e){var t=e.directives;if(t)for(var r in t){var n=t[r];typeof n=="function"&&(t[r]={bind:n,update:n})}}function ri(e,t,r){if(typeof t=="function"&&(t=t.options),uT(t),cT(t),fT(t),!t._base&&(t.extends&&(e=ri(e,t.extends,r)),t.mixins))for(var n=0,i=t.mixins.length;n<i;n++)e=ri(e,t.mixins[n],r);var o={},a;for(a in e)s(a);for(a in t)Et(e,a)||s(a);function s(c){var u=Fr[c]||sT;o[c]=u(e[c],t[c],r,c)}return o}function Jd(e,t,r,n){if(typeof r=="string"){var i=e[t];if(Et(i,r))return i[r];var o=Qn(r);if(Et(i,o))return i[o];var a=$1(o);if(Et(i,a))return i[a];var s=i[r]||i[o]||i[a];return s}}function Yd(e,t,r,n){var i=t[e],o=!Et(r,e),a=r[e],s=Cp(Boolean,i.type);if(s>-1){if(o&&!Et(i,"default"))a=!1;else if(a===""||a===ra(e)){var c=Cp(String,i.type);(c<0||s<c)&&(a=!0)}}if(a===void 0){a=lT(n,i,e);var u=Vd;On(!0),ei(a),On(u)}return a}function lT(e,t,r){if(!!Et(t,"default")){var n=t.default;return e&&e.$options.propsData&&e.$options.propsData[r]===void 0&&e._props[r]!==void 0?e._props[r]:typeof n=="function"&&Of(t.type)!=="Function"?n.call(e):n}}var dT=/^\s*function (\w+)/;function Of(e){var t=e&&e.toString().match(dT);return t?t[1]:""}function Ep(e,t){return Of(e)===Of(t)}function Cp(e,t){if(!Array.isArray(t))return Ep(t,e)?0:-1;for(var r=0,n=t.length;r<n;r++)if(Ep(t[r],e))return r;return-1}function ni(e,t,r){na();try{if(t)for(var n=t;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=i[o].call(n,e,t,r)===!1;if(a)return}catch(s){Ap(s,n,"errorCaptured hook")}}Ap(e,t,r)}finally{ia()}}function Ki(e,t,r,n,i){var o;try{o=r?e.apply(t,r):e.call(t),o&&!o._isVue&&Ef(o)&&!o._handled&&(o.catch(function(a){return ni(a,n,i+" (Promise/async)")}),o._handled=!0)}catch(a){ni(a,n,i)}return o}function Ap(e,t,r){if(fr.errorHandler)try{return fr.errorHandler.call(null,e,t,r)}catch(n){n!==e&&xp(n)}xp(e)}function xp(e,t,r){if((Vt||Hd)&&typeof console!="undefined")console.error(e);else throw e}var Pf=!1,kf=[],Rf=!1;function ma(){Rf=!1;var e=kf.slice(0);kf.length=0;for(var t=0;t<e.length;t++)e[t]()}var yo;if(typeof Promise!="undefined"&&ji(Promise)){var hT=Promise.resolve();yo=function(){hT.then(ma),X1&&setTimeout(Nt)},Pf=!0}else if(!Yi&&typeof MutationObserver!="undefined"&&(ji(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var wa=1,pT=new MutationObserver(ma),Tp=document.createTextNode(String(wa));pT.observe(Tp,{characterData:!0}),yo=function(){wa=(wa+1)%2,Tp.data=String(wa)},Pf=!0}else typeof setImmediate!="undefined"&&ji(setImmediate)?yo=function(){setImmediate(ma)}:yo=function(){setTimeout(ma,0)};function Xd(e,t){var r;if(kf.push(function(){if(e)try{e.call(t)}catch(n){ni(n,t,"nextTick")}else r&&r(t)}),Rf||(Rf=!0,yo()),!e&&typeof Promise!="undefined")return new Promise(function(n){r=n})}var Ip=new No;function Ls(e){Nf(e,Ip),Ip.clear()}function Nf(e,t){var r,n,i=Array.isArray(e);if(!(!i&&!At(e)||Object.isFrozen(e)||e instanceof Dt)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(r=e.length;r--;)Nf(e[r],t);else for(n=Object.keys(e),r=n.length;r--;)Nf(e[n[r]],t)}}var Op=ci(function(e){var t=e.charAt(0)==="&";e=t?e.slice(1):e;var r=e.charAt(0)==="~";e=r?e.slice(1):e;var n=e.charAt(0)==="!";return e=n?e.slice(1):e,{name:e,once:r,capture:n,passive:t}});function Df(e,t){function r(){var n=arguments,i=r.fns;if(Array.isArray(i))for(var o=i.slice(),a=0;a<o.length;a++)Ki(o[a],null,n,t,"v-on handler");else return Ki(i,null,arguments,t,"v-on handler")}return r.fns=e,r}function LS(e,t,r,n,i,o){var a,s,c,u;for(a in e)s=e[a],c=t[a],u=Op(a),he(s)||(he(c)?(he(s.fns)&&(s=e[a]=Df(s,o)),He(u.once)&&(s=e[a]=i(u.name,s,u.capture)),r(u.name,s,u.capture,u.passive,u.params)):s!==c&&(c.fns=s,e[a]=c));for(a in t)he(e[a])&&(u=Op(a),n(u.name,t[a],u.capture))}function _n(e,t,r){e instanceof Dt&&(e=e.data.hook||(e.data.hook={}));var n,i=e[t];function o(){r.apply(this,arguments),nn(n.fns,o)}he(i)?n=Df([o]):G(i.fns)&&He(i.merged)?(n=i,n.fns.push(o)):n=Df([i,o]),n.merged=!0,e[t]=n}function vT(e,t,r){var n=t.options.props;if(!he(n)){var i={},o=e.attrs,a=e.props;if(G(o)||G(a))for(var s in n){var c=ra(s);Pp(i,a,s,c,!0)||Pp(i,o,s,c,!1)}return i}}function Pp(e,t,r,n,i){if(G(t)){if(Et(t,r))return e[r]=t[r],i||delete t[r],!0;if(Et(t,n))return e[r]=t[n],i||delete t[n],!0}return!1}function gT(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Qd(e){return ta(e)?[Mi(e)]:Array.isArray(e)?US(e):void 0}function no(e){return G(e)&&G(e.text)&&M1(e.isComment)}function US(e,t){var r=[],n,i,o,a;for(n=0;n<e.length;n++)i=e[n],!(he(i)||typeof i=="boolean")&&(o=r.length-1,a=r[o],Array.isArray(i)?i.length>0&&(i=US(i,(t||"")+"_"+n),no(i[0])&&no(a)&&(r[o]=Mi(a.text+i[0].text),i.shift()),r.push.apply(r,i)):ta(i)?no(a)?r[o]=Mi(a.text+i):i!==""&&r.push(Mi(i)):no(i)&&no(a)?r[o]=Mi(a.text+i.text):(He(e._isVList)&&G(i.tag)&&he(i.key)&&G(t)&&(i.key="__vlist"+t+"_"+n+"__"),r.push(i)));return r}function yT(e){var t=e.$options.provide;t&&(e._provided=typeof t=="function"?t.call(e):t)}function mT(e){var t=BS(e.$options.inject,e);t&&(On(!1),Object.keys(t).forEach(function(r){ti(e,r,t[r])}),On(!0))}function BS(e,t){if(e){for(var r=Object.create(null),n=_u?Reflect.ownKeys(e):Object.keys(e),i=0;i<n.length;i++){var o=n[i];if(o!=="__ob__"){for(var a=e[o].from,s=t;s;){if(s._provided&&Et(s._provided,a)){r[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[o]){var c=e[o].default;r[o]=typeof c=="function"?c.call(t):c}}}return r}}function Zd(e,t){if(!e||!e.length)return{};for(var r={},n=0,i=e.length;n<i;n++){var o=e[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,(o.context===t||o.fnContext===t)&&a&&a.slot!=null){var s=a.slot,c=r[s]||(r[s]=[]);o.tag==="template"?c.push.apply(c,o.children||[]):c.push(o)}else(r.default||(r.default=[])).push(o)}for(var u in r)r[u].every(wT)&&delete r[u];return r}function wT(e){return e.isComment&&!e.asyncFactory||e.text===" "}function Do(e){return e.isComment&&e.asyncFactory}function os(e,t,r){var n,i=Object.keys(t).length>0,o=e?!!e.$stable:!i,a=e&&e.$key;if(!e)n={};else{if(e._normalized)return e._normalized;if(o&&r&&r!==Br&&a===r.$key&&!i&&!r.$hasNormal)return r;n={};for(var s in e)e[s]&&s[0]!=="$"&&(n[s]=bT(t,s,e[s]))}for(var c in t)c in n||(n[c]=_T(t,c));return e&&Object.isExtensible(e)&&(e._normalized=n),Fi(n,"$stable",o),Fi(n,"$key",a),Fi(n,"$hasNormal",i),n}function bT(e,t,r){var n=function(){var i=arguments.length?r.apply(null,arguments):r({});i=i&&typeof i=="object"&&!Array.isArray(i)?[i]:Qd(i);var o=i&&i[0];return i&&(!o||i.length===1&&o.isComment&&!Do(o))?void 0:i};return r.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function _T(e,t){return function(){return e[t]}}function ST(e,t){var r,n,i,o,a;if(Array.isArray(e)||typeof e=="string")for(r=new Array(e.length),n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);else if(typeof e=="number")for(r=new Array(e),n=0;n<e;n++)r[n]=t(n+1,n);else if(At(e))if(_u&&e[Symbol.iterator]){r=[];for(var s=e[Symbol.iterator](),c=s.next();!c.done;)r.push(t(c.value,r.length)),c=s.next()}else for(o=Object.keys(e),r=new Array(o.length),n=0,i=o.length;n<i;n++)a=o[n],r[n]=t(e[a],a,n);return G(r)||(r=[]),r._isVList=!0,r}function ET(e,t,r,n){var i=this.$scopedSlots[e],o;i?(r=r||{},n&&(r=Me(Me({},n),r)),o=i(r)||(typeof t=="function"?t():t)):o=this.$slots[e]||(typeof t=="function"?t():t);var a=r&&r.slot;return a?this.$createElement("template",{slot:a},o):o}function CT(e){return Jd(this.$options,"filters",e)||TS}function kp(e,t){return Array.isArray(e)?e.indexOf(t)===-1:e!==t}function AT(e,t,r,n,i){var o=fr.keyCodes[t]||r;return i&&n&&!fr.keyCodes[t]?kp(i,n):o?kp(o,e):n?ra(n)!==t:e===void 0}function xT(e,t,r,n,i){if(r&&At(r)){Array.isArray(r)&&(r=xS(r));var o,a=function(c){if(c==="class"||c==="style"||B1(c))o=e;else{var u=e.attrs&&e.attrs.type;o=n||fr.mustUseProp(t,u,c)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var f=Qn(c),l=ra(c);if(!(f in o)&&!(l in o)&&(o[c]=r[c],i)){var d=e.on||(e.on={});d["update:"+c]=function(h){r[c]=h}}};for(var s in r)a(s)}return e}function TT(e,t){var r=this._staticTrees||(this._staticTrees=[]),n=r[e];return n&&!t||(n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),FS(n,"__static__"+e,!1)),n}function IT(e,t,r){return FS(e,"__once__"+t+(r?"_"+r:""),!0),e}function FS(e,t,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&typeof e[n]!="string"&&Rp(e[n],t+"_"+n,r);else Rp(e,t,r)}function Rp(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function OT(e,t){if(t&&Gt(t)){var r=e.on=e.on?Me({},e.on):{};for(var n in t){var i=r[n],o=t[n];r[n]=i?[].concat(i,o):o}}return e}function jS(e,t,r,n){t=t||{$stable:!r};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?jS(o,t,r):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function PT(e,t){for(var r=0;r<t.length;r+=2){var n=t[r];typeof n=="string"&&n&&(e[t[r]]=t[r+1])}return e}function kT(e,t){return typeof e=="string"?t+e:e}function $S(e){e._o=IT,e._n=Ro,e._s=U1,e._l=ST,e._t=ET,e._q=Zn,e._i=IS,e._m=TT,e._f=CT,e._k=AT,e._b=xT,e._v=Mi,e._e=Wn,e._u=jS,e._g=OT,e._d=PT,e._p=kT}function eh(e,t,r,n,i){var o=this,a=i.options,s;Et(n,"_uid")?(s=Object.create(n),s._original=n):(s=n,n=n._original);var c=He(a._compiled),u=!c;this.data=e,this.props=t,this.children=r,this.parent=n,this.listeners=e.on||Br,this.injections=BS(a.inject,n),this.slots=function(){return o.$slots||os(e.scopedSlots,o.$slots=Zd(r,n)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return os(e.scopedSlots,this.slots())}}),c&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=os(e.scopedSlots,this.$slots)),a._scopeId?this._c=function(f,l,d,h){var p=Us(s,f,l,d,h,u);return p&&!Array.isArray(p)&&(p.fnScopeId=a._scopeId,p.fnContext=n),p}:this._c=function(f,l,d,h){return Us(s,f,l,d,h,u)}}$S(eh.prototype);function RT(e,t,r,n,i){var o=e.options,a={},s=o.props;if(G(s))for(var c in s)a[c]=Yd(c,s,t||Br);else G(r.attrs)&&Dp(a,r.attrs),G(r.props)&&Dp(a,r.props);var u=new eh(r,a,i,n,e),f=o.render.call(null,u._c,u);if(f instanceof Dt)return Np(f,r,u.parent,o);if(Array.isArray(f)){for(var l=Qd(f)||[],d=new Array(l.length),h=0;h<l.length;h++)d[h]=Np(l[h],r,u.parent,o);return d}}function Np(e,t,r,n,i){var o=xf(e);return o.fnContext=r,o.fnOptions=n,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Dp(e,t){for(var r in t)e[Qn(r)]=t[r]}var th={init:function(t,r){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;th.prepatch(n,n)}else{var i=t.componentInstance=NT(t,Jn);i.$mount(r?t.elm:void 0,r)}},prepatch:function(t,r){var n=r.componentOptions,i=r.componentInstance=t.componentInstance;QT(i,n.propsData,n.listeners,r,n.children)},insert:function(t){var r=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,_r(n,"mounted")),t.data.keepAlive&&(r._isMounted?rI(n):rh(n,!0))},destroy:function(t){var r=t.componentInstance;r._isDestroyed||(t.data.keepAlive?WS(r,!0):r.$destroy())}},Mp=Object.keys(th);function Lp(e,t,r,n,i){if(!he(e)){var o=r.$options._base;if(At(e)&&(e=o.extend(e)),typeof e=="function"){var a;if(he(e.cid)&&(a=e,e=qT(a,o),e===void 0))return zT(a,t,r,n,i);t=t||{},ah(e),G(t.model)&&LT(e.options,t);var s=vT(t,e);if(He(e.options.functional))return RT(e,s,t,r,n);var c=t.on;if(t.on=t.nativeOn,He(e.options.abstract)){var u=t.slot;t={},u&&(t.slot=u)}DT(t);var f=e.options.name||i,l=new Dt("vue-component-"+e.cid+(f?"-"+f:""),t,void 0,void 0,void 0,r,{Ctor:e,propsData:s,listeners:c,tag:i,children:n},a);return l}}}function NT(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return G(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(r)}function DT(e){for(var t=e.hook||(e.hook={}),r=0;r<Mp.length;r++){var n=Mp[r],i=t[n],o=th[n];i!==o&&!(i&&i._merged)&&(t[n]=i?MT(o,i):o)}}function MT(e,t){var r=function(n,i){e(n,i),t(n,i)};return r._merged=!0,r}function LT(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[r]=t.model.value;var i=t.on||(t.on={}),o=i[n],a=t.model.callback;G(o)?(Array.isArray(o)?o.indexOf(a)===-1:o!==a)&&(i[n]=[a].concat(o)):i[n]=a}var UT=1,zS=2;function Us(e,t,r,n,i,o){return(Array.isArray(r)||ta(r))&&(i=n,n=r,r=void 0),He(o)&&(i=zS),BT(e,t,r,n,i)}function BT(e,t,r,n,i){if(G(r)&&G(r.__ob__)||(G(r)&&G(r.is)&&(t=r.is),!t))return Wn();Array.isArray(n)&&typeof n[0]=="function"&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),i===zS?n=Qd(n):i===UT&&(n=gT(n));var o,a;if(typeof t=="string"){var s;a=e.$vnode&&e.$vnode.ns||fr.getTagNamespace(t),fr.isReservedTag(t)?o=new Dt(fr.parsePlatformTagName(t),r,n,void 0,void 0,e):(!r||!r.pre)&&G(s=Jd(e.$options,"components",t))?o=Lp(s,r,e,n,t):o=new Dt(t,r,n,void 0,void 0,e)}else o=Lp(t,r,e,n);return Array.isArray(o)?o:G(o)?(G(a)&&qS(o,a),G(r)&&FT(r),o):Wn()}function qS(e,t,r){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,r=!0),G(e.children))for(var n=0,i=e.children.length;n<i;n++){var o=e.children[n];G(o.tag)&&(he(o.ns)||He(r)&&o.tag!=="svg")&&qS(o,t,r)}}function FT(e){At(e.style)&&Ls(e.style),At(e.class)&&Ls(e.class)}function jT(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,n=r&&r.context;e.$slots=Zd(t._renderChildren,n),e.$scopedSlots=Br,e._c=function(o,a,s,c){return Us(e,o,a,s,c,!1)},e.$createElement=function(o,a,s,c){return Us(e,o,a,s,c,!0)};var i=r&&r.data;ti(e,"$attrs",i&&i.attrs||Br,null,!0),ti(e,"$listeners",t._parentListeners||Br,null,!0)}var Mf=null;function $T(e){$S(e.prototype),e.prototype.$nextTick=function(t){return Xd(t,this)},e.prototype._render=function(){var t=this,r=t.$options,n=r.render,i=r._parentVnode;i&&(t.$scopedSlots=os(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;var o;try{Mf=t,o=n.call(t._renderProxy,t.$createElement)}catch(a){ni(a,t,"render"),o=t._vnode}finally{Mf=null}return Array.isArray(o)&&o.length===1&&(o=o[0]),o instanceof Dt||(o=Wn()),o.parent=i,o}}function vc(e,t){return(e.__esModule||_u&&e[Symbol.toStringTag]==="Module")&&(e=e.default),At(e)?t.extend(e):e}function zT(e,t,r,n,i){var o=Wn();return o.asyncFactory=e,o.asyncMeta={data:t,context:r,children:n,tag:i},o}function qT(e,t){if(He(e.error)&&G(e.errorComp))return e.errorComp;if(G(e.resolved))return e.resolved;var r=Mf;if(r&&G(e.owners)&&e.owners.indexOf(r)===-1&&e.owners.push(r),He(e.loading)&&G(e.loadingComp))return e.loadingComp;if(r&&!G(e.owners)){var n=e.owners=[r],i=!0,o=null,a=null;r.$on("hook:destroyed",function(){return nn(n,r)});var s=function(l){for(var d=0,h=n.length;d<h;d++)n[d].$forceUpdate();l&&(n.length=0,o!==null&&(clearTimeout(o),o=null),a!==null&&(clearTimeout(a),a=null))},c=Rs(function(l){e.resolved=vc(l,t),i?n.length=0:s(!0)}),u=Rs(function(l){G(e.errorComp)&&(e.error=!0,s(!0))}),f=e(c,u);return At(f)&&(Ef(f)?he(e.resolved)&&f.then(c,u):Ef(f.component)&&(f.component.then(c,u),G(f.error)&&(e.errorComp=vc(f.error,t)),G(f.loading)&&(e.loadingComp=vc(f.loading,t),f.delay===0?e.loading=!0:o=setTimeout(function(){o=null,he(e.resolved)&&he(e.error)&&(e.loading=!0,s(!1))},f.delay||200)),G(f.timeout)&&(a=setTimeout(function(){a=null,he(e.resolved)&&u(null)},f.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function KS(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(G(r)&&(G(r.componentOptions)||Do(r)))return r}}function KT(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&HS(e,t)}var Mo;function HT(e,t){Mo.$on(e,t)}function GT(e,t){Mo.$off(e,t)}function VT(e,t){var r=Mo;return function n(){var i=t.apply(null,arguments);i!==null&&r.$off(e,n)}}function HS(e,t,r){Mo=e,LS(t,r||{},HT,GT,VT,e),Mo=void 0}function WT(e){var t=/^hook:/;e.prototype.$on=function(r,n){var i=this;if(Array.isArray(r))for(var o=0,a=r.length;o<a;o++)i.$on(r[o],n);else(i._events[r]||(i._events[r]=[])).push(n),t.test(r)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(r,n){var i=this;function o(){i.$off(r,o),n.apply(i,arguments)}return o.fn=n,i.$on(r,o),i},e.prototype.$off=function(r,n){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(r)){for(var o=0,a=r.length;o<a;o++)i.$off(r[o],n);return i}var s=i._events[r];if(!s)return i;if(!n)return i._events[r]=null,i;for(var c,u=s.length;u--;)if(c=s[u],c===n||c.fn===n){s.splice(u,1);break}return i},e.prototype.$emit=function(r){var n=this,i=n._events[r];if(i){i=i.length>1?Cf(i):i;for(var o=Cf(arguments,1),a='event handler for "'+r+'"',s=0,c=i.length;s<c;s++)Ki(i[s],n,o,n,a)}return n}}var Jn=null;function GS(e){var t=Jn;return Jn=e,function(){Jn=t}}function JT(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function YT(e){e.prototype._update=function(t,r){var n=this,i=n.$el,o=n._vnode,a=GS(n);n._vnode=t,o?n.$el=n.__patch__(o,t):n.$el=n.__patch__(n.$el,t,r,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){_r(t,"beforeDestroy"),t._isBeingDestroyed=!0;var r=t.$parent;r&&!r._isBeingDestroyed&&!t.$options.abstract&&nn(r.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),_r(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function XT(e,t,r){e.$el=t,e.$options.render||(e.$options.render=Wn),_r(e,"beforeMount");var n;return n=function(){e._update(e._render(),r)},new xr(e,n,Nt,{before:function(){e._isMounted&&!e._isDestroyed&&_r(e,"beforeUpdate")}},!0),r=!1,e.$vnode==null&&(e._isMounted=!0,_r(e,"mounted")),e}function QT(e,t,r,n,i){var o=n.data.scopedSlots,a=e.$scopedSlots,s=!!(o&&!o.$stable||a!==Br&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key||!o&&e.$scopedSlots.$key),c=!!(i||e.$options._renderChildren||s);if(e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=i,e.$attrs=n.data.attrs||Br,e.$listeners=r||Br,t&&e.$options.props){On(!1);for(var u=e._props,f=e.$options._propKeys||[],l=0;l<f.length;l++){var d=f[l],h=e.$options.props;u[d]=Yd(d,h,t,e)}On(!0),e.$options.propsData=t}r=r||Br;var p=e.$options._parentListeners;e.$options._parentListeners=r,HS(e,r,p),c&&(e.$slots=Zd(i,n.context),e.$forceUpdate())}function VS(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function rh(e,t){if(t){if(e._directInactive=!1,VS(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(var r=0;r<e.$children.length;r++)rh(e.$children[r]);_r(e,"activated")}}function WS(e,t){if(!(t&&(e._directInactive=!0,VS(e)))&&!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)WS(e.$children[r]);_r(e,"deactivated")}}function _r(e,t){na();var r=e.$options[t],n=t+" hook";if(r)for(var i=0,o=r.length;i<o;i++)Ki(r[i],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),ia()}var Zr=[],nh=[],Bs={},Lf=!1,ih=!1,Li=0;function ZT(){Li=Zr.length=nh.length=0,Bs={},Lf=ih=!1}var JS=0,Uf=Date.now;if(Vt&&!Yi){var gc=window.performance;gc&&typeof gc.now=="function"&&Uf()>document.createEvent("Event").timeStamp&&(Uf=function(){return gc.now()})}function eI(){JS=Uf(),ih=!0;var e,t;for(Zr.sort(function(i,o){return i.id-o.id}),Li=0;Li<Zr.length;Li++)e=Zr[Li],e.before&&e.before(),t=e.id,Bs[t]=null,e.run();var r=nh.slice(),n=Zr.slice();ZT(),nI(r),tI(n),Ns&&fr.devtools&&Ns.emit("flush")}function tI(e){for(var t=e.length;t--;){var r=e[t],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&_r(n,"updated")}}function rI(e){e._inactive=!1,nh.push(e)}function nI(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,rh(e[t],!0)}function iI(e){var t=e.id;if(Bs[t]==null){if(Bs[t]=!0,!ih)Zr.push(e);else{for(var r=Zr.length-1;r>Li&&Zr[r].id>e.id;)r--;Zr.splice(r+1,0,e)}Lf||(Lf=!0,Xd(eI))}}var oI=0,xr=function(t,r,n,i,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++oI,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new No,this.newDepIds=new No,this.expression="",typeof r=="function"?this.getter=r:(this.getter=J1(r),this.getter||(this.getter=Nt)),this.value=this.lazy?void 0:this.get()};xr.prototype.get=function(){na(this);var t,r=this.vm;try{t=this.getter.call(r,r)}catch(n){if(this.user)ni(n,r,'getter for watcher "'+this.expression+'"');else throw n}finally{this.deep&&Ls(t),ia(),this.cleanupDeps()}return t};xr.prototype.addDep=function(t){var r=t.id;this.newDepIds.has(r)||(this.newDepIds.add(r),this.newDeps.push(t),this.depIds.has(r)||t.addSub(this))};xr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var r=this.deps[t];this.newDepIds.has(r.id)||r.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0};xr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():iI(this)};xr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||At(t)||this.deep){var r=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';Ki(this.cb,this.vm,[t,r],this.vm,n)}else this.cb.call(this.vm,t,r)}}};xr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1};xr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()};xr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||nn(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var wn={enumerable:!0,configurable:!0,get:Nt,set:Nt};function oh(e,t,r){wn.get=function(){return this[t][r]},wn.set=function(i){this[t][r]=i},Object.defineProperty(e,r,wn)}function aI(e){e._watchers=[];var t=e.$options;t.props&&sI(e,t.props),t.methods&&dI(e,t.methods),t.data?uI(e):ei(e._data={},!0),t.computed&&lI(e,t.computed),t.watch&&t.watch!==Af&&hI(e,t.watch)}function sI(e,t){var r=e.$options.propsData||{},n=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||On(!1);var a=function(c){i.push(c);var u=Yd(c,t,r,e);ti(n,c,u),c in e||oh(e,"_props",c)};for(var s in t)a(s);On(!0)}function uI(e){var t=e.$options.data;t=e._data=typeof t=="function"?cI(t,e):t||{},Gt(t)||(t={});var r=Object.keys(t),n=e.$options.props;e.$options.methods;for(var i=r.length;i--;){var o=r[i];n&&Et(n,o)||V1(o)||oh(e,"_data",o)}ei(t,!0)}function cI(e,t){na();try{return e.call(t,t)}catch(r){return ni(r,t,"data()"),{}}finally{ia()}}var fI={lazy:!0};function lI(e,t){var r=e._computedWatchers=Object.create(null),n=bu();for(var i in t){var o=t[i],a=typeof o=="function"?o:o.get;n||(r[i]=new xr(e,a||Nt,Nt,fI)),i in e||YS(e,i,o)}}function YS(e,t,r){var n=!bu();typeof r=="function"?(wn.get=n?Up(t):Bp(r),wn.set=Nt):(wn.get=r.get?n&&r.cache!==!1?Up(t):Bp(r.get):Nt,wn.set=r.set||Nt),Object.defineProperty(e,t,wn)}function Up(e){return function(){var r=this._computedWatchers&&this._computedWatchers[e];if(r)return r.dirty&&r.evaluate(),Ht.target&&r.depend(),r.value}}function Bp(e){return function(){return e.call(this,this)}}function dI(e,t){e.$options.props;for(var r in t)e[r]=typeof t[r]!="function"?Nt:H1(t[r],e)}function hI(e,t){for(var r in t){var n=t[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)Bf(e,r,n[i]);else Bf(e,r,n)}}function Bf(e,t,r,n){return Gt(r)&&(n=r,r=r.handler),typeof r=="string"&&(r=e[r]),e.$watch(t,r,n)}function pI(e){var t={};t.get=function(){return this._data};var r={};r.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=Wd,e.prototype.$delete=DS,e.prototype.$watch=function(n,i,o){var a=this;if(Gt(i))return Bf(a,n,i,o);o=o||{},o.user=!0;var s=new xr(a,n,i,o);if(o.immediate){var c='callback for immediate watcher "'+s.expression+'"';na(),Ki(i,a,[s.value],a,c),ia()}return function(){s.teardown()}}}var vI=0;function gI(e){e.prototype._init=function(t){var r=this;r._uid=vI++,r._isVue=!0,t&&t._isComponent?yI(r,t):r.$options=ri(ah(r.constructor),t||{},r),r._renderProxy=r,r._self=r,JT(r),KT(r),jT(r),_r(r,"beforeCreate"),mT(r),aI(r),yT(r),_r(r,"created"),r.$options.el&&r.$mount(r.$options.el)}}function yI(e,t){var r=e.$options=Object.create(e.constructor.options),n=t._parentVnode;r.parent=t.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}function ah(e){var t=e.options;if(e.super){var r=ah(e.super),n=e.superOptions;if(r!==n){e.superOptions=r;var i=mI(e);i&&Me(e.extendOptions,i),t=e.options=ri(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function mI(e){var t,r=e.options,n=e.sealedOptions;for(var i in r)r[i]!==n[i]&&(t||(t={}),t[i]=r[i]);return t}function ze(e){this._init(e)}gI(ze);pI(ze);WT(ze);YT(ze);$T(ze);function wI(e){e.use=function(t){var r=this._installedPlugins||(this._installedPlugins=[]);if(r.indexOf(t)>-1)return this;var n=Cf(arguments,1);return n.unshift(this),typeof t.install=="function"?t.install.apply(t,n):typeof t=="function"&&t.apply(null,n),r.push(t),this}}function bI(e){e.mixin=function(t){return this.options=ri(this.options,t),this}}function _I(e){e.cid=0;var t=1;e.extend=function(r){r=r||{};var n=this,i=n.cid,o=r._Ctor||(r._Ctor={});if(o[i])return o[i];var a=r.name||n.options.name,s=function(u){this._init(u)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=ri(n.options,r),s.super=n,s.options.props&&SI(s),s.options.computed&&EI(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,wu.forEach(function(c){s[c]=n[c]}),a&&(s.options.components[a]=s),s.superOptions=n.options,s.extendOptions=r,s.sealedOptions=Me({},s.options),o[i]=s,s}}function SI(e){var t=e.options.props;for(var r in t)oh(e.prototype,"_props",r)}function EI(e){var t=e.options.computed;for(var r in t)YS(e.prototype,r,t[r])}function CI(e){wu.forEach(function(t){e[t]=function(r,n){return n?(t==="component"&&Gt(n)&&(n.name=n.name||r,n=this.options._base.extend(n)),t==="directive"&&typeof n=="function"&&(n={bind:n,update:n}),this.options[t+"s"][r]=n,n):this.options[t+"s"][r]}})}function Fp(e){return e&&(e.Ctor.options.name||e.tag)}function ba(e,t){return Array.isArray(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:L1(e)?e.test(t):!1}function jp(e,t){var r=e.cache,n=e.keys,i=e._vnode;for(var o in r){var a=r[o];if(a){var s=a.name;s&&!t(s)&&Ff(r,o,n,i)}}}function Ff(e,t,r,n){var i=e[t];i&&(!n||i.tag!==n.tag)&&i.componentInstance.$destroy(),e[t]=null,nn(r,t)}var $p=[String,RegExp,Array],AI={name:"keep-alive",abstract:!0,props:{include:$p,exclude:$p,max:[String,Number]},methods:{cacheVNode:function(){var t=this,r=t.cache,n=t.keys,i=t.vnodeToCache,o=t.keyToCache;if(i){var a=i.tag,s=i.componentInstance,c=i.componentOptions;r[o]={name:Fp(c),tag:a,componentInstance:s},n.push(o),this.max&&n.length>parseInt(this.max)&&Ff(r,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ff(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(r){jp(t,function(n){return ba(r,n)})}),this.$watch("exclude",function(r){jp(t,function(n){return!ba(r,n)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,r=KS(t),n=r&&r.componentOptions;if(n){var i=Fp(n),o=this,a=o.include,s=o.exclude;if(a&&(!i||!ba(a,i))||s&&i&&ba(s,i))return r;var c=this,u=c.cache,f=c.keys,l=r.key==null?n.Ctor.cid+(n.tag?"::"+n.tag:""):r.key;u[l]?(r.componentInstance=u[l].componentInstance,nn(f,l),f.push(l)):(this.vnodeToCache=r,this.keyToCache=l),r.data.keepAlive=!0}return r||t&&t[0]}},xI={KeepAlive:AI};function TI(e){var t={};t.get=function(){return fr},Object.defineProperty(e,"config",t),e.util={warn:Q1,extend:Me,mergeOptions:ri,defineReactive:ti},e.set=Wd,e.delete=DS,e.nextTick=Xd,e.observable=function(r){return ei(r),r},e.options=Object.create(null),wu.forEach(function(r){e.options[r+"s"]=Object.create(null)}),e.options._base=e,Me(e.options.components,xI),wI(e),bI(e),_I(e),CI(e)}TI(ze);Object.defineProperty(ze.prototype,"$isServer",{get:bu});Object.defineProperty(ze.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(ze,"FunctionalRenderContext",{value:eh});ze.version="2.6.14";var II=Ar("style,class"),OI=Ar("input,textarea,option,select,progress"),PI=function(e,t,r){return r==="value"&&OI(e)&&t!=="button"||r==="selected"&&e==="option"||r==="checked"&&e==="input"||r==="muted"&&e==="video"},XS=Ar("contenteditable,draggable,spellcheck"),kI=Ar("events,caret,typing,plaintext-only"),RI=function(e,t){return Fs(t)||t==="false"?"false":e==="contenteditable"&&kI(t)?t:"true"},NI=Ar("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),jf="http://www.w3.org/1999/xlink",sh=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"},QS=function(e){return sh(e)?e.slice(6,e.length):""},Fs=function(e){return e==null||e===!1};function DI(e){for(var t=e.data,r=e,n=e;G(n.componentInstance);)n=n.componentInstance._vnode,n&&n.data&&(t=zp(n.data,t));for(;G(r=r.parent);)r&&r.data&&(t=zp(t,r.data));return MI(t.staticClass,t.class)}function zp(e,t){return{staticClass:uh(e.staticClass,t.staticClass),class:G(e.class)?[e.class,t.class]:t.class}}function MI(e,t){return G(e)||G(t)?uh(e,ch(t)):""}function uh(e,t){return e?t?e+" "+t:e:t||""}function ch(e){return Array.isArray(e)?LI(e):At(e)?UI(e):typeof e=="string"?e:""}function LI(e){for(var t="",r,n=0,i=e.length;n<i;n++)G(r=ch(e[n]))&&r!==""&&(t&&(t+=" "),t+=r);return t}function UI(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}var BI={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},FI=Ar("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),fh=Ar("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ZS=function(e){return FI(e)||fh(e)};function jI(e){if(fh(e))return"svg";if(e==="math")return"math"}var _a=Object.create(null);function $I(e){if(!Vt)return!0;if(ZS(e))return!1;if(e=e.toLowerCase(),_a[e]!=null)return _a[e];var t=document.createElement(e);return e.indexOf("-")>-1?_a[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:_a[e]=/HTMLUnknownElement/.test(t.toString())}var $f=Ar("text,number,password,search,email,tel,url");function zI(e){if(typeof e=="string"){var t=document.querySelector(e);return t||document.createElement("div")}else return e}function qI(e,t){var r=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&r.setAttribute("multiple","multiple"),r}function KI(e,t){return document.createElementNS(BI[e],t)}function HI(e){return document.createTextNode(e)}function GI(e){return document.createComment(e)}function VI(e,t,r){e.insertBefore(t,r)}function WI(e,t){e.removeChild(t)}function JI(e,t){e.appendChild(t)}function YI(e){return e.parentNode}function XI(e){return e.nextSibling}function QI(e){return e.tagName}function ZI(e,t){e.textContent=t}function eO(e,t){e.setAttribute(t,"")}var tO=Object.freeze({createElement:qI,createElementNS:KI,createTextNode:HI,createComment:GI,insertBefore:VI,removeChild:WI,appendChild:JI,parentNode:YI,nextSibling:XI,tagName:QI,setTextContent:ZI,setStyleScope:eO}),rO={create:function(t,r){Ui(r)},update:function(t,r){t.data.ref!==r.data.ref&&(Ui(t,!0),Ui(r))},destroy:function(t){Ui(t,!0)}};function Ui(e,t){var r=e.data.ref;if(!!G(r)){var n=e.context,i=e.componentInstance||e.elm,o=n.$refs;t?Array.isArray(o[r])?nn(o[r],i):o[r]===i&&(o[r]=void 0):e.data.refInFor?Array.isArray(o[r])?o[r].indexOf(i)<0&&o[r].push(i):o[r]=[i]:o[r]=i}}var Hn=new Dt("",{},[]),io=["create","activate","update","remove","destroy"];function Mn(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&G(e.data)===G(t.data)&&nO(e,t)||He(e.isAsyncPlaceholder)&&he(t.asyncFactory.error))}function nO(e,t){if(e.tag!=="input")return!0;var r,n=G(r=e.data)&&G(r=r.attrs)&&r.type,i=G(r=t.data)&&G(r=r.attrs)&&r.type;return n===i||$f(n)&&$f(i)}function iO(e,t,r){var n,i,o={};for(n=t;n<=r;++n)i=e[n].key,G(i)&&(o[i]=n);return o}function oO(e){var t,r,n={},i=e.modules,o=e.nodeOps;for(t=0;t<io.length;++t)for(n[io[t]]=[],r=0;r<i.length;++r)G(i[r][io[t]])&&n[io[t]].push(i[r][io[t]]);function a(A){return new Dt(o.tagName(A).toLowerCase(),{},[],void 0,A)}function s(A,y){function _(){--_.listeners===0&&c(A)}return _.listeners=y,_}function c(A){var y=o.parentNode(A);G(y)&&o.removeChild(y,A)}function u(A,y,_,C,D,z,$){if(G(A.elm)&&G(z)&&(A=z[$]=xf(A)),A.isRootInsert=!D,!f(A,y,_,C)){var q=A.data,H=A.children,U=A.tag;G(U)?(A.elm=A.ns?o.createElementNS(A.ns,U):o.createElement(U,A),E(A),p(A,H,y),G(q)&&b(A,y),h(_,A.elm,C)):He(A.isComment)?(A.elm=o.createComment(A.text),h(_,A.elm,C)):(A.elm=o.createTextNode(A.text),h(_,A.elm,C))}}function f(A,y,_,C){var D=A.data;if(G(D)){var z=G(A.componentInstance)&&D.keepAlive;if(G(D=D.hook)&&G(D=D.init)&&D(A,!1),G(A.componentInstance))return l(A,y),h(_,A.elm,C),He(z)&&d(A,y,_,C),!0}}function l(A,y){G(A.data.pendingInsert)&&(y.push.apply(y,A.data.pendingInsert),A.data.pendingInsert=null),A.elm=A.componentInstance.$el,g(A)?(b(A,y),E(A)):(Ui(A),y.push(A))}function d(A,y,_,C){for(var D,z=A;z.componentInstance;)if(z=z.componentInstance._vnode,G(D=z.data)&&G(D=D.transition)){for(D=0;D<n.activate.length;++D)n.activate[D](Hn,z);y.push(z);break}h(_,A.elm,C)}function h(A,y,_){G(A)&&(G(_)?o.parentNode(_)===A&&o.insertBefore(A,y,_):o.appendChild(A,y))}function p(A,y,_){if(Array.isArray(y))for(var C=0;C<y.length;++C)u(y[C],_,A.elm,null,!0,y,C);else ta(A.text)&&o.appendChild(A.elm,o.createTextNode(String(A.text)))}function g(A){for(;A.componentInstance;)A=A.componentInstance._vnode;return G(A.tag)}function b(A,y){for(var _=0;_<n.create.length;++_)n.create[_](Hn,A);t=A.data.hook,G(t)&&(G(t.create)&&t.create(Hn,A),G(t.insert)&&y.push(A))}function E(A){var y;if(G(y=A.fnScopeId))o.setStyleScope(A.elm,y);else for(var _=A;_;)G(y=_.context)&&G(y=y.$options._scopeId)&&o.setStyleScope(A.elm,y),_=_.parent;G(y=Jn)&&y!==A.context&&y!==A.fnContext&&G(y=y.$options._scopeId)&&o.setStyleScope(A.elm,y)}function S(A,y,_,C,D,z){for(;C<=D;++C)u(_[C],z,A,y,!1,_,C)}function T(A){var y,_,C=A.data;if(G(C))for(G(y=C.hook)&&G(y=y.destroy)&&y(A),y=0;y<n.destroy.length;++y)n.destroy[y](A);if(G(y=A.children))for(_=0;_<A.children.length;++_)T(A.children[_])}function N(A,y,_){for(;y<=_;++y){var C=A[y];G(C)&&(G(C.tag)?(k(C),T(C)):c(C.elm))}}function k(A,y){if(G(y)||G(A.data)){var _,C=n.remove.length+1;for(G(y)?y.listeners+=C:y=s(A.elm,C),G(_=A.componentInstance)&&G(_=_._vnode)&&G(_.data)&&k(_,y),_=0;_<n.remove.length;++_)n.remove[_](A,y);G(_=A.data.hook)&&G(_=_.remove)?_(A,y):y()}else c(A.elm)}function B(A,y,_,C,D){for(var z=0,$=0,q=y.length-1,H=y[0],U=y[q],W=_.length-1,Q=_[0],M=_[W],ce,ae,ye,de,Oe=!D;z<=q&&$<=W;)he(H)?H=y[++z]:he(U)?U=y[--q]:Mn(H,Q)?(F(H,Q,C,_,$),H=y[++z],Q=_[++$]):Mn(U,M)?(F(U,M,C,_,W),U=y[--q],M=_[--W]):Mn(H,M)?(F(H,M,C,_,W),Oe&&o.insertBefore(A,H.elm,o.nextSibling(U.elm)),H=y[++z],M=_[--W]):Mn(U,Q)?(F(U,Q,C,_,$),Oe&&o.insertBefore(A,U.elm,H.elm),U=y[--q],Q=_[++$]):(he(ce)&&(ce=iO(y,z,q)),ae=G(Q.key)?ce[Q.key]:V(Q,y,z,q),he(ae)?u(Q,C,A,H.elm,!1,_,$):(ye=y[ae],Mn(ye,Q)?(F(ye,Q,C,_,$),y[ae]=void 0,Oe&&o.insertBefore(A,ye.elm,H.elm)):u(Q,C,A,H.elm,!1,_,$)),Q=_[++$]);z>q?(de=he(_[W+1])?null:_[W+1].elm,S(A,de,_,$,W,C)):$>W&&N(y,z,q)}function V(A,y,_,C){for(var D=_;D<C;D++){var z=y[D];if(G(z)&&Mn(A,z))return D}}function F(A,y,_,C,D,z){if(A!==y){G(y.elm)&&G(C)&&(y=C[D]=xf(y));var $=y.elm=A.elm;if(He(A.isAsyncPlaceholder)){G(y.asyncFactory.resolved)?L(A.elm,y,_):y.isAsyncPlaceholder=!0;return}if(He(y.isStatic)&&He(A.isStatic)&&y.key===A.key&&(He(y.isCloned)||He(y.isOnce))){y.componentInstance=A.componentInstance;return}var q,H=y.data;G(H)&&G(q=H.hook)&&G(q=q.prepatch)&&q(A,y);var U=A.children,W=y.children;if(G(H)&&g(y)){for(q=0;q<n.update.length;++q)n.update[q](A,y);G(q=H.hook)&&G(q=q.update)&&q(A,y)}he(y.text)?G(U)&&G(W)?U!==W&&B($,U,W,_,z):G(W)?(G(A.text)&&o.setTextContent($,""),S($,null,W,0,W.length-1,_)):G(U)?N(U,0,U.length-1):G(A.text)&&o.setTextContent($,""):A.text!==y.text&&o.setTextContent($,y.text),G(H)&&G(q=H.hook)&&G(q=q.postpatch)&&q(A,y)}}function ee(A,y,_){if(He(_)&&G(A.parent))A.parent.data.pendingInsert=y;else for(var C=0;C<y.length;++C)y[C].data.hook.insert(y[C])}var R=Ar("attrs,class,staticClass,staticStyle,key");function L(A,y,_,C){var D,z=y.tag,$=y.data,q=y.children;if(C=C||$&&$.pre,y.elm=A,He(y.isComment)&&G(y.asyncFactory))return y.isAsyncPlaceholder=!0,!0;if(G($)&&(G(D=$.hook)&&G(D=D.init)&&D(y,!0),G(D=y.componentInstance)))return l(y,_),!0;if(G(z)){if(G(q))if(!A.hasChildNodes())p(y,q,_);else if(G(D=$)&&G(D=D.domProps)&&G(D=D.innerHTML)){if(D!==A.innerHTML)return!1}else{for(var H=!0,U=A.firstChild,W=0;W<q.length;W++){if(!U||!L(U,q[W],_,C)){H=!1;break}U=U.nextSibling}if(!H||U)return!1}if(G($)){var Q=!1;for(var M in $)if(!R(M)){Q=!0,b(y,_);break}!Q&&$.class&&Ls($.class)}}else A.data!==y.text&&(A.data=y.text);return!0}return function(y,_,C,D){if(he(_)){G(y)&&T(y);return}var z=!1,$=[];if(he(y))z=!0,u(_,$);else{var q=G(y.nodeType);if(!q&&Mn(y,_))F(y,_,$,null,null,D);else{if(q){if(y.nodeType===1&&y.hasAttribute(bp)&&(y.removeAttribute(bp),C=!0),He(C)&&L(y,_,$))return ee(_,$,!0),y;y=a(y)}var H=y.elm,U=o.parentNode(H);if(u(_,$,H._leaveCb?null:U,o.nextSibling(H)),G(_.parent))for(var W=_.parent,Q=g(_);W;){for(var M=0;M<n.destroy.length;++M)n.destroy[M](W);if(W.elm=_.elm,Q){for(var ce=0;ce<n.create.length;++ce)n.create[ce](Hn,W);var ae=W.data.hook.insert;if(ae.merged)for(var ye=1;ye<ae.fns.length;ye++)ae.fns[ye]()}else Ui(W);W=W.parent}G(U)?N([y],0,0):G(y.tag)&&T(y)}}return ee(_,$,z),_.elm}}var aO={create:yc,update:yc,destroy:function(t){yc(t,Hn)}};function yc(e,t){(e.data.directives||t.data.directives)&&sO(e,t)}function sO(e,t){var r=e===Hn,n=t===Hn,i=qp(e.data.directives,e.context),o=qp(t.data.directives,t.context),a=[],s=[],c,u,f;for(c in o)u=i[c],f=o[c],u?(f.oldValue=u.value,f.oldArg=u.arg,oo(f,"update",t,e),f.def&&f.def.componentUpdated&&s.push(f)):(oo(f,"bind",t,e),f.def&&f.def.inserted&&a.push(f));if(a.length){var l=function(){for(var d=0;d<a.length;d++)oo(a[d],"inserted",t,e)};r?_n(t,"insert",l):l()}if(s.length&&_n(t,"postpatch",function(){for(var d=0;d<s.length;d++)oo(s[d],"componentUpdated",t,e)}),!r)for(c in i)o[c]||oo(i[c],"unbind",e,e,n)}var uO=Object.create(null);function qp(e,t){var r=Object.create(null);if(!e)return r;var n,i;for(n=0;n<e.length;n++)i=e[n],i.modifiers||(i.modifiers=uO),r[cO(i)]=i,i.def=Jd(t.$options,"directives",i.name);return r}function cO(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function oo(e,t,r,n,i){var o=e.def&&e.def[t];if(o)try{o(r.elm,e,r,n,i)}catch(a){ni(a,r.context,"directive "+e.name+" "+t+" hook")}}var fO=[rO,aO];function Kp(e,t){var r=t.componentOptions;if(!(G(r)&&r.Ctor.options.inheritAttrs===!1)&&!(he(e.data.attrs)&&he(t.data.attrs))){var n,i,o,a=t.elm,s=e.data.attrs||{},c=t.data.attrs||{};G(c.__ob__)&&(c=t.data.attrs=Me({},c));for(n in c)i=c[n],o=s[n],o!==i&&Hp(a,n,i,t.data.pre);(Yi||Gd)&&c.value!==s.value&&Hp(a,"value",c.value);for(n in s)he(c[n])&&(sh(n)?a.removeAttributeNS(jf,QS(n)):XS(n)||a.removeAttribute(n))}}function Hp(e,t,r,n){n||e.tagName.indexOf("-")>-1?Gp(e,t,r):NI(t)?Fs(r)?e.removeAttribute(t):(r=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,r)):XS(t)?e.setAttribute(t,RI(t,r)):sh(t)?Fs(r)?e.removeAttributeNS(jf,QS(t)):e.setAttributeNS(jf,t,r):Gp(e,t,r)}function Gp(e,t,r){if(Fs(r))e.removeAttribute(t);else{if(Yi&&!Xi&&e.tagName==="TEXTAREA"&&t==="placeholder"&&r!==""&&!e.__ieph){var n=function(i){i.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,r)}}var lO={create:Kp,update:Kp};function Vp(e,t){var r=t.elm,n=t.data,i=e.data;if(!(he(n.staticClass)&&he(n.class)&&(he(i)||he(i.staticClass)&&he(i.class)))){var o=DI(t),a=r._transitionClasses;G(a)&&(o=uh(o,ch(a))),o!==r._prevClass&&(r.setAttribute("class",o),r._prevClass=o)}}var dO={create:Vp,update:Vp},mc="__r",wc="__c";function hO(e){if(G(e[mc])){var t=Yi?"change":"input";e[t]=[].concat(e[mc],e[t]||[]),delete e[mc]}G(e[wc])&&(e.change=[].concat(e[wc],e.change||[]),delete e[wc])}var Lo;function pO(e,t,r){var n=Lo;return function i(){var o=t.apply(null,arguments);o!==null&&eE(e,i,r,n)}}var vO=Pf&&!(_p&&Number(_p[1])<=53);function gO(e,t,r,n){if(vO){var i=JS,o=t;t=o._wrapper=function(a){if(a.target===a.currentTarget||a.timeStamp>=i||a.timeStamp<=0||a.target.ownerDocument!==document)return o.apply(this,arguments)}}Lo.addEventListener(e,t,kS?{capture:r,passive:n}:r)}function eE(e,t,r,n){(n||Lo).removeEventListener(e,t._wrapper||t,r)}function Wp(e,t){if(!(he(e.data.on)&&he(t.data.on))){var r=t.data.on||{},n=e.data.on||{};Lo=t.elm,hO(r),LS(r,n,gO,eE,pO,t.context),Lo=void 0}}var yO={create:Wp,update:Wp},Sa;function Jp(e,t){if(!(he(e.data.domProps)&&he(t.data.domProps))){var r,n,i=t.elm,o=e.data.domProps||{},a=t.data.domProps||{};G(a.__ob__)&&(a=t.data.domProps=Me({},a));for(r in o)r in a||(i[r]="");for(r in a){if(n=a[r],r==="textContent"||r==="innerHTML"){if(t.children&&(t.children.length=0),n===o[r])continue;i.childNodes.length===1&&i.removeChild(i.childNodes[0])}if(r==="value"&&i.tagName!=="PROGRESS"){i._value=n;var s=he(n)?"":String(n);mO(i,s)&&(i.value=s)}else if(r==="innerHTML"&&fh(i.tagName)&&he(i.innerHTML)){Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+n+"</svg>";for(var c=Sa.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}else if(n!==o[r])try{i[r]=n}catch{}}}}function mO(e,t){return!e.composing&&(e.tagName==="OPTION"||wO(e,t)||bO(e,t))}function wO(e,t){var r=!0;try{r=document.activeElement!==e}catch{}return r&&e.value!==t}function bO(e,t){var r=e.value,n=e._vModifiers;if(G(n)){if(n.number)return Ro(r)!==Ro(t);if(n.trim)return r.trim()!==t.trim()}return r!==t}var _O={create:Jp,update:Jp},SO=ci(function(e){var t={},r=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(r).forEach(function(i){if(i){var o=i.split(n);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t});function bc(e){var t=tE(e.style);return e.staticStyle?Me(e.staticStyle,t):t}function tE(e){return Array.isArray(e)?xS(e):typeof e=="string"?SO(e):e}function EO(e,t){var r={},n;if(t)for(var i=e;i.componentInstance;)i=i.componentInstance._vnode,i&&i.data&&(n=bc(i.data))&&Me(r,n);(n=bc(e.data))&&Me(r,n);for(var o=e;o=o.parent;)o.data&&(n=bc(o.data))&&Me(r,n);return r}var CO=/^--/,Yp=/\s*!important$/,Xp=function(e,t,r){if(CO.test(t))e.style.setProperty(t,r);else if(Yp.test(r))e.style.setProperty(ra(t),r.replace(Yp,""),"important");else{var n=AO(t);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)e.style[n]=r[i];else e.style[n]=r}},Qp=["Webkit","Moz","ms"],Ea,AO=ci(function(e){if(Ea=Ea||document.createElement("div").style,e=Qn(e),e!=="filter"&&e in Ea)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<Qp.length;r++){var n=Qp[r]+t;if(n in Ea)return n}});function Zp(e,t){var r=t.data,n=e.data;if(!(he(r.staticStyle)&&he(r.style)&&he(n.staticStyle)&&he(n.style))){var i,o,a=t.elm,s=n.staticStyle,c=n.normalizedStyle||n.style||{},u=s||c,f=tE(t.data.style)||{};t.data.normalizedStyle=G(f.__ob__)?Me({},f):f;var l=EO(t,!0);for(o in u)he(l[o])&&Xp(a,o,"");for(o in l)i=l[o],i!==u[o]&&Xp(a,o,i==null?"":i)}}var xO={create:Zp,update:Zp},rE=/\s+/;function nE(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(rE).forEach(function(n){return e.classList.add(n)}):e.classList.add(t);else{var r=" "+(e.getAttribute("class")||"")+" ";r.indexOf(" "+t+" ")<0&&e.setAttribute("class",(r+t).trim())}}function iE(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(rE).forEach(function(i){return e.classList.remove(i)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var r=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";r.indexOf(n)>=0;)r=r.replace(n," ");r=r.trim(),r?e.setAttribute("class",r):e.removeAttribute("class")}}function oE(e){if(!!e){if(typeof e=="object"){var t={};return e.css!==!1&&Me(t,ev(e.name||"v")),Me(t,e),t}else if(typeof e=="string")return ev(e)}}var ev=ci(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),aE=Vt&&!Xi,Pi="transition",_c="animation",as="transition",js="transitionend",zf="animation",sE="animationend";aE&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(as="WebkitTransition",js="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(zf="WebkitAnimation",sE="webkitAnimationEnd"));var tv=Vt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function uE(e){tv(function(){tv(e)})}function Yn(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(t)<0&&(r.push(t),nE(e,t))}function en(e,t){e._transitionClasses&&nn(e._transitionClasses,t),iE(e,t)}function cE(e,t,r){var n=fE(e,t),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===Pi?js:sE,c=0,u=function(){e.removeEventListener(s,f),r()},f=function(l){l.target===e&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),e.addEventListener(s,f)}var TO=/\b(transform|all)(,|$)/;function fE(e,t){var r=window.getComputedStyle(e),n=(r[as+"Delay"]||"").split(", "),i=(r[as+"Duration"]||"").split(", "),o=rv(n,i),a=(r[zf+"Delay"]||"").split(", "),s=(r[zf+"Duration"]||"").split(", "),c=rv(a,s),u,f=0,l=0;t===Pi?o>0&&(u=Pi,f=o,l=i.length):t===_c?c>0&&(u=_c,f=c,l=s.length):(f=Math.max(o,c),u=f>0?o>c?Pi:_c:null,l=u?u===Pi?i.length:s.length:0);var d=u===Pi&&TO.test(r[as+"Property"]);return{type:u,timeout:f,propCount:l,hasTransform:d}}function rv(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(r,n){return nv(r)+nv(e[n])}))}function nv(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function qf(e,t){var r=e.elm;G(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=oE(e.data.transition);if(!he(n)&&!(G(r._enterCb)||r.nodeType!==1)){for(var i=n.css,o=n.type,a=n.enterClass,s=n.enterToClass,c=n.enterActiveClass,u=n.appearClass,f=n.appearToClass,l=n.appearActiveClass,d=n.beforeEnter,h=n.enter,p=n.afterEnter,g=n.enterCancelled,b=n.beforeAppear,E=n.appear,S=n.afterAppear,T=n.appearCancelled,N=n.duration,k=Jn,B=Jn.$vnode;B&&B.parent;)k=B.context,B=B.parent;var V=!k._isMounted||!e.isRootInsert;if(!(V&&!E&&E!=="")){var F=V&&u?u:a,ee=V&&l?l:c,R=V&&f?f:s,L=V&&b||d,A=V&&typeof E=="function"?E:h,y=V&&S||p,_=V&&T||g,C=Ro(At(N)?N.enter:N),D=i!==!1&&!Xi,z=lh(A),$=r._enterCb=Rs(function(){D&&(en(r,R),en(r,ee)),$.cancelled?(D&&en(r,F),_&&_(r)):y&&y(r),r._enterCb=null});e.data.show||_n(e,"insert",function(){var q=r.parentNode,H=q&&q._pending&&q._pending[e.key];H&&H.tag===e.tag&&H.elm._leaveCb&&H.elm._leaveCb(),A&&A(r,$)}),L&&L(r),D&&(Yn(r,F),Yn(r,ee),uE(function(){en(r,F),$.cancelled||(Yn(r,R),z||(dE(C)?setTimeout($,C):cE(r,o,$)))})),e.data.show&&(t&&t(),A&&A(r,$)),!D&&!z&&$()}}}function lE(e,t){var r=e.elm;G(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=oE(e.data.transition);if(he(n)||r.nodeType!==1)return t();if(G(r._leaveCb))return;var i=n.css,o=n.type,a=n.leaveClass,s=n.leaveToClass,c=n.leaveActiveClass,u=n.beforeLeave,f=n.leave,l=n.afterLeave,d=n.leaveCancelled,h=n.delayLeave,p=n.duration,g=i!==!1&&!Xi,b=lh(f),E=Ro(At(p)?p.leave:p),S=r._leaveCb=Rs(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),g&&(en(r,s),en(r,c)),S.cancelled?(g&&en(r,a),d&&d(r)):(t(),l&&l(r)),r._leaveCb=null});h?h(T):T();function T(){S.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),u&&u(r),g&&(Yn(r,a),Yn(r,c),uE(function(){en(r,a),S.cancelled||(Yn(r,s),b||(dE(E)?setTimeout(S,E):cE(r,o,S)))})),f&&f(r,S),!g&&!b&&S())}}function dE(e){return typeof e=="number"&&!isNaN(e)}function lh(e){if(he(e))return!1;var t=e.fns;return G(t)?lh(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function iv(e,t){t.data.show!==!0&&qf(t)}var IO=Vt?{create:iv,activate:iv,remove:function(t,r){t.data.show!==!0?lE(t,r):r()}}:{},OO=[lO,dO,yO,_O,xO,IO],PO=OO.concat(fO),kO=oO({nodeOps:tO,modules:PO});Xi&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&dh(e,"input")});var hE={inserted:function(t,r,n,i){n.tag==="select"?(i.elm&&!i.elm._vOptions?_n(n,"postpatch",function(){hE.componentUpdated(t,r,n)}):ov(t,r,n.context),t._vOptions=[].map.call(t.options,$s)):(n.tag==="textarea"||$f(t.type))&&(t._vModifiers=r.modifiers,r.modifiers.lazy||(t.addEventListener("compositionstart",RO),t.addEventListener("compositionend",uv),t.addEventListener("change",uv),Xi&&(t.vmodel=!0)))},componentUpdated:function(t,r,n){if(n.tag==="select"){ov(t,r,n.context);var i=t._vOptions,o=t._vOptions=[].map.call(t.options,$s);if(o.some(function(s,c){return!Zn(s,i[c])})){var a=t.multiple?r.value.some(function(s){return sv(s,o)}):r.value!==r.oldValue&&sv(r.value,o);a&&dh(t,"change")}}}};function ov(e,t,r){av(e,t),(Yi||Gd)&&setTimeout(function(){av(e,t)},0)}function av(e,t,r){var n=t.value,i=e.multiple;if(!(i&&!Array.isArray(n))){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=IS(n,$s(a))>-1,a.selected!==o&&(a.selected=o);else if(Zn($s(a),n)){e.selectedIndex!==s&&(e.selectedIndex=s);return}i||(e.selectedIndex=-1)}}function sv(e,t){return t.every(function(r){return!Zn(r,e)})}function $s(e){return"_value"in e?e._value:e.value}function RO(e){e.target.composing=!0}function uv(e){!e.target.composing||(e.target.composing=!1,dh(e.target,"input"))}function dh(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function Kf(e){return e.componentInstance&&(!e.data||!e.data.transition)?Kf(e.componentInstance._vnode):e}var NO={bind:function(t,r,n){var i=r.value;n=Kf(n);var o=n.data&&n.data.transition,a=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;i&&o?(n.data.show=!0,qf(n,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function(t,r,n){var i=r.value,o=r.oldValue;if(!i!=!o){n=Kf(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,i?qf(n,function(){t.style.display=t.__vOriginalDisplay}):lE(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,r,n,i,o){o||(t.style.display=t.__vOriginalDisplay)}},DO={model:hE,show:NO},pE={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Hf(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Hf(KS(t.children)):e}function vE(e){var t={},r=e.$options;for(var n in r.propsData)t[n]=e[n];var i=r._parentListeners;for(var o in i)t[Qn(o)]=i[o];return t}function cv(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function MO(e){for(;e=e.parent;)if(e.data.transition)return!0}function LO(e,t){return t.key===e.key&&t.tag===e.tag}var UO=function(e){return e.tag||Do(e)},BO=function(e){return e.name==="show"},FO={name:"transition",props:pE,abstract:!0,render:function(t){var r=this,n=this.$slots.default;if(!!n&&(n=n.filter(UO),!!n.length)){var i=this.mode,o=n[0];if(MO(this.$vnode))return o;var a=Hf(o);if(!a)return o;if(this._leaving)return cv(t,o);var s="__transition-"+this._uid+"-";a.key=a.key==null?a.isComment?s+"comment":s+a.tag:ta(a.key)?String(a.key).indexOf(s)===0?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=vE(this),u=this._vnode,f=Hf(u);if(a.data.directives&&a.data.directives.some(BO)&&(a.data.show=!0),f&&f.data&&!LO(a,f)&&!Do(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var l=f.data.transition=Me({},c);if(i==="out-in")return this._leaving=!0,_n(l,"afterLeave",function(){r._leaving=!1,r.$forceUpdate()}),cv(t,o);if(i==="in-out"){if(Do(a))return u;var d,h=function(){d()};_n(c,"afterEnter",h),_n(c,"enterCancelled",h),_n(l,"delayLeave",function(p){d=p})}}return o}}},gE=Me({tag:String,moveClass:String},pE);delete gE.mode;var jO={props:gE,beforeMount:function(){var t=this,r=this._update;this._update=function(n,i){var o=GS(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),r.call(t,n,i)}},render:function(t){for(var r=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],s=vE(this),c=0;c<o.length;c++){var u=o[c];u.tag&&u.key!=null&&String(u.key).indexOf("__vlist")!==0&&(a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s)}if(i){for(var f=[],l=[],d=0;d<i.length;d++){var h=i[d];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?f.push(h):l.push(h)}this.kept=t(r,null,f),this.removed=l}return t(r,null,a)},updated:function(){var t=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";!t.length||!this.hasMove(t[0].elm,r)||(t.forEach($O),t.forEach(zO),t.forEach(qO),this._reflow=document.body.offsetHeight,t.forEach(function(n){if(n.data.moved){var i=n.elm,o=i.style;Yn(i,r),o.transform=o.WebkitTransform=o.transitionDuration="",i.addEventListener(js,i._moveCb=function a(s){s&&s.target!==i||(!s||/transform$/.test(s.propertyName))&&(i.removeEventListener(js,a),i._moveCb=null,en(i,r))})}}))},methods:{hasMove:function(t,r){if(!aE)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(o){iE(n,o)}),nE(n,r),n.style.display="none",this.$el.appendChild(n);var i=fE(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function $O(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function zO(e){e.data.newPos=e.elm.getBoundingClientRect()}function qO(e){var t=e.data.pos,r=e.data.newPos,n=t.left-r.left,i=t.top-r.top;if(n||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}var KO={Transition:FO,TransitionGroup:jO};ze.config.mustUseProp=PI;ze.config.isReservedTag=ZS;ze.config.isReservedAttr=II;ze.config.getTagNamespace=jI;ze.config.isUnknownElement=$I;Me(ze.options.directives,DO);Me(ze.options.components,KO);ze.prototype.__patch__=Vt?kO:Nt;ze.prototype.$mount=function(e,t){return e=e&&Vt?zI(e):void 0,XT(this,e,t)};Vt&&setTimeout(function(){fr.devtools&&Ns&&Ns.emit("init",ze)},0);/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function br(e,t){for(var r in t)e[r]=t[r];return e}var HO=/[!'()*]/g,GO=function(e){return"%"+e.charCodeAt(0).toString(16)},VO=/%2C/g,vi=function(e){return encodeURIComponent(e).replace(HO,GO).replace(VO,",")};function Gf(e){try{return decodeURIComponent(e)}catch{}return e}function WO(e,t,r){t===void 0&&(t={});var n=r||JO,i;try{i=n(e||"")}catch{i={}}for(var o in t){var a=t[o];i[o]=Array.isArray(a)?a.map(fv):fv(a)}return i}var fv=function(e){return e==null||typeof e=="object"?e:String(e)};function JO(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e&&e.split("&").forEach(function(r){var n=r.replace(/\+/g," ").split("="),i=Gf(n.shift()),o=n.length>0?Gf(n.join("=")):null;t[i]===void 0?t[i]=o:Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]}),t}function YO(e){var t=e?Object.keys(e).map(function(r){var n=e[r];if(n===void 0)return"";if(n===null)return vi(r);if(Array.isArray(n)){var i=[];return n.forEach(function(o){o!==void 0&&(o===null?i.push(vi(r)):i.push(vi(r)+"="+vi(o)))}),i.join("&")}return vi(r)+"="+vi(n)}).filter(function(r){return r.length>0}).join("&"):null;return t?"?"+t:""}var zs=/\/?$/;function qs(e,t,r,n){var i=n&&n.options.stringifyQuery,o=t.query||{};try{o=Vf(o)}catch{}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:lv(t,i),matched:e?XO(e):[]};return r&&(a.redirectedFrom=lv(r,i)),Object.freeze(a)}function Vf(e){if(Array.isArray(e))return e.map(Vf);if(e&&typeof e=="object"){var t={};for(var r in e)t[r]=Vf(e[r]);return t}else return e}var kn=qs(null,{path:"/"});function XO(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function lv(e,t){var r=e.path,n=e.query;n===void 0&&(n={});var i=e.hash;i===void 0&&(i="");var o=t||YO;return(r||"/")+o(n)+i}function yE(e,t,r){return t===kn?e===t:t?e.path&&t.path?e.path.replace(zs,"")===t.path.replace(zs,"")&&(r||e.hash===t.hash&&ss(e.query,t.query)):e.name&&t.name?e.name===t.name&&(r||e.hash===t.hash&&ss(e.query,t.query)&&ss(e.params,t.params)):!1:!1}function ss(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!e||!t)return e===t;var r=Object.keys(e).sort(),n=Object.keys(t).sort();return r.length!==n.length?!1:r.every(function(i,o){var a=e[i],s=n[o];if(s!==i)return!1;var c=t[i];return a==null||c==null?a===c:typeof a=="object"&&typeof c=="object"?ss(a,c):String(a)===String(c)})}function QO(e,t){return e.path.replace(zs,"/").indexOf(t.path.replace(zs,"/"))===0&&(!t.hash||e.hash===t.hash)&&ZO(e.query,t.query)}function ZO(e,t){for(var r in t)if(!(r in e))return!1;return!0}function mE(e){for(var t=0;t<e.matched.length;t++){var r=e.matched[t];for(var n in r.instances){var i=r.instances[n],o=r.enteredCbs[n];if(!(!i||!o)){delete r.enteredCbs[n];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var eP={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,r){var n=r.props,i=r.children,o=r.parent,a=r.data;a.routerView=!0;for(var s=o.$createElement,c=n.name,u=o.$route,f=o._routerViewCache||(o._routerViewCache={}),l=0,d=!1;o&&o._routerRoot!==o;){var h=o.$vnode?o.$vnode.data:{};h.routerView&&l++,h.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=l,d){var p=f[c],g=p&&p.component;return g?(p.configProps&&dv(g,a,p.route,p.configProps),s(g,a,i)):s()}var b=u.matched[l],E=b&&b.components[c];if(!b||!E)return f[c]=null,s();f[c]={component:E},a.registerRouteInstance=function(T,N){var k=b.instances[c];(N&&k!==T||!N&&k===T)&&(b.instances[c]=N)},(a.hook||(a.hook={})).prepatch=function(T,N){b.instances[c]=N.componentInstance},a.hook.init=function(T){T.data.keepAlive&&T.componentInstance&&T.componentInstance!==b.instances[c]&&(b.instances[c]=T.componentInstance),mE(u)};var S=b.props&&b.props[c];return S&&(br(f[c],{route:u,configProps:S}),dv(E,a,u,S)),s(E,a,i)}};function dv(e,t,r,n){var i=t.props=tP(r,n);if(i){i=t.props=br({},i);var o=t.attrs=t.attrs||{};for(var a in i)(!e.props||!(a in e.props))&&(o[a]=i[a],delete i[a])}}function tP(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}function wE(e,t,r){var n=e.charAt(0);if(n==="/")return e;if(n==="?"||n==="#")return t+e;var i=t.split("/");(!r||!i[i.length-1])&&i.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];s===".."?i.pop():s!=="."&&i.push(s)}return i[0]!==""&&i.unshift(""),i.join("/")}function rP(e){var t="",r="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var i=e.indexOf("?");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{path:e,query:r,hash:t}}function Cn(e){return e.replace(/\/+/g,"/")}var Ks=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},Qi=SE,nP=hh,iP=uP,oP=bE,aP=_E,sP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function hh(e,t){for(var r=[],n=0,i=0,o="",a=t&&t.delimiter||"/",s;(s=sP.exec(e))!=null;){var c=s[0],u=s[1],f=s.index;if(o+=e.slice(i,f),i=f+c.length,u){o+=u[1];continue}var l=e[i],d=s[2],h=s[3],p=s[4],g=s[5],b=s[6],E=s[7];o&&(r.push(o),o="");var S=d!=null&&l!=null&&l!==d,T=b==="+"||b==="*",N=b==="?"||b==="*",k=s[2]||a,B=p||g;r.push({name:h||n++,prefix:d||"",delimiter:k,optional:N,repeat:T,partial:S,asterisk:!!E,pattern:B?lP(B):E?".*":"[^"+us(k)+"]+?"})}return i<e.length&&(o+=e.substr(i)),o&&r.push(o),r}function uP(e,t){return bE(hh(e,t),t)}function cP(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function fP(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function bE(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",vh(t)));return function(i,o){for(var a="",s=i||{},c=o||{},u=c.pretty?cP:encodeURIComponent,f=0;f<e.length;f++){var l=e[f];if(typeof l=="string"){a+=l;continue}var d=s[l.name],h;if(d==null)if(l.optional){l.partial&&(a+=l.prefix);continue}else throw new TypeError('Expected "'+l.name+'" to be defined');if(Ks(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(d.length===0){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(h=u(d[p]),!r[f].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(p===0?l.prefix:l.delimiter)+h}continue}if(h=l.asterisk?fP(d):u(d),!r[f].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');a+=l.prefix+h}return a}}function us(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function lP(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function ph(e,t){return e.keys=t,e}function vh(e){return e&&e.sensitive?"":"i"}function dP(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ph(e,t)}function hP(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(SE(e[i],t,r).source);var o=new RegExp("(?:"+n.join("|")+")",vh(r));return ph(o,t)}function pP(e,t,r){return _E(hh(e,r),t,r)}function _E(e,t,r){Ks(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,i=r.end!==!1,o="",a=0;a<e.length;a++){var s=e[a];if(typeof s=="string")o+=us(s);else{var c=us(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+c+u+")*"),s.optional?s.partial?u=c+"("+u+")?":u="(?:"+c+"("+u+"))?":u=c+"("+u+")",o+=u}}var f=us(r.delimiter||"/"),l=o.slice(-f.length)===f;return n||(o=(l?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),i?o+="$":o+=n&&l?"":"(?="+f+"|$)",ph(new RegExp("^"+o,vh(r)),t)}function SE(e,t,r){return Ks(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?dP(e,t):Ks(e)?hP(e,t,r):pP(e,t,r)}Qi.parse=nP;Qi.compile=iP;Qi.tokensToFunction=oP;Qi.tokensToRegExp=aP;var hv=Object.create(null);function cs(e,t,r){t=t||{};try{var n=hv[e]||(hv[e]=Qi.compile(e));return typeof t.pathMatch=="string"&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch{return""}finally{delete t[0]}}function gh(e,t,r,n){var i=typeof e=="string"?{path:e}:e;if(i._normalized)return i;if(i.name){i=br({},e);var o=i.params;return o&&typeof o=="object"&&(i.params=br({},o)),i}if(!i.path&&i.params&&t){i=br({},i),i._normalized=!0;var a=br(br({},t.params),i.params);if(t.name)i.name=t.name,i.params=a;else if(t.matched.length){var s=t.matched[t.matched.length-1].path;i.path=cs(s,a,"path "+t.path)}return i}var c=rP(i.path||""),u=t&&t.path||"/",f=c.path?wE(c.path,u,r||i.append):u,l=WO(c.query,i.query,n&&n.options.parseQuery),d=i.hash||c.hash;return d&&d.charAt(0)!=="#"&&(d="#"+d),{_normalized:!0,path:f,query:l,hash:d}}var vP=[String,Object],gP=[String,Array],pv=function(){},yP={name:"RouterLink",props:{to:{type:vP,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:gP,default:"click"}},render:function(t){var r=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),a=o.location,s=o.route,c=o.href,u={},f=n.options.linkActiveClass,l=n.options.linkExactActiveClass,d=f==null?"router-link-active":f,h=l==null?"router-link-exact-active":l,p=this.activeClass==null?d:this.activeClass,g=this.exactActiveClass==null?h:this.exactActiveClass,b=s.redirectedFrom?qs(null,gh(s.redirectedFrom),null,n):s;u[g]=yE(i,b,this.exactPath),u[p]=this.exact||this.exactPath?u[g]:QO(i,b);var E=u[g]?this.ariaCurrentValue:null,S=function(A){vv(A)&&(r.replace?n.replace(a,pv):n.push(a,pv))},T={click:vv};Array.isArray(this.event)?this.event.forEach(function(A){T[A]=S}):T[this.event]=S;var N={class:u},k=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:S,isActive:u[p],isExactActive:u[g]});if(k){if(k.length===1)return k[0];if(k.length>1||!k.length)return k.length===0?t():t("span",{},k)}if(this.tag==="a")N.on=T,N.attrs={href:c,"aria-current":E};else{var B=EE(this.$slots.default);if(B){B.isStatic=!1;var V=B.data=br({},B.data);V.on=V.on||{};for(var F in V.on){var ee=V.on[F];F in T&&(V.on[F]=Array.isArray(ee)?ee:[ee])}for(var R in T)R in V.on?V.on[R].push(T[R]):V.on[R]=S;var L=B.data.attrs=br({},B.data.attrs);L.href=c,L["aria-current"]=E}else N.on=T}return t(this.tag,N,this.$slots.default)}};function vv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function EE(e){if(e){for(var t,r=0;r<e.length;r++)if(t=e[r],t.tag==="a"||t.children&&(t=EE(t.children)))return t}}var Hs;function Wf(e){if(!(Wf.installed&&Hs===e)){Wf.installed=!0,Hs=e;var t=function(i){return i!==void 0},r=function(i,o){var a=i.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(i,o)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",eP),e.component("RouterLink",yP);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var oa=typeof window!="undefined";function Ca(e,t,r,n,i){var o=t||[],a=r||Object.create(null),s=n||Object.create(null);e.forEach(function(f){Jf(o,a,s,f,i)});for(var c=0,u=o.length;c<u;c++)o[c]==="*"&&(o.push(o.splice(c,1)[0]),u--,c--);return{pathList:o,pathMap:a,nameMap:s}}function Jf(e,t,r,n,i,o){var a=n.path,s=n.name,c=n.pathToRegexpOptions||{},u=wP(a,i,c.strict);typeof n.caseSensitive=="boolean"&&(c.sensitive=n.caseSensitive);var f={path:u,regex:mP(u,c),components:n.components||{default:n.component},alias:n.alias?typeof n.alias=="string"?[n.alias]:n.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:n.props==null?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(g){var b=o?Cn(o+"/"+g.path):void 0;Jf(e,t,r,g,f,b)}),t[f.path]||(e.push(f.path),t[f.path]=f),n.alias!==void 0)for(var l=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<l.length;++d){var h=l[d],p={path:h,children:n.children};Jf(e,t,r,p,i,f.path||"/")}s&&(r[s]||(r[s]=f))}function mP(e,t){var r=Qi(e,[],t);return r}function wP(e,t,r){return r||(e=e.replace(/\/$/,"")),e[0]==="/"||t==null?e:Cn(t.path+"/"+e)}function bP(e,t){var r=Ca(e),n=r.pathList,i=r.pathMap,o=r.nameMap;function a(h){Ca(h,n,i,o)}function s(h,p){var g=typeof h!="object"?o[h]:void 0;Ca([p||h],n,i,o,g),g&&g.alias.length&&Ca(g.alias.map(function(b){return{path:b,children:[p]}}),n,i,o,g)}function c(){return n.map(function(h){return i[h]})}function u(h,p,g){var b=gh(h,p,!1,t),E=b.name;if(E){var S=o[E];if(!S)return d(null,b);var T=S.regex.keys.filter(function(F){return!F.optional}).map(function(F){return F.name});if(typeof b.params!="object"&&(b.params={}),p&&typeof p.params=="object")for(var N in p.params)!(N in b.params)&&T.indexOf(N)>-1&&(b.params[N]=p.params[N]);return b.path=cs(S.path,b.params),d(S,b,g)}else if(b.path){b.params={};for(var k=0;k<n.length;k++){var B=n[k],V=i[B];if(_P(V.regex,b.path,b.params))return d(V,b,g)}}return d(null,b)}function f(h,p){var g=h.redirect,b=typeof g=="function"?g(qs(h,p,null,t)):g;if(typeof b=="string"&&(b={path:b}),!b||typeof b!="object")return d(null,p);var E=b,S=E.name,T=E.path,N=p.query,k=p.hash,B=p.params;if(N=E.hasOwnProperty("query")?E.query:N,k=E.hasOwnProperty("hash")?E.hash:k,B=E.hasOwnProperty("params")?E.params:B,S)return o[S],u({_normalized:!0,name:S,query:N,hash:k,params:B},void 0,p);if(T){var V=SP(T,h),F=cs(V,B);return u({_normalized:!0,path:F,query:N,hash:k},void 0,p)}else return d(null,p)}function l(h,p,g){var b=cs(g,p.params),E=u({_normalized:!0,path:b});if(E){var S=E.matched,T=S[S.length-1];return p.params=E.params,d(T,p)}return d(null,p)}function d(h,p,g){return h&&h.redirect?f(h,g||p):h&&h.matchAs?l(h,p,h.matchAs):qs(h,p,g,t)}return{match:u,addRoute:s,getRoutes:c,addRoutes:a}}function _P(e,t,r){var n=t.match(e);if(n){if(!r)return!0}else return!1;for(var i=1,o=n.length;i<o;++i){var a=e.keys[i-1];a&&(r[a.name||"pathMatch"]=typeof n[i]=="string"?Gf(n[i]):n[i])}return!0}function SP(e,t){return wE(e,t.parent?t.parent.path:"/",!0)}var EP=oa&&window.performance&&window.performance.now?window.performance:Date;function CE(){return EP.now().toFixed(3)}var AE=CE();function Su(){return AE}function xE(e){return AE=e}var TE=Object.create(null);function IE(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),r=br({},window.history.state);return r.key=Su(),window.history.replaceState(r,"",t),window.addEventListener("popstate",gv),function(){window.removeEventListener("popstate",gv)}}function An(e,t,r,n){if(!!e.app){var i=e.options.scrollBehavior;!i||e.app.$nextTick(function(){var o=CP(),a=i.call(e,t,r,n?o:null);!a||(typeof a.then=="function"?a.then(function(s){wv(s,o)}).catch(function(s){}):wv(a,o))})}}function OE(){var e=Su();e&&(TE[e]={x:window.pageXOffset,y:window.pageYOffset})}function gv(e){OE(),e.state&&e.state.key&&xE(e.state.key)}function CP(){var e=Su();if(e)return TE[e]}function AP(e,t){var r=document.documentElement,n=r.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}function yv(e){return Hi(e.x)||Hi(e.y)}function mv(e){return{x:Hi(e.x)?e.x:window.pageXOffset,y:Hi(e.y)?e.y:window.pageYOffset}}function xP(e){return{x:Hi(e.x)?e.x:0,y:Hi(e.y)?e.y:0}}function Hi(e){return typeof e=="number"}var TP=/^#\d/;function wv(e,t){var r=typeof e=="object";if(r&&typeof e.selector=="string"){var n=TP.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(n){var i=e.offset&&typeof e.offset=="object"?e.offset:{};i=xP(i),t=AP(n,i)}else yv(e)&&(t=mv(e))}else r&&yv(e)&&(t=mv(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var xn=oa&&function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function Gs(e,t){OE();var r=window.history;try{if(t){var n=br({},r.state);n.key=Su(),r.replaceState(n,"",e)}else r.pushState({key:xE(CE())},"",e)}catch{window.location[t?"replace":"assign"](e)}}function Yf(e){Gs(e,!0)}function bv(e,t,r){var n=function(i){i>=e.length?r():e[i]?t(e[i],function(){n(i+1)}):n(i+1)};n(0)}var fi={redirected:2,aborted:4,cancelled:8,duplicated:16};function IP(e,t){return Eu(e,t,fi.redirected,'Redirected when going from "'+e.fullPath+'" to "'+RP(t)+'" via a navigation guard.')}function OP(e,t){var r=Eu(e,t,fi.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return r.name="NavigationDuplicated",r}function _v(e,t){return Eu(e,t,fi.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function PP(e,t){return Eu(e,t,fi.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Eu(e,t,r,n){var i=new Error(n);return i._isRouter=!0,i.from=e,i.to=t,i.type=r,i}var kP=["params","query","hash"];function RP(e){if(typeof e=="string")return e;if("path"in e)return e.path;var t={};return kP.forEach(function(r){r in e&&(t[r]=e[r])}),JSON.stringify(t,null,2)}function Vs(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Cu(e,t){return Vs(e)&&e._isRouter&&(t==null||e.type===t)}function NP(e){return function(t,r,n){var i=!1,o=0,a=null;PE(e,function(s,c,u,f){if(typeof s=="function"&&s.cid===void 0){i=!0,o++;var l=Sv(function(g){MP(g)&&(g=g.default),s.resolved=typeof g=="function"?g:Hs.extend(g),u.components[f]=g,o--,o<=0&&n()}),d=Sv(function(g){var b="Failed to resolve async component "+f+": "+g;a||(a=Vs(g)?g:new Error(b),n(a))}),h;try{h=s(l,d)}catch(g){d(g)}if(h)if(typeof h.then=="function")h.then(l,d);else{var p=h.component;p&&typeof p.then=="function"&&p.then(l,d)}}}),i||n()}}function PE(e,t){return kE(e.map(function(r){return Object.keys(r.components).map(function(n){return t(r.components[n],r.instances[n],r,n)})}))}function kE(e){return Array.prototype.concat.apply([],e)}var DP=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function MP(e){return e.__esModule||DP&&e[Symbol.toStringTag]==="Module"}function Sv(e){var t=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!t)return t=!0,e.apply(this,r)}}var Tr=function(t,r){this.router=t,this.base=LP(r),this.current=kn,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};Tr.prototype.listen=function(t){this.cb=t};Tr.prototype.onReady=function(t,r){this.ready?t():(this.readyCbs.push(t),r&&this.readyErrorCbs.push(r))};Tr.prototype.onError=function(t){this.errorCbs.push(t)};Tr.prototype.transitionTo=function(t,r,n){var i=this,o;try{o=this.router.match(t,this.current)}catch(s){throw this.errorCbs.forEach(function(c){c(s)}),s}var a=this.current;this.confirmTransition(o,function(){i.updateRoute(o),r&&r(o),i.ensureURL(),i.router.afterHooks.forEach(function(s){s&&s(o,a)}),i.ready||(i.ready=!0,i.readyCbs.forEach(function(s){s(o)}))},function(s){n&&n(s),s&&!i.ready&&(!Cu(s,fi.redirected)||a!==kn)&&(i.ready=!0,i.readyErrorCbs.forEach(function(c){c(s)}))})};Tr.prototype.confirmTransition=function(t,r,n){var i=this,o=this.current;this.pending=t;var a=function(g){!Cu(g)&&Vs(g)&&(i.errorCbs.length?i.errorCbs.forEach(function(b){b(g)}):console.error(g)),n&&n(g)},s=t.matched.length-1,c=o.matched.length-1;if(yE(t,o)&&s===c&&t.matched[s]===o.matched[c])return this.ensureURL(),t.hash&&An(this.router,o,t,!1),a(OP(o,t));var u=UP(this.current.matched,t.matched),f=u.updated,l=u.deactivated,d=u.activated,h=[].concat(FP(l),this.router.beforeHooks,jP(f),d.map(function(g){return g.beforeEnter}),NP(d)),p=function(g,b){if(i.pending!==t)return a(_v(o,t));try{g(t,o,function(E){E===!1?(i.ensureURL(!0),a(PP(o,t))):Vs(E)?(i.ensureURL(!0),a(E)):typeof E=="string"||typeof E=="object"&&(typeof E.path=="string"||typeof E.name=="string")?(a(IP(o,t)),typeof E=="object"&&E.replace?i.replace(E):i.push(E)):b(E)})}catch(E){a(E)}};bv(h,p,function(){var g=$P(d),b=g.concat(i.router.resolveHooks);bv(b,p,function(){if(i.pending!==t)return a(_v(o,t));i.pending=null,r(t),i.router.app&&i.router.app.$nextTick(function(){mE(t)})})})};Tr.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)};Tr.prototype.setupListeners=function(){};Tr.prototype.teardown=function(){this.listeners.forEach(function(t){t()}),this.listeners=[],this.current=kn,this.pending=null};function LP(e){if(!e)if(oa){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return e.charAt(0)!=="/"&&(e="/"+e),e.replace(/\/$/,"")}function UP(e,t){var r,n=Math.max(e.length,t.length);for(r=0;r<n&&e[r]===t[r];r++);return{updated:t.slice(0,r),activated:t.slice(r),deactivated:e.slice(r)}}function yh(e,t,r,n){var i=PE(e,function(o,a,s,c){var u=BP(o,t);if(u)return Array.isArray(u)?u.map(function(f){return r(f,a,s,c)}):r(u,a,s,c)});return kE(n?i.reverse():i)}function BP(e,t){return typeof e!="function"&&(e=Hs.extend(e)),e.options[t]}function FP(e){return yh(e,"beforeRouteLeave",RE,!0)}function jP(e){return yh(e,"beforeRouteUpdate",RE)}function RE(e,t){if(t)return function(){return e.apply(t,arguments)}}function $P(e){return yh(e,"beforeRouteEnter",function(t,r,n,i){return zP(t,n,i)})}function zP(e,t,r){return function(i,o,a){return e(i,o,function(s){typeof s=="function"&&(t.enteredCbs[r]||(t.enteredCbs[r]=[]),t.enteredCbs[r].push(s)),a(s)})}}var NE=function(e){function t(r,n){e.call(this,r,n),this._startLocation=mo(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var i=this.router,o=i.options.scrollBehavior,a=xn&&o;a&&this.listeners.push(IE());var s=function(){var c=n.current,u=mo(n.base);n.current===kn&&u===n._startLocation||n.transitionTo(u,function(f){a&&An(i,f,c,!0)})};window.addEventListener("popstate",s),this.listeners.push(function(){window.removeEventListener("popstate",s)})}},t.prototype.go=function(n){window.history.go(n)},t.prototype.push=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){Gs(Cn(a.base+u.fullPath)),An(a.router,u,c,!1),i&&i(u)},o)},t.prototype.replace=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){Yf(Cn(a.base+u.fullPath)),An(a.router,u,c,!1),i&&i(u)},o)},t.prototype.ensureURL=function(n){if(mo(this.base)!==this.current.fullPath){var i=Cn(this.base+this.current.fullPath);n?Gs(i):Yf(i)}},t.prototype.getCurrentLocation=function(){return mo(this.base)},t}(Tr);function mo(e){var t=window.location.pathname,r=t.toLowerCase(),n=e.toLowerCase();return e&&(r===n||r.indexOf(Cn(n+"/"))===0)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var DE=function(e){function t(r,n,i){e.call(this,r,n),!(i&&qP(this.base))&&Ev()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var i=this.router,o=i.options.scrollBehavior,a=xn&&o;a&&this.listeners.push(IE());var s=function(){var u=n.current;!Ev()||n.transitionTo(fs(),function(f){a&&An(n.router,f,u,!0),xn||ls(f.fullPath)})},c=xn?"popstate":"hashchange";window.addEventListener(c,s),this.listeners.push(function(){window.removeEventListener(c,s)})}},t.prototype.push=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){Cv(u.fullPath),An(a.router,u,c,!1),i&&i(u)},o)},t.prototype.replace=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){ls(u.fullPath),An(a.router,u,c,!1),i&&i(u)},o)},t.prototype.go=function(n){window.history.go(n)},t.prototype.ensureURL=function(n){var i=this.current.fullPath;fs()!==i&&(n?Cv(i):ls(i))},t.prototype.getCurrentLocation=function(){return fs()},t}(Tr);function qP(e){var t=mo(e);if(!/^\/#/.test(t))return window.location.replace(Cn(e+"/#"+t)),!0}function Ev(){var e=fs();return e.charAt(0)==="/"?!0:(ls("/"+e),!1)}function fs(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function Xf(e){var t=window.location.href,r=t.indexOf("#"),n=r>=0?t.slice(0,r):t;return n+"#"+e}function Cv(e){xn?Gs(Xf(e)):window.location.hash=e}function ls(e){xn?Yf(Xf(e)):window.location.replace(Xf(e))}var KP=function(e){function t(r,n){e.call(this,r,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(n,i,o){var a=this;this.transitionTo(n,function(s){a.stack=a.stack.slice(0,a.index+1).concat(s),a.index++,i&&i(s)},o)},t.prototype.replace=function(n,i,o){var a=this;this.transitionTo(n,function(s){a.stack=a.stack.slice(0,a.index).concat(s),i&&i(s)},o)},t.prototype.go=function(n){var i=this,o=this.index+n;if(!(o<0||o>=this.stack.length)){var a=this.stack[o];this.confirmTransition(a,function(){var s=i.current;i.index=o,i.updateRoute(a),i.router.afterHooks.forEach(function(c){c&&c(a,s)})},function(s){Cu(s,fi.duplicated)&&(i.index=o)})}},t.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Tr),Ue=function(t){t===void 0&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=bP(t.routes||[],this);var r=t.mode||"hash";switch(this.fallback=r==="history"&&!xn&&t.fallback!==!1,this.fallback&&(r="hash"),oa||(r="abstract"),this.mode=r,r){case"history":this.history=new NE(this,t.base);break;case"hash":this.history=new DE(this,t.base,this.fallback);break;case"abstract":this.history=new KP(this,t.base);break}},ME={currentRoute:{configurable:!0}};Ue.prototype.match=function(t,r,n){return this.matcher.match(t,r,n)};ME.currentRoute.get=function(){return this.history&&this.history.current};Ue.prototype.init=function(t){var r=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var a=r.apps.indexOf(t);a>-1&&r.apps.splice(a,1),r.app===t&&(r.app=r.apps[0]||null),r.app||r.history.teardown()}),!this.app){this.app=t;var n=this.history;if(n instanceof NE||n instanceof DE){var i=function(a){var s=n.current,c=r.options.scrollBehavior,u=xn&&c;u&&"fullPath"in a&&An(r,a,s,!1)},o=function(a){n.setupListeners(),i(a)};n.transitionTo(n.getCurrentLocation(),o,o)}n.listen(function(a){r.apps.forEach(function(s){s._route=a})})}};Ue.prototype.beforeEach=function(t){return mh(this.beforeHooks,t)};Ue.prototype.beforeResolve=function(t){return mh(this.resolveHooks,t)};Ue.prototype.afterEach=function(t){return mh(this.afterHooks,t)};Ue.prototype.onReady=function(t,r){this.history.onReady(t,r)};Ue.prototype.onError=function(t){this.history.onError(t)};Ue.prototype.push=function(t,r,n){var i=this;if(!r&&!n&&typeof Promise!="undefined")return new Promise(function(o,a){i.history.push(t,o,a)});this.history.push(t,r,n)};Ue.prototype.replace=function(t,r,n){var i=this;if(!r&&!n&&typeof Promise!="undefined")return new Promise(function(o,a){i.history.replace(t,o,a)});this.history.replace(t,r,n)};Ue.prototype.go=function(t){this.history.go(t)};Ue.prototype.back=function(){this.go(-1)};Ue.prototype.forward=function(){this.go(1)};Ue.prototype.getMatchedComponents=function(t){var r=t?t.matched?t:this.resolve(t).route:this.currentRoute;return r?[].concat.apply([],r.matched.map(function(n){return Object.keys(n.components).map(function(i){return n.components[i]})})):[]};Ue.prototype.resolve=function(t,r,n){r=r||this.history.current;var i=gh(t,r,n,this),o=this.match(i,r),a=o.redirectedFrom||o.fullPath,s=this.history.base,c=HP(s,a,this.mode);return{location:i,route:o,href:c,normalizedTo:i,resolved:o}};Ue.prototype.getRoutes=function(){return this.matcher.getRoutes()};Ue.prototype.addRoute=function(t,r){this.matcher.addRoute(t,r),this.history.current!==kn&&this.history.transitionTo(this.history.getCurrentLocation())};Ue.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==kn&&this.history.transitionTo(this.history.getCurrentLocation())};Object.defineProperties(Ue.prototype,ME);function mh(e,t){return e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function HP(e,t,r){var n=r==="hash"?"#"+t:t;return e?Cn(e+"/"+n):n}Ue.install=Wf;Ue.version="3.5.3";Ue.isNavigationFailure=Cu;Ue.NavigationFailureType=fi;Ue.START_LOCATION=kn;oa&&window.Vue&&window.Vue.use(Ue);var zK=Ue;/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function GP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VP(e){return WP(e)||JP(e)||YP()}function WP(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function JP(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function YP(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function XP(){return typeof Reflect!="undefined"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function QP(e,t){Sc(e,t),Object.getOwnPropertyNames(t.prototype).forEach(function(r){Sc(e.prototype,t.prototype,r)}),Object.getOwnPropertyNames(t).forEach(function(r){Sc(e,t,r)})}function Sc(e,t,r){var n=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);n.forEach(function(i){var o=r?Reflect.getOwnMetadata(i,t,r):Reflect.getOwnMetadata(i,t);r?Reflect.defineMetadata(i,o,e,r):Reflect.defineMetadata(i,o,e)})}var ZP={__proto__:[]},ek=ZP instanceof Array;function tk(e){return function(t,r,n){var i=typeof t=="function"?t:t.constructor;i.__decorators__||(i.__decorators__=[]),typeof n!="number"&&(n=void 0),i.__decorators__.push(function(o){return e(o,r,n)})}}function rk(e){var t=ds(e);return e==null||t!=="object"&&t!=="function"}function nk(e,t){var r=t.prototype._init;t.prototype._init=function(){var o=this,a=Object.getOwnPropertyNames(e);if(e.$options.props)for(var s in e.$options.props)e.hasOwnProperty(s)||a.push(s);a.forEach(function(c){Object.defineProperty(o,c,{get:function(){return e[c]},set:function(f){e[c]=f},configurable:!0})})};var n=new t;t.prototype._init=r;var i={};return Object.keys(n).forEach(function(o){n[o]!==void 0&&(i[o]=n[o])}),i}var Qf=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function Av(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(s){if(s!=="constructor"){if(Qf.indexOf(s)>-1){t[s]=r[s];return}var c=Object.getOwnPropertyDescriptor(r,s);c.value!==void 0?typeof c.value=="function"?(t.methods||(t.methods={}))[s]=c.value:(t.mixins||(t.mixins=[])).push({data:function(){return GP({},s,c.value)}}):(c.get||c.set)&&((t.computed||(t.computed={}))[s]={get:c.get,set:c.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return nk(this,e)}});var n=e.__decorators__;n&&(n.forEach(function(s){return s(t)}),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),o=i instanceof ze?i.constructor:ze,a=o.extend(t);return ok(a,e,o),XP()&&QP(a,e),a}var ik={prototype:!0,arguments:!0,callee:!0,caller:!0};function ok(e,t,r){Object.getOwnPropertyNames(t).forEach(function(n){if(!ik[n]){var i=Object.getOwnPropertyDescriptor(e,n);if(!(i&&!i.configurable)){var o=Object.getOwnPropertyDescriptor(t,n);if(!ek){if(n==="cid")return;var a=Object.getOwnPropertyDescriptor(r,n);if(!rk(o.value)&&a&&a.value===o.value)return}Object.defineProperty(e,n,o)}}})}function ak(e){return typeof e=="function"?Av(e):function(t){return Av(t,e)}}ak.registerHooks=function(t){Qf.push.apply(Qf,VP(t))};globalThis&&globalThis.__spreadArrays;var sk=typeof Reflect!="undefined"&&typeof Reflect.getMetadata!="undefined";function uk(e,t,r){if(sk&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type=="undefined"){var n=Reflect.getMetadata("design:type",t,r);n!==Object&&(e.type=n)}}function qK(e){return e===void 0&&(e={}),function(t,r){uk(e,t,r),tk(function(n,i){(n.props||(n.props={}))[i]=e})(t,r)}}var $e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function aa(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}function ck(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wh={exports:{}},LE=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},fk=LE,Rn=Object.prototype.toString;function bh(e){return Array.isArray(e)}function Zf(e){return typeof e=="undefined"}function lk(e){return e!==null&&!Zf(e)&&e.constructor!==null&&!Zf(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function UE(e){return Rn.call(e)==="[object ArrayBuffer]"}function dk(e){return Rn.call(e)==="[object FormData]"}function hk(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&UE(e.buffer),t}function pk(e){return typeof e=="string"}function vk(e){return typeof e=="number"}function BE(e){return e!==null&&typeof e=="object"}function hs(e){if(Rn.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function gk(e){return Rn.call(e)==="[object Date]"}function yk(e){return Rn.call(e)==="[object File]"}function mk(e){return Rn.call(e)==="[object Blob]"}function FE(e){return Rn.call(e)==="[object Function]"}function wk(e){return BE(e)&&FE(e.pipe)}function bk(e){return Rn.call(e)==="[object URLSearchParams]"}function _k(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Sk(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function _h(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),bh(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function el(){var e={};function t(i,o){hs(e[o])&&hs(i)?e[o]=el(e[o],i):hs(i)?e[o]=el({},i):bh(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)_h(arguments[r],t);return e}function Ek(e,t,r){return _h(t,function(i,o){r&&typeof i=="function"?e[o]=fk(i,r):e[o]=i}),e}function Ck(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Mt={isArray:bh,isArrayBuffer:UE,isBuffer:lk,isFormData:dk,isArrayBufferView:hk,isString:pk,isNumber:vk,isObject:BE,isPlainObject:hs,isUndefined:Zf,isDate:gk,isFile:yk,isBlob:mk,isFunction:FE,isStream:wk,isURLSearchParams:bk,isStandardBrowserEnv:Sk,forEach:_h,merge:el,extend:Ek,trim:_k,stripBOM:Ck},gi=Mt;function xv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var jE=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(gi.isURLSearchParams(r))i=r.toString();else{var o=[];gi.forEach(r,function(c,u){c===null||typeof c=="undefined"||(gi.isArray(c)?u=u+"[]":c=[c],gi.forEach(c,function(l){gi.isDate(l)?l=l.toISOString():gi.isObject(l)&&(l=JSON.stringify(l)),o.push(xv(u)+"="+xv(l))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},Ak=Mt;function Au(){this.handlers=[]}Au.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Au.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Au.prototype.forEach=function(t){Ak.forEach(this.handlers,function(n){n!==null&&t(n)})};var xk=Au,Tk=Mt,Ik=function(t,r){Tk.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},$E=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Ok=$E,zE=function(t,r,n,i,o){var a=new Error(t);return Ok(a,r,n,i,o)},Pk=zE,kk=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(Pk("Request failed with status code "+n.status,n.config,null,n.request,n))},Aa=Mt,Rk=Aa.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var c=[];c.push(r+"="+encodeURIComponent(n)),Aa.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Aa.isString(o)&&c.push("path="+o),Aa.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Nk=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Dk=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},Mk=Nk,Lk=Dk,Uk=function(t,r){return t&&!Mk(r)?Lk(t,r):r},Ec=Mt,Bk=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Fk=function(t){var r={},n,i,o;return t&&Ec.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=Ec.trim(s.substr(0,o)).toLowerCase(),i=Ec.trim(s.substr(o+1)),n){if(r[n]&&Bk.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Tv=Mt,jk=Tv.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=Tv.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function Sh(e){this.message=e}Sh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Sh.prototype.__CANCEL__=!0;var xu=Sh,xa=Mt,$k=kk,zk=Rk,qk=jE,Kk=Uk,Hk=Fk,Gk=jk,Cc=zE,Vk=Iu,Wk=xu,Iv=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}xa.isFormData(o)&&delete a["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(l+":"+d)}var h=Kk(t.baseURL,t.url);f.open(t.method.toUpperCase(),qk(h,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function p(){if(!!f){var b="getAllResponseHeaders"in f?Hk(f.getAllResponseHeaders()):null,E=!s||s==="text"||s==="json"?f.responseText:f.response,S={data:E,status:f.status,statusText:f.statusText,headers:b,config:t,request:f};$k(function(N){n(N),u()},function(N){i(N),u()},S),f=null}}if("onloadend"in f?f.onloadend=p:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(p)},f.onabort=function(){!f||(i(Cc("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(Cc("Network Error",t,null,f)),f=null},f.ontimeout=function(){var E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",S=t.transitional||Vk.transitional;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),i(Cc(E,t,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},xa.isStandardBrowserEnv()){var g=(t.withCredentials||Gk(h))&&t.xsrfCookieName?zk.read(t.xsrfCookieName):void 0;g&&(a[t.xsrfHeaderName]=g)}"setRequestHeader"in f&&xa.forEach(a,function(E,S){typeof o=="undefined"&&S.toLowerCase()==="content-type"?delete a[S]:f.setRequestHeader(S,E)}),xa.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),s&&s!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(c=function(b){!f||(i(!b||b&&b.type?new Wk("canceled"):b),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c))),o||(o=null),f.send(o)})},et=Mt,Ov=Ik,Jk=$E,Yk={"Content-Type":"application/x-www-form-urlencoded"};function Pv(e,t){!et.isUndefined(e)&&et.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Xk(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Iv),e}function Qk(e,t,r){if(et.isString(e))try{return(t||JSON.parse)(e),et.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Tu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Xk(),transformRequest:[function(t,r){return Ov(r,"Accept"),Ov(r,"Content-Type"),et.isFormData(t)||et.isArrayBuffer(t)||et.isBuffer(t)||et.isStream(t)||et.isFile(t)||et.isBlob(t)?t:et.isArrayBufferView(t)?t.buffer:et.isURLSearchParams(t)?(Pv(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):et.isObject(t)||r&&r["Content-Type"]==="application/json"?(Pv(r,"application/json"),Qk(t)):t}],transformResponse:[function(t){var r=this.transitional||Tu.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&et.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Jk(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};et.forEach(["delete","get","head"],function(t){Tu.headers[t]={}});et.forEach(["post","put","patch"],function(t){Tu.headers[t]=et.merge(Yk)});var Iu=Tu,Zk=Mt,eR=Iu,tR=function(t,r,n){var i=this||eR;return Zk.forEach(n,function(a){t=a.call(i,t,r)}),t},qE=function(t){return!!(t&&t.__CANCEL__)},kv=Mt,Ac=tR,rR=qE,nR=Iu,iR=xu;function xc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iR("canceled")}var oR=function(t){xc(t),t.headers=t.headers||{},t.data=Ac.call(t,t.data,t.headers,t.transformRequest),t.headers=kv.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),kv.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||nR.adapter;return r(t).then(function(i){return xc(t),i.data=Ac.call(t,i.data,i.headers,t.transformResponse),i},function(i){return rR(i)||(xc(t),i&&i.response&&(i.response.data=Ac.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Ut=Mt,KE=function(t,r){r=r||{};var n={};function i(f,l){return Ut.isPlainObject(f)&&Ut.isPlainObject(l)?Ut.merge(f,l):Ut.isPlainObject(l)?Ut.merge({},l):Ut.isArray(l)?l.slice():l}function o(f){if(Ut.isUndefined(r[f])){if(!Ut.isUndefined(t[f]))return i(void 0,t[f])}else return i(t[f],r[f])}function a(f){if(!Ut.isUndefined(r[f]))return i(void 0,r[f])}function s(f){if(Ut.isUndefined(r[f])){if(!Ut.isUndefined(t[f]))return i(void 0,t[f])}else return i(void 0,r[f])}function c(f){if(f in r)return i(t[f],r[f]);if(f in t)return i(void 0,t[f])}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return Ut.forEach(Object.keys(t).concat(Object.keys(r)),function(l){var d=u[l]||o,h=d(l);Ut.isUndefined(h)&&d!==c||(n[l]=h)}),n},HE={version:"0.25.0"},aR=HE.version,Eh={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Eh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Rv={};Eh.transitional=function(t,r,n){function i(o,a){return"[Axios v"+aR+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!Rv[a]&&(Rv[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function sR(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=s===void 0||a(s,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var uR={assertOptions:sR,validators:Eh},GE=Mt,cR=jE,Nv=xk,Dv=oR,Ou=KE,VE=uR,yi=VE.validators;function sa(e){this.defaults=e,this.interceptors={request:new Nv,response:new Nv}}sa.prototype.request=function(t,r){if(typeof t=="string"?(r=r||{},r.url=t):r=t||{},!r.url)throw new Error("Provided config url is not valid");r=Ou(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&VE.assertOptions(n,{silentJSONParsing:yi.transitional(yi.boolean),forcedJSONParsing:yi.transitional(yi.boolean),clarifyTimeoutError:yi.transitional(yi.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(o=o&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var s;if(!o){var c=[Dv,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(a),s=Promise.resolve(r);c.length;)s=s.then(c.shift(),c.shift());return s}for(var u=r;i.length;){var f=i.shift(),l=i.shift();try{u=f(u)}catch(d){l(d);break}}try{s=Dv(u)}catch(d){return Promise.reject(d)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};sa.prototype.getUri=function(t){if(!t.url)throw new Error("Provided config url is not valid");return t=Ou(this.defaults,t),cR(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};GE.forEach(["delete","get","head","options"],function(t){sa.prototype[t]=function(r,n){return this.request(Ou(n||{},{method:t,url:r,data:(n||{}).data}))}});GE.forEach(["post","put","patch"],function(t){sa.prototype[t]=function(r,n,i){return this.request(Ou(i||{},{method:t,url:r,data:n}))}});var fR=sa,lR=xu;function Gi(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new lR(i),t(r.reason))})}Gi.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Gi.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Gi.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Gi.source=function(){var t,r=new Gi(function(i){t=i});return{token:r,cancel:t}};var dR=Gi,hR=function(t){return function(n){return t.apply(null,n)}},pR=Mt,vR=function(t){return pR.isObject(t)&&t.isAxiosError===!0},Mv=Mt,gR=LE,ps=fR,yR=KE,mR=Iu;function WE(e){var t=new ps(e),r=gR(ps.prototype.request,t);return Mv.extend(r,ps.prototype,t),Mv.extend(r,t),r.create=function(i){return WE(yR(e,i))},r}var zr=WE(mR);zr.Axios=ps;zr.Cancel=xu;zr.CancelToken=dR;zr.isCancel=qE;zr.VERSION=HE.version;zr.all=function(t){return Promise.all(t)};zr.spread=hR;zr.isAxiosError=vR;wh.exports=zr;wh.exports.default=zr;var wR=wh.exports,bR=Object.defineProperty,_R=Object.prototype.hasOwnProperty,Lv=Object.getOwnPropertySymbols,SR=Object.prototype.propertyIsEnumerable,Uv=(e,t,r)=>t in e?bR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pr=(e,t)=>{for(var r in t||(t={}))_R.call(t,r)&&Uv(e,r,t[r]);if(Lv)for(var r of Lv(t))SR.call(t,r)&&Uv(e,r,t[r]);return e};const ao=e=>e===void 0,Bv=e=>Array.isArray(e),Fv=e=>e&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.slice=="function",tl=(e,t,r,n)=>((t=t||{}).indices=!ao(t.indices)&&t.indices,t.nullsAsUndefineds=!ao(t.nullsAsUndefineds)&&t.nullsAsUndefineds,t.booleansAsIntegers=!ao(t.booleansAsIntegers)&&t.booleansAsIntegers,t.allowEmptyArrays=!ao(t.allowEmptyArrays)&&t.allowEmptyArrays,r=r||new FormData,ao(e)||(e===null?t.nullsAsUndefineds||r.append(n,""):(i=>typeof i=="boolean")(e)?t.booleansAsIntegers?r.append(n,e?1:0):r.append(n,e):Bv(e)?e.length?e.forEach((i,o)=>{const a=n+"["+(t.indices?o:"")+"]";tl(i,t,r,a)}):t.allowEmptyArrays&&r.append(n+"[]",""):(i=>i instanceof Date)(e)?r.append(n,e.toISOString()):!(i=>i===Object(i))(e)||(i=>Fv(i)&&typeof i.name=="string"&&(typeof i.lastModifiedDate=="object"||typeof i.lastModified=="number"))(e)||Fv(e)?r.append(n,e):Object.keys(e).forEach(i=>{const o=e[i];if(Bv(o))for(;i.length>2&&i.lastIndexOf("[]")===i.length-2;)i=i.substring(0,i.length-2);tl(o,t,r,n?n+"["+i+"]":i)})),r);var ER={serialize:tl};function rl(e){if(e===null||typeof e!="object")return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(r=>{t[r]=rl(e[r])}),t}function jv(e){return Array.isArray(e)?e:[e]}function JE(e){return e instanceof File||e instanceof Blob||e instanceof FileList||typeof e=="object"&&e!==null&&Object.values(e).find(t=>JE(t))!==void 0}class CR{constructor(){this.errors={},this.errors={}}set(t,r){typeof t=="object"?this.errors=t:this.set(pr(pr({},this.errors),{[t]:jv(r)}))}all(){return this.errors}has(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}hasAny(...t){return t.some(r=>this.has(r))}any(){return Object.keys(this.errors).length>0}get(t){if(this.has(t))return this.getAll(t)[0]}getAll(t){return jv(this.errors[t]||[])}only(...t){const r=[];return t.forEach(n=>{const i=this.get(n);i&&r.push(i)}),r}flatten(){return Object.values(this.errors).reduce((t,r)=>t.concat(r),[])}clear(t){const r={};t&&Object.keys(this.errors).forEach(n=>{n!==t&&(r[n]=this.errors[n])}),this.set(r)}}class ar{constructor(t={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new CR,this.progress=void 0,this.update(t)}static make(t){return new this(t)}update(t){this.originalData=Object.assign({},this.originalData,rl(t)),Object.assign(this,t)}fill(t={}){this.keys().forEach(r=>{this[r]=t[r]})}data(){return this.keys().reduce((t,r)=>pr(pr({},t),{[r]:this[r]}),{})}keys(){return Object.keys(this).filter(t=>!ar.ignore.includes(t))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout(()=>{this.recentlySuccessful=!1},ar.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter(t=>!ar.ignore.includes(t)).forEach(t=>{this[t]=rl(this.originalData[t])})}get(t,r={}){return this.submit("get",t,r)}post(t,r={}){return this.submit("post",t,r)}patch(t,r={}){return this.submit("patch",t,r)}put(t,r={}){return this.submit("put",t,r)}delete(t,r={}){return this.submit("delete",t,r)}submit(t,r,n={}){return this.startProcessing(),n=pr({data:{},params:{},url:this.route(r),method:t,onUploadProgress:this.handleUploadProgress.bind(this)},n),t.toLowerCase()==="get"?n.params=pr(pr({},this.data()),n.params):(n.data=pr(pr({},this.data()),n.data),JE(n.data)&&!n.transformRequest&&(n.transformRequest=[i=>ER.serialize(i)])),new Promise((i,o)=>{(ar.axios||wR).request(n).then(a=>{this.finishProcessing(),i(a)}).catch(a=>{this.handleErrors(a),o(a)})})}handleErrors(t){this.busy=!1,this.progress=void 0,t.response&&this.errors.set(this.extractErrors(t.response))}extractErrors(t){return t.data&&typeof t.data=="object"?t.data.errors?pr({},t.data.errors):t.data.message?{error:t.data.message}:pr({},t.data):{error:ar.errorMessage}}handleUploadProgress(t){this.progress={total:t.total,loaded:t.loaded,percentage:Math.round(100*t.loaded/t.total)}}route(t,r={}){let n=t;return Object.prototype.hasOwnProperty.call(ar.routes,t)&&(n=decodeURI(ar.routes[t])),typeof r!="object"&&(r={id:r}),Object.keys(r).forEach(i=>{n=n.replace(`{${i}}`,r[i])}),n}onKeydown(t){const r=t.target;r.name&&this.errors.clear(r.name)}}ar.routes={},ar.errorMessage="Something went wrong. Please try again.",ar.recentlySuccessfulTimeout=2e3,ar.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"];/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $v;(function(e){(function(t){var r=typeof $e=="object"?$e:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(e);typeof r.Reflect=="undefined"?r.Reflect=e:n=i(r.Reflect,n),t(n);function i(o,a){return function(s,c){typeof o[s]!="function"&&Object.defineProperty(o,s,{configurable:!0,writable:!0,value:c}),a&&a(s,c)}}})(function(t){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",o=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return te(Object.create(null))}:s?function(){return te({__proto__:null})}:function(){return te({})},has:c?function(O,K){return r.call(O,K)}:function(O,K){return K in O},get:c?function(O,K){return r.call(O,K)?O[K]:void 0}:function(O,K){return O[K]}},f=Object.getPrototypeOf(Function),l=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!l&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:w(),h=!l&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:I(),p=!l&&typeof WeakMap=="function"?WeakMap:j(),g=new p;function b(O,K,Y,ie){if(U(Y)){if(!xt(O))throw new TypeError;if(!Ve(K))throw new TypeError;return R(O,K)}else{if(!xt(O))throw new TypeError;if(!M(K))throw new TypeError;if(!M(ie)&&!U(ie)&&!W(ie))throw new TypeError;return W(ie)&&(ie=void 0),Y=Oe(Y),L(O,K,Y,ie)}}t("decorate",b);function E(O,K){function Y(ie,oe){if(!M(ie))throw new TypeError;if(!U(oe)&&!wt(oe))throw new TypeError;z(O,K,ie,oe)}return Y}t("metadata",E);function S(O,K,Y,ie){if(!M(Y))throw new TypeError;return U(ie)||(ie=Oe(ie)),z(O,K,Y,ie)}t("defineMetadata",S);function T(O,K,Y){if(!M(K))throw new TypeError;return U(Y)||(Y=Oe(Y)),y(O,K,Y)}t("hasMetadata",T);function N(O,K,Y){if(!M(K))throw new TypeError;return U(Y)||(Y=Oe(Y)),_(O,K,Y)}t("hasOwnMetadata",N);function k(O,K,Y){if(!M(K))throw new TypeError;return U(Y)||(Y=Oe(Y)),C(O,K,Y)}t("getMetadata",k);function B(O,K,Y){if(!M(K))throw new TypeError;return U(Y)||(Y=Oe(Y)),D(O,K,Y)}t("getOwnMetadata",B);function V(O,K){if(!M(O))throw new TypeError;return U(K)||(K=Oe(K)),$(O,K)}t("getMetadataKeys",V);function F(O,K){if(!M(O))throw new TypeError;return U(K)||(K=Oe(K)),q(O,K)}t("getOwnMetadataKeys",F);function ee(O,K,Y){if(!M(K))throw new TypeError;U(Y)||(Y=Oe(Y));var ie=A(K,Y,!1);if(U(ie)||!ie.delete(O))return!1;if(ie.size>0)return!0;var oe=g.get(K);return oe.delete(Y),oe.size>0||g.delete(K),!0}t("deleteMetadata",ee);function R(O,K){for(var Y=O.length-1;Y>=0;--Y){var ie=O[Y],oe=ie(K);if(!U(oe)&&!W(oe)){if(!Ve(oe))throw new TypeError;K=oe}}return K}function L(O,K,Y,ie){for(var oe=O.length-1;oe>=0;--oe){var ge=O[oe],pe=ge(K,Y,ie);if(!U(pe)&&!W(pe)){if(!M(pe))throw new TypeError;ie=pe}}return ie}function A(O,K,Y){var ie=g.get(O);if(U(ie)){if(!Y)return;ie=new d,g.set(O,ie)}var oe=ie.get(K);if(U(oe)){if(!Y)return;oe=new d,ie.set(K,oe)}return oe}function y(O,K,Y){var ie=_(O,K,Y);if(ie)return!0;var oe=m(K);return W(oe)?!1:y(O,oe,Y)}function _(O,K,Y){var ie=A(K,Y,!1);return U(ie)?!1:ye(ie.has(O))}function C(O,K,Y){var ie=_(O,K,Y);if(ie)return D(O,K,Y);var oe=m(K);if(!W(oe))return C(O,oe,Y)}function D(O,K,Y){var ie=A(K,Y,!1);if(!U(ie))return ie.get(O)}function z(O,K,Y,ie){var oe=A(Y,ie,!0);oe.set(O,K)}function $(O,K){var Y=q(O,K),ie=m(O);if(ie===null)return Y;var oe=$(ie,K);if(oe.length<=0)return Y;if(Y.length<=0)return oe;for(var ge=new h,pe=[],ve=0,fe=Y;ve<fe.length;ve++){var Ee=fe[ve],Ce=ge.has(Ee);Ce||(ge.add(Ee),pe.push(Ee))}for(var on=0,wp=oe;on<wp.length;on++){var Ee=wp[on],Ce=ge.has(Ee);Ce||(ge.add(Ee),pe.push(Ee))}return pe}function q(O,K){var Y=[],ie=A(O,K,!1);if(U(ie))return Y;for(var oe=ie.keys(),ge=Zt(oe),pe=0;;){var ve=pc(ge);if(!ve)return Y.length=pe,Y;var fe=kr(ve);try{Y[pe]=fe}catch(Ee){try{x(ge)}finally{throw Ee}}pe++}}function H(O){if(O===null)return 1;switch(typeof O){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return O===null?1:6;default:return 6}}function U(O){return O===void 0}function W(O){return O===null}function Q(O){return typeof O=="symbol"}function M(O){return typeof O=="object"?O!==null:typeof O=="function"}function ce(O,K){switch(H(O)){case 0:return O;case 1:return O;case 2:return O;case 3:return O;case 4:return O;case 5:return O}var Y=K===3?"string":K===5?"number":"default",ie=Lt(O,i);if(ie!==void 0){var oe=ie.call(O,Y);if(M(oe))throw new TypeError;return oe}return ae(O,Y==="default"?"number":Y)}function ae(O,K){if(K==="string"){var Y=O.toString;if(Le(Y)){var ie=Y.call(O);if(!M(ie))return ie}var oe=O.valueOf;if(Le(oe)){var ie=oe.call(O);if(!M(ie))return ie}}else{var oe=O.valueOf;if(Le(oe)){var ie=oe.call(O);if(!M(ie))return ie}var ge=O.toString;if(Le(ge)){var ie=ge.call(O);if(!M(ie))return ie}}throw new TypeError}function ye(O){return!!O}function de(O){return""+O}function Oe(O){var K=ce(O,3);return Q(K)?K:de(K)}function xt(O){return Array.isArray?Array.isArray(O):O instanceof Object?O instanceof Array:Object.prototype.toString.call(O)==="[object Array]"}function Le(O){return typeof O=="function"}function Ve(O){return typeof O=="function"}function wt(O){switch(H(O)){case 3:return!0;case 4:return!0;default:return!1}}function Lt(O,K){var Y=O[K];if(Y!=null){if(!Le(Y))throw new TypeError;return Y}}function Zt(O){var K=Lt(O,o);if(!Le(K))throw new TypeError;var Y=K.call(O);if(!M(Y))throw new TypeError;return Y}function kr(O){return O.value}function pc(O){var K=O.next();return K.done?!1:K}function x(O){var K=O.return;K&&K.call(O)}function m(O){var K=Object.getPrototypeOf(O);if(typeof O!="function"||O===f||K!==f)return K;var Y=O.prototype,ie=Y&&Object.getPrototypeOf(Y);if(ie==null||ie===Object.prototype)return K;var oe=ie.constructor;return typeof oe!="function"||oe===O?K:oe}function w(){var O={},K=[],Y=function(){function pe(ve,fe,Ee){this._index=0,this._keys=ve,this._values=fe,this._selector=Ee}return pe.prototype["@@iterator"]=function(){return this},pe.prototype[o]=function(){return this},pe.prototype.next=function(){var ve=this._index;if(ve>=0&&ve<this._keys.length){var fe=this._selector(this._keys[ve],this._values[ve]);return ve+1>=this._keys.length?(this._index=-1,this._keys=K,this._values=K):this._index++,{value:fe,done:!1}}return{value:void 0,done:!0}},pe.prototype.throw=function(ve){throw this._index>=0&&(this._index=-1,this._keys=K,this._values=K),ve},pe.prototype.return=function(ve){return this._index>=0&&(this._index=-1,this._keys=K,this._values=K),{value:ve,done:!0}},pe}();return function(){function pe(){this._keys=[],this._values=[],this._cacheKey=O,this._cacheIndex=-2}return Object.defineProperty(pe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),pe.prototype.has=function(ve){return this._find(ve,!1)>=0},pe.prototype.get=function(ve){var fe=this._find(ve,!1);return fe>=0?this._values[fe]:void 0},pe.prototype.set=function(ve,fe){var Ee=this._find(ve,!0);return this._values[Ee]=fe,this},pe.prototype.delete=function(ve){var fe=this._find(ve,!1);if(fe>=0){for(var Ee=this._keys.length,Ce=fe+1;Ce<Ee;Ce++)this._keys[Ce-1]=this._keys[Ce],this._values[Ce-1]=this._values[Ce];return this._keys.length--,this._values.length--,ve===this._cacheKey&&(this._cacheKey=O,this._cacheIndex=-2),!0}return!1},pe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=O,this._cacheIndex=-2},pe.prototype.keys=function(){return new Y(this._keys,this._values,ie)},pe.prototype.values=function(){return new Y(this._keys,this._values,oe)},pe.prototype.entries=function(){return new Y(this._keys,this._values,ge)},pe.prototype["@@iterator"]=function(){return this.entries()},pe.prototype[o]=function(){return this.entries()},pe.prototype._find=function(ve,fe){return this._cacheKey!==ve&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=ve)),this._cacheIndex<0&&fe&&(this._cacheIndex=this._keys.length,this._keys.push(ve),this._values.push(void 0)),this._cacheIndex},pe}();function ie(pe,ve){return pe}function oe(pe,ve){return ve}function ge(pe,ve){return[pe,ve]}}function I(){return function(){function O(){this._map=new d}return Object.defineProperty(O.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),O.prototype.has=function(K){return this._map.has(K)},O.prototype.add=function(K){return this._map.set(K,K),this},O.prototype.delete=function(K){return this._map.delete(K)},O.prototype.clear=function(){this._map.clear()},O.prototype.keys=function(){return this._map.keys()},O.prototype.values=function(){return this._map.values()},O.prototype.entries=function(){return this._map.entries()},O.prototype["@@iterator"]=function(){return this.keys()},O.prototype[o]=function(){return this.keys()},O}()}function j(){var O=16,K=u.create(),Y=ie();return function(){function fe(){this._key=ie()}return fe.prototype.has=function(Ee){var Ce=oe(Ee,!1);return Ce!==void 0?u.has(Ce,this._key):!1},fe.prototype.get=function(Ee){var Ce=oe(Ee,!1);return Ce!==void 0?u.get(Ce,this._key):void 0},fe.prototype.set=function(Ee,Ce){var on=oe(Ee,!0);return on[this._key]=Ce,this},fe.prototype.delete=function(Ee){var Ce=oe(Ee,!1);return Ce!==void 0?delete Ce[this._key]:!1},fe.prototype.clear=function(){this._key=ie()},fe}();function ie(){var fe;do fe="@@WeakMap@@"+ve();while(u.has(K,fe));return K[fe]=!0,fe}function oe(fe,Ee){if(!r.call(fe,Y)){if(!Ee)return;Object.defineProperty(fe,Y,{value:u.create()})}return fe[Y]}function ge(fe,Ee){for(var Ce=0;Ce<Ee;++Ce)fe[Ce]=Math.random()*255|0;return fe}function pe(fe){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(fe)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(fe)):ge(new Uint8Array(fe),fe):ge(new Array(fe),fe)}function ve(){var fe=pe(O);fe[6]=fe[6]&79|64,fe[8]=fe[8]&191|128;for(var Ee="",Ce=0;Ce<O;++Ce){var on=fe[Ce];(Ce===4||Ce===6||Ce===8)&&(Ee+="-"),on<16&&(Ee+="0"),Ee+=on.toString(16).toLowerCase()}return Ee}}function te(O){return O.__=void 0,delete O.__,O}})})($v||($v={}));var jr="named",YE="name",Ch="unmanaged",XE="optional",Pu="inject",Uo="multi_inject",QE="inversify:tagged",ZE="inversify:tagged_props",nl="inversify:paramtypes",AR="design:paramtypes",zv="post_construct";function xR(){return[Pu,Uo,YE,Ch,jr,XE]}var qv=xR(),it={Request:"Request",Singleton:"Singleton",Transient:"Transient"},nt={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},tn={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},TR=0;function ua(){return TR++}var IR=function(){function e(t,r){this.id=ua(),this.activated=!1,this.serviceIdentifier=t,this.scope=r,this.type=nt.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===it.Singleton?this.activated:!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}(),OR="Cannot apply @injectable decorator multiple times.",PR="Metadata key was used more than once in a parameter:",so="NULL argument",Kv="Key Not Found",kR="Ambiguous match found for serviceIdentifier:",RR="Could not unbind serviceIdentifier:",NR="No matching bindings found for serviceIdentifier:",DR="Missing required @injectable annotation in:",MR="Missing required @inject or @multiInject annotation in:",LR=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},UR="Circular dependency found:",BR="Invalid binding type:",FR="No snapshot available to restore.",jR="Invalid return type in middleware. Middleware must return!",$R="Value provided to function binding must be a function!",zR="The toSelf function can only be applied when a constructor is used as service identifier",qR="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",KR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+(e[0]+" must be >= than the number of constructor arguments of its base class.")},HR="Invalid Container constructor argument. Container options must be an object.",GR="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",VR="Invalid Container option. Auto bind injectable must be a boolean",WR="Invalid Container option. Skip base check must be a boolean",JR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},YR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency "+("in one of the '"+e[0]+"' bindings. Please investigate bindings with")+("service identifier '"+e[1]+"'.")},XR="Maximum call stack size exceeded",QR=function(){function e(){}return e.prototype.getConstructorMetadata=function(t){var r=Reflect.getMetadata(nl,t),n=Reflect.getMetadata(QE,t);return{compilerGeneratedMetadata:r,userGeneratedMetadata:n||{}}},e.prototype.getPropertiesMetadata=function(t){var r=Reflect.getMetadata(ZE,t)||[];return r},e}(),vs={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function eC(e){return e instanceof RangeError||e.message===XR}function Bo(e){if(typeof e=="function"){var t=e;return t.name}else{if(typeof e=="symbol")return e.toString();var t=e;return t}}function Hv(e,t,r){var n="",i=r(e,t);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var a="Object";o.implementationType!==null&&(a=ku(o.implementationType)),n=n+`
 `+a,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}function tC(e,t){return e.parentRequest===null?!1:e.parentRequest.serviceIdentifier===t?!0:tC(e.parentRequest,t)}function ZR(e){function t(n,i){i===void 0&&(i=[]);var o=Bo(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?t(n.parentRequest,i):i}var r=t(e);return r.reverse().join(" --> ")}function rC(e){e.childRequests.forEach(function(t){if(tC(t,t.serviceIdentifier)){var r=ZR(t);throw new Error(UR+" "+r)}else rC(t)})}function eN(e,t){if(t.isTagged()||t.isNamed()){var r="",n=t.getNamedTag(),i=t.getCustomTags();return n!==null&&(r+=n.toString()+`
`),i!==null&&i.forEach(function(o){r+=o.toString()+`
`})," "+e+`
 `+e+" - "+r}else return" "+e}function ku(e){if(e.name)return e.name;var t=e.toString(),r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}var nC=function(){function e(t){this.id=ua(),this.container=t}return e.prototype.addPlan=function(t){this.plan=t},e.prototype.setCurrentRequest=function(t){this.currentRequest=t},e}(),ii=function(){function e(t,r){this.key=t,this.value=r}return e.prototype.toString=function(){return this.key===jr?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}(),tN=function(){function e(t,r){this.parentContext=t,this.rootRequest=r}return e}();function rN(e,t,r,n){var i=QE;iC(i,e,t,n,r)}function nN(e,t,r){var n=ZE;iC(n,e.constructor,t,r)}function iC(e,t,r,n,i){var o={},a=typeof i=="number",s=i!==void 0&&a?i.toString():r;if(a&&r!==void 0)throw new Error(qR);Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var c=o[s];if(!Array.isArray(c))c=[];else for(var u=0,f=c;u<f.length;u++){var l=f[u];if(l.key===n.key)throw new Error(PR+" "+l.key.toString())}c.push(n),o[s]=c,Reflect.defineMetadata(e,o,t)}var iN=function(){function e(t){this._cb=t}return e.prototype.unwrap=function(){return this._cb()},e}();function KK(e){return function(t,r,n){if(e===void 0)throw new Error(LR(t.name));var i=new ii(Pu,e);typeof n=="number"?rN(t,r,n,i):nN(t,r,i)}}var oN=function(){function e(t){this.str=t}return e.prototype.startsWith=function(t){return this.str.indexOf(t)===0},e.prototype.endsWith=function(t){var r="",n=t.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},n)},e.prototype.contains=function(t){return this.str.indexOf(t)!==-1},e.prototype.equals=function(t){return this.str===t},e.prototype.value=function(){return this.str},e}(),Ru=function(){function e(t,r,n,i){this.id=ua(),this.type=t,this.serviceIdentifier=n,this.name=new oN(r||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new ii(jr,i):i instanceof ii&&(o=i),o!==null&&this.metadata.push(o)}return e.prototype.hasTag=function(t){for(var r=0,n=this.metadata;r<n.length;r++){var i=n[r];if(i.key===t)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(Uo)},e.prototype.matchesArray=function(t){return this.matchesTag(Uo)(t)},e.prototype.isNamed=function(){return this.hasTag(jr)},e.prototype.isTagged=function(){return this.metadata.some(function(t){return qv.every(function(r){return t.key!==r})})},e.prototype.isOptional=function(){return this.matchesTag(XE)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===jr})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return qv.every(function(r){return t.key!==r})}):null},e.prototype.matchesNamedTag=function(t){return this.matchesTag(jr)(t)},e.prototype.matchesTag=function(t){var r=this;return function(n){for(var i=0,o=r.metadata;i<o.length;i++){var a=o[i];if(a.key===t&&a.value===n)return!0}return!1}},e}(),Ws=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function aN(e,t){var r=ku(t),n=oC(e,r,t,!1);return n}function oC(e,t,r,n){var i=e.getConstructorMetadata(r),o=i.compilerGeneratedMetadata;if(o===void 0){var a=DR+" "+t+".";throw new Error(a)}var s=i.userGeneratedMetadata,c=Object.keys(s),u=r.length===0&&c.length>0,f=c.length>r.length,l=u||f?c.length:r.length,d=uN(n,t,o,s,l),h=aC(e,r),p=Ws(Ws([],d),h);return p}function sN(e,t,r,n,i){var o=i[e.toString()]||[],a=uC(o),s=a.unmanaged!==!0,c=n[e],u=a.inject||a.multiInject;if(c=u||c,c instanceof iN&&(c=c.unwrap()),s){var f=c===Object,l=c===Function,d=c===void 0,h=f||l||d;if(!t&&h){var p=MR+" argument "+e+" in class "+r+".";throw new Error(p)}var g=new Ru(tn.ConstructorArgument,a.targetName,c);return g.metadata=o,g}return null}function uN(e,t,r,n,i){for(var o=[],a=0;a<i;a++){var s=a,c=sN(s,e,t,r,n);c!==null&&o.push(c)}return o}function aC(e,t){for(var r=e.getPropertiesMetadata(t),n=[],i=Object.keys(r),o=0,a=i;o<a.length;o++){var s=a[o],c=r[s],u=uC(r[s]),f=u.targetName||s,l=u.inject||u.multiInject,d=new Ru(tn.ClassProperty,f,l);d.metadata=c,n.push(d)}var h=Object.getPrototypeOf(t.prototype).constructor;if(h!==Object){var p=aC(e,h);n=Ws(Ws([],n),p)}return n}function sC(e,t){var r=Object.getPrototypeOf(t.prototype).constructor;if(r!==Object){var n=ku(r),i=oC(e,n,r,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===Ch})}),a=[].concat.apply([],o).length,s=i.length-a;return s>0?s:sC(e,r)}else return 0}function uC(e){var t={};return e.forEach(function(r){t[r.key.toString()]=r.value}),{inject:t[Pu],multiInject:t[Uo],targetName:t[YE],unmanaged:t[Ch]}}var Ah=function(){function e(t,r,n,i,o){this.id=ua(),this.serviceIdentifier=t,this.parentContext=r,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);return this.childRequests.push(i),i},e}();function il(e){return e._bindingDictionary}function cN(e,t,r,n,i,o){var a=e?Uo:Pu,s=new ii(a,r),c=new Ru(t,n,r,s);if(i!==void 0){var u=new ii(i,o);c.metadata.push(u)}return c}function Gv(e,t,r,n,i){var o=Fo(r.container,i.serviceIdentifier),a=[];return o.length===vs.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=Fo(r.container,i.serviceIdentifier)),t?a=o:a=o.filter(function(s){var c=new Ah(s.serviceIdentifier,r,n,s,i);return s.constraint(c)}),fN(i.serviceIdentifier,a,i,r.container),a}function fN(e,t,r,n){switch(t.length){case vs.NoBindingsAvailable:if(r.isOptional())return t;var i=Bo(e),o=NR;throw o+=eN(i,r),o+=Hv(n,i,Fo),new Error(o);case vs.OnlyOneBindingAvailable:if(!r.isArray())return t;case vs.MultipleBindingsAvailable:default:if(r.isArray())return t;var i=Bo(e),o=kR+" "+i;throw o+=Hv(n,i,Fo),new Error(o)}}function cC(e,t,r,n,i,o){var a,s;if(i===null){a=Gv(e,t,n,null,o),s=new Ah(r,n,null,a,o);var c=new tN(n,s);n.addPlan(c)}else a=Gv(e,t,n,i,o),s=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(u){var f=null;if(o.isArray())f=s.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;f=s}if(u.type===nt.Instance&&u.implementationType!==null){var l=aN(e,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=sC(e,u.implementationType);if(l.length<d){var h=KR(ku(u.implementationType));throw new Error(h)}}l.forEach(function(p){cC(e,!1,p.serviceIdentifier,n,f,p)})}})}function Fo(e,t){var r=[],n=il(e);return n.hasKey(t)?r=n.get(t):e.parent!==null&&(r=Fo(e.parent,t)),r}function lN(e,t,r,n,i,o,a,s){s===void 0&&(s=!1);var c=new nC(t),u=cN(r,n,i,"",o,a);try{return cC(e,s,i,c,null,u),c}catch(f){throw eC(f)&&c.plan&&rC(c.plan.rootRequest),f}}function dN(e,t,r,n){var i=new Ru(tn.Variable,"",t,new ii(r,n)),o=new nC(e),a=new Ah(t,o,null,[],i);return a}var hN=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function pN(e,t,r){var n=t.filter(function(o){return o.target!==null&&o.target.type===tn.ClassProperty}),i=n.map(r);return n.forEach(function(o,a){var s="";s=o.target.name.value();var c=i[a];e[s]=c}),e}function vN(e,t){return new(e.bind.apply(e,hN([void 0],t)))}function gN(e,t){if(Reflect.hasMetadata(zv,e)){var r=Reflect.getMetadata(zv,e);try{t[r.value]()}catch(n){throw new Error(JR(e.name,n.message))}}}function yN(e,t,r){var n=null;if(t.length>0){var i=t.filter(function(a){return a.target!==null&&a.target.type===tn.ConstructorArgument}),o=i.map(r);n=vN(e,o),n=pN(n,t,r)}else n=new e;return gN(e,n),n}var Tc=function(e,t,r){try{return r()}catch(n){throw eC(n)?new Error(YR(e,t.toString())):n}},ol=function(e){return function(t){t.parentContext.setCurrentRequest(t);var r=t.bindings,n=t.childRequests,i=t.target&&t.target.isArray(),o=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(i&&o)return n.map(function(l){var d=ol(e);return d(l)});var a=null;if(t.target.isOptional()&&r.length===0)return;var s=r[0],c=s.scope===it.Singleton,u=s.scope===it.Request;if(c&&s.activated)return s.cache;if(u&&e!==null&&e.has(s.id))return e.get(s.id);if(s.type===nt.ConstantValue)a=s.cache,s.activated=!0;else if(s.type===nt.Function)a=s.cache,s.activated=!0;else if(s.type===nt.Constructor)a=s.implementationType;else if(s.type===nt.DynamicValue&&s.dynamicValue!==null)a=Tc("toDynamicValue",s.serviceIdentifier,function(){return s.dynamicValue(t.parentContext)});else if(s.type===nt.Factory&&s.factory!==null)a=Tc("toFactory",s.serviceIdentifier,function(){return s.factory(t.parentContext)});else if(s.type===nt.Provider&&s.provider!==null)a=Tc("toProvider",s.serviceIdentifier,function(){return s.provider(t.parentContext)});else if(s.type===nt.Instance&&s.implementationType!==null)a=yN(s.implementationType,n,ol(e));else{var f=Bo(t.serviceIdentifier);throw new Error(BR+" "+f)}return typeof s.onActivation=="function"&&(a=s.onActivation(t.parentContext,a)),c&&(s.cache=a,s.activated=!0),u&&e!==null&&!e.has(s.id)&&e.set(s.id,a),a}};function mN(e){var t=ol(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}var Wr=function(e,t){var r=e.parentRequest;return r!==null?t(r)?!0:Wr(r,t):!1},wo=function(e){return function(t){var r=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(e)(t)};return r.metaData=new ii(e,t),r}},Ta=wo(jr),Ic=function(e){return function(t){var r=null;if(t!==null)if(r=t.bindings[0],typeof e=="string"){var n=r.serviceIdentifier;return n===e}else{var i=t.bindings[0].implementationType;return e===i}return!1}},xh=function(){function e(t){this._binding=t}return e.prototype.when=function(t){return this._binding.constraint=t,new Ze(this._binding)},e.prototype.whenTargetNamed=function(t){return this._binding.constraint=Ta(t),new Ze(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){var r=t.target!==null&&!t.target.isNamed()&&!t.target.isTagged();return r},new Ze(this._binding)},e.prototype.whenTargetTagged=function(t,r){return this._binding.constraint=wo(t)(r),new Ze(this._binding)},e.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(r){return Ic(t)(r.parentRequest)},new Ze(this._binding)},e.prototype.whenParentNamed=function(t){return this._binding.constraint=function(r){return Ta(t)(r.parentRequest)},new Ze(this._binding)},e.prototype.whenParentTagged=function(t,r){return this._binding.constraint=function(n){return wo(t)(r)(n.parentRequest)},new Ze(this._binding)},e.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(r){return Wr(r,Ic(t))},new Ze(this._binding)},e.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(r){return!Wr(r,Ic(t))},new Ze(this._binding)},e.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(r){return Wr(r,Ta(t))},new Ze(this._binding)},e.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(r){return!Wr(r,Ta(t))},new Ze(this._binding)},e.prototype.whenAnyAncestorTagged=function(t,r){return this._binding.constraint=function(n){return Wr(n,wo(t)(r))},new Ze(this._binding)},e.prototype.whenNoAncestorTagged=function(t,r){return this._binding.constraint=function(n){return!Wr(n,wo(t)(r))},new Ze(this._binding)},e.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(r){return Wr(r,t)},new Ze(this._binding)},e.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(r){return!Wr(r,t)},new Ze(this._binding)},e}(),Ze=function(){function e(t){this._binding=t}return e.prototype.onActivation=function(t){return this._binding.onActivation=t,new xh(this._binding)},e}(),bn=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new xh(this._binding),this._bindingOnSyntax=new Ze(this._binding)}return e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,r){return this._bindingWhenSyntax.whenTargetTagged(t,r)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,r){return this._bindingWhenSyntax.whenParentTagged(t,r)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,r)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenNoAncestorTagged(t,r)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e}(),wN=function(){function e(t){this._binding=t}return e.prototype.inRequestScope=function(){return this._binding.scope=it.Request,new bn(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=it.Transient,new bn(this._binding)},e}(),Vv=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new xh(this._binding),this._bindingOnSyntax=new Ze(this._binding),this._bindingInSyntax=new wN(t)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,r){return this._bindingWhenSyntax.whenTargetTagged(t,r)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,r){return this._bindingWhenSyntax.whenParentTagged(t,r)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,r)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenNoAncestorTagged(t,r)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e}(),bN=function(){function e(t){this._binding=t}return e.prototype.to=function(t){return this._binding.type=nt.Instance,this._binding.implementationType=t,new Vv(this._binding)},e.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+zR);var t=this._binding.serviceIdentifier;return this.to(t)},e.prototype.toConstantValue=function(t){return this._binding.type=nt.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toDynamicValue=function(t){return this._binding.type=nt.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new Vv(this._binding)},e.prototype.toConstructor=function(t){return this._binding.type=nt.Constructor,this._binding.implementationType=t,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toFactory=function(t){return this._binding.type=nt.Factory,this._binding.factory=t,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toFunction=function(t){if(typeof t!="function")throw new Error($R);var r=this.toConstantValue(t);return this._binding.type=nt.Function,this._binding.scope=it.Singleton,r},e.prototype.toAutoFactory=function(t){return this._binding.type=nt.Factory,this._binding.factory=function(r){var n=function(){return r.container.get(t)};return n},this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toProvider=function(t){return this._binding.type=nt.Provider,this._binding.provider=t,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toService=function(t){this.toDynamicValue(function(r){return r.container.get(t)})},e}(),_N=function(){function e(){}return e.of=function(t,r){var n=new e;return n.bindings=t,n.middleware=r,n},e}(),Wv=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(t,r){if(t==null)throw new Error(so);if(r==null)throw new Error(so);var n=this._map.get(t);n!==void 0?(n.push(r),this._map.set(t,n)):this._map.set(t,[r])},e.prototype.get=function(t){if(t==null)throw new Error(so);var r=this._map.get(t);if(r!==void 0)return r;throw new Error(Kv)},e.prototype.remove=function(t){if(t==null)throw new Error(so);if(!this._map.delete(t))throw new Error(Kv)},e.prototype.removeByCondition=function(t){var r=this;this._map.forEach(function(n,i){var o=n.filter(function(a){return!t(a)});o.length>0?r._map.set(i,o):r._map.delete(i)})},e.prototype.hasKey=function(t){if(t==null)throw new Error(so);return this._map.has(t)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(r,n){r.forEach(function(i){return t.add(n,i.clone())})}),t},e.prototype.traverse=function(t){this._map.forEach(function(r,n){t(n,r)})},e}(),SN=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},EN=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},CN=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},HK=function(){function e(t){this._appliedMiddleware=[];var r=t||{};if(typeof r!="object")throw new Error(""+HR);if(r.defaultScope===void 0)r.defaultScope=it.Transient;else if(r.defaultScope!==it.Singleton&&r.defaultScope!==it.Transient&&r.defaultScope!==it.Request)throw new Error(""+GR);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+VR);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+WR);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=ua(),this._bindingDictionary=new Wv,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new QR}return e.merge=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new e,a=CN([t,r],n).map(function(u){return il(u)}),s=il(o);function c(u,f){u.traverse(function(l,d){d.forEach(function(h){f.add(h.serviceIdentifier,h.clone())})})}return a.forEach(function(u){c(u,s)}),o},e.prototype.load=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=t;i<o.length;i++){var a=o[i],s=n(a.id);a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return SN(this,void 0,void 0,function(){var n,i,o,a,s;return EN(this,function(c){switch(c.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=t,c.label=1;case 1:return i<o.length?(a=o[i],s=n(a.id),[4,a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=function(o){return function(a){return a.moduleId===o}};r.forEach(function(o){var a=i(o.id);t._bindingDictionary.removeByCondition(a)})},e.prototype.bind=function(t){var r=this.options.defaultScope||it.Transient,n=new IR(t,r);return this._bindingDictionary.add(t,n),new bN(n)},e.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},e.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch{throw new Error(RR+" "+Bo(t))}},e.prototype.unbindAll=function(){this._bindingDictionary=new Wv},e.prototype.isBound=function(t){var r=this._bindingDictionary.hasKey(t);return!r&&this.parent&&(r=this.parent.isBound(t)),r},e.prototype.isBoundNamed=function(t,r){return this.isBoundTagged(t,jr,r)},e.prototype.isBoundTagged=function(t,r,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),a=dN(this,t,r,n);i=o.some(function(s){return s.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,r,n)),i},e.prototype.snapshot=function(){this._snapshots.push(_N.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var t=this._snapshots.pop();if(t===void 0)throw new Error(FR);this._bindingDictionary=t.bindings,this._middleware=t.middleware},e.prototype.createChild=function(t){var r=new e(t||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(i,o){return o(i)},n)},e.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},e.prototype.get=function(t){return this._get(!1,!1,tn.Variable,t)},e.prototype.getTagged=function(t,r,n){return this._get(!1,!1,tn.Variable,t,r,n)},e.prototype.getNamed=function(t,r){return this.getTagged(t,jr,r)},e.prototype.getAll=function(t){return this._get(!0,!0,tn.Variable,t)},e.prototype.getAllTagged=function(t,r,n){return this._get(!1,!0,tn.Variable,t,r,n)},e.prototype.getAllNamed=function(t,r){return this.getAllTagged(t,jr,r)},e.prototype.resolve=function(t){var r=this.createChild();return r.bind(t).toSelf(),this._appliedMiddleware.forEach(function(n){r.applyMiddleware(n)}),r.get(t)},e.prototype._getContainerModuleHelpersFactory=function(){var t=this,r=function(s,c){s._binding.moduleId=c},n=function(s){return function(c){var u=t.bind.bind(t),f=u(c);return r(f,s),f}},i=function(s){return function(c){var u=t.unbind.bind(t);u(c)}},o=function(s){return function(c){var u=t.isBound.bind(t);return u(c)}},a=function(s){return function(c){var u=t.rebind.bind(t),f=u(c);return r(f,s),f}};return function(s){return{bindFunction:n(s),isboundFunction:o(s),rebindFunction:a(s),unbindFunction:i(s)}}},e.prototype._get=function(t,r,n,i,o,a){var s=null,c={avoidConstraints:t,contextInterceptor:function(u){return u},isMultiInject:r,key:o,serviceIdentifier:i,targetType:n,value:a};if(this._middleware){if(s=this._middleware(c),s==null)throw new Error(jR)}else s=this._planAndResolve()(c);return s},e.prototype._planAndResolve=function(){var t=this;return function(r){var n=lN(t._metadataReader,t,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);n=r.contextInterceptor(n);var i=mN(n);return i}},e}();function GK(){return function(e){if(Reflect.hasOwnMetadata(nl,e))throw new Error(OR);var t=Reflect.getMetadata(AR,e)||[];return Reflect.defineMetadata(nl,t,e),e}}var uo=Symbol.for("INJECTION");function Nu(e,t,r,n){function i(){return n&&!Reflect.hasMetadata(uo,this,t)&&Reflect.defineMetadata(uo,r(),this,t),Reflect.hasMetadata(uo,this,t)?Reflect.getMetadata(uo,this,t):r()}function o(a){Reflect.defineMetadata(uo,a,this,t)}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:i,set:o})}function AN(e,t){return function(r){return function(n,i){var o=function(){return e.get(r)};Nu(n,i,o,t)}}}function xN(e,t){return function(r,n){return function(i,o){var a=function(){return e.getNamed(r,n)};Nu(i,o,a,t)}}}function TN(e,t){return function(r,n,i){return function(o,a){var s=function(){return e.getTagged(r,n,i)};Nu(o,a,s,t)}}}function IN(e,t){return function(r){return function(n,i){var o=function(){return e.getAll(r)};Nu(n,i,o,t)}}}function VK(e,t){t===void 0&&(t=!0);var r=AN(e,t),n=xN(e,t),i=TN(e,t),o=IN(e,t);return{lazyInject:r,lazyInjectNamed:n,lazyInjectTagged:i,lazyMultiInject:o}}var ON="Logging",PN=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kN=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},mi=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kN(arguments[t]));return e},Jv={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},vr;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(vr||(vr={}));var Se=function(){function e(t,r){r===void 0&&(r=vr.WARN),this.name=t,this.level=r,this._pluggables=[]}return e.prototype._padding=function(t){return t<10?"0"+t:""+t},e.prototype._ts=function(){var t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()},e.prototype.configure=function(t){return t?(this._config=t,this._config):this._config},e.prototype._log=function(t){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.level;e.LOG_LEVEL&&(a=e.LOG_LEVEL),typeof window!="undefined"&&window.LOG_LEVEL&&(a=window.LOG_LEVEL);var s=Jv[a],c=Jv[t];if(c>=s){var u=console.log.bind(console);t===vr.ERROR&&console.error&&(u=console.error.bind(console)),t===vr.WARN&&console.warn&&(u=console.warn.bind(console));var f="["+t+"] "+this._ts()+" "+this.name,l="";if(i.length===1&&typeof i[0]=="string")l=f+" - "+i[0],u(l);else if(i.length===1)l=f+" "+i[0],u(f,i[0]);else if(typeof i[0]=="string"){var d=i.slice(1);d.length===1&&(d=d[0]),l=f+" - "+i[0]+" "+d,u(f+" - "+i[0],d)}else l=f+" "+i,u(f,i);try{for(var h=PN(this._pluggables),p=h.next();!p.done;p=h.next()){var g=p.value,b={message:l,timestamp:Date.now()};g.pushLogs([b])}}catch(E){r={error:E}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,mi([vr.INFO],t))},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,mi([vr.INFO],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,mi([vr.WARN],t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,mi([vr.ERROR],t))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,mi([vr.DEBUG],t))},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,mi([vr.VERBOSE],t))},e.prototype.addPluggable=function(t){t&&t.getCategoryName()===ON&&(this._pluggables.push(t),t.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),RN=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Oc=new Se("Amplify"),NN=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=Se,this.ServiceWorker=null}return e.prototype.register=function(t){Oc.debug("component registered in amplify",t),this._components.push(t),typeof t.getModuleName=="function"?(this._modules[t.getModuleName()]=t,this[t.getModuleName()]=t):Oc.debug("no getModuleName method for component",t),t.configure(this._config)},e.prototype.configure=function(t){var r=this;return t?(this._config=Object.assign(this._config,t),Oc.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(n){var i=RN(n,2);i[0];var o=i[1];Object.keys(o).forEach(function(a){r._modules[a]&&(o[a]=r._modules[a])})}),this._components.map(function(n){n.configure(r._config)}),this._config):this._config},e.prototype.addPluggable=function(t){t&&t.getCategory&&typeof t.getCategory=="function"&&this._components.map(function(r){r.addPluggable&&typeof r.addPluggable=="function"&&r.addPluggable(t)})},e}(),st=new NN,DN="4.5.1",al="aws-amplify/"+DN,mr={userAgent:al+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch(mr.product=navigator.product||"",mr.navigator=navigator||null,navigator.product){case"ReactNative":mr.userAgent=al+" react-native",mr.isReactNative=!0;break;default:mr.userAgent=al+" js",mr.isReactNative=!1;break}var gs=function(){return mr.userAgent},Ao=globalThis&&globalThis.__assign||function(){return Ao=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ao.apply(this,arguments)},fC=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Yv=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fC(arguments[t]));return e},Kr=new Se("Hub"),MN=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function LN(e){return e.onHubCapsule!==void 0}var UN=function(){function e(t){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}return e.prototype.remove=function(t,r){if(t instanceof RegExp){var n=this.patterns.find(function(o){var a=o.pattern;return a.source===t.source});if(!n){Kr.warn("No listeners for "+t);return}this.patterns=Yv(this.patterns.filter(function(o){return o!==n}))}else{var i=this.listeners[t];if(!i){Kr.warn("No listeners for "+t);return}this.listeners[t]=Yv(i.filter(function(o){var a=o.callback;return a!==r}))}},e.prototype.dispatch=function(t,r,n,i){if(n===void 0&&(n=""),this.protectedChannels.indexOf(t)>-1){var o=i===MN;o||Kr.warn("WARNING: "+t+" is protected and dispatching on it can have unintended consequences")}var a={channel:t,payload:Ao({},r),source:n,patternInfo:[]};try{this._toListeners(a)}catch(s){Kr.error(s)}},e.prototype.listen=function(t,r,n){var i=this;n===void 0&&(n="noname");var o;if(LN(r))Kr.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=r.onHubCapsule.bind(r);else{if(typeof r!="function")throw new Error("No callback supplied to Hub");o=r}if(t instanceof RegExp)this.patterns.push({pattern:t,callback:o});else{var a=this.listeners[t];a||(a=[],this.listeners[t]=a),a.push({name:n,callback:o})}return function(){i.remove(t,o)}},e.prototype._toListeners=function(t){var r=t.channel,n=t.payload,i=this.listeners[r];if(i&&i.forEach(function(a){Kr.debug("Dispatching to "+r+" with ",n);try{a.callback(t)}catch(s){Kr.error(s)}}),this.patterns.length>0){if(!n.message){Kr.warn("Cannot perform pattern matching without a message key");return}var o=n.message;this.patterns.forEach(function(a){var s=o.match(a.pattern);if(s){var c=fC(s),u=c.slice(1),f=Ao(Ao({},t),{patternInfo:u});try{a.callback(f)}catch(l){Kr.error(l)}}})}},e}(),rn=new UN("__default__"),BN=new Se("I18n"),Xv=function(){function e(t){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},t),this._lang=this._options.language,!this._lang&&typeof window!="undefined"&&window&&window.navigator&&(this._lang=window.navigator.language),BN.debug(this._lang)}return e.prototype.setLanguage=function(t){this._lang=t},e.prototype.get=function(t,r){if(r===void 0&&(r=void 0),!this._lang)return typeof r!="undefined"?r:t;var n=this._lang,i=this.getByLanguage(t,n);return i||(n.indexOf("-")>0&&(i=this.getByLanguage(t,n.split("-")[0])),i)?i:typeof r!="undefined"?r:t},e.prototype.getByLanguage=function(t,r,n){if(n===void 0&&(n=null),!r)return n;var i=this._dict[r];return i?i[t]:n},e.prototype.putVocabulariesForLanguage=function(t,r){var n=this._dict[t];n||(n=this._dict[t]={}),Object.assign(n,r)},e.prototype.putVocabularies=function(t){var r=this;Object.keys(t).map(function(n){r.putVocabulariesForLanguage(n,t[n])})},e}(),Qv=new Se("I18n"),wi=null,an=null,FN=function(){function e(){}return e.configure=function(t){return Qv.debug("configure I18n"),t&&(wi=Object.assign({},wi,t.I18n||t),e.createInstance()),wi},e.getModuleName=function(){return"I18n"},e.createInstance=function(){Qv.debug("create I18n instance"),!an&&(an=new Xv(wi))},e.setLanguage=function(t){return e.checkConfig(),an.setLanguage(t)},e.get=function(t,r){return e.checkConfig()?an.get(t,r):typeof r=="undefined"?t:r},e.putVocabulariesForLanguage=function(t,r){return e.checkConfig(),an.putVocabulariesForLanguage(t,r)},e.putVocabularies=function(t){return e.checkConfig(),an.putVocabularies(t)},e.checkConfig=function(){return an||(an=new Xv(wi)),!0},e}();st.register(FN);var jN=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],$N=function(e){return e===void 0&&(e={}),Object.keys(e).length===0},zN=function(e,t,r){if(!e||!e.sort)return!1;var n=r&&r==="desc"?-1:1;return e.sort(function(i,o){var a=i[t],s=o[t];return typeof s=="undefined"?typeof a=="undefined"?0:1*n:typeof a=="undefined"||a<s?-1*n:a>s?1*n:0}),!0},qN=function(e,t){var r=Object.assign({},e);return t&&(typeof t=="string"?delete r[t]:t.forEach(function(n){delete r[n]})),r},KN=function(e,t){t===void 0&&(t="application/octet-stream");var r=e.toLowerCase(),n=jN.filter(function(i){return r.endsWith("."+i.ext)});return n.length>0?n[0].type:t},HN=function(e){var t=e.toLowerCase();return t.startsWith("text/")?!0:t==="application/json"||t==="application/xml"||t==="application/sh"},GN=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=32;r>0;r-=1)e+=t[Math.floor(Math.random()*t.length)];return e},lC=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(o){return n=!0,t=!1,o},function(o){throw r=!0,t=!1,o});return i.isFullfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i},VN=function(){if(typeof self=="undefined")return!1;var e=self;return typeof e.WorkerGlobalScope!="undefined"&&self instanceof e.WorkerGlobalScope},Nn=function(){var e=typeof window!="undefined"&&typeof window.document!="undefined",t=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:t}},dC=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=[]),!Th(e))return e;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t.includes(i)?i:i[0].toLowerCase()+i.slice(1);n[o]=r.includes(i)?e[i]:dC(e[i],t,r)}return n},hC=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=[]),!Th(e))return e;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t.includes(i)?i:i[0].toUpperCase()+i.slice(1);n[o]=r.includes(i)?e[i]:hC(e[i],t,r)}return n},Th=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},Js=function(){function e(){}return e.isEmpty=$N,e.sortByField=zN,e.objectLessAttributes=qN,e.filenameToContentType=KN,e.isTextFile=HN,e.generateRandomString=GN,e.makeQuerablePromise=lC,e.isWebWorker=VN,e.browserOrNode=Nn,e.transferKeyToLowerCase=dC,e.transferKeyToUpperCase=hC,e.isStrictObject=Th,e}(),Ih={},P={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V;(function(F){var ee=typeof $e=="object"?$e:typeof self=="object"?self:typeof this=="object"?this:{};F(R(ee,R(e.exports)));function R(L,A){return L!==ee&&(typeof Object.create=="function"?Object.defineProperty(L,"__esModule",{value:!0}):L.__esModule=!0),function(y,_){return L[y]=A?A(y,_):_}}})(function(F){var ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,L){R.__proto__=L}||function(R,L){for(var A in L)L.hasOwnProperty(A)&&(R[A]=L[A])};t=function(R,L){ee(R,L);function A(){this.constructor=R}R.prototype=L===null?Object.create(L):(A.prototype=L.prototype,new A)},r=Object.assign||function(R){for(var L,A=1,y=arguments.length;A<y;A++){L=arguments[A];for(var _ in L)Object.prototype.hasOwnProperty.call(L,_)&&(R[_]=L[_])}return R},n=function(R,L){var A={};for(var y in R)Object.prototype.hasOwnProperty.call(R,y)&&L.indexOf(y)<0&&(A[y]=R[y]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,y=Object.getOwnPropertySymbols(R);_<y.length;_++)L.indexOf(y[_])<0&&Object.prototype.propertyIsEnumerable.call(R,y[_])&&(A[y[_]]=R[y[_]]);return A},i=function(R,L,A,y){var _=arguments.length,C=_<3?L:y===null?y=Object.getOwnPropertyDescriptor(L,A):y,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(R,L,A,y);else for(var z=R.length-1;z>=0;z--)(D=R[z])&&(C=(_<3?D(C):_>3?D(L,A,C):D(L,A))||C);return _>3&&C&&Object.defineProperty(L,A,C),C},o=function(R,L){return function(A,y){L(A,y,R)}},a=function(R,L){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,L)},s=function(R,L,A,y){function _(C){return C instanceof A?C:new A(function(D){D(C)})}return new(A||(A=Promise))(function(C,D){function z(H){try{q(y.next(H))}catch(U){D(U)}}function $(H){try{q(y.throw(H))}catch(U){D(U)}}function q(H){H.done?C(H.value):_(H.value).then(z,$)}q((y=y.apply(R,L||[])).next())})},c=function(R,L){var A={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},y,_,C,D;return D={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function z(q){return function(H){return $([q,H])}}function $(q){if(y)throw new TypeError("Generator is already executing.");for(;A;)try{if(y=1,_&&(C=q[0]&2?_.return:q[0]?_.throw||((C=_.return)&&C.call(_),0):_.next)&&!(C=C.call(_,q[1])).done)return C;switch(_=0,C&&(q=[q[0]&2,C.value]),q[0]){case 0:case 1:C=q;break;case 4:return A.label++,{value:q[1],done:!1};case 5:A.label++,_=q[1],q=[0];continue;case 7:q=A.ops.pop(),A.trys.pop();continue;default:if(C=A.trys,!(C=C.length>0&&C[C.length-1])&&(q[0]===6||q[0]===2)){A=0;continue}if(q[0]===3&&(!C||q[1]>C[0]&&q[1]<C[3])){A.label=q[1];break}if(q[0]===6&&A.label<C[1]){A.label=C[1],C=q;break}if(C&&A.label<C[2]){A.label=C[2],A.ops.push(q);break}C[2]&&A.ops.pop(),A.trys.pop();continue}q=L.call(R,A)}catch(H){q=[6,H],_=0}finally{y=C=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},V=function(R,L,A,y){y===void 0&&(y=A),R[y]=L[A]},u=function(R,L){for(var A in R)A!=="default"&&!L.hasOwnProperty(A)&&(L[A]=R[A])},f=function(R){var L=typeof Symbol=="function"&&Symbol.iterator,A=L&&R[L],y=0;if(A)return A.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&y>=R.length&&(R=void 0),{value:R&&R[y++],done:!R}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(R,L){var A=typeof Symbol=="function"&&R[Symbol.iterator];if(!A)return R;var y=A.call(R),_,C=[],D;try{for(;(L===void 0||L-- >0)&&!(_=y.next()).done;)C.push(_.value)}catch(z){D={error:z}}finally{try{_&&!_.done&&(A=y.return)&&A.call(y)}finally{if(D)throw D.error}}return C},d=function(){for(var R=[],L=0;L<arguments.length;L++)R=R.concat(l(arguments[L]));return R},h=function(){for(var R=0,L=0,A=arguments.length;L<A;L++)R+=arguments[L].length;for(var y=Array(R),_=0,L=0;L<A;L++)for(var C=arguments[L],D=0,z=C.length;D<z;D++,_++)y[_]=C[D];return y},p=function(R){return this instanceof p?(this.v=R,this):new p(R)},g=function(R,L,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y=A.apply(R,L||[]),_,C=[];return _={},D("next"),D("throw"),D("return"),_[Symbol.asyncIterator]=function(){return this},_;function D(W){y[W]&&(_[W]=function(Q){return new Promise(function(M,ce){C.push([W,Q,M,ce])>1||z(W,Q)})})}function z(W,Q){try{$(y[W](Q))}catch(M){U(C[0][3],M)}}function $(W){W.value instanceof p?Promise.resolve(W.value.v).then(q,H):U(C[0][2],W)}function q(W){z("next",W)}function H(W){z("throw",W)}function U(W,Q){W(Q),C.shift(),C.length&&z(C[0][0],C[0][1])}},b=function(R){var L,A;return L={},y("next"),y("throw",function(_){throw _}),y("return"),L[Symbol.iterator]=function(){return this},L;function y(_,C){L[_]=R[_]?function(D){return(A=!A)?{value:p(R[_](D)),done:_==="return"}:C?C(D):D}:C}},E=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=R[Symbol.asyncIterator],A;return L?L.call(R):(R=typeof f=="function"?f(R):R[Symbol.iterator](),A={},y("next"),y("throw"),y("return"),A[Symbol.asyncIterator]=function(){return this},A);function y(C){A[C]=R[C]&&function(D){return new Promise(function(z,$){D=R[C](D),_(z,$,D.done,D.value)})}}function _(C,D,z,$){Promise.resolve($).then(function(q){C({value:q,done:z})},D)}},S=function(R,L){return Object.defineProperty?Object.defineProperty(R,"raw",{value:L}):R.raw=L,R},T=function(R){if(R&&R.__esModule)return R;var L={};if(R!=null)for(var A in R)Object.hasOwnProperty.call(R,A)&&(L[A]=R[A]);return L.default=R,L},N=function(R){return R&&R.__esModule?R:{default:R}},k=function(R,L){if(!L.has(R))throw new TypeError("attempted to get private field on non-instance");return L.get(R)},B=function(R,L,A){if(!L.has(R))throw new TypeError("attempted to set private field on non-instance");return L.set(R,A),A},F("__extends",t),F("__assign",r),F("__rest",n),F("__decorate",i),F("__param",o),F("__metadata",a),F("__awaiter",s),F("__generator",c),F("__exportStar",u),F("__createBinding",V),F("__values",f),F("__read",l),F("__spread",d),F("__spreadArrays",h),F("__await",p),F("__asyncGenerator",g),F("__asyncDelegator",b),F("__asyncValues",E),F("__makeTemplateObject",S),F("__importStar",T),F("__importDefault",N),F("__classPrivateFieldGet",k),F("__classPrivateFieldSet",B)})})(P);var Oh={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.BLOCK_SIZE=64;Dn.DIGEST_LENGTH=32;Dn.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Dn.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Dn.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});var er=Dn,WN=function(){function e(){this.state=Int32Array.from(er.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>er.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===er.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%er.BLOCK_SIZE>=er.BLOCK_SIZE-8){for(var i=this.bufferLength;i<er.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<er.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(er.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(er.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(er.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],f=n[6],l=n[7],d=0;d<er.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(r[d*4]&255)<<24|(r[d*4+1]&255)<<16|(r[d*4+2]&255)<<8|r[d*4+3]&255;else{var h=this.temp[d-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[d-15];var g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(g+this.temp[d-16]|0)}var b=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&f)|0)+(l+(er.KEY[d]+this.temp[d]|0)|0)|0,E=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&a^o&a)|0;l=f,f=u,u=c,c=s+b|0,s=a,a=o,o=i,i=b+E|0}n[0]+=i,n[1]+=o,n[2]+=a,n[3]+=s,n[4]+=c,n[5]+=u,n[6]+=f,n[7]+=l},e}();Ph.RawSha256=WN;var JN=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},YN=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var a=[i,e[++r],e[++r],e[++r]],s="%"+a.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function XN(e){return new TextEncoder().encode(e)}function QN(e){return new TextDecoder("utf-8").decode(e)}var ZN=function(e){return typeof TextEncoder=="function"?XN(e):JN(e)},e2=function(e){return typeof TextDecoder=="function"?QN(e):YN(e)},t2=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:ZN,toUtf8:e2},Symbol.toStringTag,{value:"Module"})),r2=aa(t2);Object.defineProperty(Oh,"__esModule",{value:!0});var Zv=P.exports,Ys=Dn,sl=Ph,n2=r2,i2=function(){function e(t){if(this.hash=new sl.RawSha256,t){this.outer=new sl.RawSha256;var r=o2(t),n=new Uint8Array(Ys.BLOCK_SIZE);n.set(r);for(var i=0;i<Ys.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!(a2(t)||this.error))try{this.hash.update(pC(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Zv.__awaiter(this,void 0,void 0,function(){return Zv.__generator(this,function(t){return[2,this.digestSync()]})})},e}();Oh.Sha256=i2;function o2(e){var t=pC(e);if(t.byteLength>Ys.BLOCK_SIZE){var r=new sl.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Ys.BLOCK_SIZE);return n.set(t),n}function a2(e){return typeof e=="string"?e.length===0:e.byteLength===0}function pC(e){return typeof e=="string"?n2.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=P.exports;t.__exportStar(Oh,e)})(Ih);var vC={},ul={};for(var co=0;co<256;co++){var fo=co.toString(16).toLowerCase();fo.length===1&&(fo="0"+fo),vC[co]=fo,ul[fo]=co}function s2(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=e.substr(r,2).toLowerCase();if(n in ul)t[r/2]=ul[n];else throw new Error("Cannot decode unrecognized sequence "+n+" as hexadecimal")}return t}function Ye(e){for(var t="",r=0;r<e.byteLength;r++)t+=vC[e[r]];return t}var cl={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof $e=="object"&&$e;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,c=36,u=1,f=26,l=38,d=700,h=72,p=128,g="-",b=/^xn--/,E=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=c-u,k=Math.floor,B=String.fromCharCode,V;function F(H){throw RangeError(T[H])}function ee(H,U){for(var W=H.length,Q=[];W--;)Q[W]=U(H[W]);return Q}function R(H,U){var W=H.split("@"),Q="";W.length>1&&(Q=W[0]+"@",H=W[1]),H=H.replace(S,".");var M=H.split("."),ce=ee(M,U).join(".");return Q+ce}function L(H){for(var U=[],W=0,Q=H.length,M,ce;W<Q;)M=H.charCodeAt(W++),M>=55296&&M<=56319&&W<Q?(ce=H.charCodeAt(W++),(ce&64512)==56320?U.push(((M&1023)<<10)+(ce&1023)+65536):(U.push(M),W--)):U.push(M);return U}function A(H){return ee(H,function(U){var W="";return U>65535&&(U-=65536,W+=B(U>>>10&1023|55296),U=56320|U&1023),W+=B(U),W}).join("")}function y(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:c}function _(H,U){return H+22+75*(H<26)-((U!=0)<<5)}function C(H,U,W){var Q=0;for(H=W?k(H/d):H>>1,H+=k(H/U);H>N*f>>1;Q+=c)H=k(H/N);return k(Q+(N+1)*H/(H+l))}function D(H){var U=[],W=H.length,Q,M=0,ce=p,ae=h,ye,de,Oe,xt,Le,Ve,wt,Lt,Zt;for(ye=H.lastIndexOf(g),ye<0&&(ye=0),de=0;de<ye;++de)H.charCodeAt(de)>=128&&F("not-basic"),U.push(H.charCodeAt(de));for(Oe=ye>0?ye+1:0;Oe<W;){for(xt=M,Le=1,Ve=c;Oe>=W&&F("invalid-input"),wt=y(H.charCodeAt(Oe++)),(wt>=c||wt>k((s-M)/Le))&&F("overflow"),M+=wt*Le,Lt=Ve<=ae?u:Ve>=ae+f?f:Ve-ae,!(wt<Lt);Ve+=c)Zt=c-Lt,Le>k(s/Zt)&&F("overflow"),Le*=Zt;Q=U.length+1,ae=C(M-xt,Q,xt==0),k(M/Q)>s-ce&&F("overflow"),ce+=k(M/Q),M%=Q,U.splice(M++,0,ce)}return A(U)}function z(H){var U,W,Q,M,ce,ae,ye,de,Oe,xt,Le,Ve=[],wt,Lt,Zt,kr;for(H=L(H),wt=H.length,U=p,W=0,ce=h,ae=0;ae<wt;++ae)Le=H[ae],Le<128&&Ve.push(B(Le));for(Q=M=Ve.length,M&&Ve.push(g);Q<wt;){for(ye=s,ae=0;ae<wt;++ae)Le=H[ae],Le>=U&&Le<ye&&(ye=Le);for(Lt=Q+1,ye-U>k((s-W)/Lt)&&F("overflow"),W+=(ye-U)*Lt,U=ye,ae=0;ae<wt;++ae)if(Le=H[ae],Le<U&&++W>s&&F("overflow"),Le==U){for(de=W,Oe=c;xt=Oe<=ce?u:Oe>=ce+f?f:Oe-ce,!(de<xt);Oe+=c)kr=de-xt,Zt=c-xt,Ve.push(B(_(xt+kr%Zt,0))),de=k(kr/Zt);Ve.push(B(_(de,0))),ce=C(W,Lt,Q==M),W=0,++Q}++W,++U}return Ve.join("")}function $(H){return R(H,function(U){return b.test(U)?D(U.slice(4).toLowerCase()):U})}function q(H){return R(H,function(U){return E.test(U)?"xn--"+z(U):U})}if(a={version:"1.3.2",ucs2:{decode:L,encode:A},decode:D,encode:z,toASCII:q,toUnicode:$},n&&i)if(e.exports==n)i.exports=a;else for(V in a)a.hasOwnProperty(V)&&(n[V]=a[V]);else r.punycode=a})($e)})(cl,cl.exports);var u2={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},jo={};function c2(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var f2=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var u=e[c].replace(o,"%20"),f=u.indexOf(r),l,d,h,p;f>=0?(l=u.substr(0,f),d=u.substr(f+1)):(l=u,d=""),h=decodeURIComponent(l),p=decodeURIComponent(d),c2(i,h)?Array.isArray(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i},lo=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},l2=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(lo(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(lo(a))}).join(t):o+encodeURIComponent(lo(e[i]))}).join(t):n?encodeURIComponent(lo(n))+r+encodeURIComponent(lo(e)):""};jo.decode=jo.parse=f2;jo.encode=jo.stringify=l2;var d2=cl.exports,Lr=u2,kt=kh,ys=_2;function Sr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var h2=/^([a-z0-9.+-]+:)/i,p2=/:[0-9]*$/,v2=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g2=["<",">",'"',"`"," ","\r",`
`,"	"],y2=["{","}","|","\\","^","`"].concat(g2),fl=["'"].concat(y2),eg=["%","/","?",";","#"].concat(fl),tg=["/","?","#"],m2=255,rg=/^[+a-z0-9A-Z_-]{0,63}$/,w2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b2={javascript:!0,"javascript:":!0},ll={javascript:!0,"javascript:":!0},$i={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},dl=jo;function kh(e,t,r){if(e&&Lr.isObject(e)&&e instanceof Sr)return e;var n=new Sr;return n.parse(e,t,r),n}Sr.prototype.parse=function(e,t,r){if(!Lr.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var c=v2.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=dl.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=h2.exec(s);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=s.substr(0,2)==="//";l&&!(u&&ll[u])&&(s=s.substr(2),this.slashes=!0)}if(!ll[u]&&(l||u&&!$i[u])){for(var d=-1,h=0;h<tg.length;h++){var p=s.indexOf(tg[h]);p!==-1&&(d===-1||p<d)&&(d=p)}var g,b;d===-1?b=s.lastIndexOf("@"):b=s.lastIndexOf("@",d),b!==-1&&(g=s.slice(0,b),s=s.slice(b+1),this.auth=decodeURIComponent(g)),d=-1;for(var h=0;h<eg.length;h++){var p=s.indexOf(eg[h]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var S=this.hostname.split(/\./),h=0,T=S.length;h<T;h++){var N=S[h];if(!!N&&!N.match(rg)){for(var k="",B=0,V=N.length;B<V;B++)N.charCodeAt(B)>127?k+="x":k+=N[B];if(!k.match(rg)){var F=S.slice(0,h),ee=S.slice(h+1),R=N.match(w2);R&&(F.push(R[1]),ee.unshift(R[2])),ee.length&&(s="/"+ee.join(".")+s),this.hostname=F.join(".");break}}}this.hostname.length>m2?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=d2.toASCII(this.hostname));var L=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+L,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!b2[f])for(var h=0,T=fl.length;h<T;h++){var y=fl[h];if(s.indexOf(y)!==-1){var _=encodeURIComponent(y);_===y&&(_=escape(y)),s=s.split(y).join(_)}}var C=s.indexOf("#");C!==-1&&(this.hash=s.substr(C),s=s.slice(0,C));var D=s.indexOf("?");if(D!==-1?(this.search=s.substr(D),this.query=s.substr(D+1),t&&(this.query=dl.parse(this.query)),s=s.slice(0,D)):t&&(this.search="",this.query={}),s&&(this.pathname=s),$i[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",z=this.search||"";this.path=L+z}return this.href=this.format(),this};function _2(e){return Lr.isString(e)&&(e=kh(e)),e instanceof Sr?e.format():Sr.prototype.format.call(e)}Sr.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Lr.isObject(this.query)&&Object.keys(this.query).length&&(o=dl.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||$i[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+r+a+n};Sr.prototype.resolve=function(e){return this.resolveObject(kh(e,!1,!0)).format()};Sr.prototype.resolveObject=function(e){if(Lr.isString(e)){var t=new Sr;t.parse(e,!1,!0),e=t}for(var r=new Sr,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var c=a[s];c!=="protocol"&&(r[c]=e[c])}return $i[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!$i[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var l=u[f];r[l]=e[l]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!ll[e.protocol]){for(var T=(e.pathname||"").split("/");T.length&&!(e.host=T.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),r.pathname=T.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",h=r.search||"";r.path=d+h}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",b=g||p||r.host&&e.pathname,E=b,S=r.pathname&&r.pathname.split("/")||[],T=e.pathname&&e.pathname.split("/")||[],N=r.protocol&&!$i[r.protocol];if(N&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(T[0]===""?T[0]=e.host:T.unshift(e.host)),e.host=null),b=b&&(T[0]===""||S[0]==="")),g)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=T;else if(T.length)S||(S=[]),S.pop(),S=S.concat(T),r.search=e.search,r.query=e.query;else if(!Lr.isNullOrUndefined(e.search)){if(N){r.hostname=r.host=S.shift();var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return r.search=e.search,r.query=e.query,(!Lr.isNull(r.pathname)||!Lr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var B=S.slice(-1)[0],V=(r.host||e.host||S.length>1)&&(B==="."||B==="..")||B==="",F=0,ee=S.length;ee>=0;ee--)B=S[ee],B==="."?S.splice(ee,1):B===".."?(S.splice(ee,1),F++):F&&(S.splice(ee,1),F--);if(!b&&!E)for(;F--;F)S.unshift("..");b&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),V&&S.join("/").substr(-1)!=="/"&&S.push("");var R=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(N){r.hostname=r.host=R?"":S.length?S.shift():"";var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;k&&(r.auth=k.shift(),r.host=r.hostname=k.shift())}return b=b||r.host&&S.length,b&&!R&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(!Lr.isNull(r.pathname)||!Lr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Sr.prototype.parseHost=function(){var e=this.host,t=p2.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var S2=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),E2=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},C2=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},A2=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},x2=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(A2(arguments[t]));return e},Ia=new Se("Util"),Sn=function(e){S2(t,e);function t(r){var n=e.call(this,r)||this;return n.nonRetryable=!0,n}return t}(Error),T2=function(e){var t="nonRetryable";return e&&e[t]};function gC(e,t,r,n){return n===void 0&&(n=1),E2(this,void 0,void 0,function(){var i,o;return C2(this,function(a){switch(a.label){case 0:if(typeof e!="function")throw Error("functionToRetry must be a function");Ia.debug(e.name+" attempt #"+n+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,x2(t))];case 2:return[2,a.sent()];case 3:if(i=a.sent(),Ia.debug("error on "+e.name,i),T2(i))throw Ia.debug(e.name+" non retryable error",i),i;return o=r(n,t,i),Ia.debug(e.name+" retrying in "+o+" ms"),o===!1?[3,6]:[4,new Promise(function(s){return setTimeout(s,o)})];case 4:return a.sent(),[4,gC(e,t,r,n+1)];case 5:return[2,a.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}})})}var yC=5*60*1e3;function I2(e){e===void 0&&(e=yC);var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var mC=function(e,t,r){return r===void 0&&(r=yC),gC(e,t,I2(r))},Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.Observable=void 0;function Rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ng(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nh(e,t,r){return t&&ng(e.prototype,t),r&&ng(e,r),e}var Dh=function(){return typeof Symbol=="function"},Mh=function(e){return Dh()&&Boolean(Symbol[e])},Lh=function(e){return Mh(e)?Symbol[e]:"@@"+e};Dh()&&!Mh("observable")&&(Symbol.observable=Symbol("observable"));var O2=Lh("iterator"),hl=Lh("observable"),wC=Lh("species");function Xs(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function ho(e){var t=e.constructor;return t!==void 0&&(t=t[wC],t===null&&(t=void 0)),t!==void 0?t:Mu}function P2(e){return e instanceof Mu}function Vi(e){Vi.log?Vi.log(e):setTimeout(function(){throw e})}function ms(e){Promise.resolve().then(function(){try{e()}catch(t){Vi(t)}})}function bC(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var r=Xs(t,"unsubscribe");r&&r.call(t)}}catch(n){Vi(n)}}function pl(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function k2(e){var t=e._queue;if(!!t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(_C(e,t[r].type,t[r].value),e._state!=="closed");++r);}}function _C(e,t,r){e._state="running";var n=e._observer;try{var i=Xs(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(pl(e),i)i.call(n,r);else throw r;break;case"complete":pl(e),i&&i.call(n);break}}catch(o){Vi(o)}e._state==="closed"?bC(e):e._state==="running"&&(e._state="ready")}function Pc(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],ms(function(){return k2(e)});return}_C(e,t,r)}}var R2=function(){function e(t,r){Rh(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var n=new N2(this);try{this._cleanup=r.call(void 0,n)}catch(i){n.error(i)}this._state==="initializing"&&(this._state="ready")}return Nh(e,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(pl(this),bC(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),e}(),N2=function(){function e(t){Rh(this,e),this._subscription=t}return Nh(e,[{key:"next",value:function(r){Pc(this._subscription,"next",r)}},{key:"error",value:function(r){Pc(this._subscription,"error",r)}},{key:"complete",value:function(){Pc(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),Mu=function(){function e(t){if(Rh(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}return Nh(e,[{key:"subscribe",value:function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new R2(r,this._subscriber)}},{key:"forEach",value:function(r){var n=this;return new Promise(function(i,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function a(){s.unsubscribe(),i()}var s=n.subscribe({next:function(c){try{r(c,a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i})})}},{key:"map",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=ho(this);return new i(function(o){return n.subscribe({next:function(a){try{a=r(a)}catch(s){return o.error(s)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})}},{key:"filter",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=ho(this);return new i(function(o){return n.subscribe({next:function(a){try{if(!r(a))return}catch(s){return o.error(s)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})}},{key:"reduce",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=ho(this),o=arguments.length>1,a=!1,s=arguments[1],c=s;return new i(function(u){return n.subscribe({next:function(f){var l=!a;if(a=!0,!l||o)try{c=r(c,f)}catch(d){return u.error(d)}else c=f},error:function(f){u.error(f)},complete:function(){if(!a&&!o)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})}},{key:"concat",value:function(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=ho(this);return new a(function(s){var c,u=0;function f(l){c=l.subscribe({next:function(d){s.next(d)},error:function(d){s.error(d)},complete:function(){u===i.length?(c=void 0,s.complete()):f(a.from(i[u++]))}})}return f(r),function(){c&&(c.unsubscribe(),c=void 0)}})}},{key:"flatMap",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=ho(this);return new i(function(o){var a=[],s=n.subscribe({next:function(u){if(r)try{u=r(u)}catch(l){return o.error(l)}var f=i.from(u).subscribe({next:function(l){o.next(l)},error:function(l){o.error(l)},complete:function(){var l=a.indexOf(f);l>=0&&a.splice(l,1),c()}});a.push(f)},error:function(u){o.error(u)},complete:function(){c()}});function c(){s.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(u){return u.unsubscribe()}),s.unsubscribe()}})}},{key:hl,value:function(){return this}}],[{key:"from",value:function(r){var n=typeof this=="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var i=Xs(r,hl);if(i){var o=i.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return P2(o)&&o.constructor===n?o:new n(function(a){return o.subscribe(a)})}if(Mh("iterator")&&(i=Xs(r,O2),i))return new n(function(a){ms(function(){if(!a.closed){var s=!0,c=!1,u=void 0;try{for(var f=i.call(r)[Symbol.iterator](),l;!(s=(l=f.next()).done);s=!0){var d=l.value;if(a.next(d),a.closed)return}}catch(h){c=!0,u=h}finally{try{!s&&f.return!=null&&f.return()}finally{if(c)throw u}}a.complete()}})});if(Array.isArray(r))return new n(function(a){ms(function(){if(!a.closed){for(var s=0;s<r.length;++s)if(a.next(r[s]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=typeof this=="function"?this:e;return new o(function(a){ms(function(){if(!a.closed){for(var s=0;s<n.length;++s)if(a.next(n[s]),a.closed)return;a.complete()}})})}},{key:wC,get:function(){return this}}]),e}();Du.Observable=Mu;Dh()&&Object.defineProperty(Mu,Symbol("extensions"),{value:{symbol:hl,hostReportError:Vi},configurable:!0});var D2=Du.Observable,M2=D2,$o=M2,L2=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},U2=1e3*60*5,sr={clockOffset:0,getDateWithClockOffset:function(){return sr.clockOffset?new Date(new Date().getTime()+sr.clockOffset):new Date},getClockOffset:function(){return sr.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=sr.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=L2(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6];return new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(o),Number(a),Number(s)))},isClockSkewed:function(e){return Math.abs(e.getTime()-sr.getDateWithClockOffset().getTime())>=U2},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){sr.clockOffset=e}};function B2(e){return e.split("").map(function(t){return t.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function F2(e){return e.match(/.{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join("")}var zt=globalThis&&globalThis.__assign||function(){return zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zt.apply(this,arguments)},j2=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},SC=new Se("Signer"),Oa="AWS4-HMAC-SHA256",$2="iotdevicegateway",bo=function(e,t){var r=new Ih.Sha256(e);return r.update(t),r.digestSync()},EC=function(e){var t=e||"",r=new Ih.Sha256;return r.update(t),Ye(r.digestSync())},z2=function(e){return e.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},q2=function(e){return!e||e.length===0?"":e.split("&").map(function(t){var r=t.split("=");if(r.length===1)return t;var n=z2(r[1]);return r[0]+"="+n}).sort(function(t,r){var n=t.split("=")[0],i=r.split("=")[0];return n===i?t<r?-1:1:n<i?-1:1}).join("&")},K2=function(e){return!e||Object.keys(e).length===0?"":Object.keys(e).map(function(t){return{key:t.toLowerCase(),value:e[t]?e[t].trim().replace(/\s+/g," "):""}}).sort(function(t,r){return t.key<r.key?-1:1}).map(function(t){return t.key+":"+t.value}).join(`
`)+`
`},CC=function(e){return Object.keys(e).map(function(t){return t.toLowerCase()}).sort().join(";")},ig=function(e){var t=kt(e.url);return[e.method||"/",encodeURIComponent(t.pathname).replace(/%2F/gi,"/"),q2(t.query),K2(e.headers),CC(e.headers),EC(e.data)].join(`
`)},og=function(e){var t=kt(e.url),r=t.host,n=r.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),i=(n||[]).slice(1,3);return i[1]==="es"&&(i=i.reverse()),{service:e.service||i[0],region:e.region||i[1]}},ag=function(e,t,r){return[e,t,r,"aws4_request"].join("/")},sg=function(e,t,r,n){return[e,r,n,EC(t)].join(`
`)},ug=function(e,t,r){SC.debug(r);var n="AWS4"+e,i=bo(n,t),o=bo(i,r.region),a=bo(o,r.service),s=bo(a,"aws4_request");return s},cg=function(e,t){return Ye(bo(e,t))},H2=function(e,t,r,n,i){return[e+" Credential="+t+"/"+r,"SignedHeaders="+n,"Signature="+i].join(", ")},AC=function(){function e(){}return e.sign=function(t,r,n){n===void 0&&(n=null),t.headers=t.headers||{};var i=sr.getDateWithClockOffset(),o=i.toISOString().replace(/[:\-]|\.\d{3}/g,""),a=o.substr(0,8),s=kt(t.url);t.headers.host=s.host,t.headers["x-amz-date"]=o,r.session_token&&(t.headers["X-Amz-Security-Token"]=r.session_token);var c=ig(t);SC.debug(c);var u=n||og(t),f=ag(a,u.region,u.service),l=sg(Oa,c,o,f),d=ug(r.secret_key,a,u),h=cg(d,l),p=H2(Oa,r.access_key,f,CC(t.headers),h);return t.headers.Authorization=p,t},e.signUrl=function(t,r,n,i){var o=typeof t=="object"?t.url:t,a=typeof t=="object"?t.method:"GET",s=typeof t=="object"?t.body:void 0,c=sr.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=c.substr(0,8),f=kt(o,!0,!0);f.search;var l=j2(f,["search"]),d=l.host,h={host:d},p=n||og({url:ys(l)}),g=p.region,b=p.service,E=ag(u,g,b),S=r.session_token&&b!==$2,T=zt(zt(zt({"X-Amz-Algorithm":Oa,"X-Amz-Credential":[r.access_key,E].join("/"),"X-Amz-Date":c.substr(0,16)},S?{"X-Amz-Security-Token":""+r.session_token}:{}),i?{"X-Amz-Expires":""+i}:{}),{"X-Amz-SignedHeaders":Object.keys(h).join(",")}),N=ig({method:a,url:ys(zt(zt({},l),{query:zt(zt({},l.query),T)})),headers:h,data:s}),k=sg(Oa,N,c,E),B=ug(r.secret_key,u,{region:g,service:b}),V=cg(B,k),F=zt({"X-Amz-Signature":V},r.session_token&&{"X-Amz-Security-Token":r.session_token}),ee=ys({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:zt(zt(zt({},l.query),T),F)});return ee},e}(),Qs=globalThis&&globalThis.__assign||function(){return Qs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qs.apply(this,arguments)},G2=new Se("Parser"),V2=function(e){var t={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};t.Analytics=r}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(t.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable"});var n;return e.aws_user_files_s3_bucket?n={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:n=e?e.Storage||e:{},e.Logging&&(t.Logging=Qs(Qs({},e.Logging),{region:e.aws_project_region})),e.geo&&(t.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(t.Geo={AmazonLocationService:e.geo.amazon_location_service})),t.Analytics=Object.assign({},t.Analytics,e.Analytics),t.Auth=Object.assign({},t.Auth,e.Auth),t.Storage=Object.assign({},n),t.Logging=Object.assign({},t.Logging,e.Logging),G2.debug("parse config",e,"to amplifyconfig",t),t},Uh=function(){function e(){}return e.parseMobilehubConfig=V2,e}(),Bh={},Lu={},ca={},Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.isEmptyData=void 0;function W2(e){return typeof e=="string"?e.length===0:e.byteLength===0}Uu.isEmptyData=W2;var Fh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(Fh);var J2=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Y2=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var a=[i,e[++r],e[++r],e[++r]],s="%"+a.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function X2(e){return new TextEncoder().encode(e)}function Q2(e){return new TextDecoder("utf-8").decode(e)}var Bu=function(e){return typeof TextEncoder=="function"?X2(e):J2(e)},jh=function(e){return typeof TextDecoder=="function"?Q2(e):Y2(e)},Z2=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Bu,toUtf8:jh},Symbol.toStringTag,{value:"Module"})),eD=aa(Z2),tD={};function rD(){return typeof window!="undefined"?window:typeof self!="undefined"?self:tD}var nD=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:rD},Symbol.toStringTag,{value:"Module"})),$h=aa(nD);Object.defineProperty(ca,"__esModule",{value:!0});ca.Sha256=void 0;var iD=Uu,xC=Fh,oD=eD,vl=$h,aD=function(){function e(t){t?(this.operation=sD(t).then(function(r){return(0,vl.locateWindow)().msCrypto.subtle.sign(xC.SHA_256_HMAC_ALGO,r)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,vl.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(t){var r=this;(0,iD.isEmptyData)(t)||(this.operation=this.operation.then(function(n){return n.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(TC(t)),n}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(r,n){t.onerror=function(){n(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&r(new Uint8Array(t.result)),n(new Error("Error encountered finalizing hash"))},t.finish()})})},e}();ca.Sha256=aD;function sD(e){return new Promise(function(t,r){var n=(0,vl.locateWindow)().msCrypto.subtle.importKey("raw",TC(e),xC.SHA_256_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&t(n.result),r(new Error("ImportKey completed without importing key."))},n.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function TC(e){return typeof e=="string"?(0,oD.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var fa={},la={},Fu={},uD=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},cD=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var a=[i,e[++r],e[++r],e[++r]],s="%"+a.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function fD(e){return new TextEncoder().encode(e)}function lD(e){return new TextDecoder("utf-8").decode(e)}var dD=function(e){return typeof TextEncoder=="function"?fD(e):uD(e)},hD=function(e){return typeof TextDecoder=="function"?lD(e):cD(e)},pD=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:dD,toUtf8:hD},Symbol.toStringTag,{value:"Module"})),vD=aa(pD);Object.defineProperty(Fu,"__esModule",{value:!0});Fu.convertToBuffer=void 0;var gD=vD,yD=typeof Buffer!="undefined"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:gD.fromUtf8;function mD(e){return e instanceof Uint8Array?e:typeof e=="string"?yD(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Fu.convertToBuffer=mD;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.isEmptyData=void 0;function wD(e){return typeof e=="string"?e.length===0:e.byteLength===0}ju.isEmptyData=wD;var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.numToUint8=void 0;function bD(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}$u.numToUint8=bD;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.uint32ArrayFrom=void 0;function _D(e){if(!Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r];return t}return Uint32Array.from(e)}zu.uint32ArrayFrom=_D;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Fu;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=ju;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=$u;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=zu;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})})(la);Object.defineProperty(fa,"__esModule",{value:!0});fa.Sha256=void 0;var Pa=la,ka=Fh,kc=$h,SD=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){(0,kc.locateWindow)().crypto.subtle.importKey("raw",(0,Pa.convertToBuffer)(t),ka.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!(0,Pa.isEmptyData)(t)){var r=(0,Pa.convertToBuffer)(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return(0,kc.locateWindow)().crypto.subtle.sign(ka.SHA_256_HMAC_ALGO,r,t.toHash).then(function(n){return new Uint8Array(n)})}):(0,Pa.isEmptyData)(this.toHash)?Promise.resolve(ka.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,kc.locateWindow)().crypto.subtle.digest(ka.SHA_256_HASH,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e}();fa.Sha256=SD;var IC={},qu={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.MAX_HASHABLE_LENGTH=qt.INIT=qt.KEY=qt.DIGEST_LENGTH=qt.BLOCK_SIZE=void 0;qt.BLOCK_SIZE=64;qt.DIGEST_LENGTH=32;qt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);qt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];qt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.RawSha256=void 0;var tr=qt,ED=function(){function e(){this.state=Int32Array.from(tr.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>tr.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===tr.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%tr.BLOCK_SIZE>=tr.BLOCK_SIZE-8){for(var i=this.bufferLength;i<tr.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<tr.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(tr.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(tr.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(tr.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],f=n[6],l=n[7],d=0;d<tr.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(r[d*4]&255)<<24|(r[d*4+1]&255)<<16|(r[d*4+2]&255)<<8|r[d*4+3]&255;else{var h=this.temp[d-2],p=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[d-15];var g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(g+this.temp[d-16]|0)}var b=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&f)|0)+(l+(tr.KEY[d]+this.temp[d]|0)|0)|0,E=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&a^o&a)|0;l=f,f=u,u=c,c=s+b|0,s=a,a=o,o=i,i=b+E|0}n[0]+=i,n[1]+=o,n[2]+=a,n[3]+=s,n[4]+=c,n[5]+=u,n[6]+=f,n[7]+=l},e}();Ku.RawSha256=ED;Object.defineProperty(qu,"__esModule",{value:!0});qu.Sha256=void 0;var fg=P.exports,Zs=qt,gl=Ku,yl=la,CD=function(){function e(t){if(this.hash=new gl.RawSha256,t){this.outer=new gl.RawSha256;var r=AD(t),n=new Uint8Array(Zs.BLOCK_SIZE);n.set(r);for(var i=0;i<Zs.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!((0,yl.isEmptyData)(t)||this.error))try{this.hash.update((0,yl.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,fg.__awaiter)(this,void 0,void 0,function(){return(0,fg.__generator)(this,function(t){return[2,this.digestSync()]})})},e}();qu.Sha256=CD;function AD(e){var t=(0,yl.convertToBuffer)(e);if(t.byteLength>Zs.BLOCK_SIZE){var r=new gl.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Zs.BLOCK_SIZE);return n.set(t),n}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=P.exports;(0,t.__exportStar)(qu,e)})(IC);var OC={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.supportsZeroByteGCM=$r.supportsSubtleCrypto=$r.supportsSecureRandom=$r.supportsWebCrypto=void 0;var lg=P.exports,xD=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function TD(e){if(PC(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return zh(t)}return!1}$r.supportsWebCrypto=TD;function PC(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}$r.supportsSecureRandom=PC;function zh(e){return e&&xD.every(function(t){return typeof e[t]=="function"})}$r.supportsSubtleCrypto=zh;function ID(e){return lg.__awaiter(this,void 0,void 0,function(){var t,r;return lg.__generator(this,function(n){switch(n.label){case 0:if(!zh(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return r=n.sent(),[2,r.byteLength===16];case 4:return n.sent(),[2,!1];case 5:return[2]}})})}$r.supportsZeroByteGCM=ID;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=P.exports;t.__exportStar($r,e)})(OC);var kC={},RC={};Object.defineProperty(RC,"__esModule",{value:!0});var NC={};Object.defineProperty(NC,"__esModule",{value:!0});var DC={};Object.defineProperty(DC,"__esModule",{value:!0});var MC={};Object.defineProperty(MC,"__esModule",{value:!0});var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.isMsWindow=void 0;var OD=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function PD(e){return"MSInputMethodContext"in e&&"msCrypto"in e}function kD(e){if(PD(e)&&e.msCrypto.subtle!==void 0){var t=e.msCrypto,r=t.getRandomValues,n=t.subtle;return OD.map(function(i){return n[i]}).concat(r).every(function(i){return typeof i=="function"})}return!1}Hu.isMsWindow=kD;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=P.exports;t.__exportStar(RC,e),t.__exportStar(NC,e),t.__exportStar(DC,e),t.__exportStar(MC,e),t.__exportStar(Hu,e)})(kC);Object.defineProperty(Lu,"__esModule",{value:!0});Lu.Sha256=void 0;var RD=ca,ND=fa,DD=IC,MD=OC,LD=kC,dg=$h,UD=function(){function e(t){(0,MD.supportsWebCrypto)((0,dg.locateWindow)())?this.hash=new ND.Sha256(t):(0,LD.isMsWindow)((0,dg.locateWindow)())?this.hash=new RD.Sha256(t):this.hash=new DD.Sha256(t)}return e.prototype.update=function(t,r){this.hash.update(t,r)},e.prototype.digest=function(){return this.hash.digest()},e}();Lu.Sha256=UD;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=P.exports;(0,t.__exportStar)(Lu,e);var r=ca;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=fa;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(Bh);var zo=function(){function e(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}return e.isInstance=function(t){if(!t)return!1;var r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}(),Ge=function(){function e(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.substr(-1)!==":"?t.protocol+":":t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?"/"+t.path:t.path:"/"}return e.isInstance=function(t){if(!t)return!1;var r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var t=new e(P.exports.__assign(P.exports.__assign({},this),{headers:P.exports.__assign({},this.headers)}));return t.query&&(t.query=BD(t.query)),t},e}();function BD(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return P.exports.__assign(P.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?P.exports.__spread(i):i,n))},{})}var Rc=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,FD)},FD=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function qh(e){var t,r,n=[];try{for(var i=P.exports.__values(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=Rc(a),Array.isArray(s))for(var c=0,u=s.length;c<u;c++)n.push(a+"="+Rc(s[c]));else{var f=a;(s||typeof s=="string")&&(f+="="+Rc(s)),n.push(f)}}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join("&")}function jD(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var LC=function(){function e(t){var r=t===void 0?{}:t,n=r.requestTimeout;this.requestTimeout=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=r===void 0?{}:r,i=n.abortSignal,o=this.requestTimeout;if(i!=null&&i.aborted){var a=new Error("Request aborted");return a.name="AbortError",Promise.reject(a)}var s=t.path;if(t.query){var c=qh(t.query);c&&(s+="?"+c)}var u=t.port,f=t.method,l=t.protocol+"//"+t.hostname+(u?":"+u:"")+s,d=f==="GET"||f==="HEAD"?void 0:t.body,h={body:d,headers:new Headers(t.headers),method:f};typeof AbortController!="undefined"&&(h.signal=i);var p=new Request(l,h),g=[fetch(p).then(function(b){var E,S,T=b.headers,N={};try{for(var k=P.exports.__values(T.entries()),B=k.next();!B.done;B=k.next()){var V=B.value;N[V[0]]=V[1]}}catch(ee){E={error:ee}}finally{try{B&&!B.done&&(S=k.return)&&S.call(k)}finally{if(E)throw E.error}}var F=b.body!==void 0;return F?{response:new zo({headers:N,statusCode:b.status,body:b.body})}:b.blob().then(function(ee){return{response:new zo({headers:N,statusCode:b.status,body:ee})}})}),jD(o)];return i&&g.push(new Promise(function(b,E){i.onabort=function(){var S=new Error("Request aborted");S.name="AbortError",E(S)}})),Promise.race(g)},e}(),oi={},Zi=new Array(64);for(var ot=0,qo="A".charCodeAt(0),Kh="Z".charCodeAt(0);ot+qo<=Kh;ot++){var Pn=String.fromCharCode(ot+qo);oi[Pn]=ot,Zi[ot]=Pn}for(var ot=0,qo="a".charCodeAt(0),Kh="z".charCodeAt(0);ot+qo<=Kh;ot++){var Pn=String.fromCharCode(ot+qo),Ko=ot+26;oi[Pn]=Ko,Zi[Ko]=Pn}for(var ot=0;ot<10;ot++){oi[ot.toString(10)]=ot+52;var Pn=ot.toString(10),Ko=ot+52;oi[Pn]=Ko,Zi[Ko]=Pn}oi["+"]=62;Zi[62]="+";oi["/"]=63;Zi[63]="/";var zi=6,xo=8,$D=63;function Hh(e){var t=e.length/4*3;e.substr(-2)==="=="?t-=2:e.substr(-1)==="="&&t--;for(var r=new ArrayBuffer(t),n=new DataView(r),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,c=i+3;s<=c;s++)e[s]!=="="?(o|=oi[e[s]]<<(c-s)*zi,a+=zi):o>>=zi;var u=i/4*3;o>>=a%xo;for(var f=Math.floor(a/xo),l=0;l<f;l++){var d=(f-l-1)*xo;n.setUint8(u+l,(o&255<<d)>>d)}}return new Uint8Array(r)}function UC(e){for(var t="",r=0;r<e.length;r+=3){for(var n=0,i=0,o=r,a=Math.min(r+3,e.length);o<a;o++)n|=e[o]<<(a-o-1)*xo,i+=xo;var s=Math.ceil(i/zi);n<<=s*zi-i;for(var c=1;c<=s;c++){var u=(s-c)*zi;t+=Zi[(n&$D<<u)>>u]}t+="==".slice(0,4-s)}return t}var BC=function(e){return typeof Blob=="function"&&e instanceof Blob?zD(e):qD(e)};function zD(e){return P.exports.__awaiter(this,void 0,void 0,function(){var t,r;return P.exports.__generator(this,function(n){switch(n.label){case 0:return[4,KD(e)];case 1:return t=n.sent(),r=Hh(t),[2,new Uint8Array(r)]}})})}function qD(e){return P.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,a,s;return P.exports.__generator(this,function(c){switch(c.label){case 0:t=new Uint8Array(0),r=e.getReader(),n=!1,c.label=1;case 1:return n?[3,3]:[4,r.read()];case 2:return i=c.sent(),o=i.done,a=i.value,a&&(s=t,t=new Uint8Array(s.length+a.length),t.set(s),t.set(a,s.length)),n=o,[3,1];case 3:return[2,t]}})})}function KD(e){return new Promise(function(t,r){var n=new FileReader;n.onloadend=function(){var i;if(n.readyState!==2)return r(new Error("Reader aborted too early"));var o=(i=n.result)!==null&&i!==void 0?i:"",a=o.indexOf(","),s=a>-1?a+1:o.length;t(o.substring(s))},n.onabort=function(){return r(new Error("Read aborted"))},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)})}var FC=function(e){return function(){return Promise.reject(e)}},HD=function(e){return function(t,r){return function(n){return P.exports.__awaiter(void 0,void 0,void 0,function(){var i;return P.exports.__generator(this,function(o){return!((i=e==null?void 0:e.retryStrategy)===null||i===void 0)&&i.mode&&(r.userAgent=P.exports.__spread(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,n)]})})}}},GD={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},jC=function(e){return{applyToStack:function(t){t.add(HD(e),GD)}}},VD=100,WD=20*1e3,JD=500,YD=500,XD=5,QD=10,ZD=1,eM="amz-sdk-invocation-id",tM="amz-sdk-request",rM=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],nM=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],iM=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],oM=[500,502,503,504],aM=function(e){return e.$retryable!==void 0},sM=function(e){return rM.includes(e.name)},$C=function(e){var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||nM.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},uM=function(e){var t;return iM.includes(e.name)||oM.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)},eu={exports:{}},hg=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(hg){var pg=new Uint8Array(16);eu.exports=function(){return hg(pg),pg}}else{var vg=new Array(16);eu.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),vg[t]=r>>>((t&3)<<3)&255;return vg}}var zC=[];for(var Ra=0;Ra<256;++Ra)zC[Ra]=(Ra+256).toString(16).substr(1);function cM(e,t){var r=t||0,n=zC;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var qC=cM,fM=eu.exports,lM=qC,gg,Nc,Dc=0,Mc=0;function dM(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var o=e.node||gg,a=e.clockseq!==void 0?e.clockseq:Nc;if(o==null||a==null){var s=fM();o==null&&(o=gg=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=Nc=(s[6]<<8|s[7])&16383)}var c=e.msecs!==void 0?e.msecs:new Date().getTime(),u=e.nsecs!==void 0?e.nsecs:Mc+1,f=c-Dc+(u-Mc)/1e4;if(f<0&&e.clockseq===void 0&&(a=a+1&16383),(f<0||c>Dc)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Dc=c,Mc=u,Nc=a,c+=122192928e5;var l=((c&268435455)*1e4+u)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var d=c/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var h=0;h<6;++h)i[n+h]=o[h];return t||lM(i)}var hM=dM,pM=eu.exports,vM=qC;function gM(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||pM)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||vM(i)}var yM=gM,mM=hM,KC=yM,Gh=KC;Gh.v1=mM;Gh.v4=KC;var Vh=Gh,wM=function(e){var t=e,r=e,n=function(s){return s.name==="TimeoutError"?QD:XD},i=function(s){return n(s)<=r},o=function(s){if(!i(s))throw new Error("No retry token available");var c=n(s);return r-=c,c},a=function(s){r+=s!=null?s:ZD,r=Math.min(r,t)};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:o,releaseRetryTokens:a})},bM=function(e,t){return Math.floor(Math.min(WD,Math.random()*Math.pow(2,t)*e))},_M=function(e){return e?aM(e)||sM(e)||$C(e)||uM(e):!1},Gu=3,SM="standard",EM=function(){function e(t,r){var n,i,o;this.maxAttemptsProvider=t,this.mode=SM,this.retryDecider=(n=r==null?void 0:r.retryDecider)!==null&&n!==void 0?n:_M,this.delayDecider=(i=r==null?void 0:r.delayDecider)!==null&&i!==void 0?i:bM,this.retryQuota=(o=r==null?void 0:r.retryQuota)!==null&&o!==void 0?o:wM(YD)}return e.prototype.shouldRetry=function(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)},e.prototype.getMaxAttempts=function(){return P.exports.__awaiter(this,void 0,void 0,function(){var t;return P.exports.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t=Gu,[3,3];case 3:return[2,t]}})})},e.prototype.retry=function(t,r){return P.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f;return P.exports.__generator(this,function(l){switch(l.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:a=l.sent(),s=r.request,Ge.isInstance(s)&&(s.headers[eM]=Vh.v4()),c=function(){var d,h,p,g,b;return P.exports.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,5]),Ge.isInstance(s)&&(s.headers[tM]="attempt="+(i+1)+"; max="+a),[4,t(r)];case 1:return d=E.sent(),h=d.response,p=d.output,u.retryQuota.releaseRetryTokens(n),p.$metadata.attempts=i+1,p.$metadata.totalRetryDelay=o,[2,{value:{response:h,output:p}}];case 2:return g=E.sent(),i++,u.shouldRetry(g,i,a)?(n=u.retryQuota.retrieveRetryTokens(g),b=u.delayDecider($C(g)?JD:VD,i),o+=b,[4,new Promise(function(S){return setTimeout(S,b)})]):[3,4];case 3:return E.sent(),[2,"continue"];case 4:throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=i,g.$metadata.totalRetryDelay=o,g;case 5:return[2]}})},u=this,l.label=2;case 2:return[5,c()];case 3:return f=l.sent(),typeof f=="object"?[2,f.value]:[3,2];case 4:return[2]}})})},e}(),HC=function(e){var t=CM(e.maxAttempts);return P.exports.__assign(P.exports.__assign({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new EM(t)})},CM=function(e){if(e===void 0&&(e=Gu),typeof e=="number"){var t=Promise.resolve(e);return function(){return t}}return e};function GC(e){if(typeof e=="string"){for(var t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2)}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}const AM={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},VC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},qe={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},_t={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ln={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class re{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=re.getVersionPrecision(t),o=re.getVersionPrecision(r);let a=Math.max(i,o),s=0;const c=re.map([t,r],u=>{const f=a-re.getVersionPrecision(u),l=u+new Array(f+1).join(".0");return re.map(l.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const o=t[n];if(r(o,n))return o}}static assign(t,...r){const n=t;let i,o;if(Object.assign)return Object.assign(t,...r);for(i=0,o=r.length;i<o;i+=1){const a=r[i];typeof a=="object"&&a!==null&&Object.keys(a).forEach(c=>{n[c]=a[c]})}return t}static getBrowserAlias(t){return AM[t]}static getBrowserTypeByAlias(t){return VC[t]||""}}const ke=/version\/(\d+(\.?_?\d+)+)/i,xM=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=re.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=re.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=re.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=re.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=re.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=re.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=re.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=re.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=re.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=re.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=re.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=re.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=re.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=re.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=re.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=re.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=re.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=re.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=re.getFirstMatch(ke,e)||re.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=re.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=re.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=re.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=re.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=re.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=re.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=re.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=re.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=re.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=re.getFirstMatch(ke,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:re.getFirstMatch(i,e),version:re.getSecondMatch(i,e)}}}];var TM=[{test:[/Roku\/DVP/],describe(e){const t=re.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:_t.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=re.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:_t.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=re.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=re.getWindowsVersionName(t);return{name:_t.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:_t.iOS},r=re.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=re.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=re.getMacOSVersionName(t),n={name:_t.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=re.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:_t.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=re.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=re.getAndroidVersionName(t),n={name:_t.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=re.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:_t.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=re.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||re.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||re.getFirstMatch(/\bbb(\d+)/i,e);return{name:_t.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=re.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:_t.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=re.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:_t.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:_t.Linux}}},{test:[/CrOS/],describe(){return{name:_t.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=re.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:_t.PlayStation4,version:t}}}],IM=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=re.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:qe.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:qe.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:qe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:qe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:qe.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:qe.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:qe.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=re.getFirstMatch(/(ipod|iphone)/i,e);return{type:qe.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:qe.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:qe.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:qe.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:qe.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:qe.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:qe.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:qe.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:qe.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:qe.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:qe.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:qe.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:qe.tv}}}],OM=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:ln.Blink};const r=re.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ln.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:ln.Trident},r=re.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:ln.Presto},r=re.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:ln.Gecko},r=re.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ln.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:ln.WebKit},r=re.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class yg{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=re.find(xM,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=re.find(TM,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=re.find(IM,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=re.find(OM,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return re.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let o=0;if(Object.keys(t).forEach(s=>{const c=t[s];typeof c=="string"?(i[s]=c,o+=1):typeof c=="object"&&(r[s]=c,n+=1)}),n>0){const s=Object.keys(r),c=re.find(s,f=>this.isOS(f));if(c){const f=this.satisfies(r[c]);if(f!==void 0)return f}const u=re.find(s,f=>this.isPlatform(f));if(u){const f=this.satisfies(r[u]);if(f!==void 0)return f}}if(o>0){const s=Object.keys(i),c=re.find(s,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=re.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(re.compareVersions(o,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class PM{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new yg(t,r)}static parse(t){return new yg(t).getResult()}static get BROWSER_MAP(){return VC}static get ENGINE_MAP(){return ln}static get OS_MAP(){return _t}static get PLATFORMS_MAP(){return qe}}var WC=function(e){var t=e.serviceId,r=e.clientVersion;return function(){return P.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l;return P.exports.__generator(this,function(d){return n=!((o=window==null?void 0:window.navigator)===null||o===void 0)&&o.userAgent?PM.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+(((a=n==null?void 0:n.os)===null||a===void 0?void 0:a.name)||"other"),(s=n==null?void 0:n.os)===null||s===void 0?void 0:s.version],["lang/js"],["md/browser",((u=(c=n==null?void 0:n.browser)===null||c===void 0?void 0:c.name)!==null&&u!==void 0?u:"unknown")+"_"+((l=(f=n==null?void 0:n.browser)===null||f===void 0?void 0:f.version)!==null&&l!==void 0?l:"unknown")]],t&&i.push(["api/"+t,r]),[2,i]})})}};function kM(e){var t,r,n={};if(e=e.replace(/^\?/,""),e)try{for(var i=P.exports.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value,s=P.exports.__read(a.split("="),2),c=s[0],u=s[1],f=u===void 0?null:u;c=decodeURIComponent(c),f&&(f=decodeURIComponent(f)),c in n?Array.isArray(n[c])?n[c].push(f):n[c]=[n[c],f]:n[c]=f}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}var JC=function(e){var t=new URL(e),r=t.hostname,n=t.pathname,i=t.port,o=t.protocol,a=t.search,s;return a&&(s=kM(a)),{hostname:r,port:i?parseInt(i):void 0,protocol:o,path:n,query:s}},YC=function(e){var t;return P.exports.__assign(P.exports.__assign({},e),{tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:e.endpoint?RM(e):function(){return NM(e)},isCustomEndpoint:!!e.endpoint})},RM=function(e){var t=e.endpoint,r=e.urlParser;if(typeof t=="string"){var n=Promise.resolve(r(t));return function(){return n}}else if(typeof t=="object"){var i=Promise.resolve(t);return function(){return i}}return t},NM=function(e){return P.exports.__awaiter(void 0,void 0,void 0,function(){var t,r,n,i,o,a;return P.exports.__generator(this,function(s){switch(s.label){case 0:return t=e.tls,r=t===void 0?!0:t,[4,e.region()];case 1:if(n=s.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(n))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(o=((a=s.sent())!==null&&a!==void 0?a:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+o)]}})})},XC=function(e){if(!e.region)throw new Error("Region is missing");return P.exports.__assign(P.exports.__assign({},e),{region:DM(e.region)})},DM=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}return e},mg="content-length";function MM(e){var t=this;return function(r){return function(n){return P.exports.__awaiter(t,void 0,void 0,function(){var i,o,a,s,c;return P.exports.__generator(this,function(u){return i=n.request,Ge.isInstance(i)&&(o=i.body,a=i.headers,o&&Object.keys(a).map(function(f){return f.toLowerCase()}).indexOf(mg)===-1&&(s=e(o),s!==void 0&&(i.headers=P.exports.__assign(P.exports.__assign({},i.headers),(c={},c[mg]=String(s),c))))),[2,r(P.exports.__assign(P.exports.__assign({},n),{request:i}))]})})}}}var LM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},QC=function(e){return{applyToStack:function(t){t.add(MM(e.bodyLengthChecker),LM)}}};var UM=function(e){return function(t){return function(r){return P.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o;return P.exports.__generator(this,function(a){return Ge.isInstance(r.request)?(n=r.request,i=(e.requestHandler.metadata||{}).handlerProtocol,o=i===void 0?"":i,o.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),[2,t(r)]):[2,t(r)]})})}}},BM={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ZC=function(e){return{applyToStack:function(t){t.add(UM(e),BM)}}},FM=function(){return function(e,t){return function(r){return P.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l;return P.exports.__generator(this,function(d){switch(d.label){case 0:return n=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(r)];case 1:return c=d.sent(),a?(typeof a.info=="function"&&(u=c.output,f=u.$metadata,l=P.exports.__rest(u,["$metadata"]),a.info({clientName:n,commandName:i,input:o(r.input),output:s(l),metadata:f})),[2,c]):[2,c]}})})}}},jM={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},eA=function(e){return{applyToStack:function(t){t.add(FM(),jM)}}},$M="X-Amz-Algorithm",zM="X-Amz-Credential",tA="X-Amz-Date",qM="X-Amz-SignedHeaders",KM="X-Amz-Expires",rA="X-Amz-Signature",nA="X-Amz-Security-Token",iA="authorization",oA=tA.toLowerCase(),HM="date",GM=[iA,oA,HM],VM=rA.toLowerCase(),ml="x-amz-content-sha256",WM=nA.toLowerCase(),JM={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},YM=/^proxy-/,XM=/^sec-/,Lc="AWS4-HMAC-SHA256",QM="AWS4-HMAC-SHA256-PAYLOAD",ZM="UNSIGNED-PAYLOAD",eL=50,aA="aws4_request",tL=60*60*24*7,Na={},Uc=[];function Bc(e,t,r){return e+"/"+t+"/"+r+"/"+aA}var rL=function(e,t,r,n,i){return P.exports.__awaiter(void 0,void 0,void 0,function(){var o,a,s,c,u,f,l,d,h;return P.exports.__generator(this,function(p){switch(p.label){case 0:return[4,wg(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),a=r+":"+n+":"+i+":"+Ye(o)+":"+t.sessionToken,a in Na)return[2,Na[a]];for(Uc.push(a);Uc.length>eL;)delete Na[Uc.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),c=P.exports.__values([r,n,i,aA]),u=c.next(),p.label=3;case 3:return u.done?[3,6]:(f=u.value,[4,wg(e,s,f)]);case 4:s=p.sent(),p.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return l=p.sent(),d={error:l},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}return[7];case 9:return[2,Na[a]=s]}})})};function wg(e,t,r){var n=new e(t);return n.update(r),n.digest()}function bg(e,t,r){var n,i,o=e.headers,a={};try{for(var s=P.exports.__values(Object.keys(o).sort()),c=s.next();!c.done;c=s.next()){var u=c.value,f=u.toLowerCase();(f in JM||(t==null?void 0:t.has(f))||YM.test(f)||XM.test(f))&&(!r||r&&!r.has(f))||(a[f]=o[u].trim().replace(/\s+/g," "))}}catch(l){n={error:l}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}var Da=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,nL)},nL=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function iL(e){var t,r,n=e.query,i=n===void 0?{}:n,o=[],a={},s=function(l){if(l.toLowerCase()===VM)return"continue";o.push(l);var d=i[l];typeof d=="string"?a[l]=Da(l)+"="+Da(d):Array.isArray(d)&&(a[l]=d.slice(0).sort().reduce(function(h,p){return h.concat([Da(l)+"="+Da(p)])},[]).join("&"))};try{for(var c=P.exports.__values(Object.keys(i).sort()),u=c.next();!u.done;u=c.next()){var f=u.value;s(f)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o.map(function(l){return a[l]}).filter(function(l){return l}).join("&")}var sA=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function Fc(e,t){var r=e.headers,n=e.body;return P.exports.__awaiter(this,void 0,void 0,function(){var i,o,a,s,c,u,f;return P.exports.__generator(this,function(l){switch(l.label){case 0:try{for(i=P.exports.__values(Object.keys(r)),o=i.next();!o.done;o=i.next())if(a=o.value,a.toLowerCase()===ml)return[2,r[a]]}catch(d){u={error:d}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(u)throw u.error}}return n!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof n=="string"||ArrayBuffer.isView(n)||sA(n)?(s=new t,s.update(n),c=Ye,[4,s.digest()]):[3,3];case 2:return[2,c.apply(void 0,[l.sent()])];case 3:return[2,ZM]}})})}function oL(e,t){var r,n;e=e.toLowerCase();try{for(var i=P.exports.__values(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;if(e===a.toLowerCase())return!0}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}function uA(e){var t=e.headers,r=e.query,n=P.exports.__rest(e,["headers","query"]);return P.exports.__assign(P.exports.__assign({},n),{headers:P.exports.__assign({},t),query:r?aL(r):void 0})}function aL(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return P.exports.__assign(P.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?P.exports.__spread(i):i,n))},{})}function sL(e,t){var r,n,i;t===void 0&&(t={});var o=typeof e.clone=="function"?e.clone():uA(e),a=o.headers,s=o.query,c=s===void 0?{}:s;try{for(var u=P.exports.__values(Object.keys(a)),f=u.next();!f.done;f=u.next()){var l=f.value,d=l.toLowerCase();d.substr(0,6)==="x-amz-"&&!(!((i=t.unhoistableHeaders)===null||i===void 0)&&i.has(d))&&(c[l]=a[l],delete a[l])}}catch(h){r={error:h}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return P.exports.__assign(P.exports.__assign({},e),{headers:a,query:c})}function _g(e){var t,r;e=typeof e.clone=="function"?e.clone():uA(e);try{for(var n=P.exports.__values(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;GM.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}function uL(e){return cL(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function cL(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var fL=function(){function e(t){var r=t.applyChecksum,n=t.credentials,i=t.region,o=t.service,a=t.sha256,s=t.uriEscapePath,c=s===void 0?!0:s;this.service=o,this.sha256=a,this.uriEscapePath=c,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=lL(i),this.credentialProvider=dL(n)}return e.prototype.presign=function(t,r){return r===void 0&&(r={}),P.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V,F,ee,R;return P.exports.__generator(this,function(L){switch(L.label){case 0:return n=r.signingDate,i=n===void 0?new Date:n,o=r.expiresIn,a=o===void 0?3600:o,s=r.unsignableHeaders,c=r.unhoistableHeaders,u=r.signableHeaders,f=r.signingRegion,l=r.signingService,[4,this.credentialProvider()];case 1:return d=L.sent(),f==null?[3,2]:(p=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=L.sent(),L.label=4;case 4:return h=p,g=Ma(i),b=g.longDate,E=g.shortDate,a>tL?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(S=Bc(E,h,l!=null?l:this.service),T=sL(_g(t),{unhoistableHeaders:c}),d.sessionToken&&(T.query[nA]=d.sessionToken),T.query[$M]=Lc,T.query[zM]=d.accessKeyId+"/"+S,T.query[tA]=b,T.query[KM]=a.toString(10),N=bg(T,s,u),T.query[qM]=Sg(N),k=T.query,B=rA,V=this.getSignature,F=[b,S,this.getSigningKey(d,h,E,l)],ee=this.createCanonicalRequest,R=[T,N],[4,Fc(t,this.sha256)]);case 5:return[4,V.apply(this,F.concat([ee.apply(this,R.concat([L.sent()]))]))];case 6:return k[B]=L.sent(),[2,T]}})})},e.prototype.sign=function(t,r){return P.exports.__awaiter(this,void 0,void 0,function(){return P.exports.__generator(this,function(n){return typeof t=="string"?[2,this.signString(t,r)]:t.headers&&t.payload?[2,this.signEvent(t,r)]:[2,this.signRequest(t,r)]})})},e.prototype.signEvent=function(t,r){var n=t.headers,i=t.payload,o=r.signingDate,a=o===void 0?new Date:o,s=r.priorSignature,c=r.signingRegion,u=r.signingService;return P.exports.__awaiter(this,void 0,void 0,function(){var f,l,d,h,p,g,b,E,S,T,N;return P.exports.__generator(this,function(k){switch(k.label){case 0:return c==null?[3,1]:(l=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:l=k.sent(),k.label=3;case 3:return f=l,d=Ma(a),h=d.shortDate,p=d.longDate,g=Bc(h,f,u!=null?u:this.service),[4,Fc({headers:{},body:i},this.sha256)];case 4:return b=k.sent(),E=new this.sha256,E.update(n),T=Ye,[4,E.digest()];case 5:return S=T.apply(void 0,[k.sent()]),N=[QM,p,g,s,S,b].join(`
`),[2,this.signString(N,{signingDate:a,signingRegion:f,signingService:u})]}})})},e.prototype.signString=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,a=n.signingRegion,s=n.signingService;return P.exports.__awaiter(this,void 0,void 0,function(){var c,u,f,l,d,h,p,g;return P.exports.__generator(this,function(b){switch(b.label){case 0:return[4,this.credentialProvider()];case 1:return c=b.sent(),a==null?[3,2]:(f=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:f=b.sent(),b.label=4;case 4:return u=f,l=Ma(o).shortDate,p=(h=this.sha256).bind,[4,this.getSigningKey(c,u,l,s)];case 5:return d=new(p.apply(h,[void 0,b.sent()])),d.update(t),g=Ye,[4,d.digest()];case 6:return[2,g.apply(void 0,[b.sent()])]}})})},e.prototype.signRequest=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,a=n.signableHeaders,s=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return P.exports.__awaiter(this,void 0,void 0,function(){var f,l,d,h,p,g,b,E,S,T,N;return P.exports.__generator(this,function(k){switch(k.label){case 0:return[4,this.credentialProvider()];case 1:return f=k.sent(),c==null?[3,2]:(d=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:d=k.sent(),k.label=4;case 4:return l=d,h=_g(t),p=Ma(o),g=p.longDate,b=p.shortDate,E=Bc(b,l,u!=null?u:this.service),h.headers[oA]=g,f.sessionToken&&(h.headers[WM]=f.sessionToken),[4,Fc(h,this.sha256)];case 5:return S=k.sent(),!oL(ml,h.headers)&&this.applyChecksum&&(h.headers[ml]=S),T=bg(h,s,a),[4,this.getSignature(g,E,this.getSigningKey(f,l,b,u),this.createCanonicalRequest(h,T,S))];case 6:return N=k.sent(),h.headers[iA]=Lc+" "+("Credential="+f.accessKeyId+"/"+E+", ")+("SignedHeaders="+Sg(T)+", ")+("Signature="+N),[2,h]}})})},e.prototype.createCanonicalRequest=function(t,r,n){var i=Object.keys(r).sort();return t.method+`
`+this.getCanonicalPath(t)+`
`+iL(t)+`
`+i.map(function(o){return o+":"+r[o]}).join(`
`)+`

`+i.join(";")+`
`+n},e.prototype.createStringToSign=function(t,r,n){return P.exports.__awaiter(this,void 0,void 0,function(){var i,o;return P.exports.__generator(this,function(a){switch(a.label){case 0:return i=new this.sha256,i.update(n),[4,i.digest()];case 1:return o=a.sent(),[2,Lc+`
`+t+`
`+r+`
`+Ye(o)]}})})},e.prototype.getCanonicalPath=function(t){var r=t.path;if(this.uriEscapePath){var n=encodeURIComponent(r.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(t,r,n,i){return P.exports.__awaiter(this,void 0,void 0,function(){var o,a,s,c,u;return P.exports.__generator(this,function(f){switch(f.label){case 0:return[4,this.createStringToSign(t,r,i)];case 1:return o=f.sent(),c=(s=this.sha256).bind,[4,n];case 2:return a=new(c.apply(s,[void 0,f.sent()])),a.update(o),u=Ye,[4,a.digest()];case 3:return[2,u.apply(void 0,[f.sent()])]}})})},e.prototype.getSigningKey=function(t,r,n,i){return rL(this.sha256,t,n,r,i||this.service)},e}(),Ma=function(e){var t=uL(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Sg=function(e){return Object.keys(e).sort().join(";")},lL=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}else return e},dL=function(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}else return e};function cA(e){var t=this,r=e.credentials||e.credentialDefaultProvider(e),n=jc(r),i=e.signingEscapePath,o=i===void 0?!0:i,a=e.systemClockOffset,s=a===void 0?e.systemClockOffset||0:a,c=e.sha256,u;return e.signer?u=jc(e.signer):u=function(){return jc(e.region)().then(function(f){return P.exports.__awaiter(t,void 0,void 0,function(){return P.exports.__generator(this,function(l){switch(l.label){case 0:return[4,e.regionInfoProvider(f)];case 1:return[2,[l.sent()||{},f]]}})})}).then(function(f){var l=P.exports.__read(f,2),d=l[0],h=l[1],p=d.signingRegion,g=d.signingService;return e.signingRegion=e.signingRegion||p||h,e.signingName=e.signingName||g||e.serviceId,new fL({credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o})})},P.exports.__assign(P.exports.__assign({},e),{systemClockOffset:s,signingEscapePath:o,credentials:n,signer:u})}function jc(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}return e}var hL=function(e,t){return Math.abs(pL(t).getTime()-e)>=3e5},pL=function(e){return new Date(Date.now()+e)};function vL(e){return function(t,r){return function(n){return P.exports.__awaiter(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d;return P.exports.__generator(this,function(h){switch(h.label){case 0:return Ge.isInstance(n.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,c=[P.exports.__assign({},n)],d={},[4,i.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 4:return[4,s.apply(void 0,[P.exports.__assign.apply(void 0,c.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),u=a.response.headers,f=u&&(u.date||u.Date),f&&(l=Date.parse(f),hL(l,e.systemClockOffset)&&(e.systemClockOffset=l-Date.now())),[2,a]}})})}}}var gL={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},yL=function(e){return{applyToStack:function(t){t.addRelativeTo(vL(e),gL)}}};function fA(e){return P.exports.__assign(P.exports.__assign({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var $c="user-agent",mL="x-amz-user-agent",Eg=" ",wL=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,bL=function(e){return function(t,r){return function(n){return P.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,a,s,c,u,f,l;return P.exports.__generator(this,function(d){switch(d.label){case 0:return i=n.request,Ge.isInstance(i)?(o=i.headers,a=((f=r==null?void 0:r.userAgent)===null||f===void 0?void 0:f.map(zc))||[],[4,e.defaultUserAgentProvider()]):[2,t(n)];case 1:return s=d.sent().map(zc),c=((l=e==null?void 0:e.customUserAgent)===null||l===void 0?void 0:l.map(zc))||[],o[mL]=P.exports.__spread(s,a,c).join(Eg),u=P.exports.__spread(s.filter(function(h){return h.startsWith("aws-sdk-")}),c).join(Eg),e.runtime!=="browser"&&u&&(o[$c]=o[$c]?o[$c]+" "+u:u),[2,t(P.exports.__assign(P.exports.__assign({},n),{request:i}))]}})})}}},zc=function(e){var t=P.exports.__read(e,2),r=t[0],n=t[1],i=r.indexOf("/"),o=r.substring(0,i),a=r.substring(i+1);return o==="api"&&(a=a.toLowerCase()),[o,a,n].filter(function(s){return s&&s.length>0}).map(function(s){return s==null?void 0:s.replace(wL,"_")}).join("/")},_L={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},lA=function(e){return{applyToStack:function(t){t.add(bL(e),_L)}}},tu=function(){var e=[],t=[],r=new Set,n=function(f){return f.sort(function(l,d){return Cg[d.step]-Cg[l.step]||Ag[d.priority||"normal"]-Ag[l.priority||"normal"]})},i=function(f){var l=!1,d=function(h){return h.name&&h.name===f?(l=!0,r.delete(f),!1):!0};return e=e.filter(d),t=t.filter(d),l},o=function(f){var l=!1,d=function(h){return h.middleware===f?(l=!0,h.name&&r.delete(h.name),!1):!0};return e=e.filter(d),t=t.filter(d),l},a=function(f){return e.forEach(function(l){f.add(l.middleware,P.exports.__assign({},l))}),t.forEach(function(l){f.addRelativeTo(l.middleware,P.exports.__assign({},l))}),f},s=function(f){var l=[];return f.before.forEach(function(d){d.before.length===0&&d.after.length===0?l.push(d):l.push.apply(l,P.exports.__spread(s(d)))}),l.push(f),f.after.reverse().forEach(function(d){d.before.length===0&&d.after.length===0?l.push(d):l.push.apply(l,P.exports.__spread(s(d)))}),l},c=function(){var f=[],l=[],d={};e.forEach(function(p){var g=P.exports.__assign(P.exports.__assign({},p),{before:[],after:[]});g.name&&(d[g.name]=g),f.push(g)}),t.forEach(function(p){var g=P.exports.__assign(P.exports.__assign({},p),{before:[],after:[]});g.name&&(d[g.name]=g),l.push(g)}),l.forEach(function(p){if(p.toMiddleware){var g=d[p.toMiddleware];if(g===void 0)throw new Error(p.toMiddleware+" is not found when adding "+(p.name||"anonymous")+" middleware "+p.relation+" "+p.toMiddleware);p.relation==="after"&&g.after.push(p),p.relation==="before"&&g.before.push(p)}});var h=n(f).map(s).reduce(function(p,g){return p.push.apply(p,P.exports.__spread(g)),p},[]);return h.map(function(p){return p.middleware})},u={add:function(f,l){l===void 0&&(l={});var d=l.name,h=l.override,p=P.exports.__assign({step:"initialize",priority:"normal",middleware:f},l);if(d){if(r.has(d)){if(!h)throw new Error("Duplicate middleware name '"+d+"'");var g=e.findIndex(function(E){return E.name===d}),b=e[g];if(b.step!==p.step||b.priority!==p.priority)throw new Error('"'+d+'" middleware with '+b.priority+" priority in "+b.step+" step cannot be "+("overridden by same-name middleware with "+p.priority+" priority in "+p.step+" step."));e.splice(g,1)}r.add(d)}e.push(p)},addRelativeTo:function(f,l){var d=l.name,h=l.override,p=P.exports.__assign({middleware:f},l);if(d){if(r.has(d)){if(!h)throw new Error("Duplicate middleware name '"+d+"'");var g=t.findIndex(function(E){return E.name===d}),b=t[g];if(b.toMiddleware!==p.toMiddleware||b.relation!==p.relation)throw new Error('"'+d+'" middleware '+b.relation+' "'+b.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+p.relation+' "'+p.toMiddleware+'" middleware.'));t.splice(g,1)}r.add(d)}t.push(p)},clone:function(){return a(tu())},use:function(f){f.applyToStack(u)},remove:function(f){return typeof f=="string"?i(f):o(f)},removeByTag:function(f){var l=!1,d=function(h){var p=h.tags,g=h.name;return p&&p.includes(f)?(g&&r.delete(g),l=!0,!1):!0};return e=e.filter(d),t=t.filter(d),l},concat:function(f){var l=a(tu());return l.use(f),l},applyToStack:a,resolve:function(f,l){var d,h;try{for(var p=P.exports.__values(c().reverse()),g=p.next();!g.done;g=p.next()){var b=g.value;f=b(f,l)}}catch(E){d={error:E}}finally{try{g&&!g.done&&(h=p.return)&&h.call(p)}finally{if(d)throw d.error}}return f}};return u},Cg={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ag={high:3,normal:2,low:1},dA=function(){function e(t){this.middlewareStack=tu(),this.config=t}return e.prototype.send=function(t,r,n){var i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,a=t.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(t).then(function(s){return o(null,s.output)},function(s){return o(s)}).catch(function(){});else return a(t).then(function(s){return s.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Wt=function(){function e(){this.middlewareStack=tu()}return e}();function Xe(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}var Ho=function(e){return Array.isArray(e)?e:[e]},hA=function(e){var t="#text";for(var r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=hA(e[r]));return e},ru=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,P.exports.__spread([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};ru.prototype=Object.create(String.prototype,{constructor:{value:ru,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(ru,String);(function(e){P.exports.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(r){return r instanceof t?r:r instanceof String||typeof r=="string"?new t(r):new t(JSON.stringify(r))},t})(ru);var SL=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],EL=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Xn(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),c=i<10?"0"+i:""+i,u=o<10?"0"+o:""+o,f=a<10?"0"+a:""+a,l=s<10?"0"+s:""+s;return SL[n]+", "+c+" "+EL[r]+" "+t+" "+u+":"+f+":"+l+" GMT"}var Ae="***SensitiveInformation***",CL=function(e,t){return function(r,n){return function(i){return P.exports.__awaiter(void 0,void 0,void 0,function(){var o,a;return P.exports.__generator(this,function(s){switch(s.label){case 0:return[4,r(i)];case 1:return o=s.sent().response,[4,t(o,e)];case 2:return a=s.sent(),[2,{response:o,output:a}]}})})}}},AL=function(e,t){return function(r,n){return function(i){return P.exports.__awaiter(void 0,void 0,void 0,function(){var o;return P.exports.__generator(this,function(a){switch(a.label){case 0:return[4,t(i.input,e)];case 1:return o=a.sent(),[2,r(P.exports.__assign(P.exports.__assign({},i),{request:o}))]}})})}}},xL={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},TL={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Jt(e,t,r){return{applyToStack:function(n){n.add(CL(e,r),xL),n.add(AL(e,t),TL)}}}var IL=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},OL=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vn=new Se("CognitoCredentials"),PL=new Promise(function(e,t){if(!Nn().isBrowser)return vn.debug("not in the browser, directly resolved"),e();var r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(r)return vn.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),kL=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return IL(this,void 0,void 0,function(){return OL(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(vn.debug("need to wait for the Google SDK loaded"),[4,PL]);case 1:t.sent(),this.initialized=!0,vn.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var t=null;return Nn().isBrowser&&(t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),t?new Promise(function(r,n){t.getAuthInstance().then(function(i){i||(vn.debug("google Auth undefined"),n(new Sn("google Auth undefined")));var o=i.currentUser.get();o.isSignedIn()?(vn.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(a){var s=a.id_token,c=a.expires_at;r({token:s,expires_at:c})}).catch(function(a){a&&a.error==="network_error"?n("Network error reloading google auth response"):n(new Sn("Failed to reload google auth response"))})):n(new Sn("User is not signed in with Google"))}).catch(function(i){vn.debug("Failed to refresh google token",i),n(new Sn("Failed to refresh google token"))})}):(vn.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),RL=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},NL=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qn=new Se("CognitoCredentials"),DL=new Promise(function(e,t){if(!Nn().isBrowser)return qn.debug("not in the browser, directly resolved"),e();var r=window.FB;if(r)return qn.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),ML=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return RL(this,void 0,void 0,function(){return NL(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(qn.debug("need to wait for the Facebook SDK loaded"),[4,DL]);case 1:t.sent(),this.initialized=!0,qn.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var t=null;if(Nn().isBrowser&&(t=window.FB),!t){var r="no fb sdk available";return qn.debug(r),Promise.reject(new Sn(r))}return new Promise(function(n,i){t.getLoginStatus(function(o){if(!o||!o.authResponse){var a="no response from facebook when refreshing the jwt token";qn.debug(a),i(new Sn(a))}else{var s=o.authResponse,c=s.accessToken,u=s.expiresIn,f=new Date,l=u*1e3+f.getTime();if(!c){var a="the jwtToken is undefined";qn.debug(a),i(new Sn(a))}n({token:c,expires_at:l})}},{scope:"public_profile,email"})})},e}(),LL=new kL,UL=new ML,Ln={},BL=function(){function e(){}return e.setItem=function(t,r){return Ln[t]=r,Ln[t]},e.getItem=function(t){return Object.prototype.hasOwnProperty.call(Ln,t)?Ln[t]:void 0},e.removeItem=function(t){return delete Ln[t]},e.clear=function(){return Ln={},Ln},e}(),Vu=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=BL}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),wl=function(e,t){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wl(e,t)};function Wh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var X=function(){return X=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},X.apply(this,arguments)};function yt(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function mt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function FL(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}const jL="@aws-sdk/client-cognito-identity",$L="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",zL="3.6.1",qL={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},KL="./dist/cjs/index.js",HL="./types/index.d.ts",GL="./dist/es/index.js",VL={"./runtimeConfig":"./runtimeConfig.browser"},WL=!1,JL={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},YL={"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},XL={node:">=10.0.0"},QL={"<4.0":{"types/*":["types/ts3.4/*"]}},ZL={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},eU="Apache-2.0",tU="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",rU={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"};var nU={name:jL,description:$L,version:zL,scripts:qL,main:KL,types:HL,module:GL,browser:VL,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:WL,dependencies:JL,devDependencies:YL,engines:XL,typesVersions:QL,author:ZL,license:eU,homepage:tU,repository:rU},xg="cognito-identity.{region}.amazonaws.com",iU="cognito-identity.{region}.amazonaws.com.cn",oU="cognito-identity.{region}.c2s.ic.gov",aU="cognito-identity.{region}.sc2s.sgov.gov",sU="cognito-identity.{region}.amazonaws.com",uU=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),cU=new Set(["cn-north-1","cn-northwest-1"]),fU=new Set(["us-iso-east-1"]),lU=new Set(["us-isob-east-1"]),dU=new Set(["us-gov-east-1","us-gov-west-1"]),hU=function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:uU.has(e)&&(r={hostname:xg.replace("{region}",e),partition:"aws"}),cU.has(e)&&(r={hostname:iU.replace("{region}",e),partition:"aws-cn"}),fU.has(e)&&(r={hostname:oU.replace("{region}",e),partition:"aws-iso"}),lU.has(e)&&(r={hostname:aU.replace("{region}",e),partition:"aws-iso-b"}),dU.has(e)&&(r={hostname:sU.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:xg.replace("{region}",e),partition:"aws"})}return Promise.resolve(X({signingService:"cognito-identity"},r))},Tg={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:hU,serviceId:"Cognito Identity",urlParser:JC},pU=X(X({},Tg),{runtime:"browser",base64Decoder:Hh,base64Encoder:UC,bodyLengthChecker:GC,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:WC({serviceId:Tg.serviceId,clientVersion:nU.version}),maxAttempts:Gu,region:FC("Region is missing"),requestHandler:new LC,sha256:Bh.Sha256,streamCollector:BC,utf8Decoder:Bu,utf8Encoder:jh}),qc=function(e){Wh(t,e);function t(r){var n=this,i=X(X({},pU),r),o=XC(i),a=YC(o),s=cA(a),c=HC(s),u=c,f=fA(u);return n=e.call(this,f)||this,n.config=f,n.middlewareStack.use(jC(n.config)),n.middlewareStack.use(QC(n.config)),n.middlewareStack.use(ZC(n.config)),n.middlewareStack.use(eA(n.config)),n.middlewareStack.use(lA(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(dA),Ig;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(Ig||(Ig={}));var Og;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Og||(Og={}));var Pg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Pg||(Pg={}));var kg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(kg||(kg={}));var Rg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Rg||(Rg={}));var Ng;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ng||(Ng={}));var Dg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Dg||(Dg={}));var Mg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Mg||(Mg={}));var Lg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Lg||(Lg={}));var Ug;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ug||(Ug={}));var Bg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Bg||(Bg={}));var Fg;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(Fg||(Fg={}));var jg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(jg||(jg={}));var $g;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})($g||($g={}));var zg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(zg||(zg={}));var qg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(qg||(qg={}));var Kg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Kg||(Kg={}));var Hg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Hg||(Hg={}));var Gg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Gg||(Gg={}));var Vg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Vg||(Vg={}));var bl;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(bl||(bl={}));var Wg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Wg||(Wg={}));var _l;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(_l||(_l={}));var Jg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Jg||(Jg={}));var Sl;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Sl||(Sl={}));var El;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(El||(El={}));var Yg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Yg||(Yg={}));var Xg;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(Xg||(Xg={}));var Qg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Qg||(Qg={}));var Zg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Zg||(Zg={}));var ey;(function(e){e.RULES="Rules",e.TOKEN="Token"})(ey||(ey={}));var ty;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ty||(ty={}));var ry;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ry||(ry={}));var ny;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ny||(ny={}));var iy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(iy||(iy={}));var oy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(oy||(oy={}));var ay;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ay||(ay={}));var sy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(sy||(sy={}));var uy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(uy||(uy={}));var cy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(cy||(cy={}));var fy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(fy||(fy={}));var ly;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ly||(ly={}));var dy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(dy||(dy={}));var hy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(hy||(hy={}));var py;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(py||(py={}));var vy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(vy||(vy={}));var gy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(gy||(gy={}));var yy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(yy||(yy={}));var my;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(my||(my={}));var wy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(wy||(wy={}));var by;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(by||(by={}));var _y;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(_y||(_y={}));var Sy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Sy||(Sy={}));var Ey;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ey||(Ey={}));var Cy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Cy||(Cy={}));var Ay;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ay||(Ay={}));var xy;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(xy||(xy={}));var vU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n;return mt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n=JSON.stringify(EU(e)),[2,SA(t,r,"/",void 0,n)]})})},gU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n;return mt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n=JSON.stringify(CU(e)),[2,SA(t,r,"/",void 0,n)]})})},yU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,mU(e,t)]:[4,Wu(e.body,t)];case 1:return r=o.sent(),n={},n=TU(r),i=X({$metadata:Ie(e)},n),[2,Promise.resolve(i)]}})})},mU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,p,g,b,E;return mt(this,function(S){switch(S.label){case 0:return n=[X({},e)],E={},[4,Wu(e.body,t)];case 1:switch(r=X.apply(void 0,n.concat([(E.body=S.sent(),E)])),o="UnknownError",o=EA(e,r.body),a=o,a){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,pA(r)];case 3:return i=X.apply(void 0,[X.apply(void 0,s.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 4:return c=[{}],[4,vA(r)];case 5:return i=X.apply(void 0,[X.apply(void 0,c.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 6:return u=[{}],[4,_U(r)];case 7:return i=X.apply(void 0,[X.apply(void 0,u.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 8:return f=[{}],[4,gA(r)];case 9:return i=X.apply(void 0,[X.apply(void 0,f.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 10:return l=[{}],[4,yA(r)];case 11:return i=X.apply(void 0,[X.apply(void 0,l.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 12:return d=[{}],[4,mA(r)];case 13:return i=X.apply(void 0,[X.apply(void 0,d.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 14:return h=[{}],[4,wA(r)];case 15:return i=X.apply(void 0,[X.apply(void 0,h.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 16:return p=[{}],[4,bA(r)];case 17:return i=X.apply(void 0,[X.apply(void 0,p.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 18:g=r.body,o=g.code||g.Code||o,i=X(X({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:Ie(e)}),S.label=19;case 19:return b=i.message||i.Message||o,i.message=b,delete i.Message,[2,Promise.reject(Object.assign(new Error(b),i))]}})})},wU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,bU(e,t)]:[4,Wu(e.body,t)];case 1:return r=o.sent(),n={},n=IU(r),i=X({$metadata:Ie(e)},n),[2,Promise.resolve(i)]}})})},bU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,p,g,b,E;return mt(this,function(S){switch(S.label){case 0:return n=[X({},e)],E={},[4,Wu(e.body,t)];case 1:switch(r=X.apply(void 0,n.concat([(E.body=S.sent(),E)])),o="UnknownError",o=EA(e,r.body),a=o,a){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,pA(r)];case 3:return i=X.apply(void 0,[X.apply(void 0,s.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 4:return c=[{}],[4,vA(r)];case 5:return i=X.apply(void 0,[X.apply(void 0,c.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 6:return u=[{}],[4,gA(r)];case 7:return i=X.apply(void 0,[X.apply(void 0,u.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 8:return f=[{}],[4,SU(r)];case 9:return i=X.apply(void 0,[X.apply(void 0,f.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 10:return l=[{}],[4,yA(r)];case 11:return i=X.apply(void 0,[X.apply(void 0,l.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 12:return d=[{}],[4,mA(r)];case 13:return i=X.apply(void 0,[X.apply(void 0,d.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 14:return h=[{}],[4,wA(r)];case 15:return i=X.apply(void 0,[X.apply(void 0,h.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 16:return p=[{}],[4,bA(r)];case 17:return i=X.apply(void 0,[X.apply(void 0,p.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 18:g=r.body,o=g.code||g.Code||o,i=X(X({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:Ie(e)}),S.label=19;case 19:return b=i.message||i.Message||o,i.message=b,delete i.Message,[2,Promise.reject(Object.assign(new Error(b),i))]}})})},pA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=xU(r),i=X({name:"ExternalServiceException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},vA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=OU(r),i=X({name:"InternalErrorException",$fault:"server",$metadata:Ie(e)},n),[2,i]})})},_U=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=PU(r),i=X({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},gA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=kU(r),i=X({name:"InvalidParameterException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},SU=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=RU(r),i=X({name:"LimitExceededException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},yA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=NU(r),i=X({name:"NotAuthorizedException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},mA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=DU(r),i=X({name:"ResourceConflictException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},wA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=MU(r),i=X({name:"ResourceNotFoundException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},bA=function(e,t){return yt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=LU(r),i=X({name:"TooManyRequestsException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},EU=function(e,t){return X(X(X({},e.CustomRoleArn!==void 0&&e.CustomRoleArn!==null&&{CustomRoleArn:e.CustomRoleArn}),e.IdentityId!==void 0&&e.IdentityId!==null&&{IdentityId:e.IdentityId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:_A(e.Logins)})},CU=function(e,t){return X(X(X({},e.AccountId!==void 0&&e.AccountId!==null&&{AccountId:e.AccountId}),e.IdentityPoolId!==void 0&&e.IdentityPoolId!==null&&{IdentityPoolId:e.IdentityPoolId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:_A(e.Logins)})},_A=function(e,t){return Object.entries(e).reduce(function(r,n){var i,o=FL(n,2),a=o[0],s=o[1];return s===null?r:X(X({},r),(i={},i[a]=s,i))},{})},AU=function(e,t){return{AccessKeyId:e.AccessKeyId!==void 0&&e.AccessKeyId!==null?e.AccessKeyId:void 0,Expiration:e.Expiration!==void 0&&e.Expiration!==null?new Date(Math.round(e.Expiration*1e3)):void 0,SecretKey:e.SecretKey!==void 0&&e.SecretKey!==null?e.SecretKey:void 0,SessionToken:e.SessionToken!==void 0&&e.SessionToken!==null?e.SessionToken:void 0}},xU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},TU=function(e,t){return{Credentials:e.Credentials!==void 0&&e.Credentials!==null?AU(e.Credentials):void 0,IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},IU=function(e,t){return{IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},OU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},PU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},kU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},RU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},NU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},DU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},MU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},LU=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Ie=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},UU=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},BU=function(e,t){return UU(e,t).then(function(r){return t.utf8Encoder(r)})},SA=function(e,t,r,n,i){return yt(void 0,void 0,void 0,function(){var o,a,s,c,u,f;return mt(this,function(l){switch(l.label){case 0:return[4,e.endpoint()];case 1:return o=l.sent(),a=o.hostname,s=o.protocol,c=s===void 0?"https":s,u=o.port,f={protocol:c,hostname:a,port:u,method:"POST",path:r,headers:t},n!==void 0&&(f.hostname=n),i!==void 0&&(f.body=i),[2,new Ge(f)]}})})},Wu=function(e,t){return BU(e,t).then(function(r){return r.length?JSON.parse(r):{}})},EA=function(e,t){var r=function(o,a){return Object.keys(o).find(function(s){return s.toLowerCase()===a.toLowerCase()})},n=function(o){var a=o;return a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},i=r(e.headers,"x-amzn-errortype");return i!==void 0?n(e.headers[i]):t.code!==void 0?n(t.code):t.__type!==void 0?n(t.__type):""},Cl=function(e){Wh(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),a=n.logger,s="CognitoIdentityClient",c="GetCredentialsForIdentityCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:bl.filterSensitiveLog,outputFilterSensitiveLog:_l.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return vU(r,n)},t.prototype.deserialize=function(r,n){return yU(r,n)},t}(Wt),To=function(e){Wh(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),a=n.logger,s="CognitoIdentityClient",c="GetIdCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Sl.filterSensitiveLog,outputFilterSensitiveLog:El.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return gU(r,n)},t.prototype.deserialize=function(r,n){return wU(r,n)},t}(Wt),Ju=function(e){P.exports.__extends(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r)||this;return i.tryNextLink=n,i}return t}(Error);function CA(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(function(i){return[r,i]})),t},[])).then(function(t){return t.reduce(function(r,n){var i=P.exports.__read(n,2),o=i[0],a=i[1];return r[o]=a,r},{})})}function _o(e){var t=this;return function(){return P.exports.__awaiter(t,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,p;return P.exports.__generator(this,function(g){switch(g.label){case 0:return l=(f=e.client).send,d=Cl.bind,p={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,CA(e.logins)]:[3,2];case 1:return h=g.sent(),[3,3];case 2:h=void 0,g.label=3;case 3:return[4,l.apply(f,[new(d.apply(Cl,[void 0,(p.Logins=h,p)]))])];case 4:return r=g.sent().Credentials,n=r===void 0?jU():r,i=n.AccessKeyId,o=i===void 0?FU():i,a=n.Expiration,s=n.SecretKey,c=s===void 0?$U():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:c,sessionToken:u,expiration:a}]}})})}}function FU(){throw new Ju("Response from Amazon Cognito contained no access key ID")}function jU(){throw new Ju("Response from Amazon Cognito contained no credentials")}function $U(){throw new Ju("Response from Amazon Cognito contained no secret key")}var Kc="IdentityIds",zU=function(){function e(t){t===void 0&&(t="aws:cognito-identity-ids"),this.dbName=t}return e.prototype.getItem=function(t){return this.withObjectStore("readonly",function(r){var n=r.get(t);return new Promise(function(i){n.onerror=function(){return i(null)},n.onsuccess=function(){return i(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(t){return this.withObjectStore("readwrite",function(r){var n=r.delete(t);return new Promise(function(i,o){n.onerror=function(){return o(n.error)},n.onsuccess=function(){return i()}})})},e.prototype.setItem=function(t,r){return this.withObjectStore("readwrite",function(n){var i=n.put({id:t,value:r});return new Promise(function(o,a){i.onerror=function(){return a(i.error)},i.onsuccess=function(){return o()}})})},e.prototype.getDb=function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(r,n){t.onsuccess=function(){r(t.result)},t.onerror=function(){n(t.error)},t.onblocked=function(){n(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var i=t.result;i.onerror=function(){n(new Error("Failed to create object store"))},i.createObjectStore(Kc,{keyPath:"id"})}})},e.prototype.withObjectStore=function(t,r){return this.getDb().then(function(n){var i=n.transaction(Kc,t);return i.oncomplete=function(){return n.close()},new Promise(function(o,a){i.onerror=function(){return a(i.error)},o(r(i.objectStore(Kc)))}).catch(function(o){throw n.close(),o})})},e}(),qU=function(){function e(t){t===void 0&&(t={}),this.store=t}return e.prototype.getItem=function(t){return t in this.store?this.store[t]:null},e.prototype.removeItem=function(t){delete this.store[t]},e.prototype.setItem=function(t,r){this.store[t]=r},e}(),KU=new qU;function HU(){return typeof self=="object"&&self.indexedDB?new zU:typeof window=="object"&&window.localStorage?window.localStorage:KU}function GU(e){var t=this,r=e.accountId,n=e.cache,i=n===void 0?HU():n,o=e.client,a=e.customRoleArn,s=e.identityPoolId,c=e.logins,u=e.userIdentifier,f=u===void 0?!c||Object.keys(c).length===0?"ANONYMOUS":void 0:u,l=f?"aws:cognito-identity-credentials:"+s+":"+f:void 0,d=function(){return P.exports.__awaiter(t,void 0,void 0,function(){var h,p,g,b,E,S,T,N,k;return P.exports.__generator(this,function(B){switch(B.label){case 0:return p=l,p?[4,i.getItem(l)]:[3,2];case 1:p=B.sent(),B.label=2;case 2:return h=p,h?[3,7]:(S=(E=o).send,T=To.bind,k={AccountId:r,IdentityPoolId:s},c?[4,CA(c)]:[3,4]);case 3:return N=B.sent(),[3,5];case 4:N=void 0,B.label=5;case 5:return[4,S.apply(E,[new(T.apply(To,[void 0,(k.Logins=N,k)]))])];case 6:g=B.sent().IdentityId,b=g===void 0?VU():g,h=b,l&&Promise.resolve(i.setItem(l,h)).catch(function(){}),B.label=7;case 7:return d=_o({client:o,customRoleArn:a,logins:c,identityId:h}),[2,d()]}})})};return function(){return d().catch(function(h){return P.exports.__awaiter(t,void 0,void 0,function(){return P.exports.__generator(this,function(p){throw l&&Promise.resolve(i.removeItem(l)).catch(function(){}),h})})})}}function VU(){throw new Ju("Response from Amazon Cognito contained no identity ID")}var nu=globalThis&&globalThis.__assign||function(){return nu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nu.apply(this,arguments)},Tt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},It=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},me=new Se("Credentials"),WU=50*60*1e3,JU="CognitoIdentityId-",YU=function(){function e(t){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(t),this._refreshHandlers.google=LL.refreshGoogleToken,this._refreshHandlers.facebook=UL.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(t){if(!t)return this._config||{};this._config=Object.assign({},this._config,t);var r=this._config.refreshHandlers;return r&&(this._refreshHandlers=nu(nu({},this._refreshHandlers),r)),this._storage=this._config.storage,this._storage||(this._storage=new Vu().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return me.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(t){return""+JU+t},e.prototype._pickupCredentials=function(){return me.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(me.debug("getting new cred promise"),this._gettingCredPromise=lC(this._keepAlive())):me.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return Tt(this,void 0,void 0,function(){var t,r,n,i,o,a,s,c;return It(this,function(u){switch(u.label){case 0:if(me.debug("checking if credentials exists and not expired"),t=this._credentials,t&&!this._isExpired(t)&&!this._isPastTTL())return me.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(t)];if(me.debug("need to get a new credential or refresh the existing one"),r=this.Auth,n=r===void 0?st.Auth:r,!n||typeof n.currentUserCredentials!="function")return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(t)&&this._isPastTTL()))return[3,6];me.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return i=u.sent(),[4,n.currentSession()];case 3:return o=u.sent(),a=o.refreshToken,s=new Promise(function(f,l){i.refreshSession(a,function(d,h){return d?l(d):f(h)})}),[4,s];case 4:return u.sent(),[3,6];case 5:return c=u.sent(),me.debug("Error attempting to refreshing the session",c),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(t){me.debug("Getting federated credentials");var r=t.provider,n=t.user,i=t.token,o=t.identity_id,a=t.expires_at;a=new Date(a).getFullYear()===1970?a*1e3:a;var s=this;return me.debug("checking if federated jwt token expired"),a>new Date().getTime()?(me.debug("token not expired"),this._setCredentialsFromFederation({provider:r,token:i,user:n,identity_id:o,expires_at:a})):s._refreshHandlers[r]&&typeof s._refreshHandlers[r]=="function"?(me.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[r],provider:r,user:n})):(me.debug("no refresh handler for provider:",r),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(t){var r=this,n=t.refreshHandler,i=t.provider,o=t.user,a=10*1e3;return mC(n,[],a).then(function(s){return me.debug("refresh federated token sucessfully",s),r._setCredentialsFromFederation({provider:i,token:s.token,user:o,identity_id:s.identity_id,expires_at:s.expires_at})}).catch(function(s){var c=typeof s=="string"&&s.toLowerCase().lastIndexOf("network error",s.length)===0;return c||r.clear(),me.debug("refresh federated token failed",s),Promise.reject("refreshing federation token failed: "+s)})},e.prototype._isExpired=function(t){if(!t)return me.debug("no credentials for expiration check"),!0;me.debug("are these credentials expired?",t);var r=Date.now(),n=t.expiration;return n.getTime()<=r},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Tt(this,void 0,void 0,function(){var t,r,n,i,o,a,s,c,u,f,l=this;return It(this,function(d){switch(d.label){case 0:return me.debug("setting credentials for guest"),t=this._config,r=t.identityPoolId,n=t.region,i=t.mandatorySignIn,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?n?(a=this,[4,this._getGuestIdentityId()]):(me.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(me.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return o=a._identityId=d.sent(),s=new qc({region:n,customUserAgent:gs()}),c=void 0,o?(u={identityId:o,client:s},c=_o(u)()):(f=function(){return Tt(l,void 0,void 0,function(){var h,p,g;return It(this,function(b){switch(b.label){case 0:return[4,s.send(new To({IdentityPoolId:r}))];case 1:return h=b.sent().IdentityId,this._identityId=h,p={client:s,identityId:h},g=_o(p),[2,g()]}})})},c=f().catch(function(h){return Tt(l,void 0,void 0,function(){return It(this,function(p){throw h})})})),[2,this._loadCredentials(c,"guest",!1,null).then(function(h){return h}).catch(function(h){return Tt(l,void 0,void 0,function(){var p,g=this;return It(this,function(b){switch(b.label){case 0:return h.name==="ResourceNotFoundException"&&h.message==="Identity '"+o+"' not found."?(me.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return b.sent(),p=function(){return Tt(g,void 0,void 0,function(){var E,S,T;return It(this,function(N){switch(N.label){case 0:return[4,s.send(new To({IdentityPoolId:r}))];case 1:return E=N.sent().IdentityId,this._identityId=E,S={client:s,identityId:E},T=_o(S),[2,T()]}})})},c=p().catch(function(E){return Tt(g,void 0,void 0,function(){return It(this,function(S){throw E})})}),[2,this._loadCredentials(c,"guest",!1,null)];case 2:return[2,h]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(t){var r=t.provider,n=t.token,i=t.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},a=o[r]||r;if(!a)return Promise.reject("You must specify a federated provider");var s={};s[a]=n;var c=this._config,u=c.identityPoolId,f=c.region;if(!u)return me.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!f)return me.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=new qc({region:f,customUserAgent:gs()}),d=void 0;if(i){var h={identityId:i,logins:s,client:l};d=_o(h)()}else{var h={logins:s,identityPoolId:u,client:l};d=GU(h)()}return this._loadCredentials(d,"federated",!0,t)},e.prototype._setCredentialsFromSession=function(t){var r=this;me.debug("set credentials from session");var n=t.getIdToken().getJwtToken(),i=this._config,o=i.region,a=i.userPoolId,s=i.identityPoolId;if(!s)return me.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return me.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c="cognito-idp."+o+".amazonaws.com/"+a,u={};u[c]=n;var f=new qc({region:o,customUserAgent:gs()}),l=function(){return Tt(r,void 0,void 0,function(){var h,p,g,b,E,S,T,N,k,B;return It(this,function(V){switch(V.label){case 0:return[4,this._getGuestIdentityId()];case 1:return h=V.sent(),h?[3,3]:[4,f.send(new To({IdentityPoolId:s,Logins:u}))];case 2:g=V.sent().IdentityId,p=g,V.label=3;case 3:return[4,f.send(new Cl({IdentityId:h||p,Logins:u}))];case 4:return b=V.sent(),E=b.Credentials,S=E.AccessKeyId,T=E.Expiration,N=E.SecretKey,k=E.SessionToken,B=b.IdentityId,this._identityId=B,h?(me.debug("The guest identity "+h+" has been successfully linked to the logins"),h===B&&me.debug("The guest identity "+h+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:V.sent(),V.label=6;case 6:return[2,{accessKeyId:S,secretAccessKey:N,sessionToken:k,expiration:T,identityId:B}]}})})},d=l().catch(function(h){return Tt(r,void 0,void 0,function(){return It(this,function(p){throw h})})});return this._loadCredentials(d,"userPool",!0,null)},e.prototype._loadCredentials=function(t,r,n,i){var o=this,a=this;return new Promise(function(s,c){t.then(function(u){return Tt(o,void 0,void 0,function(){var f,l,d,h,p;return It(this,function(g){switch(g.label){case 0:if(me.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),a._credentials=u,a._credentials.authenticated=n,a._credentials_source=r,a._nextCredentialsRefresh=new Date().getTime()+WU,r==="federated"){f=Object.assign({id:this._credentials.identityId},i.user),l=i.provider,d=i.token,h=i.expires_at,p=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:l,token:d,user:f,expires_at:h,identity_id:p}))}catch(b){me.debug("Failed to put federated info into auth storage",b)}}return r!=="guest"?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:g.sent(),g.label=2;case 2:return s(a._credentials),[2]}})})}).catch(function(u){if(u){me.debug("Failed to load credentials",t),me.debug("Error loading credentials",u),c(u);return}})})},e.prototype.set=function(t,r){return r==="session"?this._setCredentialsFromSession(t):r==="federation"?this._setCredentialsFromFederation(t):r==="guest"?this._setCredentialsForGuest():(me.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Tt(this,void 0,void 0,function(){return It(this,function(t){return this._credentials=null,this._credentials_source=null,me.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return Tt(this,void 0,void 0,function(){var t,r;return It(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(t))];case 3:return r=n.sent(),me.debug("Failed to get the cached guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(t){return Tt(this,void 0,void 0,function(){var r,n;return It(this,function(i){switch(i.label){case 0:r=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(r),t),[3,4];case 3:return n=i.sent(),me.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return Tt(this,void 0,void 0,function(){var t;return It(this,function(r){return t=this._config.identityPoolId,me.debug("removing "+this._getCognitoIdentityIdStorageKey(t)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(t)),[2]})})},e.prototype.shear=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e}(),at=new YU(null);st.register(at);var XU=function(){function e(){this._logger=new Se("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(t,r){var n=this;return t===void 0&&(t="/service-worker.js"),r===void 0&&(r="/"),this._logger.debug("registering "+t),this._logger.debug("registering service worker with scope "+r),new Promise(function(i,o){if(navigator&&"serviceWorker"in navigator)navigator.serviceWorker.register(t,{scope:r}).then(function(a){return a.installing?n._serviceWorker=a.installing:a.waiting?n._serviceWorker=a.waiting:a.active&&(n._serviceWorker=a.active),n._registration=a,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+a),i(a)}).catch(function(a){return n._logger.debug("Service Worker Registration Failed "+a),o(a)});else return o(new Error("Service Worker not available"))})},e.prototype.enablePush=function(t){var r=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=t,new Promise(function(n,i){if(Nn().isBrowser)r._registration.pushManager.getSubscription().then(function(o){if(o)r._subscription=o,r._logger.debug("User is subscribed to push: "+JSON.stringify(o)),n(o);else return r._logger.debug("User is NOT subscribed to push"),r._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r._urlB64ToUint8Array(t)}).then(function(a){r._subscription=a,r._logger.debug("User subscribed: "+JSON.stringify(a)),n(a)}).catch(function(a){r._logger.error(a)})});else return i(new Error("Service Worker not available"))})},e.prototype._urlB64ToUint8Array=function(t){for(var r="=".repeat((4-t.length%4)%4),n=(t+r).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),o=new Uint8Array(i.length),a=0;a<i.length;++a)o[a]=i.charCodeAt(a);return o},e.prototype.send=function(t){this._serviceWorker&&this._serviceWorker.postMessage(typeof t=="object"?JSON.stringify(t):t)},e.prototype._setupListeners=function(){var t=this;this._serviceWorker.addEventListener("statechange",function(r){var n=t._serviceWorker.state;t._logger.debug("ServiceWorker statechange: "+n),st.Analytics&&typeof st.Analytics.record=="function"&&st.Analytics.record({name:"ServiceWorker",attributes:{state:n}})}),this._serviceWorker.addEventListener("message",function(r){t._logger.debug("ServiceWorker message event: "+r)})},e}();/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var AA=e3,Ty=t3,QU=decodeURIComponent,ZU=encodeURIComponent,La=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function e3(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=e.split(";"),o=n.decode||QU,a=0;a<i.length;a++){var s=i[a],c=s.indexOf("=");if(!(c<0)){var u=s.substring(0,c).trim();if(r[u]==null){var f=s.substring(c+1,s.length).trim();f[0]==='"'&&(f=f.slice(1,-1)),r[u]=r3(f,o)}}}return r}function t3(e,t,r){var n=r||{},i=n.encode||ZU;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!La.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!La.test(o))throw new TypeError("argument val is invalid");var a=e+"="+o;if(n.maxAge!=null){var s=n.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(n.domain){if(!La.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!La.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function r3(e,t){try{return t(e)}catch{return e}}function n3(){return typeof document=="object"&&typeof document.cookie=="string"}function i3(e,t){return typeof e=="string"?AA(e,t):typeof e=="object"&&e!==null?e:{}}function o3(e,t){return typeof t=="undefined"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function Iy(e,t){t===void 0&&(t={});var r=a3(e);if(o3(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function a3(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var Kn=globalThis&&globalThis.__assign||function(){return Kn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kn.apply(this,arguments)},s3=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=i3(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=n3()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){!this.HAS_DOCUMENT_COOKIE||(this.cookies=AA(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),Iy(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var i in this.cookies)n[i]=Iy(this.cookies[i],t);return n},e.prototype.set=function(t,r,n){var i;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=Kn(Kn({},this.cookies),(i={},i[t]=r,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Ty(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=Kn(Kn({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Kn({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Ty(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}(),Hc=s3,Oy=Nn().isBrowser,u3=function(){function e(t){t===void 0&&(t={}),this.cookies=new Hc,this.store=Oy?window.localStorage:Object.create(null),this.cookies=t.req?new Hc(t.req.headers.cookie):new Hc,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var t=this;Array.from(new Array(this.length)).map(function(r,n){return t.key(n)}).forEach(function(r){return t.removeItem(r)})},e.prototype.getItem=function(t){return this.getLocalItem(t)},e.prototype.getLocalItem=function(t){return Object.prototype.hasOwnProperty.call(this.store,t)?this.store[t]:null},e.prototype.getUniversalItem=function(t){return this.cookies.get(t)},e.prototype.key=function(t){return Object.keys(this.store)[t]},e.prototype.removeItem=function(t){this.removeLocalItem(t),this.removeUniversalItem(t)},e.prototype.removeLocalItem=function(t){delete this.store[t]},e.prototype.removeUniversalItem=function(t){this.cookies.remove(t,{path:"/"})},e.prototype.setItem=function(t,r){this.setLocalItem(t,r);var n=t.split(".").pop();switch(n){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":Oy?this.setUniversalItem(t,r):this.setLocalItem(t,r)}},e.prototype.setLocalItem=function(t,r){this.store[t]=r},e.prototype.setUniversalItem=function(t,r){this.cookies.set(t,r,{path:"/",sameSite:!0,secure:window.location.hostname!=="localhost"})},e}(),xA=typeof Symbol!="undefined"&&typeof Symbol.for=="function",c3=xA?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",TA=xA?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",f3="x-amz-user-agent",IA={userAgent:mr.userAgent},iu;(function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"})(iu||(iu={}));function Gc(e){var t=["provider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function l3(e){var t=["customProvider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function d3(e){var t=["customState"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function Gn(e){return e.redirectSignIn!==void 0}var xe;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"})(xe||(xe={}));function h3(e){return!!e.username}var Py;(function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"})(Py||(Py={}));/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var p3=function(){function e(r){var n=r||{},i=n.ValidationData,o=n.Username,a=n.Password,s=n.AuthParameters,c=n.ClientMetadata;this.validationData=i||{},this.authParameters=s||{},this.clientMetadata=c||{},this.username=o,this.password=a}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Te={},Yu={};Yu.byteLength=y3;Yu.toByteArray=w3;Yu.fromByteArray=S3;var Ur=[],or=[],v3=typeof Uint8Array!="undefined"?Uint8Array:Array,Vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bi=0,g3=Vc.length;bi<g3;++bi)Ur[bi]=Vc[bi],or[Vc.charCodeAt(bi)]=bi;or["-".charCodeAt(0)]=62;or["_".charCodeAt(0)]=63;function OA(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function y3(e){var t=OA(e),r=t[0],n=t[1];return(r+n)*3/4-n}function m3(e,t,r){return(t+r)*3/4-r}function w3(e){var t,r=OA(e),n=r[0],i=r[1],o=new v3(m3(e,n,i)),a=0,s=i>0?n-4:n,c;for(c=0;c<s;c+=4)t=or[e.charCodeAt(c)]<<18|or[e.charCodeAt(c+1)]<<12|or[e.charCodeAt(c+2)]<<6|or[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=or[e.charCodeAt(c)]<<2|or[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=or[e.charCodeAt(c)]<<10|or[e.charCodeAt(c+1)]<<4|or[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function b3(e){return Ur[e>>18&63]+Ur[e>>12&63]+Ur[e>>6&63]+Ur[e&63]}function _3(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(b3(n));return i.join("")}function S3(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(_3(e,a,a+o>s?s:a+o));return n===1?(t=e[r-1],i.push(Ur[t>>2]+Ur[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ur[t>>10]+Ur[t>>4&63]+Ur[t<<2&63]+"=")),i.join("")}var Jh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Jh.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,c=(1<<s)-1,u=c>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=o*256+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+l],l+=d,f-=8);if(o===0)o=1-u;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(h?-1:1)*a*Math.pow(2,o-n)};Jh.write=function(e,t,r,n,i,o){var a,s,c,u=o*8-i-1,f=(1<<u)-1,l=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+l>=1?t+=d/c:t+=d*Math.pow(2,1-l),t*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,i),a=a+l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=s&255,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=a&255,h+=p,a/=256,u-=8);e[r+h-p]|=g*128};var E3={}.toString,C3=Array.isArray||function(e){return E3.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var t=Yu,r=Jh,n=C3;e.Buffer=s,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=$e.TYPED_ARRAY_SUPPORT!==void 0?$e.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var x=new Uint8Array(1);return x.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},x.foo()===42&&typeof x.subarray=="function"&&x.subarray(1,1).byteLength===0}catch{return!1}}function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(x,m){if(o()<m)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(x=new Uint8Array(m),x.__proto__=s.prototype):(x===null&&(x=new s(m)),x.length=m),x}function s(x,m,w){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(x,m,w);if(typeof x=="number"){if(typeof m=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,x)}return c(this,x,m,w)}s.poolSize=8192,s._augment=function(x){return x.__proto__=s.prototype,x};function c(x,m,w,I){if(typeof m=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&m instanceof ArrayBuffer?p(x,m,w,I):typeof m=="string"?d(x,m,w):g(x,m)}s.from=function(x,m,w){return c(null,x,m,w)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0}));function u(x){if(typeof x!="number")throw new TypeError('"size" argument must be a number');if(x<0)throw new RangeError('"size" argument must not be negative')}function f(x,m,w,I){return u(m),m<=0?a(x,m):w!==void 0?typeof I=="string"?a(x,m).fill(w,I):a(x,m).fill(w):a(x,m)}s.alloc=function(x,m,w){return f(null,x,m,w)};function l(x,m){if(u(m),x=a(x,m<0?0:b(m)|0),!s.TYPED_ARRAY_SUPPORT)for(var w=0;w<m;++w)x[w]=0;return x}s.allocUnsafe=function(x){return l(null,x)},s.allocUnsafeSlow=function(x){return l(null,x)};function d(x,m,w){if((typeof w!="string"||w==="")&&(w="utf8"),!s.isEncoding(w))throw new TypeError('"encoding" must be a valid string encoding');var I=S(m,w)|0;x=a(x,I);var j=x.write(m,w);return j!==I&&(x=x.slice(0,j)),x}function h(x,m){var w=m.length<0?0:b(m.length)|0;x=a(x,w);for(var I=0;I<w;I+=1)x[I]=m[I]&255;return x}function p(x,m,w,I){if(m.byteLength,w<0||m.byteLength<w)throw new RangeError("'offset' is out of bounds");if(m.byteLength<w+(I||0))throw new RangeError("'length' is out of bounds");return w===void 0&&I===void 0?m=new Uint8Array(m):I===void 0?m=new Uint8Array(m,w):m=new Uint8Array(m,w,I),s.TYPED_ARRAY_SUPPORT?(x=m,x.__proto__=s.prototype):x=h(x,m),x}function g(x,m){if(s.isBuffer(m)){var w=b(m.length)|0;return x=a(x,w),x.length===0||m.copy(x,0,0,w),x}if(m){if(typeof ArrayBuffer!="undefined"&&m.buffer instanceof ArrayBuffer||"length"in m)return typeof m.length!="number"||pc(m.length)?a(x,0):h(x,m);if(m.type==="Buffer"&&n(m.data))return h(x,m.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(x){if(x>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return x|0}function E(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(m){return!!(m!=null&&m._isBuffer)},s.compare=function(m,w){if(!s.isBuffer(m)||!s.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(m===w)return 0;for(var I=m.length,j=w.length,te=0,O=Math.min(I,j);te<O;++te)if(m[te]!==w[te]){I=m[te],j=w[te];break}return I<j?-1:j<I?1:0},s.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(m,w){if(!n(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return s.alloc(0);var I;if(w===void 0)for(w=0,I=0;I<m.length;++I)w+=m[I].length;var j=s.allocUnsafe(w),te=0;for(I=0;I<m.length;++I){var O=m[I];if(!s.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(j,te),te+=O.length}return j};function S(x,m){if(s.isBuffer(x))return x.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(x)||x instanceof ArrayBuffer))return x.byteLength;typeof x!="string"&&(x=""+x);var w=x.length;if(w===0)return 0;for(var I=!1;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":case void 0:return Ve(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Zt(x).length;default:if(I)return Ve(x).length;m=(""+m).toLowerCase(),I=!0}}s.byteLength=S;function T(x,m,w){var I=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,m>>>=0,w<=m))return"";for(x||(x="utf8");;)switch(x){case"hex":return q(this,m,w);case"utf8":case"utf-8":return _(this,m,w);case"ascii":return z(this,m,w);case"latin1":case"binary":return $(this,m,w);case"base64":return y(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,m,w);default:if(I)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),I=!0}}s.prototype._isBuffer=!0;function N(x,m,w){var I=x[m];x[m]=x[w],x[w]=I}s.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<m;w+=2)N(this,w,w+1);return this},s.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<m;w+=4)N(this,w,w+3),N(this,w+1,w+2);return this},s.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<m;w+=8)N(this,w,w+7),N(this,w+1,w+6),N(this,w+2,w+5),N(this,w+3,w+4);return this},s.prototype.toString=function(){var m=this.length|0;return m===0?"":arguments.length===0?_(this,0,m):T.apply(this,arguments)},s.prototype.equals=function(m){if(!s.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:s.compare(this,m)===0},s.prototype.inspect=function(){var m="",w=e.INSPECT_MAX_BYTES;return this.length>0&&(m=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(m+=" ... ")),"<Buffer "+m+">"},s.prototype.compare=function(m,w,I,j,te){if(!s.isBuffer(m))throw new TypeError("Argument must be a Buffer");if(w===void 0&&(w=0),I===void 0&&(I=m?m.length:0),j===void 0&&(j=0),te===void 0&&(te=this.length),w<0||I>m.length||j<0||te>this.length)throw new RangeError("out of range index");if(j>=te&&w>=I)return 0;if(j>=te)return-1;if(w>=I)return 1;if(w>>>=0,I>>>=0,j>>>=0,te>>>=0,this===m)return 0;for(var O=te-j,K=I-w,Y=Math.min(O,K),ie=this.slice(j,te),oe=m.slice(w,I),ge=0;ge<Y;++ge)if(ie[ge]!==oe[ge]){O=ie[ge],K=oe[ge];break}return O<K?-1:K<O?1:0};function k(x,m,w,I,j){if(x.length===0)return-1;if(typeof w=="string"?(I=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,isNaN(w)&&(w=j?0:x.length-1),w<0&&(w=x.length+w),w>=x.length){if(j)return-1;w=x.length-1}else if(w<0)if(j)w=0;else return-1;if(typeof m=="string"&&(m=s.from(m,I)),s.isBuffer(m))return m.length===0?-1:B(x,m,w,I,j);if(typeof m=="number")return m=m&255,s.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(x,m,w):Uint8Array.prototype.lastIndexOf.call(x,m,w):B(x,[m],w,I,j);throw new TypeError("val must be string, number or Buffer")}function B(x,m,w,I,j){var te=1,O=x.length,K=m.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(x.length<2||m.length<2)return-1;te=2,O/=2,K/=2,w/=2}function Y(ve,fe){return te===1?ve[fe]:ve.readUInt16BE(fe*te)}var ie;if(j){var oe=-1;for(ie=w;ie<O;ie++)if(Y(x,ie)===Y(m,oe===-1?0:ie-oe)){if(oe===-1&&(oe=ie),ie-oe+1===K)return oe*te}else oe!==-1&&(ie-=ie-oe),oe=-1}else for(w+K>O&&(w=O-K),ie=w;ie>=0;ie--){for(var ge=!0,pe=0;pe<K;pe++)if(Y(x,ie+pe)!==Y(m,pe)){ge=!1;break}if(ge)return ie}return-1}s.prototype.includes=function(m,w,I){return this.indexOf(m,w,I)!==-1},s.prototype.indexOf=function(m,w,I){return k(this,m,w,I,!0)},s.prototype.lastIndexOf=function(m,w,I){return k(this,m,w,I,!1)};function V(x,m,w,I){w=Number(w)||0;var j=x.length-w;I?(I=Number(I),I>j&&(I=j)):I=j;var te=m.length;if(te%2!==0)throw new TypeError("Invalid hex string");I>te/2&&(I=te/2);for(var O=0;O<I;++O){var K=parseInt(m.substr(O*2,2),16);if(isNaN(K))return O;x[w+O]=K}return O}function F(x,m,w,I){return kr(Ve(m,x.length-w),x,w,I)}function ee(x,m,w,I){return kr(wt(m),x,w,I)}function R(x,m,w,I){return ee(x,m,w,I)}function L(x,m,w,I){return kr(Zt(m),x,w,I)}function A(x,m,w,I){return kr(Lt(m,x.length-w),x,w,I)}s.prototype.write=function(m,w,I,j){if(w===void 0)j="utf8",I=this.length,w=0;else if(I===void 0&&typeof w=="string")j=w,I=this.length,w=0;else if(isFinite(w))w=w|0,isFinite(I)?(I=I|0,j===void 0&&(j="utf8")):(j=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var te=this.length-w;if((I===void 0||I>te)&&(I=te),m.length>0&&(I<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var O=!1;;)switch(j){case"hex":return V(this,m,w,I);case"utf8":case"utf-8":return F(this,m,w,I);case"ascii":return ee(this,m,w,I);case"latin1":case"binary":return R(this,m,w,I);case"base64":return L(this,m,w,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,m,w,I);default:if(O)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),O=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function y(x,m,w){return m===0&&w===x.length?t.fromByteArray(x):t.fromByteArray(x.slice(m,w))}function _(x,m,w){w=Math.min(x.length,w);for(var I=[],j=m;j<w;){var te=x[j],O=null,K=te>239?4:te>223?3:te>191?2:1;if(j+K<=w){var Y,ie,oe,ge;switch(K){case 1:te<128&&(O=te);break;case 2:Y=x[j+1],(Y&192)===128&&(ge=(te&31)<<6|Y&63,ge>127&&(O=ge));break;case 3:Y=x[j+1],ie=x[j+2],(Y&192)===128&&(ie&192)===128&&(ge=(te&15)<<12|(Y&63)<<6|ie&63,ge>2047&&(ge<55296||ge>57343)&&(O=ge));break;case 4:Y=x[j+1],ie=x[j+2],oe=x[j+3],(Y&192)===128&&(ie&192)===128&&(oe&192)===128&&(ge=(te&15)<<18|(Y&63)<<12|(ie&63)<<6|oe&63,ge>65535&&ge<1114112&&(O=ge))}}O===null?(O=65533,K=1):O>65535&&(O-=65536,I.push(O>>>10&1023|55296),O=56320|O&1023),I.push(O),j+=K}return D(I)}var C=4096;function D(x){var m=x.length;if(m<=C)return String.fromCharCode.apply(String,x);for(var w="",I=0;I<m;)w+=String.fromCharCode.apply(String,x.slice(I,I+=C));return w}function z(x,m,w){var I="";w=Math.min(x.length,w);for(var j=m;j<w;++j)I+=String.fromCharCode(x[j]&127);return I}function $(x,m,w){var I="";w=Math.min(x.length,w);for(var j=m;j<w;++j)I+=String.fromCharCode(x[j]);return I}function q(x,m,w){var I=x.length;(!m||m<0)&&(m=0),(!w||w<0||w>I)&&(w=I);for(var j="",te=m;te<w;++te)j+=Le(x[te]);return j}function H(x,m,w){for(var I=x.slice(m,w),j="",te=0;te<I.length;te+=2)j+=String.fromCharCode(I[te]+I[te+1]*256);return j}s.prototype.slice=function(m,w){var I=this.length;m=~~m,w=w===void 0?I:~~w,m<0?(m+=I,m<0&&(m=0)):m>I&&(m=I),w<0?(w+=I,w<0&&(w=0)):w>I&&(w=I),w<m&&(w=m);var j;if(s.TYPED_ARRAY_SUPPORT)j=this.subarray(m,w),j.__proto__=s.prototype;else{var te=w-m;j=new s(te,void 0);for(var O=0;O<te;++O)j[O]=this[O+m]}return j};function U(x,m,w){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+m>w)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUIntLE=function(m,w,I){m=m|0,w=w|0,I||U(m,w,this.length);for(var j=this[m],te=1,O=0;++O<w&&(te*=256);)j+=this[m+O]*te;return j},s.prototype.readUIntBE=function(m,w,I){m=m|0,w=w|0,I||U(m,w,this.length);for(var j=this[m+--w],te=1;w>0&&(te*=256);)j+=this[m+--w]*te;return j},s.prototype.readUInt8=function(m,w){return w||U(m,1,this.length),this[m]},s.prototype.readUInt16LE=function(m,w){return w||U(m,2,this.length),this[m]|this[m+1]<<8},s.prototype.readUInt16BE=function(m,w){return w||U(m,2,this.length),this[m]<<8|this[m+1]},s.prototype.readUInt32LE=function(m,w){return w||U(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},s.prototype.readUInt32BE=function(m,w){return w||U(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},s.prototype.readIntLE=function(m,w,I){m=m|0,w=w|0,I||U(m,w,this.length);for(var j=this[m],te=1,O=0;++O<w&&(te*=256);)j+=this[m+O]*te;return te*=128,j>=te&&(j-=Math.pow(2,8*w)),j},s.prototype.readIntBE=function(m,w,I){m=m|0,w=w|0,I||U(m,w,this.length);for(var j=w,te=1,O=this[m+--j];j>0&&(te*=256);)O+=this[m+--j]*te;return te*=128,O>=te&&(O-=Math.pow(2,8*w)),O},s.prototype.readInt8=function(m,w){return w||U(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},s.prototype.readInt16LE=function(m,w){w||U(m,2,this.length);var I=this[m]|this[m+1]<<8;return I&32768?I|4294901760:I},s.prototype.readInt16BE=function(m,w){w||U(m,2,this.length);var I=this[m+1]|this[m]<<8;return I&32768?I|4294901760:I},s.prototype.readInt32LE=function(m,w){return w||U(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},s.prototype.readInt32BE=function(m,w){return w||U(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},s.prototype.readFloatLE=function(m,w){return w||U(m,4,this.length),r.read(this,m,!0,23,4)},s.prototype.readFloatBE=function(m,w){return w||U(m,4,this.length),r.read(this,m,!1,23,4)},s.prototype.readDoubleLE=function(m,w){return w||U(m,8,this.length),r.read(this,m,!0,52,8)},s.prototype.readDoubleBE=function(m,w){return w||U(m,8,this.length),r.read(this,m,!1,52,8)};function W(x,m,w,I,j,te){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>j||m<te)throw new RangeError('"value" argument is out of bounds');if(w+I>x.length)throw new RangeError("Index out of range")}s.prototype.writeUIntLE=function(m,w,I,j){if(m=+m,w=w|0,I=I|0,!j){var te=Math.pow(2,8*I)-1;W(this,m,w,I,te,0)}var O=1,K=0;for(this[w]=m&255;++K<I&&(O*=256);)this[w+K]=m/O&255;return w+I},s.prototype.writeUIntBE=function(m,w,I,j){if(m=+m,w=w|0,I=I|0,!j){var te=Math.pow(2,8*I)-1;W(this,m,w,I,te,0)}var O=I-1,K=1;for(this[w+O]=m&255;--O>=0&&(K*=256);)this[w+O]=m/K&255;return w+I},s.prototype.writeUInt8=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,1,255,0),s.TYPED_ARRAY_SUPPORT||(m=Math.floor(m)),this[w]=m&255,w+1};function Q(x,m,w,I){m<0&&(m=65535+m+1);for(var j=0,te=Math.min(x.length-w,2);j<te;++j)x[w+j]=(m&255<<8*(I?j:1-j))>>>(I?j:1-j)*8}s.prototype.writeUInt16LE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[w]=m&255,this[w+1]=m>>>8):Q(this,m,w,!0),w+2},s.prototype.writeUInt16BE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[w]=m>>>8,this[w+1]=m&255):Q(this,m,w,!1),w+2};function M(x,m,w,I){m<0&&(m=4294967295+m+1);for(var j=0,te=Math.min(x.length-w,4);j<te;++j)x[w+j]=m>>>(I?j:3-j)*8&255}s.prototype.writeUInt32LE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[w+3]=m>>>24,this[w+2]=m>>>16,this[w+1]=m>>>8,this[w]=m&255):M(this,m,w,!0),w+4},s.prototype.writeUInt32BE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=m&255):M(this,m,w,!1),w+4},s.prototype.writeIntLE=function(m,w,I,j){if(m=+m,w=w|0,!j){var te=Math.pow(2,8*I-1);W(this,m,w,I,te-1,-te)}var O=0,K=1,Y=0;for(this[w]=m&255;++O<I&&(K*=256);)m<0&&Y===0&&this[w+O-1]!==0&&(Y=1),this[w+O]=(m/K>>0)-Y&255;return w+I},s.prototype.writeIntBE=function(m,w,I,j){if(m=+m,w=w|0,!j){var te=Math.pow(2,8*I-1);W(this,m,w,I,te-1,-te)}var O=I-1,K=1,Y=0;for(this[w+O]=m&255;--O>=0&&(K*=256);)m<0&&Y===0&&this[w+O+1]!==0&&(Y=1),this[w+O]=(m/K>>0)-Y&255;return w+I},s.prototype.writeInt8=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,1,127,-128),s.TYPED_ARRAY_SUPPORT||(m=Math.floor(m)),m<0&&(m=255+m+1),this[w]=m&255,w+1},s.prototype.writeInt16LE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[w]=m&255,this[w+1]=m>>>8):Q(this,m,w,!0),w+2},s.prototype.writeInt16BE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[w]=m>>>8,this[w+1]=m&255):Q(this,m,w,!1),w+2},s.prototype.writeInt32LE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[w]=m&255,this[w+1]=m>>>8,this[w+2]=m>>>16,this[w+3]=m>>>24):M(this,m,w,!0),w+4},s.prototype.writeInt32BE=function(m,w,I){return m=+m,w=w|0,I||W(this,m,w,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),s.TYPED_ARRAY_SUPPORT?(this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=m&255):M(this,m,w,!1),w+4};function ce(x,m,w,I,j,te){if(w+I>x.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function ae(x,m,w,I,j){return j||ce(x,m,w,4),r.write(x,m,w,I,23,4),w+4}s.prototype.writeFloatLE=function(m,w,I){return ae(this,m,w,!0,I)},s.prototype.writeFloatBE=function(m,w,I){return ae(this,m,w,!1,I)};function ye(x,m,w,I,j){return j||ce(x,m,w,8),r.write(x,m,w,I,52,8),w+8}s.prototype.writeDoubleLE=function(m,w,I){return ye(this,m,w,!0,I)},s.prototype.writeDoubleBE=function(m,w,I){return ye(this,m,w,!1,I)},s.prototype.copy=function(m,w,I,j){if(I||(I=0),!j&&j!==0&&(j=this.length),w>=m.length&&(w=m.length),w||(w=0),j>0&&j<I&&(j=I),j===I||m.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("sourceStart out of bounds");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),m.length-w<j-I&&(j=m.length-w+I);var te=j-I,O;if(this===m&&I<w&&w<j)for(O=te-1;O>=0;--O)m[O+w]=this[O+I];else if(te<1e3||!s.TYPED_ARRAY_SUPPORT)for(O=0;O<te;++O)m[O+w]=this[O+I];else Uint8Array.prototype.set.call(m,this.subarray(I,I+te),w);return te},s.prototype.fill=function(m,w,I,j){if(typeof m=="string"){if(typeof w=="string"?(j=w,w=0,I=this.length):typeof I=="string"&&(j=I,I=this.length),m.length===1){var te=m.charCodeAt(0);te<256&&(m=te)}if(j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!s.isEncoding(j))throw new TypeError("Unknown encoding: "+j)}else typeof m=="number"&&(m=m&255);if(w<0||this.length<w||this.length<I)throw new RangeError("Out of range index");if(I<=w)return this;w=w>>>0,I=I===void 0?this.length:I>>>0,m||(m=0);var O;if(typeof m=="number")for(O=w;O<I;++O)this[O]=m;else{var K=s.isBuffer(m)?m:Ve(new s(m,j).toString()),Y=K.length;for(O=0;O<I-w;++O)this[O+w]=K[O%Y]}return this};var de=/[^+\/0-9A-Za-z-_]/g;function Oe(x){if(x=xt(x).replace(de,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function xt(x){return x.trim?x.trim():x.replace(/^\s+|\s+$/g,"")}function Le(x){return x<16?"0"+x.toString(16):x.toString(16)}function Ve(x,m){m=m||1/0;for(var w,I=x.length,j=null,te=[],O=0;O<I;++O){if(w=x.charCodeAt(O),w>55295&&w<57344){if(!j){if(w>56319){(m-=3)>-1&&te.push(239,191,189);continue}else if(O+1===I){(m-=3)>-1&&te.push(239,191,189);continue}j=w;continue}if(w<56320){(m-=3)>-1&&te.push(239,191,189),j=w;continue}w=(j-55296<<10|w-56320)+65536}else j&&(m-=3)>-1&&te.push(239,191,189);if(j=null,w<128){if((m-=1)<0)break;te.push(w)}else if(w<2048){if((m-=2)<0)break;te.push(w>>6|192,w&63|128)}else if(w<65536){if((m-=3)<0)break;te.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((m-=4)<0)break;te.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return te}function wt(x){for(var m=[],w=0;w<x.length;++w)m.push(x.charCodeAt(w)&255);return m}function Lt(x,m){for(var w,I,j,te=[],O=0;O<x.length&&!((m-=2)<0);++O)w=x.charCodeAt(O),I=w>>8,j=w%256,te.push(j),te.push(I);return te}function Zt(x){return t.toByteArray(Oe(x))}function kr(x,m,w,I){for(var j=0;j<I&&!(j+w>=m.length||j>=x.length);++j)m[j+w]=x[j];return j}function pc(x){return x!==x}})(Te);var li={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($e,function(){var r=r||function(n,i){var o;if(typeof window!="undefined"&&window.crypto&&(o=window.crypto),typeof self!="undefined"&&self.crypto&&(o=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window!="undefined"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof $e!="undefined"&&$e.crypto&&(o=$e.crypto),!o&&typeof ck=="function")try{o=require("crypto")}catch{}var a=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function S(){}return function(T){var N;return S.prototype=T,N=new S,S.prototype=null,N}}(),c={},u=c.lib={},f=u.Base=function(){return{extend:function(S){var T=s(this);return S&&T.mixIn(S),(!T.hasOwnProperty("init")||this.init===T.init)&&(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var T in S)S.hasOwnProperty(T)&&(this[T]=S[T]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=f.extend({init:function(S,T){S=this.words=S||[],T!=i?this.sigBytes=T:this.sigBytes=S.length*4},toString:function(S){return(S||h).stringify(this)},concat:function(S){var T=this.words,N=S.words,k=this.sigBytes,B=S.sigBytes;if(this.clamp(),k%4)for(var V=0;V<B;V++){var F=N[V>>>2]>>>24-V%4*8&255;T[k+V>>>2]|=F<<24-(k+V)%4*8}else for(var ee=0;ee<B;ee+=4)T[k+ee>>>2]=N[ee>>>2];return this.sigBytes+=B,this},clamp:function(){var S=this.words,T=this.sigBytes;S[T>>>2]&=4294967295<<32-T%4*8,S.length=n.ceil(T/4)},clone:function(){var S=f.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var T=[],N=0;N<S;N+=4)T.push(a());return new l.init(T,S)}}),d=c.enc={},h=d.Hex={stringify:function(S){for(var T=S.words,N=S.sigBytes,k=[],B=0;B<N;B++){var V=T[B>>>2]>>>24-B%4*8&255;k.push((V>>>4).toString(16)),k.push((V&15).toString(16))}return k.join("")},parse:function(S){for(var T=S.length,N=[],k=0;k<T;k+=2)N[k>>>3]|=parseInt(S.substr(k,2),16)<<24-k%8*4;return new l.init(N,T/2)}},p=d.Latin1={stringify:function(S){for(var T=S.words,N=S.sigBytes,k=[],B=0;B<N;B++){var V=T[B>>>2]>>>24-B%4*8&255;k.push(String.fromCharCode(V))}return k.join("")},parse:function(S){for(var T=S.length,N=[],k=0;k<T;k++)N[k>>>2]|=(S.charCodeAt(k)&255)<<24-k%4*8;return new l.init(N,T)}},g=d.Utf8={stringify:function(S){try{return decodeURIComponent(escape(p.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return p.parse(unescape(encodeURIComponent(S)))}},b=u.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=g.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var T,N=this._data,k=N.words,B=N.sigBytes,V=this.blockSize,F=V*4,ee=B/F;S?ee=n.ceil(ee):ee=n.max((ee|0)-this._minBufferSize,0);var R=ee*V,L=n.min(R*4,B);if(R){for(var A=0;A<R;A+=V)this._doProcessBlock(k,A);T=k.splice(0,R),N.sigBytes-=L}return new l.init(T,L)},clone:function(){var S=f.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});u.Hasher=b.extend({cfg:f.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var T=this._doFinalize();return T},blockSize:16,_createHelper:function(S){return function(T,N){return new S.init(N).finalize(T)}},_createHmacHelper:function(S){return function(T,N){return new E.HMAC.init(S,N).finalize(T)}}});var E=c.algo={};return c}(Math);return r})})(li);var En=li.exports,A3={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,o=i.WordArray,a=o.init,s=o.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,f=[],l=0;l<u;l++)f[l>>>2]|=c[l]<<24-l%4*8;a.call(this,f,u)}else a.apply(this,arguments)};s.prototype=o}}(),r.lib.WordArray})})(A3);var Yh={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){return function(n){var i=r,o=i.lib,a=o.WordArray,s=o.Hasher,c=i.algo,u=[],f=[];(function(){function h(E){for(var S=n.sqrt(E),T=2;T<=S;T++)if(!(E%T))return!1;return!0}function p(E){return(E-(E|0))*4294967296|0}for(var g=2,b=0;b<64;)h(g)&&(b<8&&(u[b]=p(n.pow(g,1/2))),f[b]=p(n.pow(g,1/3)),b++),g++})();var l=[],d=c.SHA256=s.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(h,p){for(var g=this._hash.words,b=g[0],E=g[1],S=g[2],T=g[3],N=g[4],k=g[5],B=g[6],V=g[7],F=0;F<64;F++){if(F<16)l[F]=h[p+F]|0;else{var ee=l[F-15],R=(ee<<25|ee>>>7)^(ee<<14|ee>>>18)^ee>>>3,L=l[F-2],A=(L<<15|L>>>17)^(L<<13|L>>>19)^L>>>10;l[F]=R+l[F-7]+A+l[F-16]}var y=N&k^~N&B,_=b&E^b&S^E&S,C=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),D=(N<<26|N>>>6)^(N<<21|N>>>11)^(N<<7|N>>>25),z=V+D+y+f[F]+l[F],$=C+_;V=B,B=k,k=N,N=T+z|0,T=S,S=E,E=b,b=z+$|0}g[0]=g[0]+b|0,g[1]=g[1]+E|0,g[2]=g[2]+S|0,g[3]=g[3]+T|0,g[4]=g[4]+N|0,g[5]=g[5]+k|0,g[6]=g[6]+B|0,g[7]=g[7]+V|0},_doFinalize:function(){var h=this._data,p=h.words,g=this._nDataBytes*8,b=h.sigBytes*8;return p[b>>>5]|=128<<24-b%32,p[(b+64>>>9<<4)+14]=n.floor(g/4294967296),p[(b+64>>>9<<4)+15]=g,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=s._createHelper(d),i.HmacSHA256=s._createHmacHelper(d)}(Math),r.SHA256})})(Yh);var PA=Yh.exports,kA={exports:{}},RA={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){(function(){var n=r,i=n.lib,o=i.Base,a=n.enc,s=a.Utf8,c=n.algo;c.HMAC=o.extend({init:function(u,f){u=this._hasher=new u.init,typeof f=="string"&&(f=s.parse(f));var l=u.blockSize,d=l*4;f.sigBytes>d&&(f=u.finalize(f)),f.clamp();for(var h=this._oKey=f.clone(),p=this._iKey=f.clone(),g=h.words,b=p.words,E=0;E<l;E++)g[E]^=1549556828,b[E]^=909522486;h.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var f=this._hasher,l=f.finalize(u);f.reset();var d=f.finalize(this._oKey.clone().concat(l));return d}})})()})})(RA);(function(e,t){(function(r,n,i){e.exports=n(li.exports,Yh.exports,RA.exports)})($e,function(r){return r.HmacSHA256})})(kA);var ou=kA.exports,ur;typeof window!="undefined"&&window.crypto&&(ur=window.crypto);!ur&&typeof window!="undefined"&&window.msCrypto&&(ur=window.msCrypto);!ur&&typeof global!="undefined"&&global.crypto&&(ur=global.crypto);if(!ur&&typeof require=="function")try{ur=require("crypto")}catch{}function x3(){if(ur){if(typeof ur.getRandomValues=="function")try{return ur.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ur.randomBytes=="function")try{return ur.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function T3(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((o&15).toString(16))}return n.join("")}var I3=function(){function e(r,n){r=this.words=r||[],n!=null?this.sigBytes=n:this.sigBytes=r.length*4}var t=e.prototype;return t.random=function(n){for(var i=[],o=0;o<n;o+=4)i.push(x3());return new e(i,n)},t.toString=function(){return T3(this)},e}();function se(e,t){e!=null&&this.fromString(e,t)}function Ct(){return new se(null)}var Tn,O3=0xdeadbeefcafe,ky=(O3&16777215)==15715070;function P3(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=a&67108863}return i}function k3(e,t,r,n,i,o){for(var a=t&32767,s=t>>15;--o>=0;){var c=this[e]&32767,u=this[e++]>>15,f=s*c+u*a;c=a*c+((f&32767)<<15)+r[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+s*u+(i>>>30),r[n++]=c&1073741823}return i}function R3(e,t,r,n,i,o){for(var a=t&16383,s=t>>14;--o>=0;){var c=this[e]&16383,u=this[e++]>>14,f=s*c+u*a;c=a*c+((f&16383)<<14)+r[n]+i,i=(c>>28)+(f>>14)+s*u,r[n++]=c&268435455}return i}var Ry=typeof navigator!="undefined";Ry&&ky&&navigator.appName=="Microsoft Internet Explorer"?(se.prototype.am=k3,Tn=30):Ry&&ky&&navigator.appName!="Netscape"?(se.prototype.am=P3,Tn=26):(se.prototype.am=R3,Tn=28);se.prototype.DB=Tn;se.prototype.DM=(1<<Tn)-1;se.prototype.DV=1<<Tn;var Xh=52;se.prototype.FV=Math.pow(2,Xh);se.prototype.F1=Xh-Tn;se.prototype.F2=2*Tn-Xh;var N3="0123456789abcdefghijklmnopqrstuvwxyz",Xu=new Array,eo,cr;eo="0".charCodeAt(0);for(cr=0;cr<=9;++cr)Xu[eo++]=cr;eo="a".charCodeAt(0);for(cr=10;cr<36;++cr)Xu[eo++]=cr;eo="A".charCodeAt(0);for(cr=10;cr<36;++cr)Xu[eo++]=cr;function Ny(e){return N3.charAt(e)}function D3(e,t){var r=Xu[e.charCodeAt(t)];return r==null?-1:r}function M3(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function L3(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Qh(e){var t=Ct();return t.fromInt(e),t}function U3(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=D3(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}this.clamp(),i&&se.ZERO.subTo(this,this)}function B3(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function F3(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<t)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=Ny(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=Ny(n));return i?o:"0"}function j3(){var e=Ct();return se.ZERO.subTo(this,e),e}function $3(){return this.s<0?this.negate():this}function z3(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function Zh(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function q3(){return this.t<=0?0:this.DB*(this.t-1)+Zh(this[this.t-1]^this.s&this.DM)}function K3(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function H3(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function G3(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}function V3(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function W3(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function J3(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&se.ZERO.subTo(t,t)}function Y3(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function X3(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Ct());var o=Ct(),a=this.s,s=e.s,c=this.DB-Zh(n[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,f=o[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/l,h=(1<<this.F1)/l,p=1<<this.F2,g=r.t,b=g-u,E=t==null?Ct():t;for(o.dlShiftTo(b,E),r.compareTo(E)>=0&&(r[r.t++]=1,r.subTo(E,r)),se.ONE.dlShiftTo(u,E),E.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--b>=0;){var S=r[--g]==f?this.DM:Math.floor(r[g]*d+(r[g-1]+p)*h);if((r[g]+=o.am(0,S,r,b,0,u))<S)for(o.dlShiftTo(b,E),r.subTo(E,r);r[g]<--S;)r.subTo(E,r)}t!=null&&(r.drShiftTo(u,t),a!=s&&se.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&se.ZERO.subTo(r,r)}}}function Q3(e){var t=Ct();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(se.ZERO)>0&&e.subTo(t,t),t}function Z3(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function eB(e){return this.compareTo(e)==0}function tB(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function rB(e){var t=Ct();return this.addTo(e,t),t}function nB(e){var t=Ct();return this.subTo(e,t),t}function iB(e){var t=Ct();return this.multiplyTo(e,t),t}function oB(e){var t=Ct();return this.divRemTo(e,t,null),t}function to(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function aB(e){var t=Ct();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(se.ZERO)>0&&this.m.subTo(t,t),t}function sB(e){var t=Ct();return e.copyTo(t),this.reduce(t),t}function uB(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function cB(e,t){e.squareTo(t),this.reduce(t)}function fB(e,t,r){e.multiplyTo(t,r),this.reduce(r)}to.prototype.convert=aB;to.prototype.revert=sB;to.prototype.reduce=uB;to.prototype.mulTo=fB;to.prototype.sqrTo=cB;function lB(e,t,r){var n=e.bitLength(),i,o=Qh(1),a=new to(t);if(n<=0)return o;n<18?i=1:n<48?i=3:n<144?i=4:n<768?i=5:i=6;var s=new Array,c=3,u=i-1,f=(1<<i)-1;if(s[1]=a.convert(this),i>1){var l=Ct();for(a.sqrTo(s[1],l);c<=f;)s[c]=Ct(),a.mulTo(l,s[c-2],s[c]),c+=2}var d=e.t-1,h,p=!0,g=Ct(),b;for(n=Zh(e[d])-1;d>=0;){for(n>=u?h=e[d]>>n-u&f:(h=(e[d]&(1<<n+1)-1)<<u-n,d>0&&(h|=e[d-1]>>this.DB+n-u)),c=i;(h&1)==0;)h>>=1,--c;if((n-=c)<0&&(n+=this.DB,--d),p)s[h].copyTo(o),p=!1;else{for(;c>1;)a.sqrTo(o,g),a.sqrTo(g,o),c-=2;c>0?a.sqrTo(o,g):(b=o,o=g,g=b),a.mulTo(g,s[h],o)}for(;d>=0&&(e[d]&1<<n)==0;)a.sqrTo(o,g),b=o,o=g,g=b,--n<0&&(n=this.DB-1,--d)}var E=a.revert(o);return r(null,E),E}se.prototype.copyTo=M3;se.prototype.fromInt=L3;se.prototype.fromString=U3;se.prototype.clamp=B3;se.prototype.dlShiftTo=K3;se.prototype.drShiftTo=H3;se.prototype.lShiftTo=G3;se.prototype.rShiftTo=V3;se.prototype.subTo=W3;se.prototype.multiplyTo=J3;se.prototype.squareTo=Y3;se.prototype.divRemTo=X3;se.prototype.invDigit=Z3;se.prototype.addTo=tB;se.prototype.toString=F3;se.prototype.negate=j3;se.prototype.abs=$3;se.prototype.compareTo=z3;se.prototype.bitLength=q3;se.prototype.mod=Q3;se.prototype.equals=eB;se.prototype.add=rB;se.prototype.subtract=nB;se.prototype.multiply=iB;se.prototype.divide=oB;se.prototype.modPow=lB;se.ZERO=Qh(0);se.ONE=Qh(1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function Wc(e){return Te.Buffer.from(new I3().random(e).toString(),"hex")}var dB=/^[89a-f]/i,hB="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",pB="userAttributes.",_i=function(){function e(r){this.N=new se(hB,16),this.g=new se("2",16),this.k=new se(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Te.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(n){var i=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,function(o,a){o&&n(o,null),i.largeAValue=a,n(null,i.largeAValue)})},t.generateRandomSmallA=function(){var n=Wc(128).toString("hex"),i=new se(n,16);return i},t.generateRandomString=function(){return Wc(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(n,i,o){var a=this;this.randomPassword=this.generateRandomString();var s=""+n+i+":"+this.randomPassword,c=this.hash(s),u=Wc(16).toString("hex");this.SaltToHashDevices=this.padHex(new se(u,16)),this.g.modPow(new se(this.hexHash(this.SaltToHashDevices+c),16),this.N,function(f,l){f&&o(f,null),a.verifierDevices=a.padHex(l),o(null,null)})},t.calculateA=function(n,i){var o=this;this.g.modPow(n,this.N,function(a,s){a&&i(a,null),s.mod(o.N).equals(se.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,s)})},t.calculateU=function(n,i){this.UHexHash=this.hexHash(this.padHex(n)+this.padHex(i));var o=new se(this.UHexHash,16);return o},t.hash=function(n){var i=n instanceof Te.Buffer?En.lib.WordArray.create(n):n,o=PA(i).toString();return new Array(64-o.length).join("0")+o},t.hexHash=function(n){return this.hash(Te.Buffer.from(n,"hex"))},t.computehkdf=function(n,i){var o=En.lib.WordArray.create(Te.Buffer.concat([this.infoBits,Te.Buffer.from(String.fromCharCode(1),"utf8")])),a=n instanceof Te.Buffer?En.lib.WordArray.create(n):n,s=i instanceof Te.Buffer?En.lib.WordArray.create(i):i,c=ou(a,s),u=ou(o,c);return Te.Buffer.from(u.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(n,i,o,a,s){var c=this;if(o.mod(this.N).equals(se.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,o),this.UValue.equals(se.ZERO))throw new Error("U cannot be zero.");var u=""+this.poolName+n+":"+i,f=this.hash(u),l=new se(this.hexHash(this.padHex(a)+f),16);this.calculateS(l,o,function(d,h){d&&s(d,null);var p=c.computehkdf(Te.Buffer.from(c.padHex(h),"hex"),Te.Buffer.from(c.padHex(c.UValue),"hex"));s(null,p)})},t.calculateS=function(n,i,o){var a=this;this.g.modPow(n,this.N,function(s,c){s&&o(s,null);var u=i.subtract(a.k.multiply(c));u.modPow(a.smallAValue.add(a.UValue.multiply(n)),a.N,function(f,l){f&&o(f,null),o(null,l.mod(a.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return pB},t.padHex=function(n){if(!(n instanceof se))throw new Error("Not a BigInteger");var i=n.compareTo(se.ZERO)<0,o=n.abs().toString(16);if(o=o.length%2!==0?"0"+o:o,o=dB.test(o)?"00"+o:o,i){var a=o.split("").map(function(c){var u=~parseInt(c,16)&15;return"0123456789ABCDEF".charAt(u)}).join(""),s=new se(a,16).add(se.ONE);o=s.toString(16),o.toUpperCase().startsWith("FF8")&&(o=o.substring(2))}return o},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var NA=function(){function e(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var n=this.jwtToken.split(".")[1];try{return JSON.parse(Te.Buffer.from(n,"base64").toString("utf8"))}catch{return{}}},e}();function vB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Al(e,t)}function Al(e,t){return Al=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Al(e,t)}var xl=function(e){vB(t,e);function t(r){var n=r===void 0?{}:r,i=n.AccessToken;return e.call(this,i||"")||this}return t}(NA);function gB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tl(e,t)}function Tl(e,t){return Tl=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Tl(e,t)}var Il=function(e){gB(t,e);function t(r){var n=r===void 0?{}:r,i=n.IdToken;return e.call(this,i||"")||this}return t}(NA);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Ol=function(){function e(r){var n=r===void 0?{}:r,i=n.RefreshToken;this.token=i||""}var t=e.prototype;return t.getToken=function(){return this.token},e}(),DA={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){return function(){var n=r,i=n.lib,o=i.WordArray,a=n.enc;a.Base64={stringify:function(c){var u=c.words,f=c.sigBytes,l=this._map;c.clamp();for(var d=[],h=0;h<f;h+=3)for(var p=u[h>>>2]>>>24-h%4*8&255,g=u[h+1>>>2]>>>24-(h+1)%4*8&255,b=u[h+2>>>2]>>>24-(h+2)%4*8&255,E=p<<16|g<<8|b,S=0;S<4&&h+S*.75<f;S++)d.push(l.charAt(E>>>6*(3-S)&63));var T=l.charAt(64);if(T)for(;d.length%4;)d.push(T);return d.join("")},parse:function(c){var u=c.length,f=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var d=0;d<f.length;d++)l[f.charCodeAt(d)]=d}var h=f.charAt(64);if(h){var p=c.indexOf(h);p!==-1&&(u=p)}return s(c,u,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,u,f){for(var l=[],d=0,h=0;h<u;h++)if(h%4){var p=f[c.charCodeAt(h-1)]<<h%4*2,g=f[c.charCodeAt(h)]>>>6-h%4*2,b=p|g;l[d>>>2]|=b<<24-d%4*8,d++}return o.create(l,d)}}(),r.enc.Base64})})(DA);var Pl=DA.exports;/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var kl=function(){function e(r){var n=r===void 0?{}:r,i=n.IdToken,o=n.RefreshToken,a=n.AccessToken,s=n.ClockDrift;if(a==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=o,this.accessToken=a,this.clockDrift=s===void 0?this.calculateClockDrift():s}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){var n=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return n-i},t.isValid=function(){var n=Math.floor(new Date/1e3),i=n-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var yB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Dy=function(){function e(){}var t=e.prototype;return t.getNowString=function(){var n=new Date,i=mB[n.getUTCDay()],o=yB[n.getUTCMonth()],a=n.getUTCDate(),s=n.getUTCHours();s<10&&(s="0"+s);var c=n.getUTCMinutes();c<10&&(c="0"+c);var u=n.getUTCSeconds();u<10&&(u="0"+u);var f=n.getUTCFullYear(),l=i+" "+o+" "+a+" "+s+":"+c+":"+u+" UTC "+f;return l},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var ki=function(){function e(r){var n=r===void 0?{}:r,i=n.Name,o=n.Value;this.Name=i||"",this.Value=o||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(n){return this.Value=n,this},t.getName=function(){return this.Name},t.setName=function(n){return this.Name=n,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Un={},wB=function(){function e(){}return e.setItem=function(r,n){return Un[r]=n,Un[r]},e.getItem=function(r){return Object.prototype.hasOwnProperty.call(Un,r)?Un[r]:void 0},e.removeItem=function(r){return delete Un[r]},e.clear=function(){return Un={},Un},e}(),MA=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=wB}}var t=e.prototype;return t.getStorage=function(){return this.storageWindow},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var bB=typeof navigator!="undefined",My=bB?navigator.userAgent:"nodejs",Rl=function(){function e(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new MA().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(n){this.clearCachedUserData(),this.signInUserSession=n,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(n){this.authenticationFlowType=n},t.initiateAuth=function(n,i){var o=this,a=n.getAuthParameters();a.USERNAME=this.username;var s=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),c={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:a,ClientMetadata:s};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(u,f){if(u)return i.onFailure(u);var l=f.ChallengeName,d=f.ChallengeParameters;return l==="CUSTOM_CHALLENGE"?(o.Session=f.Session,i.customChallenge(d)):(o.signInUserSession=o.getCognitoUserSession(f.AuthenticationResult),o.cacheTokens(),i.onSuccess(o.signInUserSession))})},t.authenticateUser=function(n,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(n,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(n,i):i.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(n,i){var o=this,a=new _i(this.pool.getUserPoolId().split("_")[1]),s=new Dy,c,u,f={};this.deviceKey!=null&&(f.DEVICE_KEY=this.deviceKey),f.USERNAME=this.username,a.getLargeAValue(function(l,d){l&&i.onFailure(l),f.SRP_A=d.toString(16),o.authenticationFlowType==="CUSTOM_AUTH"&&(f.CHALLENGE_NAME="SRP_A");var h=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),p={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:f,ClientMetadata:h};o.getUserContextData(o.username)&&(p.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",p,function(g,b){if(g)return i.onFailure(g);var E=b.ChallengeParameters;o.username=E.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",c=new se(E.SRP_B,16),u=new se(E.SALT,16),o.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(o.username,n.getPassword(),c,u,function(S,T){S&&i.onFailure(S);var N=s.getNowString(),k=En.lib.WordArray.create(Te.Buffer.concat([Te.Buffer.from(o.pool.getUserPoolId().split("_")[1],"utf8"),Te.Buffer.from(o.username,"utf8"),Te.Buffer.from(E.SECRET_BLOCK,"base64"),Te.Buffer.from(N,"utf8")])),B=En.lib.WordArray.create(T),V=Pl.stringify(ou(k,B)),F={};F.USERNAME=o.username,F.PASSWORD_CLAIM_SECRET_BLOCK=E.SECRET_BLOCK,F.TIMESTAMP=N,F.PASSWORD_CLAIM_SIGNATURE=V,o.deviceKey!=null&&(F.DEVICE_KEY=o.deviceKey);var ee=function L(A,y){return o.client.request("RespondToAuthChallenge",A,function(_,C){return _&&_.code==="ResourceNotFoundException"&&_.message.toLowerCase().indexOf("device")!==-1?(F.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),L(A,y)):y(_,C)})},R={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:F,Session:b.Session,ClientMetadata:h};o.getUserContextData()&&(R.UserContextData=o.getUserContextData()),ee(R,function(L,A){return L?i.onFailure(L):o.authenticateUserInternal(A,a,i)})})})})},t.authenticateUserPlainUsernamePassword=function(n,i){var o=this,a={};if(a.USERNAME=this.username,a.PASSWORD=n.getPassword(),!a.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var s=new _i(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var c=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),u={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:a,ClientMetadata:c};this.getUserContextData(this.username)&&(u.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",u,function(f,l){return f?i.onFailure(f):o.authenticateUserInternal(l,s,i)})},t.authenticateUserInternal=function(n,i,o){var a=this,s=n.ChallengeName,c=n.ChallengeParameters;if(s==="SMS_MFA")return this.Session=n.Session,o.mfaRequired(s,c);if(s==="SELECT_MFA_TYPE")return this.Session=n.Session,o.selectMFAType(s,c);if(s==="MFA_SETUP")return this.Session=n.Session,o.mfaSetup(s,c);if(s==="SOFTWARE_TOKEN_MFA")return this.Session=n.Session,o.totpRequired(s,c);if(s==="CUSTOM_CHALLENGE")return this.Session=n.Session,o.customChallenge(c);if(s==="NEW_PASSWORD_REQUIRED"){this.Session=n.Session;var u=null,f=null,l=[],d=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(c&&(u=JSON.parse(n.ChallengeParameters.userAttributes),f=JSON.parse(n.ChallengeParameters.requiredAttributes)),f)for(var h=0;h<f.length;h++)l[h]=f[h].substr(d.length);return o.newPasswordRequired(u,l)}if(s==="DEVICE_SRP_AUTH"){this.Session=n.Session,this.getDeviceResponse(o);return}this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=s,this.cacheTokens();var p=n.AuthenticationResult.NewDeviceMetadata;if(p==null)return o.onSuccess(this.signInUserSession);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return o.onFailure(g);var b={Salt:Te.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Te.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=b.PasswordVerifier,a.deviceGroupKey=p.DeviceGroupKey,a.randomPassword=i.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:p.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:b,DeviceName:My},function(E,S){return E?o.onFailure(E):(a.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),S.UserConfirmationNecessary===!0?o.onSuccess(a.signInUserSession,S.UserConfirmationNecessary):o.onSuccess(a.signInUserSession))})})},t.completeNewPasswordChallenge=function(n,i,o,a){var s=this;if(!n)return o.onFailure(new Error("New password is required."));var c=new _i(this.pool.getUserPoolId().split("_")[1]),u=c.getNewPasswordRequiredChallengeUserAttributePrefix(),f={};i&&Object.keys(i).forEach(function(d){f[u+d]=i[d]}),f.NEW_PASSWORD=n,f.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:f,Session:this.Session,ClientMetadata:a};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(d,h){return d?o.onFailure(d):s.authenticateUserInternal(h,c,o)})},t.getDeviceResponse=function(n,i){var o=this,a=new _i(this.deviceGroupKey),s=new Dy,c={};c.USERNAME=this.username,c.DEVICE_KEY=this.deviceKey,a.getLargeAValue(function(u,f){u&&n.onFailure(u),c.SRP_A=f.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o.pool.getClientId(),ChallengeResponses:c,ClientMetadata:i,Session:o.Session};o.getUserContextData()&&(l.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",l,function(d,h){if(d)return n.onFailure(d);var p=h.ChallengeParameters,g=new se(p.SRP_B,16),b=new se(p.SALT,16);a.getPasswordAuthenticationKey(o.deviceKey,o.randomPassword,g,b,function(E,S){if(E)return n.onFailure(E);var T=s.getNowString(),N=En.lib.WordArray.create(Te.Buffer.concat([Te.Buffer.from(o.deviceGroupKey,"utf8"),Te.Buffer.from(o.deviceKey,"utf8"),Te.Buffer.from(p.SECRET_BLOCK,"base64"),Te.Buffer.from(T,"utf8")])),k=En.lib.WordArray.create(S),B=Pl.stringify(ou(N,k)),V={};V.USERNAME=o.username,V.PASSWORD_CLAIM_SECRET_BLOCK=p.SECRET_BLOCK,V.TIMESTAMP=T,V.PASSWORD_CLAIM_SIGNATURE=B,V.DEVICE_KEY=o.deviceKey;var F={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:V,Session:h.Session};o.getUserContextData()&&(F.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",F,function(ee,R){return ee?n.onFailure(ee):(o.signInUserSession=o.getCognitoUserSession(R.AuthenticationResult),o.cacheTokens(),n.onSuccess(o.signInUserSession))})})})})},t.confirmRegistration=function(n,i,o,a){var s={ClientId:this.pool.getClientId(),ConfirmationCode:n,Username:this.username,ForceAliasCreation:i,ClientMetadata:a};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",s,function(c){return c?o(c,null):o(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(n,i,o){var a=this,s={};s.USERNAME=this.username,s.ANSWER=n;var c=new _i(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var u={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(f,l){return f?i.onFailure(f):a.authenticateUserInternal(l,c,i)})},t.sendMFACode=function(n,i,o,a){var s=this,c={};c.USERNAME=this.username,c.SMS_MFA_CODE=n;var u=o||"SMS_MFA";u==="SOFTWARE_TOKEN_MFA"&&(c.SOFTWARE_TOKEN_MFA_CODE=n),this.deviceKey!=null&&(c.DEVICE_KEY=this.deviceKey);var f={ChallengeName:u,ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:a};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(l,d){if(l)return i.onFailure(l);var h=d.ChallengeName;if(h==="DEVICE_SRP_AUTH"){s.getDeviceResponse(i);return}if(s.signInUserSession=s.getCognitoUserSession(d.AuthenticationResult),s.cacheTokens(),d.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(s.signInUserSession);var p=new _i(s.pool.getUserPoolId().split("_")[1]);p.generateHashDevice(d.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,d.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return i.onFailure(g);var b={Salt:Te.Buffer.from(p.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Te.Buffer.from(p.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=b.PasswordVerifier,s.deviceGroupKey=d.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,s.randomPassword=p.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:d.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:b,DeviceName:My},function(E,S){return E?i.onFailure(E):(s.deviceKey=d.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),S.UserConfirmationNecessary===!0?i.onSuccess(s.signInUserSession,S.UserConfirmationNecessary):i.onSuccess(s.signInUserSession))})})})},t.changePassword=function(n,i,o,a){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return o(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:n,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:a},function(s){return s?o(s,null):o(null,"SUCCESS")})},t.enableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[],o={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(o),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?n(a,null):n(null,"SUCCESS")})},t.setUserMfaPreference=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:n,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?o(a,null):o(null,"SUCCESS")})},t.disableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n(o,null):n(null,"SUCCESS")})},t.deleteUser=function(n,i){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(a){return a?n(a,null):(o.clearCachedUser(),n(null,"SUCCESS"))})},t.updateAttributes=function(n,i,o){var a=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:n,ClientMetadata:o},function(s){return s?i(s,null):a.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){if(i)return n(i,null);for(var a=[],s=0;s<o.UserAttributes.length;s++){var c={Name:o.UserAttributes[s].Name,Value:o.UserAttributes[s].Value},u=new ki(c);a.push(u)}return n(null,a)})},t.getMFAOptions=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){return i?n(i,null):n(null,o.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(n){var i=this;return n===void 0&&(n={}),new Promise(function(o){var a=i.signInUserSession.getRefreshToken();a&&a.getToken()?i.refreshSession(a,o,n.clientMetadata):o()})},t.getUserData=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),n(new Error("User is not authenticated"),null);var a=this.getUserDataFromCache();if(!a){this.fetchUserData().then(function(s){n(null,s)}).catch(n);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(s){return o.refreshSessionIfPossible(i).then(function(){return s})}).then(function(s){return n(null,s)}).catch(n);return}try{n(null,JSON.parse(a));return}catch(s){this.clearCachedUserData(),n(s,null);return}},t.getUserDataFromCache=function(){var n=this.storage.getItem(this.userDataKey);return n},t.isFetchUserDataAndTokenRequired=function(n){var i=n||{},o=i.bypassCache,a=o===void 0?!1:o;return a},t.fetchUserData=function(){var n=this;return this.createGetUserRequest().then(function(i){return n.cacheUserData(i),i})},t.deleteAttributes=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?i(a,null):o.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",o,function(a,s){return a?n(a,null):n(null,s)})},t.getSession=function(n,i){if(i===void 0&&(i={}),this.username==null)return n(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return n(null,this.signInUserSession);var o="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=o+".idToken",s=o+".accessToken",c=o+".refreshToken",u=o+".clockDrift";if(this.storage.getItem(a)){var f=new Il({IdToken:this.storage.getItem(a)}),l=new xl({AccessToken:this.storage.getItem(s)}),d=new Ol({RefreshToken:this.storage.getItem(c)}),h=parseInt(this.storage.getItem(u),0)||0,p={IdToken:f,AccessToken:l,RefreshToken:d,ClockDrift:h},g=new kl(p);if(g.isValid())return this.signInUserSession=g,n(null,this.signInUserSession);if(!d.getToken())return n(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(d,n,i.clientMetadata)}else n(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(n,i,o){var a=this,s=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,c={};c.REFRESH_TOKEN=n.getToken();var u="CognitoIdentityServiceProvider."+this.pool.getClientId(),f=u+".LastAuthUser";if(this.storage.getItem(f)){this.username=this.storage.getItem(f);var l=u+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),c.DEVICE_KEY=this.deviceKey}var d={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:c,ClientMetadata:o};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",d,function(h,p){if(h)return h.code==="NotAuthorizedException"&&a.clearCachedUser(),s(h,null);if(p){var g=p.AuthenticationResult;return Object.prototype.hasOwnProperty.call(g,"RefreshToken")||(g.RefreshToken=n.getToken()),a.signInUserSession=a.getCognitoUserSession(g),a.cacheTokens(),s(null,a.signInUserSession)}})},t.cacheTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",a=n+"."+this.username+".refreshToken",s=n+"."+this.username+".clockDrift",c=n+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(a,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(s,""+this.signInUserSession.getClockDrift()),this.storage.setItem(c,this.username)},t.cacheUserData=function(n){this.storage.setItem(this.userDataKey,JSON.stringify(n))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",a=n+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(o,this.randomPassword),this.storage.setItem(a,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",a=n+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(o),this.deviceGroupKey=this.storage.getItem(a))},t.clearCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",a=n+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(a)},t.clearCachedTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",a=n+"."+this.username+".refreshToken",s=n+".LastAuthUser",c=n+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(a),this.storage.removeItem(s),this.storage.removeItem(c)},t.getCognitoUserSession=function(n){var i=new Il(n),o=new xl(n),a=new Ol(n),s={IdToken:i,AccessToken:o,RefreshToken:a};return new kl(s)},t.forgotPassword=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",o,function(a,s){return a?n.onFailure(a):typeof n.inputVerificationCode=="function"?n.inputVerificationCode(s):n.onSuccess(s)})},t.confirmPassword=function(n,i,o,a){var s={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:n,Password:i,ClientMetadata:a};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",s,function(c){return c?o.onFailure(c):o.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(a,s){return a?i.onFailure(a):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(s):i.onSuccess("SUCCESS")})},t.verifyAttribute=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:n,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?o.onFailure(a):o.onSuccess("SUCCESS")})},t.getDevice=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,o){return i?n.onFailure(i):n.onSuccess(o)})},t.forgetSpecificDevice=function(n,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:n},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},t.forgetDevice=function(n){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:n.onFailure,onSuccess:function(a){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),n.onSuccess(a)}})},t.setDeviceStatusRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.listDevices=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));var a={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:n};i&&(a.PaginationToken=i),this.client.request("ListDevices",a,function(s,c){return s?o.onFailure(s):o.onSuccess(c)})},t.globalSignOut=function(n){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n.onFailure(o):(i.clearCachedUser(),n.onSuccess("SUCCESS"))})},t.signOut=function(n){var i=this;if(!n||typeof n!="function"){this.cleanClientData();return}this.getSession(function(o,a){if(o)return n(o);i.revokeTokens(function(s){i.cleanClientData(),n(s)})})},t.revokeTokens=function(n){if(n===void 0&&(n=function(){}),typeof n!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var i=new Error("User is not authenticated");return n(i)}if(!this.signInUserSession.getAccessToken()){var o=new Error("No Access token available");return n(o)}var a=this.signInUserSession.getRefreshToken().getToken(),s=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(s)&&a)return this.revokeToken({token:a,callback:n});n()},t.isSessionRevocable=function(n){if(n&&typeof n.decodePayload=="function")try{var i=n.decodePayload(),o=i.origin_jti;return!!o}catch{}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(n){var i=n.token,o=n.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(a){if(a)return o(a);o()})},t.sendMFASelectionAnswer=function(n,i){var o=this,a={};a.USERNAME=this.username,a.ANSWER=n;var s={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(c,u){if(c)return i.onFailure(c);if(o.Session=u.Session,n==="SMS_MFA")return i.mfaRequired(u.ChallengeName,u.ChallengeParameters);if(n==="SOFTWARE_TOKEN_MFA")return i.totpRequired(u.ChallengeName,u.ChallengeParameters)})},t.getUserContextData=function(){var n=this.pool;return n.getUserContextData(this.username)},t.associateSoftwareToken=function(n){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,a){return o?n.onFailure(o):n.associateSecretCode(a.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(o,a){return o?n.onFailure(o):(i.Session=a.Session,n.associateSecretCode(a.SecretCode))})},t.verifySoftwareToken=function(n,i,o){var a=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:n,FriendlyDeviceName:i},function(s,c){return s?o.onFailure(s):o.onSuccess(c)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:n,FriendlyDeviceName:i},function(s,c){if(s)return o.onFailure(s);a.Session=c.Session;var u={};u.USERNAME=a.username;var f={ChallengeName:"MFA_SETUP",ClientId:a.pool.getClientId(),ChallengeResponses:u,Session:a.Session};a.getUserContextData()&&(f.UserContextData=a.getUserContextData()),a.client.request("RespondToAuthChallenge",f,function(l,d){return l?o.onFailure(l):(a.signInUserSession=a.getCognitoUserSession(d.AuthenticationResult),a.cacheTokens(),o.onSuccess(a.signInUserSession))})})},e}();function _B(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return a},get:function(f){return s[f.toLowerCase()]},has:function(f){return f.toLowerCase()in s}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(f,l,d){o.push(l=l.toLowerCase()),a.push([l,d]),s[l]=s[l]?s[l]+","+d:d}),r(c())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)})}var SB=Object.freeze(Object.defineProperty({__proto__:null,default:_B},Symbol.toStringTag,{value:"Module"})),Ly=aa(SB);self.fetch||(self.fetch=Ly.default||Ly);var EB="5.0.4";/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Nl="aws-amplify/"+EB,$n={userAgent:Nl+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch($n.product=navigator.product||"",$n.navigator=navigator||null,navigator.product){case"ReactNative":$n.userAgent=Nl+" react-native",$n.isReactNative=!0;break;default:$n.userAgent=Nl+" js",$n.isReactNative=!1;break}var CB=function(){return $n.userAgent};function LA(){}LA.prototype.userAgent=CB();function AB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Go(e,t)}function Dl(e){var t=typeof Map=="function"?new Map:void 0;return Dl=function(n){if(n===null||!TB(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return ws(n,arguments,Ml(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Go(i,n)},Dl(e)}function ws(e,t,r){return xB()?ws=Reflect.construct:ws=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),u=new c;return a&&Go(u,a.prototype),u},ws.apply(null,arguments)}function xB(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function TB(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Go(e,t){return Go=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Go(e,t)}function Ml(e){return Ml=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ml(e)}var IB=function(e){AB(t,e);function t(r,n,i,o){var a;return a=e.call(this,r)||this,a.code=n,a.name=i,a.statusCode=o,a}return t}(Dl(Error)),OB=function(){function e(r,n,i){this.endpoint=n||"https://cognito-idp."+r+".amazonaws.com/";var o=i||{},a=o.credentials;this.fetchOptions=a?{credentials:a}:{}}var t=e.prototype;return t.promisifyRequest=function(n,i){var o=this;return new Promise(function(a,s){o.request(n,i,function(c,u){c?s(new IB(c.message,c.code,c.name,c.statusCode)):a(u)})})},t.requestWithRetry=function(n,i,o){var a=this,s=5*1e3;NB(function(c){return new Promise(function(u,f){a.request(n,c,function(l,d){l?f(l):u(d)})})},[i],s).then(function(c){return o(null,c)}).catch(function(c){return o(c)})},t.request=function(n,i,o){var a={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+n,"X-Amz-User-Agent":LA.prototype.userAgent},s=Object.assign({},this.fetchOptions,{headers:a,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(i)}),c;fetch(this.endpoint,s).then(function(u){return c=u,u},function(u){throw u instanceof TypeError?new Error("Network error"):u}).then(function(u){return u.json().catch(function(){return{}})}).then(function(u){if(c.ok)return o(null,u);var f=(u.__type||u.code).split("#").pop(),l=new Error(u.message||u.Message||null);return l.name=f,l.code=f,o(l)}).catch(function(u){if(c&&c.headers&&c.headers.get("x-amzn-errortype"))try{var f=c.headers.get("x-amzn-errortype").split(":")[0],l=new Error(c.status?c.status.toString():null);return l.code=f,l.name=f,l.statusCode=c.status,o(l)}catch{return o(u)}else u instanceof Error&&u.message==="Network error"&&(u.code="NetworkError");return o(u)})},e}(),Ua={debug:function(){}},PB=function(t){var r="nonRetryable";return t&&t[r]};function UA(e,t,r,n){if(n===void 0&&(n=1),typeof e!="function")throw Error("functionToRetry must be a function");return Ua.debug(e.name+" attempt #"+n+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(i){if(Ua.debug("error on "+e.name,i),PB(i))throw Ua.debug(e.name+" non retryable error",i),i;var o=r(n,t,i);if(Ua.debug(e.name+" retrying in "+o+" ms"),o!==!1)return new Promise(function(a){return setTimeout(a,o)}).then(function(){return UA(e,t,r,n+1)});throw i})}function kB(e){var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var RB=5*60*1e3;function NB(e,t,r){return r===void 0&&(r=RB),UA(e,t,kB(r))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var DB=55,MB=function(){function e(r,n){var i=r||{},o=i.UserPoolId,a=i.ClientId,s=i.endpoint,c=i.fetchOptions,u=i.AdvancedSecurityDataCollectionFlag;if(!o||!a)throw new Error("Both UserPoolId and ClientId are required.");if(o.length>DB||!/^[\w-]+_[0-9a-zA-Z]+$/.test(o))throw new Error("Invalid UserPoolId format.");var f=o.split("_")[0];this.userPoolId=o,this.clientId=a,this.client=new OB(f,s,c),this.advancedSecurityDataCollectionFlag=u!==!1,this.storage=r.Storage||new MA().getStorage(),n&&(this.wrapRefreshSessionCallback=n)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(n,i,o,a,s,c){var u=this,f={ClientId:this.clientId,Username:n,Password:i,UserAttributes:o,ValidationData:a,ClientMetadata:c};this.getUserContextData(n)&&(f.UserContextData=this.getUserContextData(n)),this.client.request("SignUp",f,function(l,d){if(l)return s(l,null);var h={Username:n,Pool:u,Storage:u.storage},p={user:new Rl(h),userConfirmed:d.UserConfirmed,userSub:d.UserSub,codeDeliveryDetails:d.CodeDeliveryDetails};return s(null,p)})},t.getCurrentUser=function(){var n="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(n);if(i){var o={Username:i,Pool:this,Storage:this.storage};return new Rl(o)}return null},t.getUserContextData=function(n){if(typeof AmazonCognitoAdvancedSecurityData!="undefined"){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var o=i.getData(n,this.userPoolId,this.clientId);if(o){var a={EncodedData:o};return a}}return{}}},e}(),Ri={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var i=window.Cookies,o=window.Cookies=r();o.noConflict=function(){return window.Cookies=i,o}}})(function(){function r(){for(var o=0,a={};o<arguments.length;o++){var s=arguments[o];for(var c in s)a[c]=s[c]}return a}function n(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(o){function a(){}function s(u,f,l){if(typeof document!="undefined"){l=r({path:"/"},a.defaults,l),typeof l.expires=="number"&&(l.expires=new Date(new Date*1+l.expires*864e5)),l.expires=l.expires?l.expires.toUTCString():"";try{var d=JSON.stringify(f);/^[\{\[]/.test(d)&&(f=d)}catch{}f=o.write?o.write(f,u):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var h="";for(var p in l)!l[p]||(h+="; "+p,l[p]!==!0&&(h+="="+l[p].split(";")[0]));return document.cookie=u+"="+f+h}}function c(u,f){if(typeof document!="undefined"){for(var l={},d=document.cookie?document.cookie.split("; "):[],h=0;h<d.length;h++){var p=d[h].split("="),g=p.slice(1).join("=");!f&&g.charAt(0)==='"'&&(g=g.slice(1,-1));try{var b=n(p[0]);if(g=(o.read||o)(g,b)||n(g),f)try{g=JSON.parse(g)}catch{}if(l[b]=g,u===b)break}catch{}}return u?l[u]:l}}return a.set=s,a.get=function(u){return c(u,!1)},a.getJSON=function(u){return c(u,!0)},a.remove=function(u,f){s(u,"",r(f,{expires:-1}))},a.defaults={},a.withConverter=i,a}return i(function(){})})})(Ri);var LB=function(){function e(r){if(r.domain)this.domain=r.domain;else throw new Error("The domain of cookieStorage can not be undefined.");if(r.path?this.path=r.path:this.path="/",Object.prototype.hasOwnProperty.call(r,"expires")?this.expires=r.expires:this.expires=365,Object.prototype.hasOwnProperty.call(r,"secure")?this.secure=r.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(r,"sameSite")){if(!["strict","lax","none"].includes(r.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(r.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(n,i){var o={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(o.sameSite=this.sameSite),Ri.exports.set(n,i,o),Ri.exports.get(n)},t.getItem=function(n){return Ri.exports.get(n)},t.removeItem=function(n){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),Ri.exports.remove(n,i)},t.clear=function(){for(var n=Ri.exports.get(),i=Object.keys(n).length,o=0;o<i;++o)this.removeItem(Object.keys(n)[o]);return{}},e}(),UB="_self",BB=function(e){var t=window.open(e,UB);return t?Promise.resolve(t):Promise.reject()},FB=function(e){window.sessionStorage.setItem("oauth_state",e)},jB=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},$B=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},zB=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},St=globalThis&&globalThis.__assign||function(){return St=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},St.apply(this,arguments)},Ba=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Fa=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},qB=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Jc=function(e,t,r){rn.dispatch("auth",{event:e,data:t,message:r},"Auth",qB)},Si=new Se("OAuth"),KB=function(){function e(t){var r=t.config,n=t.cognitoClientId,i=t.scopes,o=i===void 0?[]:i;if(this._urlOpener=r.urlOpener||BB,this._config=r,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(t){return Array.isArray(t)&&t.every(function(r){return typeof r=="string"})},e.prototype.oauthSignIn=function(t,r,n,i,o,a){t===void 0&&(t="code"),o===void 0&&(o=iu.Cognito);var s=this._generateState(32),c=a?s+"-"+B2(a):s;FB(c);var u=this._generateRandom(128);$B(u);var f=this._generateChallenge(u),l="S256",d=this._scopes.join(" "),h=Object.entries(St(St({redirect_uri:n,response_type:t,client_id:i,identity_provider:o,scope:d,state:c},t==="code"?{code_challenge:f}:{}),t==="code"?{code_challenge_method:l}:{})).map(function(g){var b=Bn(g,2),E=b[0],S=b[1];return encodeURIComponent(E)+"="+encodeURIComponent(S)}).join("&"),p="https://"+r+"/oauth2/authorize?"+h;Si.debug("Redirecting to "+p),this._urlOpener(p,n)},e.prototype._handleCodeFlow=function(t){return Ba(this,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,p,g;return Fa(this,function(b){switch(b.label){case 0:return r=(kt(t).query||"").split("&").map(function(E){return E.split("=")}).reduce(function(E,S){var T,N=Bn(S,2),k=N[0],B=N[1];return St(St({},E),(T={},T[k]=B,T))},{code:void 0}).code,n=kt(t).pathname||"/",i=kt(this._config.redirectSignIn).pathname||"/",!r||n!==i?[2]:(o="https://"+this._config.domain+"/oauth2/token",Jc("codeFlow",{},"Retrieving tokens from "+o),a=Gn(this._config)?this._cognitoClientId:this._config.clientID,s=Gn(this._config)?this._config.redirectSignIn:this._config.redirectUri,c=zB(),u=St({grant_type:"authorization_code",code:r,client_id:a,redirect_uri:s},c?{code_verifier:c}:{}),Si.debug("Calling token endpoint: "+o+" with",u),f=Object.entries(u).map(function(E){var S=Bn(E,2),T=S[0],N=S[1];return encodeURIComponent(T)+"="+encodeURIComponent(N)}).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f})]);case 1:return[4,b.sent().json()];case 2:if(l=b.sent(),d=l.access_token,h=l.refresh_token,p=l.id_token,g=l.error,g)throw new Error(g);return[2,{accessToken:d,refreshToken:h,idToken:p}]}})})},e.prototype._handleImplicitFlow=function(t){return Ba(this,void 0,void 0,function(){var r,n,i;return Fa(this,function(o){return r=(kt(t).hash||"#").substr(1).split("&").map(function(a){return a.split("=")}).reduce(function(a,s){var c,u=Bn(s,2),f=u[0],l=u[1];return St(St({},a),(c={},c[f]=l,c))},{id_token:void 0,access_token:void 0}),n=r.id_token,i=r.access_token,Jc("implicitFlow",{},"Got tokens from "+t),Si.debug("Retrieving implicit tokens from "+t+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(t){return Ba(this,void 0,void 0,function(){var r,n,i,o,a,s,c;return Fa(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),r=t?St(St({},(kt(t).hash||"#").substr(1).split("&").map(function(f){return f.split("=")}).reduce(function(f,l){var d=Bn(l,2),h=d[0],p=d[1];return f[h]=p,f},{})),(kt(t).query||"").split("&").map(function(f){return f.split("=")}).reduce(function(f,l){var d=Bn(l,2),h=d[0],p=d[1];return f[h]=p,f},{})):{},n=r.error,i=r.error_description,n)throw new Error(i);return o=this._validateState(r),Si.debug("Starting "+this._config.responseType+" flow with "+t),this._config.responseType!=="code"?[3,2]:(a=[{}],[4,this._handleCodeFlow(t)]);case 1:return[2,St.apply(void 0,[St.apply(void 0,a.concat([u.sent()])),{state:o}])];case 2:return s=[{}],[4,this._handleImplicitFlow(t)];case 3:return[2,St.apply(void 0,[St.apply(void 0,s.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw c=u.sent(),Si.error("Error handling auth response.",c),c;case 6:return[2]}})})},e.prototype._validateState=function(t){if(!!t){var r=jB(),n=t.state;if(r&&r!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return Ba(this,void 0,void 0,function(){var t,r,n;return Fa(this,function(i){return t="https://"+this._config.domain+"/logout?",r=Gn(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Gn(this._config)?this._config.redirectSignOut:this._config.returnTo,t+=Object.entries({client_id:r,logout_uri:encodeURIComponent(n)}).map(function(o){var a=Bn(o,2),s=a[0],c=a[1];return s+"="+c}).join("&"),Jc("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+t),Si.debug("Signing out from "+t),[2,this._urlOpener(t,n)]})})},e.prototype._generateState=function(t){for(var r="",n=t,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)r+=i[Math.round(Math.random()*(i.length-1))];return r},e.prototype._generateChallenge=function(t){return this._base64URL(PA(t))},e.prototype._base64URL=function(t){return t.toString(Pl).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=new Uint8Array(t);if(typeof window!="undefined"&&!!window.crypto)window.crypto.getRandomValues(n);else for(var i=0;i<t;i+=1)n[i]=Math.random()*r.length|0;return this._bufferToString(n)},e.prototype._bufferToString=function(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<t.byteLength;i+=1){var o=t[i]%r.length;n.push(r[o])}return n.join("")},e}(),HB=KB,GB=function(e){if(Js.browserOrNode().isBrowser&&window.location){var t=window.location.href;e({url:t})}else if(!Js.browserOrNode().isNode)throw new Error("Not supported")},vt;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"})(vt||(vt={}));var BA=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VB=new Se("AuthError"),dn=function(e){BA(t,e);function t(r){var n=this,i=JB[r],o=i.message,a=i.log;return n=e.call(this,o)||this,n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=a||o,VB.error(n.log),n}return t}(Error),WB=function(e){BA(t,e);function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return t}(dn),JB={noConfig:{message:vt.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:vt.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:vt.EMPTY_USERNAME},invalidUsername:{message:vt.INVALID_USERNAME},emptyPassword:{message:vt.EMPTY_PASSWORD},emptyCode:{message:vt.EMPTY_CODE},signUpError:{message:vt.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:vt.NO_MFA},invalidMFA:{message:vt.INVALID_MFA},emptyChallengeResponse:{message:vt.EMPTY_CHALLENGE},noUserSession:{message:vt.NO_USER_SESSION},deviceConfig:{message:vt.DEVICE_CONFIG},networkError:{message:vt.NETWORK_ERROR},default:{message:vt.DEFAULT_MSG}},au=globalThis&&globalThis.__assign||function(){return au=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},au.apply(this,arguments)},Re=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Ne=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Uy=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},ne=new Se("AuthClass"),By="aws.cognito.signin.user.admin",YB=10*1e3,XB=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",De=function(e,t,r){rn.dispatch("auth",{event:e,data:t,message:r},"Auth",XB)},QB=60,ZB=function(){function e(t){var r=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=at,this.wrapRefreshSessionCallback=function(n){var i=function(o,a){return a?De("tokenRefresh",void 0,"New token retrieved"):De("tokenRefresh_failure",o,"Failed to retrieve new token"),n(o,a)};return i},this.configure(t),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),rn.listen("auth",function(n){var i=n.payload,o=i.event;switch(o){case"signIn":r._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":r._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":r._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(t){var r=this;if(!t)return this._config||{};ne.debug("configure Auth");var n=Object.assign({},this._config,Uh.parseMobilehubConfig(t).Auth,t);this._config=n;var i=this._config,o=i.userPoolId,a=i.userPoolWebClientId,s=i.cookieStorage,c=i.oauth,u=i.region,f=i.identityPoolId,l=i.mandatorySignIn,d=i.refreshHandlers,h=i.identityPoolRegion,p=i.clientMetadata,g=i.endpoint;if(!this._config.storage)s?this._storage=new LB(s):this._storage=t.ssr?new u3:new Vu().getStorage();else{if(!this._isValidAuthStorage(this._config.storage))throw ne.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),o){var b={UserPoolId:o,ClientId:a,endpoint:g};b.Storage=this._storage,this.userPool=new MB(b,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:h||u,userPoolId:o,identityPoolId:f,refreshHandlers:d,storage:this._storage});var E=c?Gn(this._config.oauth)?c:c.awsCognito:void 0;if(E){var S=Object.assign({cognitoClientId:a,UserPoolId:o,domain:E.domain,scopes:E.scope,redirectSignIn:E.redirectSignIn,redirectSignOut:E.redirectSignOut,responseType:E.responseType,Storage:this._storage,urlOpener:E.urlOpener,clientMetadata:p},E.options);this._oAuthHandler=new HB({scopes:S.scopes,config:S,cognitoClientId:S.cognitoClientId});var T={};GB(function(N){var k=N.url;T[k]||(T[k]=!0,r._handleAuthResponse(k))})}return De("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.userPool)return this.rejectNoUserPool();var o=null,a=null,s=[],c=null,u;if(t&&typeof t=="string"){o=t,a=n?n[0]:null;var f=n?n[1]:null,l=n?n[2]:null;f&&s.push(new ki({Name:"email",Value:f})),l&&s.push(new ki({Name:"phone_number",Value:l}))}else if(t&&typeof t=="object"){o=t.username,a=t.password,t&&t.clientMetadata?u=t.clientMetadata:this._config.clientMetadata&&(u=this._config.clientMetadata);var d=t.attributes;d&&Object.keys(d).map(function(p){s.push(new ki({Name:p,Value:d[p]}))});var h=t.validationData;h&&(c=[],Object.keys(h).map(function(p){c.push(new ki({Name:p,Value:h[p]}))}))}else return this.rejectAuthError(xe.SignUpError);return o?a?(ne.debug("signUp attrs:",s),ne.debug("signUp validation data:",c),new Promise(function(p,g){r.userPool.signUp(o,a,s,c,function(b,E){b?(De("signUp_failure",b,o+" failed to signup"),g(b)):(De("signUp",E,o+" has signed up successfully"),p(E))},u)})):this.rejectAuthError(xe.EmptyPassword):this.rejectAuthError(xe.EmptyUsername)},e.prototype.confirmSignUp=function(t,r,n){if(!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);if(!r)return this.rejectAuthError(xe.EmptyCode);var i=this.createCognitoUser(t),o=n&&typeof n.forceAliasCreation=="boolean"?n.forceAliasCreation:!0,a;return n&&n.clientMetadata?a=n.clientMetadata:this._config.clientMetadata&&(a=this._config.clientMetadata),new Promise(function(s,c){i.confirmRegistration(r,o,function(u,f){u?c(u):s(f)},a)})},e.prototype.resendSignUp=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.resendConfirmationCode(function(a,s){a?o(a):i(s)},r)})},e.prototype.signIn=function(t,r,n){if(n===void 0&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,a={};if(typeof t=="string")i=t,o=r;else if(h3(t))typeof r!="undefined"&&ne.warn("The password should be defined under the first parameter object!"),i=t.username,o=t.password,a=t.validationData;else return this.rejectAuthError(xe.InvalidUsername);if(!i)return this.rejectAuthError(xe.EmptyUsername);var s=new p3({Username:i,Password:o,ValidationData:a,ClientMetadata:n});return o?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(t,r,n){var i=this,o=this;return{onSuccess:function(a){return Re(i,void 0,void 0,function(){var s,c,u,f;return Ne(this,function(l){switch(l.label){case 0:ne.debug(a),delete t.challengeName,delete t.challengeParam,l.label=1;case 1:return l.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return l.sent(),[4,this.Credentials.set(a,"session")];case 3:return s=l.sent(),ne.debug("succeed to get cognito credentials",s),[3,9];case 4:return c=l.sent(),ne.debug("cannot get cognito credentials",c),[3,9];case 5:return l.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=l.sent(),o.user=u,De("signIn",u,"A user "+t.getUsername()+" has been signed in"),r(u),[3,8];case 7:return f=l.sent(),ne.error("Failed to get the signed in user",f),n(f),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(a){ne.debug("signIn failure",a),De("signIn_failure",a,t.getUsername()+" failed to signin"),n(a)},customChallenge:function(a){ne.debug("signIn custom challenge answer required"),t.challengeName="CUSTOM_CHALLENGE",t.challengeParam=a,r(t)},mfaRequired:function(a,s){ne.debug("signIn MFA required"),t.challengeName=a,t.challengeParam=s,r(t)},mfaSetup:function(a,s){ne.debug("signIn mfa setup",a),t.challengeName=a,t.challengeParam=s,r(t)},newPasswordRequired:function(a,s){ne.debug("signIn new password"),t.challengeName="NEW_PASSWORD_REQUIRED",t.challengeParam={userAttributes:a,requiredAttributes:s},r(t)},totpRequired:function(a,s){ne.debug("signIn totpRequired"),t.challengeName=a,t.challengeParam=s,r(t)},selectMFAType:function(a,s){ne.debug("signIn selectMFAType",a),t.challengeName=a,t.challengeParam=s,r(t)}}},e.prototype.signInWithPassword=function(t){var r=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(t.getUsername());return this.pendingSignIn=new Promise(function(i,o){n.authenticateUser(t,r.authCallbacks(n,function(a){r.pendingSignIn=null,i(a)},function(a){r.pendingSignIn=null,o(a)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(t){var r=this,n=this.createCognitoUser(t.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,o){n.initiateAuth(t,r.authCallbacks(n,i,o))})},e.prototype.getMFAOptions=function(t){return new Promise(function(r,n){t.getMFAOptions(function(i,o){if(i){ne.debug("get MFA Options failed",i),n(i);return}ne.debug("get MFA options success",o),r(o)})})},e.prototype.getPreferredMFA=function(t,r){var n=this,i=this;return new Promise(function(o,a){var s=n._config.clientMetadata,c=r?r.bypassCache:!1;t.getUserData(function(u,f){return Re(n,void 0,void 0,function(){var l,d;return Ne(this,function(h){switch(h.label){case 0:if(!u)return[3,5];if(ne.debug("getting preferred mfa failed",u),!this.isSessionInvalid(u))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return h.sent(),[3,4];case 3:return l=h.sent(),a(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+l.message)),[2];case 4:return a(u),[2];case 5:return d=i._getMfaTypeFromUserData(f),d?(o(d),[2]):(a("invalid MFA Type"),[2])}})})},{bypassCache:c,clientMetadata:s})})},e.prototype._getMfaTypeFromUserData=function(t){var r=null,n=t.PreferredMfaSetting;if(n)r=n;else{var i=t.UserMFASettingList;if(i)i.length===0?r="NOMFA":ne.debug("invalid case for getPreferredMFA",t);else{var o=t.MFAOptions;o?r="SMS_MFA":r="NOMFA"}}return r},e.prototype._getUserData=function(t,r){var n=this;return new Promise(function(i,o){t.getUserData(function(a,s){return Re(n,void 0,void 0,function(){var c;return Ne(this,function(u){switch(u.label){case 0:if(!a)return[3,5];if(ne.debug("getting user data failed",a),!this.isSessionInvalid(a))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return c=u.sent(),o(new Error("Session is invalid due to: "+a.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(a),[2];case 5:i(s),u.label=6;case 6:return[2]}})})},r)})},e.prototype.setPreferredMFA=function(t,r){return Re(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f=this;return Ne(this,function(l){switch(l.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(t,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=l.sent(),o=null,a=null,s=r,s){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return a={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return c=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if(u=l.sent(),u==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(u==="SMS_MFA")o={PreferredMfa:!1,Enabled:!1};else if(u==="SOFTWARE_TOKEN_MFA")a={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(xe.InvalidMFA)];return c&&c.length!==0&&c.forEach(function(d){d==="SMS_MFA"?o={PreferredMfa:!1,Enabled:!1}:d==="SOFTWARE_TOKEN_MFA"&&(a={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return ne.debug("no validmfa method provided"),[2,this.rejectAuthError(xe.NoMFA)];case 7:return[2,new Promise(function(d,h){t.setUserMfaPreference(o,a,function(p,g){if(p)return ne.debug("Set user mfa preference error",p),h(p);ne.debug("Set user mfa success",g),ne.debug("Caching the latest user data into local"),t.getUserData(function(b,E){return Re(f,void 0,void 0,function(){var S;return Ne(this,function(T){switch(T.label){case 0:if(!b)return[3,5];if(ne.debug("getting user data failed",b),!this.isSessionInvalid(b))return[3,4];T.label=1;case 1:return T.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return T.sent(),[3,4];case 3:return S=T.sent(),h(new Error("Session is invalid due to: "+b.message+" and failed to clean up invalid session: "+S.message)),[2];case 4:return[2,h(b)];case 5:return[2,d(g)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(t){return new Promise(function(r,n){t.disableMFA(function(i,o){if(i){ne.debug("disable mfa failed",i),n(i);return}ne.debug("disable mfa succeed",o),r(o)})})},e.prototype.enableSMS=function(t){return new Promise(function(r,n){t.enableMFA(function(i,o){if(i){ne.debug("enable mfa failed",i),n(i);return}ne.debug("enable mfa succeed",o),r(o)})})},e.prototype.setupTOTP=function(t){return new Promise(function(r,n){t.associateSoftwareToken({onFailure:function(i){ne.debug("associateSoftwareToken failed",i),n(i)},associateSecretCode:function(i){ne.debug("associateSoftwareToken sucess",i),r(i)}})})},e.prototype.verifyTotpToken=function(t,r){return ne.debug("verification totp token",t,r),new Promise(function(n,i){t.verifySoftwareToken(r,"My TOTP device",{onFailure:function(o){ne.debug("verifyTotpToken failed",o),i(o)},onSuccess:function(o){De("signIn",t,"A user "+t.getUsername()+" has been signed in"),ne.debug("verifyTotpToken success",o),n(o)}})})},e.prototype.confirmSignIn=function(t,r,n,i){var o=this;if(i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(xe.EmptyCode);var a=this;return new Promise(function(s,c){t.sendMFACode(r,{onSuccess:function(u){return Re(o,void 0,void 0,function(){var f,l;return Ne(this,function(d){switch(d.label){case 0:ne.debug(u),d.label=1;case 1:return d.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return d.sent(),[4,this.Credentials.set(u,"session")];case 3:return f=d.sent(),ne.debug("succeed to get cognito credentials",f),[3,6];case 4:return l=d.sent(),ne.debug("cannot get cognito credentials",l),[3,6];case 5:return a.user=t,De("signIn",t,"A user "+t.getUsername()+" has been signed in"),s(t),[7];case 6:return[2]}})})},onFailure:function(u){ne.debug("confirm signIn failure",u),c(u)}},n,i)})},e.prototype.completeNewPassword=function(t,r,n,i){var o=this;if(n===void 0&&(n={}),i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(xe.EmptyPassword);var a=this;return new Promise(function(s,c){t.completeNewPasswordChallenge(r,n,{onSuccess:function(u){return Re(o,void 0,void 0,function(){var f,l;return Ne(this,function(d){switch(d.label){case 0:ne.debug(u),d.label=1;case 1:return d.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return d.sent(),[4,this.Credentials.set(u,"session")];case 3:return f=d.sent(),ne.debug("succeed to get cognito credentials",f),[3,6];case 4:return l=d.sent(),ne.debug("cannot get cognito credentials",l),[3,6];case 5:return a.user=t,De("signIn",t,"A user "+t.getUsername()+" has been signed in"),s(t),[7];case 6:return[2]}})})},onFailure:function(u){ne.debug("completeNewPassword failure",u),De("completeNewPassword_failure",u,o.user+" failed to complete the new password flow"),c(u)},mfaRequired:function(u,f){ne.debug("signIn MFA required"),t.challengeName=u,t.challengeParam=f,s(t)},mfaSetup:function(u,f){ne.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=f,s(t)},totpRequired:function(u,f){ne.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=f,s(t)}},i)})},e.prototype.sendCustomChallengeAnswer=function(t,r,n){var i=this;return n===void 0&&(n=this._config.clientMetadata),this.userPool?r?new Promise(function(o,a){t.sendCustomChallengeAnswer(r,i.authCallbacks(t,o,a),n)}):this.rejectAuthError(xe.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(t,r){var n=this;return new Promise(function(i,o){n.userSession(t).then(function(a){t.deleteAttributes(r,function(s,c){return s?o(s):i(c)})})})},e.prototype.deleteUser=function(){return Re(this,void 0,void 0,function(){var t,r,n=this;return Ne(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw t=i.sent(),ne.debug("Failed to sync cache info into memory",t),new Error(t);case 3:return r=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(o,a){return Re(n,void 0,void 0,function(){var s,c=this;return Ne(this,function(u){if(this.userPool)if(s=this.userPool.getCurrentUser(),s)s.getSession(function(f,l){return Re(c,void 0,void 0,function(){var d,h=this;return Ne(this,function(p){switch(p.label){case 0:if(!f)return[3,5];if(ne.debug("Failed to get the user session",f),!this.isSessionInvalid(f))return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(s)];case 2:return p.sent(),[3,4];case 3:return d=p.sent(),a(new Error("Session is invalid due to: "+f.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return[2,a(f)];case 5:s.deleteUser(function(g,b){if(g)a(g);else{De("userDeleted",b,"The authenticated user has been deleted."),s.signOut(),h.user=null;try{h.cleanCachedItems()}catch{ne.debug("failed to clear cached items")}r?h.oAuthSignOutRedirect(o,a):(De("signOut",h.user,"A user has been signed out"),o(b))}}),p.label=6;case 6:return[2]}})})});else return ne.debug("Failed to get user from user pool"),[2,a(new Error("No current user."))];else ne.debug("no Congito User pool"),a(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(t,r,n){n===void 0&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise(function(a,s){o.userSession(t).then(function(c){for(var u in r)if(u!=="sub"&&u.indexOf("_verified")<0){var f={Name:u,Value:r[u]};i.push(f)}t.updateAttributes(i,function(l,d){return l?s(l):a(d)},n)})})},e.prototype.userAttributes=function(t){var r=this;return new Promise(function(n,i){r.userSession(t).then(function(o){t.getUserAttributes(function(a,s){a?i(a):n(s)})})})},e.prototype.verifiedContact=function(t){var r=this;return this.userAttributes(t).then(function(n){var i=r.attributesToObject(n),o={},a={};return i.email&&(i.email_verified?a.email=i.email:o.email=i.email),i.phone_number&&(i.phone_number_verified?a.phone_number=i.phone_number:o.phone_number=i.phone_number),{verified:a,unverified:o}})},e.prototype.isErrorWithMessage=function(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"message")},e.prototype.isTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Access Token has been revoked"},e.prototype.isRefreshTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has been revoked"},e.prototype.isUserDisabledError=function(t){return this.isErrorWithMessage(t)&&t.message==="User is disabled."},e.prototype.isUserDoesNotExistError=function(t){return this.isErrorWithMessage(t)&&t.message==="User does not exist."},e.prototype.isRefreshTokenExpiredError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has expired"},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true"},e.prototype.isSessionInvalid=function(t){return this.isUserDisabledError(t)||this.isUserDoesNotExistError(t)||this.isTokenRevokedError(t)||this.isRefreshTokenRevokedError(t)||this.isRefreshTokenExpiredError(t)},e.prototype.cleanUpInvalidSession=function(t){return Re(this,void 0,void 0,function(){var r=this;return Ne(this,function(n){switch(n.label){case 0:t.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),ne.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(i,o){r.oAuthSignOutRedirect(i,o)})]:(De("signOut",this.user,"A user has been signed out"),[2])}})})},e.prototype.currentUserPoolUser=function(t){var r=this;return this.userPool?new Promise(function(n,i){r._storageSync.then(function(){return Re(r,void 0,void 0,function(){var o,a,s=this;return Ne(this,function(c){switch(c.label){case 0:return this.isOAuthInProgress()?(ne.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(u){var f=setTimeout(function(){ne.debug("OAuth signIn in progress timeout"),rn.remove("auth",l),u()},YB);rn.listen("auth",l);function l(d){var h=d.payload,p=h.event;(p==="cognitoHostedUI"||p==="cognitoHostedUI_failure")&&(ne.debug("OAuth signIn resolved: "+p),clearTimeout(f),rn.remove("auth",l),u())}})]):[3,2];case 1:c.sent(),c.label=2;case 2:return o=this.userPool.getCurrentUser(),o?(a=this._config.clientMetadata,o.getSession(function(u,f){return Re(s,void 0,void 0,function(){var l,d,h,p,g,b=this;return Ne(this,function(E){switch(E.label){case 0:if(!u)return[3,5];if(ne.debug("Failed to get the user session",u),!this.isSessionInvalid(u))return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return E.sent(),[3,4];case 3:return l=E.sent(),i(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+l.message)),[2];case 4:return i(u),[2];case 5:return d=t?t.bypassCache:!1,d?[4,this.Credentials.clear()]:[3,7];case 6:E.sent(),E.label=7;case 7:if(h=this._config.clientMetadata,p=f.getAccessToken().decodePayload().scope,g=p===void 0?"":p,g.split(" ").includes(By))o.getUserData(function(S,T){return Re(b,void 0,void 0,function(){var N,k,B,V,F,ee,R;return Ne(this,function(L){switch(L.label){case 0:if(!S)return[3,7];if(ne.debug("getting user data failed",S),!this.isSessionInvalid(S))return[3,5];L.label=1;case 1:return L.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return L.sent(),[3,4];case 3:return N=L.sent(),i(new Error("Session is invalid due to: "+S.message+" and failed to clean up invalid session: "+N.message)),[2];case 4:return i(S),[3,6];case 5:n(o),L.label=6;case 6:return[2];case 7:for(k=T.PreferredMfaSetting||"NOMFA",B=[],V=0;V<T.UserAttributes.length;V++)F={Name:T.UserAttributes[V].Name,Value:T.UserAttributes[V].Value},ee=new ki(F),B.push(ee);return R=this.attributesToObject(B),Object.assign(o,{attributes:R,preferredMFA:k}),[2,n(o)]}})})},{bypassCache:d,clientMetadata:h});else return ne.debug("Unable to get the user data because the "+By+" is not in the scopes of the access token"),[2,n(o)];return[2]}})})},{clientMetadata:a}),[2]):(ne.debug("Failed to get user from user pool"),i("No current user"),[2])}})})}).catch(function(o){return ne.debug("Failed to sync cache info into memory",o),i(o)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(t){return Re(this,void 0,void 0,function(){var r,n,i,o,a;return Ne(this,function(s){switch(s.label){case 0:ne.debug("getting current authenticated user"),r=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),ne.debug("Failed to sync cache info into memory",n),n;case 4:try{i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),i&&(r=au(au({},i.user),{token:i.token}))}catch{ne.debug("cannot load federated user from auth storage")}return r?(this.user=r,ne.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:ne.debug("get current authenticated userpool user"),o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(t)];case 7:return o=s.sent(),[3,9];case 8:return a=s.sent(),a==="No userPool"&&ne.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ne.debug("The user is not authenticated by the error",a),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}})})},e.prototype.currentSession=function(){var t=this;return ne.debug("Getting current session"),this.userPool?new Promise(function(r,n){t.currentUserPoolUser().then(function(i){t.userSession(i).then(function(o){r(o)}).catch(function(o){ne.debug("Failed to get the current session",o),n(o)})}).catch(function(i){ne.debug("Failed to get the current user",i),n(i)})}):this.rejectNoUserPool()},e.prototype.userSession=function(t){var r=this;if(!t)return ne.debug("the user is null"),this.rejectAuthError(xe.NoUserSession);var n=this._config.clientMetadata;return new Promise(function(i,o){ne.debug("Getting the session from this user:",t),t.getSession(function(a,s){return Re(r,void 0,void 0,function(){var c;return Ne(this,function(u){switch(u.label){case 0:if(!a)return[3,5];if(ne.debug("Failed to get the session from user",t),!this.isSessionInvalid(a))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return c=u.sent(),o(new Error("Session is invalid due to: "+a.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(a),[2];case 5:return ne.debug("Succeed to get the user session",s),i(s),[2]}})})},{clientMetadata:n})})},e.prototype.currentUserCredentials=function(){return Re(this,void 0,void 0,function(){var t,r,n=this;return Ne(this,function(i){switch(i.label){case 0:ne.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw t=i.sent(),ne.debug("Failed to sync cache info into memory",t),t;case 4:r=null;try{r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(o){ne.debug("failed to get or parse item aws-amplify-federatedInfo",o)}return r?[2,this.Credentials.refreshFederatedToken(r)]:[2,this.currentSession().then(function(o){return ne.debug("getting session success",o),n.Credentials.set(o,"session")}).catch(function(){return ne.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return ne.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(t,r,n){return n===void 0&&(n=this._config.clientMetadata),new Promise(function(i,o){t.getAttributeVerificationCode(r,{onSuccess:function(a){return i(a)},onFailure:function(a){return o(a)}},n)})},e.prototype.verifyUserAttributeSubmit=function(t,r,n){return n?new Promise(function(i,o){t.verifyAttribute(r,n,{onSuccess:function(a){i(a)},onFailure:function(a){o(a)}})}):this.rejectAuthError(xe.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttribute(n,t)})},e.prototype.verifyCurrentUserAttributeSubmit=function(t,r){var n=this;return n.currentUserPoolUser().then(function(i){return n.verifyUserAttributeSubmit(i,t,r)})},e.prototype.cognitoIdentitySignOut=function(t,r){return Re(this,void 0,void 0,function(){var n,i,o=this;return Ne(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._storageSync];case 1:return a.sent(),[3,3];case 2:throw n=a.sent(),ne.debug("Failed to sync cache info into memory",n),n;case 3:return i=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(s,c){if(t&&t.global){ne.debug("user global sign out",r);var u=o._config.clientMetadata;r.getSession(function(f,l){return Re(o,void 0,void 0,function(){var d,h=this;return Ne(this,function(p){switch(p.label){case 0:if(!f)return[3,5];if(ne.debug("failed to get the user session",f),!this.isSessionInvalid(f))return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return p.sent(),[3,4];case 3:return d=p.sent(),c(new Error("Session is invalid due to: "+f.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return[2,c(f)];case 5:return r.globalSignOut({onSuccess:function(g){if(ne.debug("global sign out success"),i)h.oAuthSignOutRedirect(s,c);else return s()},onFailure:function(g){return ne.debug("global sign out failed",g),c(g)}}),[2]}})})},{clientMetadata:u})}else ne.debug("user sign out",r),r.signOut(function(){if(i)o.oAuthSignOutRedirect(s,c);else return s()})})]}})})},e.prototype.oAuthSignOutRedirect=function(t,r){var n=Js.browserOrNode().isBrowser;n?this.oAuthSignOutRedirectOrReject(r):this.oAuthSignOutAndResolve(t)},e.prototype.oAuthSignOutAndResolve=function(t){this._oAuthHandler.signOut(),t()},e.prototype.oAuthSignOutRedirectOrReject=function(t){this._oAuthHandler.signOut(),setTimeout(function(){return t(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(t){return Re(this,void 0,void 0,function(){var r;return Ne(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),ne.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(r=this.userPool.getCurrentUser(),r?[4,this.cognitoIdentitySignOut(t,r)]:[3,5]):[3,7];case 4:return n.sent(),[3,6];case 5:ne.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:ne.debug("no Cognito User pool"),n.label=8;case 8:return De("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return Re(this,void 0,void 0,function(){return Ne(this,function(t){switch(t.label){case 0:return[4,this.Credentials.clear()];case 1:return t.sent(),[2]}})})},e.prototype.changePassword=function(t,r,n,i){var o=this;return i===void 0&&(i=this._config.clientMetadata),new Promise(function(a,s){o.userSession(t).then(function(c){t.changePassword(r,n,function(u,f){return u?(ne.debug("change password failure",u),s(u)):a(f)},i)})})},e.prototype.forgotPassword=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.forgotPassword({onSuccess:function(){i()},onFailure:function(a){ne.debug("forgot password failure",a),De("forgotPassword_failure",a,t+" forgotPassword failed"),o(a)},inputVerificationCode:function(a){De("forgotPassword",n,t+" has initiated forgot password flow"),i(a)}},r)})},e.prototype.forgotPasswordSubmit=function(t,r,n,i){if(i===void 0&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);if(!r)return this.rejectAuthError(xe.EmptyCode);if(!n)return this.rejectAuthError(xe.EmptyPassword);var o=this.createCognitoUser(t);return new Promise(function(a,s){o.confirmPassword(r,n,{onSuccess:function(c){De("forgotPasswordSubmit",o,t+" forgotPasswordSubmit successful"),a(c)},onFailure:function(c){De("forgotPasswordSubmit_failure",c,t+" forgotPasswordSubmit failed"),s(c)}},i)})},e.prototype.currentUserInfo=function(){return Re(this,void 0,void 0,function(){var t,c,r,n,i,o,a,s,c;return Ne(this,function(u){switch(u.label){case 0:return t=this.Credentials.getCredSource(),!t||t==="aws"||t==="userPool"?[4,this.currentUserPoolUser().catch(function(f){return ne.error(f)})]:[3,9];case 1:if(c=u.sent(),!c)return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(c)];case 3:r=u.sent(),n=this.attributesToObject(r),i=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=u.sent(),[3,7];case 6:return o=u.sent(),ne.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return a={id:i?i.identityId:void 0,username:c.getUsername(),attributes:n},[2,a];case 8:return s=u.sent(),ne.error("currentUserInfo error",s),[2,{}];case 9:return t==="federated"?(c=this.user,[2,c||{}]):[2]}})})},e.prototype.federatedSignIn=function(t,r,n){return Re(this,void 0,void 0,function(){var i,c,o,a,s,c,u,f,l,d,h,p;return Ne(this,function(g){switch(g.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof t=="undefined"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Gc(t)||l3(t)||d3(t)||typeof t=="undefined"?(i=t||{provider:iu.Cognito},c=Gc(i)?i.provider:i.customProvider,o=(Gc(i),i.customState),this._config.userPoolId&&(a=Gn(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=Gn(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,a,c,o)),[3,4]):[3,1];case 1:c=t;try{u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),u&&ne.warn("There is already a signed in user: "+u+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return f=r.token,l=r.identity_id,d=r.expires_at,[4,this.Credentials.set({provider:c,token:f,identity_id:l,user:n,expires_at:d},"federation")];case 2:return h=g.sent(),[4,this.currentAuthenticatedUser()];case 3:return p=g.sent(),De("signIn",p,"A user "+p.username+" has been signed in"),ne.debug("federated sign in credentials",h),[2,h];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(t){return Re(this,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,p,g;return Ne(this,function(b){switch(b.label){case 0:if(this.oAuthFlowInProgress)return ne.debug("Skipping URL "+t+" current flow in progress"),[2];b.label=1;case 1:if(b.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(De("parsingCallbackUrl",{url:t},"The callback url is being parsed"),r=t||(Js.browserOrNode().isBrowser?window.location.href:""),n=!!(kt(r).query||"").split("&").map(function(E){return E.split("=")}).find(function(E){var S=Uy(E,1),T=S[0];return T==="code"||T==="error"}),i=!!(kt(r).hash||"#").substr(1).split("&").map(function(E){return E.split("=")}).find(function(E){var S=Uy(E,1),T=S[0];return T==="access_token"||T==="error"}),!(n||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),b.label=2;case 2:return b.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(r)];case 3:return o=b.sent(),a=o.accessToken,s=o.idToken,c=o.refreshToken,u=o.state,f=new kl({IdToken:new Il({IdToken:s}),RefreshToken:new Ol({RefreshToken:c}),AccessToken:new xl({AccessToken:a})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(f,"session")]:[3,5];case 4:l=b.sent(),ne.debug("AWS credentials",l),b.label=5;case 5:return d=/-/.test(u),h=this.createCognitoUser(f.getIdToken().decodePayload()["cognito:username"]),h.setSignInUserSession(f),window&&typeof window.history!="undefined"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),De("signIn",h,"A user "+h.getUsername()+" has been signed in"),De("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),d&&(p=u.split("-").splice(1).join("-"),De("customOAuthState",F2(p),"State for user "+h.getUsername())),[2,l];case 6:return g=b.sent(),ne.debug("Error in cognito hosted auth response",g),window&&typeof window.history!="undefined"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),De("signIn_failure",g,"The OAuth response flow failed"),De("cognitoHostedUI_failure",g,"A failure occurred when returning to the Cognito Hosted UI"),De("customState_failure",g,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e.prototype.attributesToObject=function(t){var r=this,n={};return t&&t.map(function(i){i.Name==="email_verified"||i.Name==="phone_number_verified"?n[i.Name]=r.isTruthyString(i.Value)||i.Value===!0:n[i.Name]=i.Value}),n},e.prototype.isTruthyString=function(t){return typeof t.toLowerCase=="function"&&t.toLowerCase()==="true"},e.prototype.createCognitoUser=function(t){var r={Username:t,Pool:this.userPool};r.Storage=this._storage;var n=this._config.authenticationFlowType,i=new Rl(r);return n&&i.setAuthenticationFlowType(n),i},e.prototype._isValidAuthStorage=function(t){return!!t&&typeof t.getItem=="function"&&typeof t.setItem=="function"&&typeof t.removeItem=="function"&&typeof t.clear=="function"},e.prototype.noUserPoolErrorHandler=function(t){return t&&(!t.userPoolId||!t.identityPoolId)?xe.MissingAuthConfig:xe.NoConfig},e.prototype.rejectAuthError=function(t){return Promise.reject(new dn(t))},e.prototype.rejectNoUserPool=function(){var t=this.noUserPoolErrorHandler(this._config);return Promise.reject(new WB(t))},e.prototype.rememberDevice=function(){return Re(this,void 0,void 0,function(){var t,r;return Ne(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),ne.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.setDeviceStatusRemembered({onSuccess:function(a){i(a)},onFailure:function(a){a.code==="InvalidParameterException"?o(new dn(xe.DeviceConfig)):a.code==="NetworkError"?o(new dn(xe.NetworkError)):o(a)}})})]}})})},e.prototype.forgetDevice=function(){return Re(this,void 0,void 0,function(){var t,r;return Ne(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),ne.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.forgetDevice({onSuccess:function(a){i(a)},onFailure:function(a){a.code==="InvalidParameterException"?o(new dn(xe.DeviceConfig)):a.code==="NetworkError"?o(new dn(xe.NetworkError)):o(a)}})})]}})})},e.prototype.fetchDevices=function(){return Re(this,void 0,void 0,function(){var t,r;return Ne(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),ne.debug("The user is not authenticated by the error",r),new Error("The user is not authenticated");case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){var a={onSuccess:function(s){var c=s.Devices.map(function(u){var f=u.DeviceAttributes.find(function(d){var h=d.Name;return h==="device_name"})||{},l={id:u.DeviceKey,name:f.Value};return l});i(c)},onFailure:function(s){s.code==="InvalidParameterException"?o(new dn(xe.DeviceConfig)):s.code==="NetworkError"?o(new dn(xe.NetworkError)):o(s)}};t.listDevices(QB,null,a)})]}})})},e}(),ai=new ZB(null);st.register(ai);var yr={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new Vu().getStorage()};function Fy(e){var t=0;t=e.length;for(var r=e.length;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function Bi(){var e=new Date;return e.getTime()}function ja(e){return Number.isInteger?Number.isInteger(e):eF(e)}function eF(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var Hr=new Se("StorageCache"),tF=function(){function e(t){this.config=Object.assign({},t),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){ja(this.config.capacityInBytes)||(Hr.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=yr.capacityInBytes),ja(this.config.itemMaxSize)||(Hr.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=yr.itemMaxSize),ja(this.config.defaultTTL)||(Hr.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=yr.defaultTTL),ja(this.config.defaultPriority)||(Hr.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=yr.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Hr.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=yr.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Hr.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=yr.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Hr.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=yr.warningThreshold);var t=5*1024*1024;this.config.capacityInBytes>t&&(Hr.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=yr.capacityInBytes)},e.prototype.fillCacheItem=function(t,r,n){var i={key:t,data:r,timestamp:Bi(),visitedTime:Bi(),priority:n.priority,expires:n.expires,type:typeof r,byteSize:0};return i.byteSize=Fy(JSON.stringify(i)),i.byteSize=Fy(JSON.stringify(i)),i},e.prototype.configure=function(t){return t?(t.keyPrefix&&Hr.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,t,t.Cache),this.checkConfig(),this.config):this.config},e}(),rF=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bt=new Se("Cache"),nF=function(e){rF(t,e);function t(r){var n=this,i=r?Object.assign({},yr,r):yr;return n=e.call(this,i)||this,n.config.storage=i.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return t.prototype._decreaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n-r).toString())},t.prototype._increaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n+r).toString())},t.prototype._refreshItem=function(r,n){return r.visitedTime=Bi(),this.config.storage.setItem(n,JSON.stringify(r)),r},t.prototype._isExpired=function(r){var n=this.config.storage.getItem(r),i=JSON.parse(n);return Bi()>=i.expires},t.prototype._removeItem=function(r,n){var i=n||JSON.parse(this.config.storage.getItem(r)).byteSize;this._decreaseCurSizeInBytes(i),this.config.storage.removeItem(r)},t.prototype._setItem=function(r,n){this._increaseCurSizeInBytes(n.byteSize);try{this.config.storage.setItem(r,JSON.stringify(n))}catch(i){this._decreaseCurSizeInBytes(n.byteSize),bt.error("Failed to set item "+i)}},t.prototype._sizeToPop=function(r){var n=this.getCacheCurSize()+r-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return n>i?n:i},t.prototype._isCacheFull=function(r){return r+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var r=[],n=[],i=0;i<this.config.storage.length;i+=1)n.push(this.config.storage.key(i));for(var i=0;i<n.length;i+=1){var o=n[i];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):r.push(o))}return r},t.prototype._popOutItems=function(r,n){for(var i=[],o=n,a=0;a<r.length;a+=1){var s=this.config.storage.getItem(r[a]);if(s!=null){var c=JSON.parse(s);i.push(c)}}i.sort(function(u,f){return u.priority>f.priority?-1:u.priority<f.priority?1:u.visitedTime<f.visitedTime?-1:1});for(var a=0;a<i.length;a+=1)if(this._removeItem(i[a].key,i[a].byteSize),o-=i[a].byteSize,o<=0)return},t.prototype.setItem=function(r,n,i){bt.log("Set item: key is "+r+", value is "+n+" with options: "+i);var o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){bt.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof n=="undefined"){bt.warn("The value of item should not be undefined!");return}var a={priority:i&&i.priority!==void 0?i.priority:this.config.defaultPriority,expires:i&&i.expires!==void 0?i.expires:this.config.defaultTTL+Bi()};if(a.priority<1||a.priority>5){bt.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var s=this.fillCacheItem(o,n,a);if(s.byteSize>this.config.itemMaxSize){bt.warn("Item with key: "+r+" you are trying to put into is too big!");return}try{var c=this.config.storage.getItem(o);if(c&&this._removeItem(o,JSON.parse(c).byteSize),this._isCacheFull(s.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(s.byteSize)){var f=this._sizeToPop(s.byteSize);this._popOutItems(u,f)}}this._setItem(o,s)}catch(l){bt.warn("setItem failed! "+l)}},t.prototype.getItem=function(r,n){bt.log("Get item: key is "+r+" with options "+n);var i=null,o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return bt.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(i=this.config.storage.getItem(o),i!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(i).byteSize),i=null;else{var a=JSON.parse(i);return a=this._refreshItem(a,o),a.data}if(n&&n.callback!==void 0){var s=n.callback();return s!==null&&this.setItem(r,s,n),s}return null}catch(c){return bt.warn("getItem failed! "+c),null}},t.prototype.removeItem=function(r){bt.log("Remove item: key is "+r);var n=this.config.keyPrefix+r;if(!(n===this.config.keyPrefix||n===this.cacheCurSizeKey))try{var i=this.config.storage.getItem(n);i&&this._removeItem(n,JSON.parse(i).byteSize)}catch(o){bt.warn("removeItem failed! "+o)}},t.prototype.clear=function(){bt.log("Clear Cache");for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&r.push(i)}try{for(var n=0;n<r.length;n+=1)this.config.storage.removeItem(r[n])}catch(o){bt.warn("clear failed! "+o)}},t.prototype.getAllKeys=function(){for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&r.push(i.substring(this.config.keyPrefix.length))}return r},t.prototype.getCacheCurSize=function(){var r=this.config.storage.getItem(this.cacheCurSizeKey);return r||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),r="0"),Number(r)},t.prototype.createInstance=function(r){return(!r.keyPrefix||r.keyPrefix===yr.keyPrefix)&&(bt.error("invalid keyPrefix, setting keyPrefix with timeStamp"),r.keyPrefix=Bi.toString()),new t(r)},t}(tF),FA=new nF,Vo=FA;st.register(FA);var Qu={},Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.AwsCrc32=void 0;var jy=P.exports,Yc=la,iF=Qu,oF=function(){function e(){this.crc32=new iF.Crc32}return e.prototype.update=function(t){(0,Yc.isEmptyData)(t)||this.crc32.update((0,Yc.convertToBuffer)(t))},e.prototype.digest=function(){return(0,jy.__awaiter)(this,void 0,void 0,function(){return(0,jy.__generator)(this,function(t){return[2,(0,Yc.numToUint8)(this.crc32.digest())]})})},e}();Zu.AwsCrc32=oF;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=P.exports,r=la;function n(c){return new i().update(c).digest()}e.crc32=n;var i=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var f,l;try{for(var d=(0,t.__values)(u),h=d.next();!h.done;h=d.next()){var p=h.value;this.checksum=this.checksum>>>8^a[(this.checksum^p)&255]}}catch(g){f={error:g}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();e.Crc32=i;var o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=(0,r.uint32ArrayFrom)(o),s=Zu;Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})})(Qu);var Xc=function(){function e(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var r=new Uint8Array(8),n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&$y(r),new e(r)},e.prototype.valueOf=function(){var t=this.bytes.slice(0),r=t[0]&128;return r&&$y(t),parseInt(Ye(t),16)*(r?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function $y(e){for(var t=0;t<8;t++)e[t]^=255;for(var t=7;t>-1&&(e[t]++,e[t]===0);t--);}var aF=function(){function e(t,r){this.toUtf8=t,this.fromUtf8=r}return e.prototype.format=function(t){var r,n,i,o,a=[];try{for(var s=P.exports.__values(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=this.fromUtf8(u);a.push(Uint8Array.from([f.byteLength]),f,this.formatHeaderValue(t[u]))}}catch(b){r={error:b}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}var l=new Uint8Array(a.reduce(function(b,E){return b+E.byteLength},0)),d=0;try{for(var h=P.exports.__values(a),p=h.next();!p.done;p=h.next()){var g=p.value;l.set(g,d),d+=g.byteLength}}catch(b){i={error:b}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return l},e.prototype.formatHeaderValue=function(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":var r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":var i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":var o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);var a=new Uint8Array(o.buffer);return a.set(t.value,3),a;case"string":var s=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+s.byteLength));c.setUint8(0,7),c.setUint16(1,s.byteLength,!1);var u=new Uint8Array(c.buffer);return u.set(s,3),u;case"timestamp":var f=new Uint8Array(9);return f[0]=8,f.set(Xc.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!vF.test(t.value))throw new Error("Invalid UUID received: "+t.value);var l=new Uint8Array(17);return l[0]=9,l.set(s2(t.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(t){for(var r={},n=0;n<t.byteLength;){var i=t.getUint8(n++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[o]={type:qy,value:!0};break;case 1:r[o]={type:qy,value:!1};break;case 2:r[o]={type:sF,value:t.getInt8(n++)};break;case 3:r[o]={type:uF,value:t.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:cF,value:t.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:fF,value:new Xc(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:var a=t.getUint16(n,!1);n+=2,r[o]={type:lF,value:new Uint8Array(t.buffer,t.byteOffset+n,a)},n+=a;break;case 7:var s=t.getUint16(n,!1);n+=2,r[o]={type:dF,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s))},n+=s;break;case 8:r[o]={type:hF,value:new Date(new Xc(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[o]={type:pF,value:Ye(c.subarray(0,4))+"-"+Ye(c.subarray(4,6))+"-"+Ye(c.subarray(6,8))+"-"+Ye(c.subarray(8,10))+"-"+Ye(c.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return r},e}(),zy;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(zy||(zy={}));var qy="boolean",sF="byte",uF="short",cF="integer",fF="long",lF="binary",dF="string",hF="timestamp",pF="uuid",vF=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,jA=4,hn=jA*2,zn=4,gF=hn+zn*2;function yF(e){var t=e.byteLength,r=e.byteOffset,n=e.buffer;if(t<gF)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(n,r,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var a=i.getUint32(jA,!1),s=i.getUint32(hn,!1),c=i.getUint32(t-zn,!1),u=new Qu.Crc32().update(new Uint8Array(n,r,hn));if(s!==u.digest())throw new Error("The prelude checksum specified in the message ("+s+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(n,r+hn,t-(hn+zn))),c!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+c);return{headers:new DataView(n,r+hn+zn,a),body:new Uint8Array(n,r+hn+zn+a,o-a-(hn+zn+zn))}}var $A=function(){function e(t,r){this.headerMarshaller=new aF(t,r)}return e.prototype.marshall=function(t){var r=t.headers,n=t.body,i=this.headerMarshaller.format(r),o=i.byteLength+n.byteLength+16,a=new Uint8Array(o),s=new DataView(a.buffer,a.byteOffset,a.byteLength),c=new Qu.Crc32;return s.setUint32(0,o,!1),s.setUint32(4,i.byteLength,!1),s.setUint32(8,c.update(a.subarray(0,8)).digest(),!1),a.set(i,12),a.set(n,i.byteLength+12),s.setUint32(o-4,c.update(a.subarray(8,o-4)).digest(),!1),a},e.prototype.unmarshall=function(t){var r=yF(t),n=r.headers,i=r.body;return{headers:this.headerMarshaller.parse(n),body:i}},e.prototype.formatHeaders=function(t){return this.headerMarshaller.format(t)},e}();function mF(e){var t,r=0,n=0,i=null,o=null,a=function(c){if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,n=4,i=new Uint8Array(c);var u=new DataView(i.buffer);u.setUint32(0,c,!1)},s=function(){return P.exports.__asyncGenerator(this,arguments,function(){var c,u,f,l,d,h,p,g,b;return P.exports.__generator(this,function(E){switch(E.label){case 0:c=e[Symbol.asyncIterator](),E.label=1;case 1:return[4,P.exports.__await(c.next())];case 2:return u=E.sent(),f=u.value,l=u.done,l?r?[3,4]:[4,P.exports.__await(void 0)]:[3,10];case 3:return[2,E.sent()];case 4:return r!==n?[3,7]:[4,P.exports.__await(i)];case 5:return[4,E.sent()];case 6:return E.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,P.exports.__await(void 0)];case 9:return[2,E.sent()];case 10:d=f.length,h=0,E.label=11;case 11:if(!(h<d))return[3,15];if(!i){if(p=d-h,o||(o=new Uint8Array(4)),g=Math.min(4-n,p),o.set(f.slice(h,h+g),n),n+=g,h+=g,n<4)return[3,15];a(new DataView(o.buffer).getUint32(0,!1)),o=null}return b=Math.min(r-n,d-h),i.set(f.slice(h,h+b),n),n+=b,h+=b,r&&r===n?[4,P.exports.__await(i)]:[3,14];case 12:return[4,E.sent()];case 13:E.sent(),i=null,r=0,n=0,E.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})};return t={},t[Symbol.asyncIterator]=s,t}function wF(e,t){var r;return r={},r[Symbol.asyncIterator]=function(){return P.exports.__asyncGenerator(this,arguments,function(){var n,i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T;return P.exports.__generator(this,function(N){switch(N.label){case 0:N.trys.push([0,12,13,18]),n=P.exports.__asyncValues(e),N.label=1;case 1:return[4,P.exports.__await(n.next())];case 2:if(i=N.sent(),!!i.done)return[3,11];if(o=i.value,a=t.eventMarshaller.unmarshall(o),s=a.headers[":message-type"].value,s!=="error")return[3,3];throw c=new Error(a.headers[":error-message"].value||"UnknownError"),c.name=a.headers[":error-code"].value,c;case 3:return s!=="exception"?[3,5]:(u=a.headers[":exception-type"].value,f=(b={},b[u]=a,b),[4,P.exports.__await(t.deserializer(f))]);case 4:throw l=N.sent(),l.$unknown?(d=new Error(t.toUtf8(a.body)),d.name=u,d):l[u];case 5:return s!=="event"?[3,9]:(h=(E={},E[a.headers[":event-type"].value]=a,E),[4,P.exports.__await(t.deserializer(h))]);case 6:return p=N.sent(),p.$unknown?[3,10]:[4,P.exports.__await(p)];case 7:return[4,N.sent()];case 8:return N.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+a.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return g=N.sent(),S={error:g},[3,18];case 13:return N.trys.push([13,,16,17]),i&&!i.done&&(T=n.return)?[4,P.exports.__await(T.call(n))]:[3,15];case 14:N.sent(),N.label=15;case 15:return[3,17];case 16:if(S)throw S.error;return[7];case 17:return[7];case 18:return[2]}})})},r}var bF=function(){function e(t){var r=t.utf8Encoder,n=t.utf8Decoder;this.eventMarshaller=new $A(r,n),this.utfEncoder=r}return e.prototype.deserialize=function(t,r){var n=mF(t),i=wF(n,{eventMarshaller:this.eventMarshaller,deserializer:r,toUtf8:this.utfEncoder});return i},e.prototype.serialize=function(t,r){var n,i=this,o=function(){return P.exports.__asyncGenerator(this,arguments,function(){var a,s,c,u,f,l,d;return P.exports.__generator(this,function(h){switch(h.label){case 0:h.trys.push([0,7,8,13]),a=P.exports.__asyncValues(t),h.label=1;case 1:return[4,P.exports.__await(a.next())];case 2:return s=h.sent(),!s.done?(c=s.value,u=i.eventMarshaller.marshall(r(c)),[4,P.exports.__await(u)]):[3,6];case 3:return[4,h.sent()];case 4:h.sent(),h.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return f=h.sent(),l={error:f},[3,13];case 8:return h.trys.push([8,,11,12]),s&&!s.done&&(d=a.return)?[4,P.exports.__await(d.call(a))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,12];case 11:if(l)throw l.error;return[7];case 12:return[7];case 13:return[4,P.exports.__await(new Uint8Array(0))];case 14:return[4,h.sent()];case 15:return h.sent(),[2]}})})};return n={},n[Symbol.asyncIterator]=o,n},e}(),_F=function(e){var t;return t={},t[Symbol.asyncIterator]=function(){return P.exports.__asyncGenerator(this,arguments,function(){var r,n,i,o;return P.exports.__generator(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,P.exports.__await(r.read())];case 3:return n=a.sent(),i=n.done,o=n.value,i?[4,P.exports.__await(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,P.exports.__await(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})},t},SF=function(e){var t=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(r){return P.exports.__awaiter(this,void 0,void 0,function(){var n,i,o;return P.exports.__generator(this,function(a){switch(a.label){case 0:return[4,t.next()];case 1:return n=a.sent(),i=n.done,o=n.value,i?[2,r.close()]:(r.enqueue(o),[2])}})})}})},EF=function(){function e(t){var r=t.utf8Encoder,n=t.utf8Decoder;this.eventMarshaller=new $A(r,n),this.universalMarshaller=new bF({utf8Decoder:n,utf8Encoder:r})}return e.prototype.deserialize=function(t,r){var n=CF(t)?_F(t):t;return this.universalMarshaller.deserialize(n,r)},e.prototype.serialize=function(t,r){var n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?SF(n):n},e}(),CF=function(e){return typeof ReadableStream=="function"&&e instanceof ReadableStream},AF=function(e){return new EF(e)},xF=function(e){return P.exports.__assign(P.exports.__assign({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},Ll=function(e,t){return Ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ll(e,t)};function lr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ll(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var v=function(){return v=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},v.apply(this,arguments)};function we(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function be(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const TF="@aws-sdk/client-s3",IF="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",OF="3.6.1",PF={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},kF="./dist/cjs/index.js",RF="./types/index.d.ts",NF="./dist/es/index.js",DF={"./runtimeConfig":"./runtimeConfig.browser"},MF=!1,LF={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0",tslib:"^2.0.0"},UF={"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},BF={node:">=10.0.0"},FF={"<4.0":{"types/*":["types/ts3.4/*"]}},jF={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},$F="Apache-2.0",zF="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",qF={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"};var KF={name:TF,description:IF,version:OF,scripts:PF,main:kF,types:RF,module:NF,browser:DF,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:MF,dependencies:LF,devDependencies:UF,engines:BF,typesVersions:FF,author:jF,license:$F,homepage:zF,repository:qF};function HF(e,t,r){return r===void 0&&(r=1024*1024),new Promise(function(n,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var a=e.size,s=0;function c(){if(s>=a){n();return}o.readAsArrayBuffer(e.slice(s,Math.min(a,s+r)))}o.addEventListener("load",function(u){var f=u.target.result;t(new Uint8Array(f)),s+=f.byteLength,c()}),c()})}var GF=function(t,r){return P.exports.__awaiter(this,void 0,void 0,function(){var n;return P.exports.__generator(this,function(i){switch(i.label){case 0:return n=new t,[4,HF(r,function(o){n.update(o)})];case 1:return i.sent(),[2,n.digest()]}})})},sn=64,VF=16,WF=[1732584193,4023233417,2562383102,271733878],JF=function(){function e(){this.state=Uint32Array.from(WF),this.buffer=new DataView(new ArrayBuffer(sn)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(!YF(t)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=XF(t),n=0,i=r.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===sn&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return P.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,s,s,a,s;return P.exports.__generator(this,function(c){if(!this.finished){if(t=this,r=t.buffer,n=t.bufferLength,i=t.bytesHashed,o=i*8,r.setUint8(this.bufferLength++,128),n%sn>=sn-8){for(s=this.bufferLength;s<sn;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<sn-8;s++)r.setUint8(s,0);r.setUint32(sn-8,o>>>0,!0),r.setUint32(sn-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}for(a=new DataView(new ArrayBuffer(VF)),s=0;s<4;s++)a.setUint32(s*4,this.state[s],!0);return[2,new Uint8Array(a.buffer,a.byteOffset,a.byteLength)]})})},e.prototype.hashBuffer=function(){var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3];i=ct(i,o,a,s,r.getUint32(0,!0),7,3614090360),s=ct(s,i,o,a,r.getUint32(4,!0),12,3905402710),a=ct(a,s,i,o,r.getUint32(8,!0),17,606105819),o=ct(o,a,s,i,r.getUint32(12,!0),22,3250441966),i=ct(i,o,a,s,r.getUint32(16,!0),7,4118548399),s=ct(s,i,o,a,r.getUint32(20,!0),12,1200080426),a=ct(a,s,i,o,r.getUint32(24,!0),17,2821735955),o=ct(o,a,s,i,r.getUint32(28,!0),22,4249261313),i=ct(i,o,a,s,r.getUint32(32,!0),7,1770035416),s=ct(s,i,o,a,r.getUint32(36,!0),12,2336552879),a=ct(a,s,i,o,r.getUint32(40,!0),17,4294925233),o=ct(o,a,s,i,r.getUint32(44,!0),22,2304563134),i=ct(i,o,a,s,r.getUint32(48,!0),7,1804603682),s=ct(s,i,o,a,r.getUint32(52,!0),12,4254626195),a=ct(a,s,i,o,r.getUint32(56,!0),17,2792965006),o=ct(o,a,s,i,r.getUint32(60,!0),22,1236535329),i=ft(i,o,a,s,r.getUint32(4,!0),5,4129170786),s=ft(s,i,o,a,r.getUint32(24,!0),9,3225465664),a=ft(a,s,i,o,r.getUint32(44,!0),14,643717713),o=ft(o,a,s,i,r.getUint32(0,!0),20,3921069994),i=ft(i,o,a,s,r.getUint32(20,!0),5,3593408605),s=ft(s,i,o,a,r.getUint32(40,!0),9,38016083),a=ft(a,s,i,o,r.getUint32(60,!0),14,3634488961),o=ft(o,a,s,i,r.getUint32(16,!0),20,3889429448),i=ft(i,o,a,s,r.getUint32(36,!0),5,568446438),s=ft(s,i,o,a,r.getUint32(56,!0),9,3275163606),a=ft(a,s,i,o,r.getUint32(12,!0),14,4107603335),o=ft(o,a,s,i,r.getUint32(32,!0),20,1163531501),i=ft(i,o,a,s,r.getUint32(52,!0),5,2850285829),s=ft(s,i,o,a,r.getUint32(8,!0),9,4243563512),a=ft(a,s,i,o,r.getUint32(28,!0),14,1735328473),o=ft(o,a,s,i,r.getUint32(48,!0),20,2368359562),i=lt(i,o,a,s,r.getUint32(20,!0),4,4294588738),s=lt(s,i,o,a,r.getUint32(32,!0),11,2272392833),a=lt(a,s,i,o,r.getUint32(44,!0),16,1839030562),o=lt(o,a,s,i,r.getUint32(56,!0),23,4259657740),i=lt(i,o,a,s,r.getUint32(4,!0),4,2763975236),s=lt(s,i,o,a,r.getUint32(16,!0),11,1272893353),a=lt(a,s,i,o,r.getUint32(28,!0),16,4139469664),o=lt(o,a,s,i,r.getUint32(40,!0),23,3200236656),i=lt(i,o,a,s,r.getUint32(52,!0),4,681279174),s=lt(s,i,o,a,r.getUint32(0,!0),11,3936430074),a=lt(a,s,i,o,r.getUint32(12,!0),16,3572445317),o=lt(o,a,s,i,r.getUint32(24,!0),23,76029189),i=lt(i,o,a,s,r.getUint32(36,!0),4,3654602809),s=lt(s,i,o,a,r.getUint32(48,!0),11,3873151461),a=lt(a,s,i,o,r.getUint32(60,!0),16,530742520),o=lt(o,a,s,i,r.getUint32(8,!0),23,3299628645),i=dt(i,o,a,s,r.getUint32(0,!0),6,4096336452),s=dt(s,i,o,a,r.getUint32(28,!0),10,1126891415),a=dt(a,s,i,o,r.getUint32(56,!0),15,2878612391),o=dt(o,a,s,i,r.getUint32(20,!0),21,4237533241),i=dt(i,o,a,s,r.getUint32(48,!0),6,1700485571),s=dt(s,i,o,a,r.getUint32(12,!0),10,2399980690),a=dt(a,s,i,o,r.getUint32(40,!0),15,4293915773),o=dt(o,a,s,i,r.getUint32(4,!0),21,2240044497),i=dt(i,o,a,s,r.getUint32(32,!0),6,1873313359),s=dt(s,i,o,a,r.getUint32(60,!0),10,4264355552),a=dt(a,s,i,o,r.getUint32(24,!0),15,2734768916),o=dt(o,a,s,i,r.getUint32(52,!0),21,1309151649),i=dt(i,o,a,s,r.getUint32(16,!0),6,4149444226),s=dt(s,i,o,a,r.getUint32(44,!0),10,3174756917),a=dt(a,s,i,o,r.getUint32(8,!0),15,718787259),o=dt(o,a,s,i,r.getUint32(36,!0),21,3951481745),n[0]=i+n[0]&4294967295,n[1]=o+n[1]&4294967295,n[2]=a+n[2]&4294967295,n[3]=s+n[3]&4294967295},e}();function ec(e,t,r,n,i,o){return t=(t+e&4294967295)+(n+o&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function ct(e,t,r,n,i,o,a){return ec(t&r|~t&n,e,t,i,o,a)}function ft(e,t,r,n,i,o,a){return ec(t&n|r&~n,e,t,i,o,a)}function lt(e,t,r,n,i,o,a){return ec(t^r^n,e,t,i,o,a)}function dt(e,t,r,n,i,o,a){return ec(r^(t|~n),e,t,i,o,a)}function YF(e){return typeof e=="string"?e.length===0:e.byteLength===0}function XF(e){return typeof e=="string"?Bu(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var Ky="s3.{region}.amazonaws.com",QF="s3.{region}.amazonaws.com.cn",ZF="s3.{region}.c2s.ic.gov",e4="s3.{region}.sc2s.sgov.gov",t4="s3.{region}.amazonaws.com",r4=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),n4=new Set(["cn-north-1","cn-northwest-1"]),i4=new Set(["us-iso-east-1"]),o4=new Set(["us-isob-east-1"]),a4=new Set(["us-gov-east-1","us-gov-west-1"]),s4=function(e,t){var r=void 0;switch(e){case"af-south-1":r={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":r={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":r={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":r={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":r={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":r={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":r={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":r={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":r={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:r4.has(e)&&(r={hostname:Ky.replace("{region}",e),partition:"aws"}),n4.has(e)&&(r={hostname:QF.replace("{region}",e),partition:"aws-cn"}),i4.has(e)&&(r={hostname:ZF.replace("{region}",e),partition:"aws-iso"}),o4.has(e)&&(r={hostname:e4.replace("{region}",e),partition:"aws-iso-b"}),a4.has(e)&&(r={hostname:t4.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:Ky.replace("{region}",e),partition:"aws"})}return Promise.resolve(v({signingService:"s3"},r))},Hy={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:s4,serviceId:"S3",signingEscapePath:!1,urlParser:JC,useArnRegion:!1},u4=v(v({},Hy),{runtime:"browser",base64Decoder:Hh,base64Encoder:UC,bodyLengthChecker:GC,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:WC({serviceId:Hy.serviceId,clientVersion:KF.version}),eventStreamSerdeProvider:AF,maxAttempts:Gu,md5:JF,region:FC("Region is missing"),requestHandler:new LC,sha256:Bh.Sha256,streamCollector:BC,streamHasher:GF,utf8Decoder:Bu,utf8Encoder:jh}),zA=function(e){return typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6},c4=function(e){var t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");var r=P.exports.__read(t),n=r[1],i=r[2],o=r[3],a=r[4],s=r.slice(5);return{partition:n,service:i,region:o,accountId:a,resource:s.join(":")}},f4=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,l4=/(\d+\.){3}\d+/,d4=/\.\./,qA=/\./,h4=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,KA=/^s3(-external-1)?\.amazonaws\.com$/,Ul="amazonaws.com",p4=function(e){return typeof e.bucketName=="string"},su=function(e){return ep(e)?e.replace(/fips-|-fips/,""):e},v4=function(e){return f4.test(e)&&!l4.test(e)&&!d4.test(e)},HA=function(e){var t=e.match(h4);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},g4=function(e){return KA.test(e)?["us-east-1",Ul]:HA(e)},y4=function(e){return KA.test(e)?[e.replace("."+Ul,""),Ul]:HA(e)},m4=function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},w4=function(e){if(e!=="s3"&&e!=="s3-outposts")throw new Error("Expect 's3' or 's3-outposts' in ARN service component")},b4=function(e){if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},_4=function(e){if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},S4=function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')},E4=function(e,t){if(e==="")throw new Error("ARN region is empty");if(!t.useArnRegion&&!Gy(e,t.clientRegion)&&!Gy(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&ep(e))throw new Error("Endpoint does not support FIPS region")},ep=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},Gy=function(e,t){return e===t||su(e)===t||e===su(t)},C4=function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},Vy=function(e,t){if(t===void 0&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(t==null?void 0:t.tlsCompatible)&&qA.test(e))throw new Error("Invalid DNS label "+e)},A4=function(e){var t=e.includes(":")?":":"/",r=P.exports.__read(e.split(t)),n=r[0],i=r.slice(1);if(n==="accesspoint"){if(i.length!==1||i[0]==="")throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}else if(n==="outpost"){if(!i[0]||i[1]!=="accesspoint"||!i[2]||i.length!==3)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=P.exports.__read(i,3),a=o[0];o[1];var s=o[2];return{outpostId:a,accesspointName:s}}else throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")},x4=function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")},T4=function(e){if(ep(e!=null?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)},Wy=function(e){var t=e.isCustomEndpoint;e.baseHostname;var r=e.dualstackEndpoint,n=e.accelerateEndpoint;if(t){if(r)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(n)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return p4(e)?O4(P.exports.__assign(P.exports.__assign({},e),{isCustomEndpoint:t})):I4(P.exports.__assign(P.exports.__assign({},e),{isCustomEndpoint:t}))},I4=function(e){var t=e.isCustomEndpoint,r=e.baseHostname,n=P.exports.__read(t?[e.clientRegion,r]:y4(r),2),i=n[0],o=n[1],a=e.pathStyleEndpoint,s=e.dualstackEndpoint,c=s===void 0?!1:s,u=e.accelerateEndpoint,f=u===void 0?!1:u,l=e.tlsCompatible,d=l===void 0?!0:l,h=e.useArnRegion,p=e.bucketName,g=e.clientPartition,b=g===void 0?"aws":g,E=e.clientSigningRegion,S=E===void 0?i:E;m4({pathStyleEndpoint:a,accelerateEndpoint:f,tlsCompatible:d});var T=p.service,N=p.partition,k=p.accountId,B=p.region,V=p.resource;w4(T),S4(N,{clientPartition:b}),C4(k),E4(B,{useArnRegion:h,clientRegion:i,clientSigningRegion:S});var F=A4(V),ee=F.accesspointName,R=F.outpostId;Vy(ee+"-"+k,{tlsCompatible:d});var L=h?B:i,A=h?B:S;if(R){_4(T),Vy(R,{tlsCompatible:d}),x4(c),T4(L);var y=ee+"-"+k+"."+R;return{bucketEndpoint:!0,hostname:""+y+(t?"":".s3-outposts."+L)+"."+o,signingRegion:A,signingService:"s3-outposts"}}b4(T);var _=ee+"-"+k;return{bucketEndpoint:!0,hostname:""+_+(t?"":".s3-accesspoint"+(c?".dualstack":"")+"."+L)+"."+o,signingRegion:A}},O4=function(e){var t=e.accelerateEndpoint,r=t===void 0?!1:t,n=e.clientRegion,i=e.baseHostname,o=e.bucketName,a=e.dualstackEndpoint,s=a===void 0?!1:a,c=e.pathStyleEndpoint,u=c===void 0?!1:c,f=e.tlsCompatible,l=f===void 0?!0:f,d=e.isCustomEndpoint,h=d===void 0?!1:d,p=P.exports.__read(h?[n,i]:g4(i),2),g=p[0],b=p[1];return u||!v4(o)||l&&qA.test(o)?{bucketEndpoint:!1,hostname:s?"s3.dualstack."+g+"."+b:i}:(r?i="s3-accelerate"+(s?".dualstack":"")+"."+b:s&&(i="s3.dualstack."+g+"."+b),{bucketEndpoint:!0,hostname:o+"."+i})},P4=function(e){return function(t,r){return function(n){return P.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,a,s,E,c,u,f,l,d,h,p,N,k,g,b,E,S,T,N,k;return P.exports.__generator(this,function(B){switch(B.label){case 0:return i=n.input.Bucket,o=e.bucketEndpoint,a=n.request,Ge.isInstance(a)?e.bucketEndpoint?(a.hostname=i,[3,7]):[3,1]:[3,8];case 1:return zA(i)?(s=c4(i),c=su,[4,e.region()]):[3,5];case 2:return E=c.apply(void 0,[B.sent()]),[4,e.regionInfoProvider(E)];case 3:return u=B.sent()||{},f=u.partition,l=u.signingRegion,d=l===void 0?E:l,[4,e.useArnRegion()];case 4:return h=B.sent(),p=Wy({bucketName:s,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",useArnRegion:h,clientPartition:f,clientSigningRegion:d,clientRegion:E,isCustomEndpoint:e.isCustomEndpoint}),N=p.hostname,k=p.bucketEndpoint,g=p.signingRegion,b=p.signingService,g&&g!==d&&(r.signing_region=g),b&&b!=="s3"&&(r.signing_service=b),a.hostname=N,o=k,[3,7];case 5:return S=su,[4,e.region()];case 6:E=S.apply(void 0,[B.sent()]),T=Wy({bucketName:i,clientRegion:E,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint}),N=T.hostname,k=T.bucketEndpoint,a.hostname=N,o=k,B.label=7;case 7:o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),a.path===""&&(a.path="/")),B.label=8;case 8:return[2,t(P.exports.__assign(P.exports.__assign({},n),{request:a}))]}})})}}},k4={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Ir=function(e){return{applyToStack:function(t){t.addRelativeTo(P4(e),k4)}}};function R4(e){var t=e.bucketEndpoint,r=t===void 0?!1:t,n=e.forcePathStyle,i=n===void 0?!1:n,o=e.useAccelerateEndpoint,a=o===void 0?!1:o,s=e.useDualstackEndpoint,c=s===void 0?!1:s,u=e.useArnRegion,f=u===void 0?!1:u;return P.exports.__assign(P.exports.__assign({},e),{bucketEndpoint:r,forcePathStyle:i,useAccelerateEndpoint:a,useDualstackEndpoint:c,useArnRegion:typeof f=="function"?f:function(){return Promise.resolve(f)}})}function N4(e){var t=this;return function(r){return function(n){return P.exports.__awaiter(t,void 0,void 0,function(){var i;return P.exports.__generator(this,function(o){return i=n.request,Ge.isInstance(i)&&i.body&&e.runtime==="node"&&(i.headers=P.exports.__assign(P.exports.__assign({},i.headers),{Expect:"100-continue"})),[2,r(P.exports.__assign(P.exports.__assign({},n),{request:i}))]})})}}}var D4={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},M4=function(e){return{applyToStack:function(t){t.add(N4(e),D4)}}};function L4(){var e=this;return function(t){return function(r){return P.exports.__awaiter(e,void 0,void 0,function(){var n,i;return P.exports.__generator(this,function(o){if(n=r.input.Bucket,typeof n=="string"&&!zA(n)&&n.indexOf("/")>=0)throw i=new Error("Bucket name shouldn't contain '/', received '"+n+"'"),i.name="InvalidBucketName",i;return[2,t(P.exports.__assign({},r))]})})}}}var U4={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},B4=function(e){return{applyToStack:function(t){t.add(L4(),U4)}}},F4=function(e){return function(t){return function(r){return P.exports.__awaiter(void 0,void 0,void 0,function(){var n,i;return P.exports.__generator(this,function(o){switch(o.label){case 0:return n=r.request,!Ge.isInstance(n)||e.isCustomEndpoint?[2,t(P.exports.__assign({},r))]:n.hostname!=="s3.amazonaws.com"?[3,1]:(n.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(n.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t(P.exports.__assign({},r))]}})})}}},j4={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},$4=function(e){return{applyToStack:function(t){t.add(F4(e),j4)}}},z4=function(e){return function(t){return function(r){return P.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,a,s,c,u;return P.exports.__generator(this,function(f){switch(f.label){case 0:return[4,t(r)];case 1:return n=f.sent(),i=n.response,zo.isInstance(i)?(o=i.statusCode,a=i.body,o<200&&o>=300?[2,n]:[4,GA(a,e)]):[2,n];case 2:return s=f.sent(),[4,q4(s,e)];case 3:if(c=f.sent(),s.length===0)throw u=new Error("S3 aborted request"),u.name="InternalError",u;return c&&c.match("<Error>")&&(i.statusCode=400),i.body=s,[2,n]}})})}}},GA=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},q4=function(e,t){return GA(e,t).then(function(r){return t.utf8Encoder(r)})},K4={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},VA=function(e){return{applyToStack:function(t){t.addRelativeTo(z4(e),K4)}}},H4=function(e){lr(t,e);function t(r){var n=this,i=v(v({},u4),r),o=XC(i),a=YC(o),s=cA(a),c=HC(s),u=c,f=R4(u),l=fA(f),d=xF(l);return n=e.call(this,d)||this,n.config=d,n.middlewareStack.use(yL(n.config)),n.middlewareStack.use(jC(n.config)),n.middlewareStack.use(QC(n.config)),n.middlewareStack.use(ZC(n.config)),n.middlewareStack.use(eA(n.config)),n.middlewareStack.use(B4(n.config)),n.middlewareStack.use($4(n.config)),n.middlewareStack.use(M4(n.config)),n.middlewareStack.use(lA(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(dA),Jy;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Jy||(Jy={}));var Bl;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Bl||(Bl={}));var Fl;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Fl||(Fl={}));var Yy;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Yy||(Yy={}));var Xy;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Xy||(Xy={}));var Qy;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Qy||(Qy={}));var Zy;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Zy||(Zy={}));var em;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(em||(em={}));var tm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(tm||(tm={}));var rm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(rm||(rm={}));var jl;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(jl||(jl={}));var nm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(nm||(nm={}));var im;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(im||(im={}));var $l;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})($l||($l={}));var om;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(om||(om={}));var zl;(function(e){e.filterSensitiveLog=function(t){return v(v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(zl||(zl={}));var ql;(function(e){e.filterSensitiveLog=function(t){return v(v(v(v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae}),t.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Ae})}})(ql||(ql={}));var am;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(am||(am={}));var sm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(sm||(sm={}));var um;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(um||(um={}));var cm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(cm||(cm={}));var fm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(fm||(fm={}));var lm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(lm||(lm={}));var Kl;(function(e){e.filterSensitiveLog=function(t){return v(v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(Kl||(Kl={}));var Hl;(function(e){e.filterSensitiveLog=function(t){return v(v(v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(Hl||(Hl={}));var dm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(dm||(dm={}));var hm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(hm||(hm={}));var pm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(pm||(pm={}));var vm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(vm||(vm={}));var gm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(gm||(gm={}));var ym;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ym||(ym={}));var mm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(mm||(mm={}));var wm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(wm||(wm={}));var bm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(bm||(bm={}));var _m;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(_m||(_m={}));var Sm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Sm||(Sm={}));var Em;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Em||(Em={}));var Cm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Cm||(Cm={}));var Gl;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Gl||(Gl={}));var Vl;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Vl||(Vl={}));var Am;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Am||(Am={}));var xm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(xm||(xm={}));var Tm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Tm||(Tm={}));var Im;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Im||(Im={}));var Om;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Om||(Om={}));var Pm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Pm||(Pm={}));var km;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(km||(km={}));var Rm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Rm||(Rm={}));var Nm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Nm||(Nm={}));var Dm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Dm||(Dm={}));var Mm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Mm||(Mm={}));var Lm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Lm||(Lm={}));var Um;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Um||(Um={}));var Wi;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Wi||(Wi={}));var Wl;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Wl||(Wl={}));var Jl;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Wi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:Wl.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(Jl||(Jl={}));var Bm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Bm||(Bm={}));var Fm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Fm||(Fm={}));var jm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(jm||(jm={}));var $m;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})($m||($m={}));var Wo;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Filter&&{Filter:Jl.filterSensitiveLog(t.Filter)})}})(Wo||(Wo={}));var zm;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.AnalyticsConfiguration&&{AnalyticsConfiguration:Wo.filterSensitiveLog(t.AnalyticsConfiguration)})}})(zm||(zm={}));var qm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(qm||(qm={}));var Km;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Km||(Km={}));var Hm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Hm||(Hm={}));var Gm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Gm||(Gm={}));var Yl;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.KMSMasterKeyID&&{KMSMasterKeyID:Ae})}})(Yl||(Yl={}));var Xl;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Yl.filterSensitiveLog(t.ApplyServerSideEncryptionByDefault)})}})(Xl||(Xl={}));var uu;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Rules&&{Rules:t.Rules.map(function(r){return Xl.filterSensitiveLog(r)})})}})(uu||(uu={}));var Vm;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:uu.filterSensitiveLog(t.ServerSideEncryptionConfiguration)})}})(Vm||(Vm={}));var Wm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Wm||(Wm={}));var Jm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Jm||(Jm={}));var Ym;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ym||(Ym={}));var Xm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Xm||(Xm={}));var Qm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Qm||(Qm={}));var Zm;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Zm||(Zm={}));var e0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(e0||(e0={}));var Ql;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.KeyId&&{KeyId:Ae})}})(Ql||(Ql={}));var t0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(t0||(t0={}));var Zl;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSEKMS&&{SSEKMS:Ql.filterSensitiveLog(t.SSEKMS)})}})(Zl||(Zl={}));var ed;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Encryption&&{Encryption:Zl.filterSensitiveLog(t.Encryption)})}})(ed||(ed={}));var td;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.S3BucketDestination&&{S3BucketDestination:ed.filterSensitiveLog(t.S3BucketDestination)})}})(td||(td={}));var r0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(r0||(r0={}));var n0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(n0||(n0={}));var Jo;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Destination&&{Destination:td.filterSensitiveLog(t.Destination)})}})(Jo||(Jo={}));var i0;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.InventoryConfiguration&&{InventoryConfiguration:Jo.filterSensitiveLog(t.InventoryConfiguration)})}})(i0||(i0={}));var o0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(o0||(o0={}));var a0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(a0||(a0={}));var rd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(rd||(rd={}));var nd;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Wi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:rd.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(nd||(nd={}));var s0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(s0||(s0={}));var u0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(u0||(u0={}));var c0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(c0||(c0={}));var cu;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Filter&&{Filter:nd.filterSensitiveLog(t.Filter)})}})(cu||(cu={}));var f0;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Rules&&{Rules:t.Rules.map(function(r){return cu.filterSensitiveLog(r)})})}})(f0||(f0={}));var l0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(l0||(l0={}));var d0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(d0||(d0={}));var h0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(h0||(h0={}));var p0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(p0||(p0={}));var v0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(v0||(v0={}));var g0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(g0||(g0={}));var y0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(y0||(y0={}));var id;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(id||(id={}));var od;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Wi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:id.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(od||(od={}));var Yo;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Filter&&{Filter:od.filterSensitiveLog(t.Filter)})}})(Yo||(Yo={}));var m0;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.MetricsConfiguration&&{MetricsConfiguration:Yo.filterSensitiveLog(t.MetricsConfiguration)})}})(m0||(m0={}));var w0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(w0||(w0={}));var b0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(b0||(b0={}));var _0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(_0||(_0={}));var S0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(S0||(S0={}));var E0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(E0||(E0={}));var C0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(C0||(C0={}));var A0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(A0||(A0={}));var x0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(x0||(x0={}));var T0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(T0||(T0={}));var I0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(I0||(I0={}));var O0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(O0||(O0={}));var P0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(P0||(P0={}));var k0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(k0||(k0={}));var R0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(R0||(R0={}));var N0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(N0||(N0={}));var D0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(D0||(D0={}));var M0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(M0||(M0={}));var L0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(L0||(L0={}));var U0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(U0||(U0={}));var B0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(B0||(B0={}));var F0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(F0||(F0={}));var j0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(j0||(j0={}));var $0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})($0||($0={}));var z0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(z0||(z0={}));var q0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(q0||(q0={}));var ad;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ad||(ad={}));var sd;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Wi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:ad.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(sd||(sd={}));var K0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(K0||(K0={}));var H0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(H0||(H0={}));var G0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(G0||(G0={}));var ud;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Filter&&{Filter:sd.filterSensitiveLog(t.Filter)})}})(ud||(ud={}));var fu;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Rules&&{Rules:t.Rules.map(function(r){return ud.filterSensitiveLog(r)})})}})(fu||(fu={}));var V0;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.ReplicationConfiguration&&{ReplicationConfiguration:fu.filterSensitiveLog(t.ReplicationConfiguration)})}})(V0||(V0={}));var W0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(W0||(W0={}));var J0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(J0||(J0={}));var Y0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Y0||(Y0={}));var X0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(X0||(X0={}));var Q0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Q0||(Q0={}));var Z0;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Z0||(Z0={}));var ew;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ew||(ew={}));var tw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(tw||(tw={}));var rw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(rw||(rw={}));var nw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(nw||(nw={}));var iw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(iw||(iw={}));var ow;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ow||(ow={}));var aw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(aw||(aw={}));var sw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(sw||(sw={}));var uw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(uw||(uw={}));var cd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(cd||(cd={}));var fd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(fd||(fd={}));var cw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(cw||(cw={}));var fw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(fw||(fw={}));var lw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(lw||(lw={}));var dw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(dw||(dw={}));var hw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(hw||(hw={}));var pw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(pw||(pw={}));var vw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(vw||(vw={}));var gw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(gw||(gw={}));var yw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(yw||(yw={}));var mw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(mw||(mw={}));var ww;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ww||(ww={}));var bw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(bw||(bw={}));var _w;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(_w||(_w={}));var Sw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Sw||(Sw={}));var Ew;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ew||(Ew={}));var Cw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Cw||(Cw={}));var Aw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Aw||(Aw={}));var xw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(xw||(xw={}));var Tw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Tw||(Tw={}));var Iw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Iw||(Iw={}));var Ow;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ow||(Ow={}));var Pw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Pw||(Pw={}));var kw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(kw||(kw={}));var Rw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Rw||(Rw={}));var Nw;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(Nw||(Nw={}));var Dw;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(Dw||(Dw={}));var Mw;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.AnalyticsConfigurationList&&{AnalyticsConfigurationList:t.AnalyticsConfigurationList.map(function(r){return Wo.filterSensitiveLog(r)})})}})(Mw||(Mw={}));var Lw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Lw||(Lw={}));var Uw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Uw||(Uw={}));var Bw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Bw||(Bw={}));var Fw;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.InventoryConfigurationList&&{InventoryConfigurationList:t.InventoryConfigurationList.map(function(r){return Jo.filterSensitiveLog(r)})})}})(Fw||(Fw={}));var jw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(jw||(jw={}));var $w;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.MetricsConfigurationList&&{MetricsConfigurationList:t.MetricsConfigurationList.map(function(r){return Yo.filterSensitiveLog(r)})})}})($w||($w={}));var zw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(zw||(zw={}));var qw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(qw||(qw={}));var Kw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Kw||(Kw={}));var Hw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Hw||(Hw={}));var Gw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Gw||(Gw={}));var Vw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Vw||(Vw={}));var Ww;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ww||(Ww={}));var Jw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Jw||(Jw={}));var Yw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Yw||(Yw={}));var ld;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ld||(ld={}));var dd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(dd||(dd={}));var hd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(hd||(hd={}));var pd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(pd||(pd={}));var Xw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Xw||(Xw={}));var Qw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Qw||(Qw={}));var Zw;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Zw||(Zw={}));var eb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(eb||(eb={}));var tb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(tb||(tb={}));var vd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(vd||(vd={}));var gd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(gd||(gd={}));var rb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(rb||(rb={}));var nb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(nb||(nb={}));var ib;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.AnalyticsConfiguration&&{AnalyticsConfiguration:Wo.filterSensitiveLog(t.AnalyticsConfiguration)})}})(ib||(ib={}));var ob;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ob||(ob={}));var ab;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ab||(ab={}));var sb;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:uu.filterSensitiveLog(t.ServerSideEncryptionConfiguration)})}})(sb||(sb={}));var ub;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(ub||(ub={}));var cb;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.InventoryConfiguration&&{InventoryConfiguration:Jo.filterSensitiveLog(t.InventoryConfiguration)})}})(cb||(cb={}));var yd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Rules&&{Rules:t.Rules.map(function(r){return cu.filterSensitiveLog(r)})})}})(yd||(yd={}));var fb;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.LifecycleConfiguration&&{LifecycleConfiguration:yd.filterSensitiveLog(t.LifecycleConfiguration)})}})(fb||(fb={}));var lb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(lb||(lb={}));var db;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(db||(db={}));var hb;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.MetricsConfiguration&&{MetricsConfiguration:Yo.filterSensitiveLog(t.MetricsConfiguration)})}})(hb||(hb={}));var pb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(pb||(pb={}));var vb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(vb||(vb={}));var gb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(gb||(gb={}));var yb;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.ReplicationConfiguration&&{ReplicationConfiguration:fu.filterSensitiveLog(t.ReplicationConfiguration)})}})(yb||(yb={}));var mb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(mb||(mb={}));var wb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(wb||(wb={}));var bb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(bb||(bb={}));var _b;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(_b||(_b={}));var Sb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Sb||(Sb={}));var Eb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Eb||(Eb={}));var Cb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Cb||(Cb={}));var Ab;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ab||(Ab={}));var md;(function(e){e.filterSensitiveLog=function(t){return v(v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(md||(md={}));var wd;(function(e){e.filterSensitiveLog=function(t){return v(v(v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(wd||(wd={}));var xb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(xb||(xb={}));var Tb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Tb||(Tb={}));var Ib;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ib||(Ib={}));var Ob;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ob||(Ob={}));var Pb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Pb||(Pb={}));var kb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(kb||(kb={}));var Rb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Rb||(Rb={}));var Nb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Nb||(Nb={}));var Db;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Db||(Db={}));var Mb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Mb||(Mb={}));var Lb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Lb||(Lb={}));var Ub;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Ub||(Ub={}));var Bb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Bb||(Bb={}));var Fb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Fb||(Fb={}));var bd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.KMSKeyId&&{KMSKeyId:Ae})}})(bd||(bd={}));function G4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var bs=function(){function e(t,r){r===void 0&&(r=[]),this.name=t,this.children=r,this.attributes={}}return e.prototype.withName=function(t){return this.name=t,this},e.prototype.addAttribute=function(t,r){return this.attributes[t]=r,this},e.prototype.addChildNode=function(t){return this.children.push(t),this},e.prototype.removeAttribute=function(t){return delete this.attributes[t],this},e.prototype.toString=function(){var t,r,n=Boolean(this.children.length),i="<"+this.name,o=this.attributes;try{for(var a=P.exports.__values(Object.keys(o)),s=a.next();!s.done;s=a.next()){var c=s.value,u=o[c];typeof u!="undefined"&&u!==null&&(i+=" "+c+'="'+G4(""+u)+'"')}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i+=n?">"+this.children.map(function(f){return f.toString()}).join("")+"</"+this.name+">":"/>"},e}();function V4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var jb=function(){function e(t){this.value=t}return e.prototype.toString=function(){return V4(""+this.value)},e}(),WA={},JA={},qr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),o=function(s,c){const u=[];let f=c.exec(s);for(;f;){const l=[];l.startIndex=c.lastIndex-f[0].length;const d=f.length;for(let h=0;h<d;h++)l.push(f[h]);u.push(l),f=c.exec(s)}return u},a=function(s){const c=i.exec(s);return!(c===null||typeof c=="undefined")};e.isExist=function(s){return typeof s!="undefined"},e.isEmptyObject=function(s){return Object.keys(s).length===0},e.merge=function(s,c,u){if(c){const f=Object.keys(c),l=f.length;for(let d=0;d<l;d++)u==="strict"?s[f[d]]=[c[f[d]]]:s[f[d]]=c[f[d]]}},e.getValue=function(s){return e.isExist(s)?s:""},e.buildOptions=function(s,c,u){let f={};if(!s)return c;for(let l=0;l<u.length;l++)s[u[l]]!==void 0?f[u[l]]=s[u[l]]:f[u[l]]=c[u[l]];return f},e.isTagNameInArrayMode=function(s,c,u){return c===!1?!1:c instanceof RegExp?c.test(s):typeof c=="function"?!!c(s,u):c==="strict"},e.isName=a,e.getAllMatches=o,e.nameRegexp=n})(qr);const Fn=qr,_d=function(e,t,r){const n={};if(!t.alwaysCreateTextNode&&(!e.child||Fn.isEmptyObject(e.child))&&(!e.attrsMap||Fn.isEmptyObject(e.attrsMap)))return Fn.isExist(e.val)?e.val:"";if(Fn.isExist(e.val)&&!(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar))){const o=Fn.isTagNameInArrayMode(e.tagname,t.arrayMode,r);n[t.textNodeName]=o?[e.val]:e.val}Fn.merge(n,e.attrsMap,t.arrayMode);const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const a=i[o];if(e.child[a]&&e.child[a].length>1){n[a]=[];for(let s in e.child[a])e.child[a].hasOwnProperty(s)&&n[a].push(_d(e.child[a][s],t,a))}else{const s=_d(e.child[a][0],t,a),c=t.arrayMode===!0&&typeof s=="object"||Fn.isTagNameInArrayMode(a,t.arrayMode,r);n[a]=c?[s]:s}}return n};JA.convertToJson=_d;var si={},W4=function(e,t,r){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=r,this.addChild=function(n){Array.isArray(this.child[n.tagname])?this.child[n.tagname].push(n):this.child[n.tagname]=[n]}};const J4=/^[-+]?0x[a-fA-F0-9]+$/,Y4=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const X4={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Q4(e,t={}){if(t=Object.assign({},X4,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&J4.test(r))return Number.parseInt(r,16);{const n=Y4.exec(r);if(n){const i=n[1],o=n[2];let a=Z4(n[3]);const s=n[4]||n[6];if(!t.leadingZeros&&o.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!i&&r[1]!==".")return e;{const c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||s?t.eNotation?c:e:r.indexOf(".")!==-1?u==="0"&&a===""||u===a||i&&u==="-"+a?c:e:o?a===u||i+a===u?c:e:r===u||r===i+u?c:e}}else return e}}function Z4(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var e6=Q4;const Vn=qr,t6=qr.buildOptions,$a=W4,r6=e6;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Vn.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const YA={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};si.defaultOptions=YA;const XA=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];si.props=XA;function za(e,t,r){return t&&(r.trimValues&&(t=t.trim()),t=r.tagValueProcessor(t,e),t=QA(t,r.parseNodeValue,r.numParseOptions)),t}function n6(e,t){if(t.ignoreNameSpace){const r=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(r[0]==="xmlns")return"";r.length===2&&(e=n+r[1])}return e}function QA(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:r6(e,r)}else return Vn.isExist(e)?e:""}const i6=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function $b(e,t){if(!t.ignoreAttributes&&typeof e=="string"){e=e.replace(/\r?\n/g," ");const r=Vn.getAllMatches(e,i6),n=r.length,i={};for(let o=0;o<n;o++){const a=n6(r[o][1],t);a.length&&(r[o][4]!==void 0?(t.trimValues&&(r[o][4]=r[o][4].trim()),r[o][4]=t.attrValueProcessor(r[o][4],a),i[t.attributeNamePrefix+a]=QA(r[o][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+a]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const o={};return o[t.attrNodeName]=i,o}return i}}const o6=function(e,t){e=e.replace(/\r\n?/g,`
`),t=t6(t,YA,XA);const r=new $a("!xml");let n=r,i="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const s=po(e,">",o,"Closing Tag is not closed.");let c=e.substring(o+2,s).trim();if(t.ignoreNameSpace){const u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}n&&(n.val?n.val=Vn.getValue(n.val)+""+za(c,i,t):n.val=za(c,i,t)),t.stopNodes.length&&t.stopNodes.includes(n.tagname)&&(n.child=[],n.attrsMap==null&&(n.attrsMap={}),n.val=e.substr(n.startIndex+1,o-n.startIndex-1)),n=n.parent,i="",o=s}else if(e[o+1]==="?")o=po(e,"?>",o,"Pi Tag is not closed.");else if(e.substr(o+1,3)==="!--")o=po(e,"-->",o,"Comment is not closed.");else if(e.substr(o+1,2)==="!D"){const s=po(e,">",o,"DOCTYPE is not closed.");e.substring(o,s).indexOf("[")>=0?o=e.indexOf("]>",o)+1:o=s}else if(e.substr(o+1,2)==="!["){const s=po(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,s);if(i&&(n.val=Vn.getValue(n.val)+""+za(n.tagname,i,t),i=""),t.cdataTagName){const u=new $a(t.cdataTagName,n,c);n.addChild(u),n.val=Vn.getValue(n.val)+t.cdataPositionChar,c&&(u.val=c)}else n.val=(n.val||"")+(c||"");o=s+2}else{const s=a6(e,o+1);let c=s.data;const u=s.index,f=c.indexOf(" ");let l=c,d=!0;if(f!==-1&&(l=c.substr(0,f).replace(/\s\s*$/,""),c=c.substr(f+1)),t.ignoreNameSpace){const h=l.indexOf(":");h!==-1&&(l=l.substr(h+1),d=l!==s.data.substr(h+1))}if(n&&i&&n.tagname!=="!xml"&&(n.val=Vn.getValue(n.val)+""+za(n.tagname,i,t)),c.length>0&&c.lastIndexOf("/")===c.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),c=l):c=c.substr(0,c.length-1);const h=new $a(l,n,"");l!==c&&(h.attrsMap=$b(c,t)),n.addChild(h)}else{const h=new $a(l,n);t.stopNodes.length&&t.stopNodes.includes(h.tagname)&&(h.startIndex=u),l!==c&&d&&(h.attrsMap=$b(c,t)),n.addChild(h),n=h}i="",o=u}else i+=e[o];return r};function a6(e,t){let r,n="";for(let i=t;i<e.length;i++){let o=e[i];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else{if(o===">")return{data:n,index:i};o==="	"&&(o=" ")}n+=o}}function po(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}si.getTraversalObj=o6;var ZA={};const tc=qr,s6={allowBooleanAttributes:!1},u6=["allowBooleanAttributes"];ZA.validate=function(e,t){t=tc.buildOptions(t,s6,u6);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=zb(e,o),o.err)return o}else if(e[o]==="<"){let a=o;if(o++,e[o]==="!"){o=qb(e,o);continue}else{let s=!1;e[o]==="/"&&(s=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!g6(c)){let l;return c.trim().length===0?l="Invalid space after '<'.":l="Tag '"+c+"' is an invalid name.",Qe("InvalidTag",l,$t(e,o))}const u=l6(e,o);if(u===!1)return Qe("InvalidAttr","Attributes for '"+c+"' have open quote.",$t(e,o));let f=u.value;if(o=u.index,f[f.length-1]==="/"){const l=o-f.length;f=f.substring(0,f.length-1);const d=Kb(f,t);if(d===!0)n=!0;else return Qe(d.err.code,d.err.msg,$t(e,l+d.err.line))}else if(s)if(u.tagClosed){if(f.trim().length>0)return Qe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",$t(e,a));{const l=r.pop();if(c!==l.tagName){let d=$t(e,l.tagStartPos);return Qe("InvalidTag","Expected closing tag '"+l.tagName+"' (opened in line "+d.line+", col "+d.col+") instead of closing tag '"+c+"'.",$t(e,a))}r.length==0&&(i=!0)}}else return Qe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",$t(e,o));else{const l=Kb(f,t);if(l!==!0)return Qe(l.err.code,l.err.msg,$t(e,o-f.length+l.err.line));if(i===!0)return Qe("InvalidXml","Multiple possible root nodes found.",$t(e,o));r.push({tagName:c,tagStartPos:a}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=qb(e,o);continue}else if(e[o+1]==="?"){if(o=zb(e,++o),o.err)return o}else break;else if(e[o]==="&"){const l=p6(e,o);if(l==-1)return Qe("InvalidChar","char '&' is not expected.",$t(e,o));o=l}e[o]==="<"&&o--}}else{if(e[o]===" "||e[o]==="	"||e[o]===`
`||e[o]==="\r")continue;return Qe("InvalidChar","char '"+e[o]+"' is not expected.",$t(e,o))}if(n){if(r.length==1)return Qe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",$t(e,r[0].tagStartPos));if(r.length>0)return Qe("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Qe("InvalidXml","Start tag expected.",1);return!0};function zb(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return Qe("InvalidXml","XML declaration allowed only at the start of the document.",$t(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function qb(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const c6='"',f6="'";function l6(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===c6||e[t]===f6)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const d6=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Kb(e,t){const r=tc.getAllMatches(e,d6),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Qe("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",qa(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return Qe("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",qa(r[i]));const o=r[i][2];if(!v6(o))return Qe("InvalidAttr","Attribute '"+o+"' is an invalid name.",qa(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return Qe("InvalidAttr","Attribute '"+o+"' is repeated.",qa(r[i]))}return!0}function h6(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function p6(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,h6(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Qe(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function v6(e){return tc.isName(e)}function g6(e){return tc.isName(e)}function $t(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function qa(e){return e.startIndex+e[1].length}var ex={};const Rr=function(e){return String.fromCharCode(e)},Je={nilChar:Rr(176),missingChar:Rr(201),nilPremitive:Rr(175),missingPremitive:Rr(200),emptyChar:Rr(178),emptyValue:Rr(177),boundryChar:Rr(179),objStart:Rr(198),arrStart:Rr(204),arrayEnd:Rr(185)},y6=[Je.nilChar,Je.nilPremitive,Je.missingChar,Je.missingPremitive,Je.boundryChar,Je.emptyChar,Je.emptyValue,Je.arrayEnd,Je.objStart,Je.arrStart],So=function(e,t,r){if(typeof t=="string")return e&&e[0]&&e[0].val!==void 0?Qc(e[0].val):Qc(e);{const n=m6(e);if(n===!0){let i="";if(Array.isArray(t)){i+=Je.arrStart;const o=t[0],a=e.length;if(typeof o=="string")for(let s=0;s<a;s++){const c=Qc(e[s].val);i=Zc(i,c)}else for(let s=0;s<a;s++){const c=So(e[s],o,r);i=Zc(i,c)}i+=Je.arrayEnd}else{i+=Je.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let a in o){const s=o[a];let c;!r.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?c=So(e.attrsMap[s],t[s],r):s===r.textNodeName?c=So(e.val,t[s],r):c=So(e.child[s],t[s],r),i=Zc(i,c)}}return i}else return n}},Qc=function(e){switch(e){case void 0:return Je.missingPremitive;case null:return Je.nilPremitive;case"":return Je.emptyValue;default:return e}},Zc=function(e,t){return!Hb(t[0])&&!Hb(e[e.length-1])&&(e+=Je.boundryChar),e+t},Hb=function(e){return y6.indexOf(e)!==-1};function m6(e){return e===void 0?Je.missingChar:e===null?Je.nilChar:e.child&&Object.keys(e.child).length===0&&(!e.attrsMap||Object.keys(e.attrsMap).length===0)?Je.emptyChar:!0}const Gb=si,w6=qr.buildOptions,b6=function(e,t,r){return r=w6(r,Gb.defaultOptions,Gb.props),So(e,t,r)};ex.convert2nimn=b6;var tx={};const Ka=qr,_6=qr.buildOptions,Vb=si,S6=function(e,t){return t=_6(t,Vb.defaultOptions,Vb.props),t.indentBy=t.indentBy||"",Sd(e,t)},Sd=function(e,t,r){let n="{";const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const a=i[o];if(e.child[a]&&e.child[a].length>1){n+='"'+a+'" : [ ';for(let s in e.child[a])n+=Sd(e.child[a][s],t)+" , ";n=n.substr(0,n.length-1)+" ] "}else n+='"'+a+'" : '+Sd(e.child[a][0],t)+" ,"}return Ka.merge(n,e.attrsMap),Ka.isEmptyObject(n)?Ka.isExist(e.val)?e.val:"":(Ka.isExist(e.val)&&(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar)||(n+='"'+t.textNodeName+'" : '+E6(e.val))),n[n.length-1]===","&&(n=n.substr(0,n.length-2)),n+"}")};function E6(e){return e===!0||e===!1||!isNaN(e)?e:'"'+e+'"'}tx.convertToJsonString=S6;const C6=qr.buildOptions,A6={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},x6=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function tp(e){this.options=C6(e,A6,x6),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=N6),this.options.cdataTagName?this.isCDATA=D6:this.isCDATA=function(){return!1},this.replaceCDATAstr=I6,this.replaceCDATAarr=O6,this.processTextOrObjNode=T6,this.options.format?(this.indentate=R6,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=k6,this.buildObjNode=P6):(this.buildTextNode=Jb,this.buildObjNode=Wb),this.buildTextValNode=Jb,this.buildObjectNode=Wb}tp.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val};tp.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(typeof e[i]!="undefined")if(e[i]===null)n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextNode(e[i],i,"",t);else if(typeof e[i]!="object"){const o=this.isAttribute(i);o?r+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?n+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(n+=this.options.tagValueProcessor(""+e[i])):n+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))n+=this.indentate(t),e[this.options.textNodeName]?n+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAarr("",e[i]);else{const o=e[i].length;for(let a=0;a<o;a++){const s=e[i][a];typeof s=="undefined"||(s===null?n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof s=="object"?n+=this.processTextOrObjNode(s,i,t):n+=this.buildTextNode(s,i,"",t))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const o=Object.keys(e[i]),a=o.length;for(let s=0;s<a;s++)r+=" "+o[s]+'="'+this.options.attrValueProcessor(""+e[i][o[s]])+'"'}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};function T6(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(n.val,t,n.attrStr,r):this.buildObjNode(n.val,t,n.attrStr,r)}function I6(e,t){return e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e===""?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function O6(e,t){if(e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e==="")return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[r]+"]]>");return e+this.newLine}function Wb(e,t,r,n){return r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+">"+e+"</"+t+this.tagEndChar:this.indentate(n)+"<"+t+r+this.tagEndChar+e+this.indentate(n)+"</"+t+this.tagEndChar}function P6(e,t,r,n){return e!==""?this.buildObjectNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function Jb(e,t,r,n){return this.indentate(n)+"<"+t+r+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function k6(e,t,r,n){return e!==""?this.buildTextValNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function R6(e){return this.options.indentBy.repeat(e)}function N6(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}function D6(e){return e===this.options.cdataTagName}var M6=tp;(function(e){const t=JA,r=si,n=si,i=qr.buildOptions,o=ZA;e.parse=function(a,s={},c){if(c){c===!0&&(c={});const l=o.validate(a,c);if(l!==!0)throw Error(l.err.msg)}s.parseTrueNumberOnly&&s.parseNodeValue!==!1&&!s.numParseOptions&&(s.numParseOptions={leadingZeros:!1});let u=i(s,n.defaultOptions,n.props);const f=r.getTraversalObj(a,u);return t.convertToJson(f,u)},e.convertTonimn=ex.convert2nimn,e.getTraversalObj=r.getTraversalObj,e.convertToJson=t.convertToJson,e.convertToJsonString=tx.convertToJsonString,e.validate=o.validate,e.j2xParser=M6,e.parseToNimn=function(a,s,c){return e.convertTonimn(e.getTraversalObj(a,c),s,c)}})(WA);var L6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Xe(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=v({"x-id":"AbortMultipartUpload"},e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"DELETE",headers:r,path:n,query:o,body:a})]}})})},U6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l,d;return be(this,function(h){switch(h.label){case 0:if(r=v(v({"content-type":"application/xml"},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(p){return Xe(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=v({},e.UploadId!==void 0&&{uploadId:e.UploadId}),e.MultipartUpload!==void 0&&(s=wj(e.MultipartUpload),a='<?xml version="1.0" encoding="UTF-8"?>',s.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a+=s.toString()),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,f=c.protocol,l=f===void 0?"https":f,d=c.port,[2,new Ge({protocol:l,hostname:u,port:d,method:"POST",headers:r,path:n,query:o,body:a})]}})})},B6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v({},J(e.ACL)&&{"x-amz-acl":e.ACL}),J(e.CacheControl)&&{"cache-control":e.CacheControl}),J(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),J(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),J(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),J(e.ContentType)&&{"content-type":e.ContentType}),J(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),J(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),J(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":Xn(e.CopySourceIfModifiedSince).toString()}),J(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),J(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":Xn(e.CopySourceIfUnmodifiedSince).toString()}),J(e.Expires)&&{expires:Xn(e.Expires).toString()}),J(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),J(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),J(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),J(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),J(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),J(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),J(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),J(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),J(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),J(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),J(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),J(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),J(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),J(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.Tagging)&&{"x-amz-tagging":e.Tagging}),J(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),J(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),J(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),J(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(h,p){var g;return v(v({},h),(g={},g["x-amz-meta-"+p.toLowerCase()]=e.Metadata[p],g))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Xe(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"PUT",headers:r,path:n,query:o,body:a})]}})})},F6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v({},J(e.ACL)&&{"x-amz-acl":e.ACL}),J(e.CacheControl)&&{"cache-control":e.CacheControl}),J(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),J(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),J(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),J(e.ContentType)&&{"content-type":e.ContentType}),J(e.Expires)&&{expires:Xn(e.Expires).toString()}),J(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),J(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),J(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),J(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),J(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),J(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),J(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),J(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),J(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.Tagging)&&{"x-amz-tagging":e.Tagging}),J(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),J(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),J(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(h,p){var g;return v(v({},h),(g={},g["x-amz-meta-"+p.toLowerCase()]=e.Metadata[p],g))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Xe(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={uploads:""},[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"POST",headers:r,path:n,query:o,body:a})]}})})},j6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v(v(v({},J(e.MFA)&&{"x-amz-mfa":e.MFA}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Xe(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=v({"x-id":"DeleteObject"},e.VersionId!==void 0&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"DELETE",headers:r,path:n,query:o,body:a})]}})})},$6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v(v(v(v(v(v(v(v(v({},J(e.IfMatch)&&{"if-match":e.IfMatch}),J(e.IfModifiedSince)&&{"if-modified-since":Xn(e.IfModifiedSince).toString()}),J(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),J(e.IfUnmodifiedSince)&&{"if-unmodified-since":Xn(e.IfUnmodifiedSince).toString()}),J(e.Range)&&{range:e.Range}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Xe(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=v(v(v(v(v(v(v(v({"x-id":"GetObject"},e.ResponseCacheControl!==void 0&&{"response-cache-control":e.ResponseCacheControl}),e.ResponseContentDisposition!==void 0&&{"response-content-disposition":e.ResponseContentDisposition}),e.ResponseContentEncoding!==void 0&&{"response-content-encoding":e.ResponseContentEncoding}),e.ResponseContentLanguage!==void 0&&{"response-content-language":e.ResponseContentLanguage}),e.ResponseContentType!==void 0&&{"response-content-type":e.ResponseContentType}),e.ResponseExpires!==void 0&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),e.VersionId!==void 0&&{versionId:e.VersionId}),e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},z6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return o=v(v(v(v(v({},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.Marker!==void 0&&{marker:e.Marker}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},q6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return o=v(v(v(v(v(v(v({"list-type":"2"},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),e.ContinuationToken!==void 0&&{"continuation-token":e.ContinuationToken}),e.FetchOwner!==void 0&&{"fetch-owner":e.FetchOwner.toString()}),e.StartAfter!==void 0&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},K6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=v(v({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Xe(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=v(v(v({"x-id":"ListParts"},e.MaxParts!==void 0&&{"max-parts":e.MaxParts.toString()}),e.PartNumberMarker!==void 0&&{"part-number-marker":e.PartNumberMarker}),e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},H6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l,d;return be(this,function(h){switch(h.label){case 0:if(r=v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v(v({"content-type":"application/octet-stream"},J(e.ACL)&&{"x-amz-acl":e.ACL}),J(e.CacheControl)&&{"cache-control":e.CacheControl}),J(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),J(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),J(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),J(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),J(e.ContentMD5)&&{"content-md5":e.ContentMD5}),J(e.ContentType)&&{"content-type":e.ContentType}),J(e.Expires)&&{expires:Xn(e.Expires).toString()}),J(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),J(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),J(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),J(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),J(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),J(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),J(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),J(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),J(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.Tagging)&&{"x-amz-tagging":e.Tagging}),J(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),J(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),J(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(p,g){var b;return v(v({},p),(b={},b["x-amz-meta-"+g.toLowerCase()]=e.Metadata[g],b))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(p){return Xe(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={"x-id":"PutObject"},e.Body!==void 0&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,f=c.protocol,l=f===void 0?"https":f,d=c.port,[2,new Ge({protocol:l,hostname:u,port:d,method:"PUT",headers:r,path:n,query:o,body:a})]}})})},G6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l,d;return be(this,function(h){switch(h.label){case 0:if(r=v(v(v(v(v(v(v({"content-type":"application/octet-stream"},J(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),J(e.ContentMD5)&&{"content-md5":e.ContentMD5}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Xe(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(p){return Xe(p)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=v(v({"x-id":"UploadPart"},e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),e.UploadId!==void 0&&{uploadId:e.UploadId}),e.Body!==void 0&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,f=c.protocol,l=f===void 0?"https":f,d=c.port,[2,new Ge({protocol:l,hostname:u,port:d,method:"PUT",headers:r,path:n,query:o,body:a})]}})})},V6=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,W6(e,t)]:(r={$metadata:_e(e),RequestCharged:void 0},e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,da(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},W6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[v({},e)],f={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Or(e,r.body),a=o,a){case"NoSuchUpload":return[3,2];case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,yj(r)];case 3:return i=v.apply(void 0,[v.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=v(v({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},J6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,Y6(e,t)]:(r={$metadata:_e(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ut(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.ETag!==void 0&&(r.ETag=n.ETag),n.Key!==void 0&&(r.Key=n.Key),n.Location!==void 0&&(r.Location=n.Location),[2,Promise.resolve(r)]}})})},Y6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[v({},e)],c={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Or(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=v(v({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},X6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,Q6(e,t)]:(r={$metadata:_e(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-copy-source-version-id"]!==void 0&&(r.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ut(e.body,t)]);case 1:return n=i.sent(),r.CopyObjectResult=Ej(n),[2,Promise.resolve(r)]}})})},Q6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[v({},e)],f={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Or(e,r.body),a=o,a){case"ObjectNotInActiveTierError":return[3,2];case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,mj(r)];case 3:return i=v.apply(void 0,[v.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=v(v({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},Z6=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,ej(e,t)]:(r={$metadata:_e(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ut(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.Key!==void 0&&(r.Key=n.Key),n.UploadId!==void 0&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},ej=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[v({},e)],c={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Or(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=v(v({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},tj=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,rj(e,t)]:(r={$metadata:_e(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,da(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},rj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[v({},e)],c={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Or(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=v(v({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},nj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){return e.statusCode!==200&&e.statusCode>=300?[2,ij(e,t)]:(r={$metadata:_e(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["accept-ranges"]!==void 0&&(r.AcceptRanges=e.headers["accept-ranges"]),e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-restore"]!==void 0&&(r.Restore=e.headers["x-amz-restore"]),e.headers["last-modified"]!==void 0&&(r.LastModified=new Date(e.headers["last-modified"])),e.headers["content-length"]!==void 0&&(r.ContentLength=parseInt(e.headers["content-length"],10)),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-missing-meta"]!==void 0&&(r.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["cache-control"]!==void 0&&(r.CacheControl=e.headers["cache-control"]),e.headers["content-disposition"]!==void 0&&(r.ContentDisposition=e.headers["content-disposition"]),e.headers["content-encoding"]!==void 0&&(r.ContentEncoding=e.headers["content-encoding"]),e.headers["content-language"]!==void 0&&(r.ContentLanguage=e.headers["content-language"]),e.headers["content-range"]!==void 0&&(r.ContentRange=e.headers["content-range"]),e.headers["content-type"]!==void 0&&(r.ContentType=e.headers["content-type"]),e.headers.expires!==void 0&&(r.Expires=new Date(e.headers.expires)),e.headers["x-amz-website-redirect-location"]!==void 0&&(r.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-storage-class"]!==void 0&&(r.StorageClass=e.headers["x-amz-storage-class"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),e.headers["x-amz-replication-status"]!==void 0&&(r.ReplicationStatus=e.headers["x-amz-replication-status"]),e.headers["x-amz-mp-parts-count"]!==void 0&&(r.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),e.headers["x-amz-tagging-count"]!==void 0&&(r.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),e.headers["x-amz-object-lock-mode"]!==void 0&&(r.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),e.headers["x-amz-object-lock-retain-until-date"]!==void 0&&(r.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),e.headers["x-amz-object-lock-legal-hold"]!==void 0&&(r.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach(function(o){r.Metadata===void 0&&(r.Metadata={}),o.startsWith("x-amz-meta-")&&(r.Metadata[o.substring(11)]=e.headers[o])}),n=e.body,r.Body=n,[2,Promise.resolve(r)])})})},ij=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:return n=[v({},e)],l={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(l.body=d.sent(),l)])),o="UnknownError",o=Or(e,r.body),a=o,a){case"InvalidObjectState":return[3,2];case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":return[3,4];case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,vj(r)];case 3:return i=v.apply(void 0,[v.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:_e(e)}]),[3,7];case 4:return c=[{}],[4,gj(r)];case 5:return i=v.apply(void 0,[v.apply(void 0,c.concat([d.sent()])),{name:o,$metadata:_e(e)}]),[3,7];case 6:u=r.body,o=u.code||u.Code||o,i=v(v({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:_e(e)}),d.label=7;case 7:return f=i.message||i.Message||o,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}})})},oj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,aj(e,t)]:(r={$metadata:_e(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,ut(e.body,t)]);case 1:return n=i.sent(),n.CommonPrefixes===""&&(r.CommonPrefixes=[]),n.CommonPrefixes!==void 0&&(r.CommonPrefixes=nx(Ho(n.CommonPrefixes))),n.Contents===""&&(r.Contents=[]),n.Contents!==void 0&&(r.Contents=ix(Ho(n.Contents))),n.Delimiter!==void 0&&(r.Delimiter=n.Delimiter),n.EncodingType!==void 0&&(r.EncodingType=n.EncodingType),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.Marker!==void 0&&(r.Marker=n.Marker),n.MaxKeys!==void 0&&(r.MaxKeys=parseInt(n.MaxKeys)),n.Name!==void 0&&(r.Name=n.Name),n.NextMarker!==void 0&&(r.NextMarker=n.NextMarker),n.Prefix!==void 0&&(r.Prefix=n.Prefix),[2,Promise.resolve(r)]}})})},aj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[v({},e)],f={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Or(e,r.body),a=o,a){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,rx(r)];case 3:return i=v.apply(void 0,[v.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=v(v({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},sj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,uj(e,t)]:(r={$metadata:_e(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,ut(e.body,t)]);case 1:return n=i.sent(),n.CommonPrefixes===""&&(r.CommonPrefixes=[]),n.CommonPrefixes!==void 0&&(r.CommonPrefixes=nx(Ho(n.CommonPrefixes))),n.Contents===""&&(r.Contents=[]),n.Contents!==void 0&&(r.Contents=ix(Ho(n.Contents))),n.ContinuationToken!==void 0&&(r.ContinuationToken=n.ContinuationToken),n.Delimiter!==void 0&&(r.Delimiter=n.Delimiter),n.EncodingType!==void 0&&(r.EncodingType=n.EncodingType),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.KeyCount!==void 0&&(r.KeyCount=parseInt(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=parseInt(n.MaxKeys)),n.Name!==void 0&&(r.Name=n.Name),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=n.NextContinuationToken),n.Prefix!==void 0&&(r.Prefix=n.Prefix),n.StartAfter!==void 0&&(r.StartAfter=n.StartAfter),[2,Promise.resolve(r)]}})})},uj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[v({},e)],f={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Or(e,r.body),a=o,a){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,rx(r)];case 3:return i=v.apply(void 0,[v.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=v(v({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},cj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,fj(e,t)]:(r={$metadata:_e(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ut(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.Initiator!==void 0&&(r.Initiator=Cj(n.Initiator)),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.Key!==void 0&&(r.Key=n.Key),n.MaxParts!==void 0&&(r.MaxParts=parseInt(n.MaxParts)),n.NextPartNumberMarker!==void 0&&(r.NextPartNumberMarker=n.NextPartNumberMarker),n.Owner!==void 0&&(r.Owner=ox(n.Owner)),n.PartNumberMarker!==void 0&&(r.PartNumberMarker=n.PartNumberMarker),n.Part===""&&(r.Parts=[]),n.Part!==void 0&&(r.Parts=Tj(Ho(n.Part))),n.StorageClass!==void 0&&(r.StorageClass=n.StorageClass),n.UploadId!==void 0&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},fj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[v({},e)],c={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Or(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=v(v({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},lj=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,dj(e,t)]:(r={$metadata:_e(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,da(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},dj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[v({},e)],c={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Or(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=v(v({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},hj=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,pj(e,t)]:(r={$metadata:_e(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,da(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},pj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[v({},e)],c={},[4,ut(e.body,t)];case 1:switch(r=v.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Or(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=v(v({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},vj=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){return r={name:"InvalidObjectState",$fault:"client",$metadata:_e(e),AccessTier:void 0,StorageClass:void 0},n=e.body,n.AccessTier!==void 0&&(r.AccessTier=n.AccessTier),n.StorageClass!==void 0&&(r.StorageClass=n.StorageClass),[2,r]})})},rx=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"NoSuchBucket",$fault:"client",$metadata:_e(e)},[2,r]})})},gj=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"NoSuchKey",$fault:"client",$metadata:_e(e)},[2,r]})})},yj=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"NoSuchUpload",$fault:"client",$metadata:_e(e)},[2,r]})})},mj=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:_e(e)},[2,r]})})},wj=function(e,t){var r=new bs("CompletedMultipartUpload");if(e.Parts!==void 0&&e.Parts!==null){var n=_j(e.Parts);n.map(function(i){i=i.withName("Part"),r.addChildNode(i)})}return r},bj=function(e,t){var r=new bs("CompletedPart");if(e.ETag!==void 0&&e.ETag!==null){var n=new bs("ETag").addChildNode(new jb(e.ETag)).withName("ETag");r.addChildNode(n)}if(e.PartNumber!==void 0&&e.PartNumber!==null){var n=new bs("PartNumber").addChildNode(new jb(String(e.PartNumber))).withName("PartNumber");r.addChildNode(n)}return r},_j=function(e,t){return e.filter(function(r){return r!=null}).map(function(r){if(r===null)return null;var n=bj(r);return n.withName("member")})},Sj=function(e,t){var r={Prefix:void 0};return e.Prefix!==void 0&&(r.Prefix=e.Prefix),r},nx=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:Sj(r)})},Ej=function(e,t){var r={ETag:void 0,LastModified:void 0};return e.ETag!==void 0&&(r.ETag=e.ETag),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),r},Cj=function(e,t){var r={ID:void 0,DisplayName:void 0};return e.ID!==void 0&&(r.ID=e.ID),e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),r},Aj=function(e,t){var r={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return e.Key!==void 0&&(r.Key=e.Key),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=e.StorageClass),e.Owner!==void 0&&(r.Owner=ox(e.Owner)),r},ix=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:Aj(r)})},ox=function(e,t){var r={DisplayName:void 0,ID:void 0};return e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),e.ID!==void 0&&(r.ID=e.ID),r},xj=function(e,t){var r={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return e.PartNumber!==void 0&&(r.PartNumber=parseInt(e.PartNumber)),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),r},Tj=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:xj(r)})},_e=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},da=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Ij=function(e,t){return da(e,t).then(function(r){return t.utf8Encoder(r)})},J=function(e){return e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0)},Oj=function(e){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")},ut=function(e,t){return Ij(e,t).then(function(r){if(r.length){var n=WA.parse(r,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(s,c){return Oj(s)}}),i="#text",o=Object.keys(n)[0],a=n[o];return a[i]&&(a[o]=a[i],delete a[i]),hA(a)}return{}})},Or=function(e,t){return t.Code!==void 0?t.Code:e.statusCode==404?"NotFound":""},ax=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="AbortMultipartUploadCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Fl.filterSensitiveLog,outputFilterSensitiveLog:Bl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return L6(r,n)},t.prototype.deserialize=function(r,n){return V6(r,n)},t}(Wt),sx=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(VA(n)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="CompleteMultipartUploadCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:$l.filterSensitiveLog,outputFilterSensitiveLog:jl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return U6(r,n)},t.prototype.deserialize=function(r,n){return J6(r,n)},t}(Wt);function Pj(e){var t=this;return function(r){return function(n){return P.exports.__awaiter(t,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T,N;return P.exports.__generator(this,function(k){switch(k.label){case 0:i=P.exports.__assign({},n.input),o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],k.label=1;case 1:k.trys.push([1,6,7,8]),a=P.exports.__values(o),s=a.next(),k.label=2;case 2:return s.done?[3,5]:(c=s.value,u=i[c.target],u?(f=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):typeof u=="string"?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(f),d=new e.md5,d.update(f),h=[P.exports.__assign({},i)],N={},N[c.target]=l,p=c.hash,b=(g=e).base64Encoder,[4,d.digest()]):[3,4]);case 3:i=P.exports.__assign.apply(void 0,h.concat([(N[p]=b.apply(g,[k.sent()]),N)])),k.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return E=k.sent(),S={error:E},[3,8];case 7:try{s&&!s.done&&(T=a.return)&&T.call(a)}finally{if(S)throw S.error}return[7];case 8:return[2,r(P.exports.__assign(P.exports.__assign({},n),{input:i}))]}})})}}}var kj={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},ha=function(e){return{applyToStack:function(t){t.add(Pj(e),kj)}}},Rj=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(VA(n)),this.middlewareStack.use(ha(n)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="CopyObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:ql.filterSensitiveLog,outputFilterSensitiveLog:zl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return B6(r,n)},t.prototype.deserialize=function(r,n){return X6(r,n)},t}(Wt),ux=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(ha(n)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="CreateMultipartUploadCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Hl.filterSensitiveLog,outputFilterSensitiveLog:Kl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return F6(r,n)},t.prototype.deserialize=function(r,n){return Z6(r,n)},t}(Wt),Nj=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="DeleteObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Vl.filterSensitiveLog,outputFilterSensitiveLog:Gl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return j6(r,n)},t.prototype.deserialize=function(r,n){return tj(r,n)},t}(Wt),Yb=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(ha(n)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="GetObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:fd.filterSensitiveLog,outputFilterSensitiveLog:cd.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return $6(r,n)},t.prototype.deserialize=function(r,n){return nj(r,n)},t}(Wt),Dj=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="ListObjectsCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:dd.filterSensitiveLog,outputFilterSensitiveLog:ld.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return z6(r,n)},t.prototype.deserialize=function(r,n){return oj(r,n)},t}(Wt),Mj=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="ListObjectsV2Command",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:pd.filterSensitiveLog,outputFilterSensitiveLog:hd.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return q6(r,n)},t.prototype.deserialize=function(r,n){return sj(r,n)},t}(Wt),cx=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="ListPartsCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:gd.filterSensitiveLog,outputFilterSensitiveLog:vd.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return K6(r,n)},t.prototype.deserialize=function(r,n){return cj(r,n)},t}(Wt),Lj=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(ha(n)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="PutObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:wd.filterSensitiveLog,outputFilterSensitiveLog:md.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return H6(r,n)},t.prototype.deserialize=function(r,n){return lj(r,n)},t}(Wt),Xb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Xb||(Xb={}));var Ed;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Encryption&&{Encryption:bd.filterSensitiveLog(t.Encryption)})}})(Ed||(Ed={}));var Cd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.S3&&{S3:Ed.filterSensitiveLog(t.S3)})}})(Cd||(Cd={}));var Qb;(function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"})(Qb||(Qb={}));var Zb;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Zb||(Zb={}));var e_;(function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"})(e_||(e_={}));var t_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(t_||(t_={}));var r_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(r_||(r_={}));var n_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(n_||(n_={}));var i_;(function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"})(i_||(i_={}));var o_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(o_||(o_={}));var a_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(a_||(a_={}));var s_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(s_||(s_={}));var u_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(u_||(u_={}));var c_;(function(e){e.SELECT="SELECT"})(c_||(c_={}));var Ad;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.OutputLocation&&{OutputLocation:Cd.filterSensitiveLog(t.OutputLocation)})}})(Ad||(Ad={}));var f_;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.RestoreRequest&&{RestoreRequest:Ad.filterSensitiveLog(t.RestoreRequest)})}})(f_||(f_={}));var xd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(xd||(xd={}));var Td;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Td||(Td={}));var l_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(l_||(l_={}));var Id;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Id||(Id={}));var Od;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Od||(Od={}));var d_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(d_||(d_={}));var Pd;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(Pd||(Pd={}));var h_;(function(e){e.visit=function(t,r){return t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Records!==void 0)return{Records:Od.filterSensitiveLog(t.Records)};if(t.Stats!==void 0)return{Stats:Pd.filterSensitiveLog(t.Stats)};if(t.Progress!==void 0)return{Progress:Id.filterSensitiveLog(t.Progress)};if(t.Cont!==void 0)return{Cont:xd.filterSensitiveLog(t.Cont)};if(t.End!==void 0)return{End:Td.filterSensitiveLog(t.End)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(h_||(h_={}));var p_;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.Payload&&{Payload:"STREAMING_CONTENT"})}})(p_||(p_={}));var v_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(v_||(v_={}));var g_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(g_||(g_={}));var y_;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(y_||(y_={}));var kd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(kd||(kd={}));var Rd;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(Rd||(Rd={}));var m_;(function(e){e.filterSensitiveLog=function(t){return v({},t)}})(m_||(m_={}));var w_;(function(e){e.filterSensitiveLog=function(t){return v(v({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(w_||(w_={}));var b_;(function(e){e.filterSensitiveLog=function(t){return v(v(v({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Ae})}})(b_||(b_={}));var fx=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(ha(n)),this.middlewareStack.use(Ir(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="UploadPartCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Rd.filterSensitiveLog,outputFilterSensitiveLog:kd.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return G6(r,n)},t.prototype.deserialize=function(r,n){return hj(r,n)},t}(Wt);function Uj(e){var t=e.port,r=e.query,n=e.protocol,i=e.path,o=e.hostname;n&&n.substr(-1)!==":"&&(n+=":"),t&&(o+=":"+t),i&&i.charAt(0)!=="/"&&(i="/"+i);var a=r?qh(r):"";return a&&a[0]!=="?"&&(a="?"+a),n+"//"+o+i+a}function Bj(e,t){return P.exports.__awaiter(this,void 0,void 0,function(){var r,n,i,o=this;return P.exports.__generator(this,function(a){switch(a.label){case 0:return r=function(s){return function(c){return P.exports.__awaiter(o,void 0,void 0,function(){return P.exports.__generator(this,function(u){return[2,{output:{request:c.request},response:void 0}]})})}},n=e.middlewareStack.clone(),n.add(r,{step:"build",priority:"low"}),i=t.resolveMiddleware(n,e.config,void 0),[4,i(t).then(function(s){return s.output.request})];case 1:return[2,a.sent()]}})})}var Fj="X-Amz-Algorithm",jj="X-Amz-Credential",lx="X-Amz-Date",$j="X-Amz-SignedHeaders",zj="X-Amz-Expires",dx="X-Amz-Signature",hx="X-Amz-Security-Token",px="authorization",vx=lx.toLowerCase(),qj="date",Kj=[px,vx,qj],Hj=dx.toLowerCase(),Nd="x-amz-content-sha256",Gj=hx.toLowerCase(),Vj={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Wj=/^proxy-/,Jj=/^sec-/,ef="AWS4-HMAC-SHA256",Yj="AWS4-HMAC-SHA256-PAYLOAD",Xj="UNSIGNED-PAYLOAD",Qj=50,gx="aws4_request",Zj=60*60*24*7,Ha={},tf=[];function rf(e,t,r){return e+"/"+t+"/"+r+"/"+gx}var e$=function(e,t,r,n,i){return P.exports.__awaiter(void 0,void 0,void 0,function(){var o,a,s,c,u,f,l,d,h;return P.exports.__generator(this,function(p){switch(p.label){case 0:return[4,__(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),a=r+":"+n+":"+i+":"+Ye(o)+":"+t.sessionToken,a in Ha)return[2,Ha[a]];for(tf.push(a);tf.length>Qj;)delete Ha[tf.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),c=P.exports.__values([r,n,i,gx]),u=c.next(),p.label=3;case 3:return u.done?[3,6]:(f=u.value,[4,__(e,s,f)]);case 4:s=p.sent(),p.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return l=p.sent(),d={error:l},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}return[7];case 9:return[2,Ha[a]=s]}})})};function __(e,t,r){var n=new e(t);return n.update(r),n.digest()}function S_(e,t,r){var n,i,o=e.headers,a={};try{for(var s=P.exports.__values(Object.keys(o).sort()),c=s.next();!c.done;c=s.next()){var u=c.value,f=u.toLowerCase();(f in Vj||(t==null?void 0:t.has(f))||Wj.test(f)||Jj.test(f))&&(!r||r&&!r.has(f))||(a[f]=o[u].trim().replace(/\s+/g," "))}}catch(l){n={error:l}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}var Ga=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,t$)},t$=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function r$(e){var t,r,n=e.query,i=n===void 0?{}:n,o=[],a={},s=function(l){if(l.toLowerCase()===Hj)return"continue";o.push(l);var d=i[l];typeof d=="string"?a[l]=Ga(l)+"="+Ga(d):Array.isArray(d)&&(a[l]=d.slice(0).sort().reduce(function(h,p){return h.concat([Ga(l)+"="+Ga(p)])},[]).join("&"))};try{for(var c=P.exports.__values(Object.keys(i).sort()),u=c.next();!u.done;u=c.next()){var f=u.value;s(f)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o.map(function(l){return a[l]}).filter(function(l){return l}).join("&")}function nf(e,t){var r=e.headers,n=e.body;return P.exports.__awaiter(this,void 0,void 0,function(){var i,o,a,s,c,u,f;return P.exports.__generator(this,function(l){switch(l.label){case 0:try{for(i=P.exports.__values(Object.keys(r)),o=i.next();!o.done;o=i.next())if(a=o.value,a.toLowerCase()===Nd)return[2,r[a]]}catch(d){u={error:d}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(u)throw u.error}}return n!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof n=="string"||ArrayBuffer.isView(n)||sA(n)?(s=new t,s.update(n),c=Ye,[4,s.digest()]):[3,3];case 2:return[2,c.apply(void 0,[l.sent()])];case 3:return[2,Xj]}})})}function n$(e,t){var r,n;e=e.toLowerCase();try{for(var i=P.exports.__values(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;if(e===a.toLowerCase())return!0}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}function yx(e){var t=e.headers,r=e.query,n=P.exports.__rest(e,["headers","query"]);return P.exports.__assign(P.exports.__assign({},n),{headers:P.exports.__assign({},t),query:r?i$(r):void 0})}function i$(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return P.exports.__assign(P.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?P.exports.__spread(i):i,n))},{})}function o$(e,t){var r,n,i;t===void 0&&(t={});var o=typeof e.clone=="function"?e.clone():yx(e),a=o.headers,s=o.query,c=s===void 0?{}:s;try{for(var u=P.exports.__values(Object.keys(a)),f=u.next();!f.done;f=u.next()){var l=f.value,d=l.toLowerCase();d.substr(0,6)==="x-amz-"&&!(!((i=t.unhoistableHeaders)===null||i===void 0)&&i.has(d))&&(c[l]=a[l],delete a[l])}}catch(h){r={error:h}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return P.exports.__assign(P.exports.__assign({},e),{headers:a,query:c})}function E_(e){var t,r;e=typeof e.clone=="function"?e.clone():yx(e);try{for(var n=P.exports.__values(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;Kj.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}function a$(e){return s$(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function s$(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var u$=function(){function e(t){var r=t.applyChecksum,n=t.credentials,i=t.region,o=t.service,a=t.sha256,s=t.uriEscapePath,c=s===void 0?!0:s;this.service=o,this.sha256=a,this.uriEscapePath=c,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=c$(i),this.credentialProvider=f$(n)}return e.prototype.presign=function(t,r){return r===void 0&&(r={}),P.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V,F,ee,R;return P.exports.__generator(this,function(L){switch(L.label){case 0:return n=r.signingDate,i=n===void 0?new Date:n,o=r.expiresIn,a=o===void 0?3600:o,s=r.unsignableHeaders,c=r.unhoistableHeaders,u=r.signableHeaders,f=r.signingRegion,l=r.signingService,[4,this.credentialProvider()];case 1:return d=L.sent(),f==null?[3,2]:(p=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:p=L.sent(),L.label=4;case 4:return h=p,g=Va(i),b=g.longDate,E=g.shortDate,a>Zj?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(S=rf(E,h,l!=null?l:this.service),T=o$(E_(t),{unhoistableHeaders:c}),d.sessionToken&&(T.query[hx]=d.sessionToken),T.query[Fj]=ef,T.query[jj]=d.accessKeyId+"/"+S,T.query[lx]=b,T.query[zj]=a.toString(10),N=S_(T,s,u),T.query[$j]=C_(N),k=T.query,B=dx,V=this.getSignature,F=[b,S,this.getSigningKey(d,h,E,l)],ee=this.createCanonicalRequest,R=[T,N],[4,nf(t,this.sha256)]);case 5:return[4,V.apply(this,F.concat([ee.apply(this,R.concat([L.sent()]))]))];case 6:return k[B]=L.sent(),[2,T]}})})},e.prototype.sign=function(t,r){return P.exports.__awaiter(this,void 0,void 0,function(){return P.exports.__generator(this,function(n){return typeof t=="string"?[2,this.signString(t,r)]:t.headers&&t.payload?[2,this.signEvent(t,r)]:[2,this.signRequest(t,r)]})})},e.prototype.signEvent=function(t,r){var n=t.headers,i=t.payload,o=r.signingDate,a=o===void 0?new Date:o,s=r.priorSignature,c=r.signingRegion,u=r.signingService;return P.exports.__awaiter(this,void 0,void 0,function(){var f,l,d,h,p,g,b,E,S,T,N;return P.exports.__generator(this,function(k){switch(k.label){case 0:return c==null?[3,1]:(l=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:l=k.sent(),k.label=3;case 3:return f=l,d=Va(a),h=d.shortDate,p=d.longDate,g=rf(h,f,u!=null?u:this.service),[4,nf({headers:{},body:i},this.sha256)];case 4:return b=k.sent(),E=new this.sha256,E.update(n),T=Ye,[4,E.digest()];case 5:return S=T.apply(void 0,[k.sent()]),N=[Yj,p,g,s,S,b].join(`
`),[2,this.signString(N,{signingDate:a,signingRegion:f,signingService:u})]}})})},e.prototype.signString=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,a=n.signingRegion,s=n.signingService;return P.exports.__awaiter(this,void 0,void 0,function(){var c,u,f,l,d,h,p,g;return P.exports.__generator(this,function(b){switch(b.label){case 0:return[4,this.credentialProvider()];case 1:return c=b.sent(),a==null?[3,2]:(f=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:f=b.sent(),b.label=4;case 4:return u=f,l=Va(o).shortDate,p=(h=this.sha256).bind,[4,this.getSigningKey(c,u,l,s)];case 5:return d=new(p.apply(h,[void 0,b.sent()])),d.update(t),g=Ye,[4,d.digest()];case 6:return[2,g.apply(void 0,[b.sent()])]}})})},e.prototype.signRequest=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,a=n.signableHeaders,s=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return P.exports.__awaiter(this,void 0,void 0,function(){var f,l,d,h,p,g,b,E,S,T,N;return P.exports.__generator(this,function(k){switch(k.label){case 0:return[4,this.credentialProvider()];case 1:return f=k.sent(),c==null?[3,2]:(d=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:d=k.sent(),k.label=4;case 4:return l=d,h=E_(t),p=Va(o),g=p.longDate,b=p.shortDate,E=rf(b,l,u!=null?u:this.service),h.headers[vx]=g,f.sessionToken&&(h.headers[Gj]=f.sessionToken),[4,nf(h,this.sha256)];case 5:return S=k.sent(),!n$(Nd,h.headers)&&this.applyChecksum&&(h.headers[Nd]=S),T=S_(h,s,a),[4,this.getSignature(g,E,this.getSigningKey(f,l,b,u),this.createCanonicalRequest(h,T,S))];case 6:return N=k.sent(),h.headers[px]=ef+" "+("Credential="+f.accessKeyId+"/"+E+", ")+("SignedHeaders="+C_(T)+", ")+("Signature="+N),[2,h]}})})},e.prototype.createCanonicalRequest=function(t,r,n){var i=Object.keys(r).sort();return t.method+`
`+this.getCanonicalPath(t)+`
`+r$(t)+`
`+i.map(function(o){return o+":"+r[o]}).join(`
`)+`

`+i.join(";")+`
`+n},e.prototype.createStringToSign=function(t,r,n){return P.exports.__awaiter(this,void 0,void 0,function(){var i,o;return P.exports.__generator(this,function(a){switch(a.label){case 0:return i=new this.sha256,i.update(n),[4,i.digest()];case 1:return o=a.sent(),[2,ef+`
`+t+`
`+r+`
`+Ye(o)]}})})},e.prototype.getCanonicalPath=function(t){var r=t.path;if(this.uriEscapePath){var n=encodeURIComponent(r.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(t,r,n,i){return P.exports.__awaiter(this,void 0,void 0,function(){var o,a,s,c,u;return P.exports.__generator(this,function(f){switch(f.label){case 0:return[4,this.createStringToSign(t,r,i)];case 1:return o=f.sent(),c=(s=this.sha256).bind,[4,n];case 2:return a=new(c.apply(s,[void 0,f.sent()])),a.update(o),u=Ye,[4,a.digest()];case 3:return[2,u.apply(void 0,[f.sent()])]}})})},e.prototype.getSigningKey=function(t,r,n,i){return e$(this.sha256,t,n,r,i||this.service)},e}(),Va=function(e){var t=a$(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},C_=function(e){return Object.keys(e).sort().join(";")},c$=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}else return e},f$=function(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}else return e},l$="UNSIGNED-PAYLOAD",d$="X-Amz-Content-Sha256",h$=function(){function e(t){var r=P.exports.__assign({service:t.signingName||t.service||"s3",uriEscapePath:t.uriEscapePath||!1},t);this.signer=new u$(r)}return e.prototype.presign=function(t,r){r===void 0&&(r={});var n=r.unsignableHeaders,i=n===void 0?new Set:n,o=r.unhoistableHeaders,a=o===void 0?new Set:o,s=P.exports.__rest(r,["unsignableHeaders","unhoistableHeaders"]);return P.exports.__awaiter(this,void 0,void 0,function(){return P.exports.__generator(this,function(c){return i.add("content-type"),Object.keys(t.headers).map(function(u){return u.toLowerCase()}).filter(function(u){return u.startsWith("x-amz-server-side-encryption")}).forEach(function(u){a.add(u)}),t.headers[d$]=l$,t.headers.host||(t.headers.host=t.hostname),[2,this.signer.presign(t,P.exports.__assign({expiresIn:900,unsignableHeaders:i,unhoistableHeaders:a},s))]})})},e}(),rp={exports:{}},mx=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},p$=mx,di=Object.prototype.toString;function np(e){return di.call(e)==="[object Array]"}function Dd(e){return typeof e=="undefined"}function v$(e){return e!==null&&!Dd(e)&&e.constructor!==null&&!Dd(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function g$(e){return di.call(e)==="[object ArrayBuffer]"}function y$(e){return typeof FormData!="undefined"&&e instanceof FormData}function m$(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function w$(e){return typeof e=="string"}function b$(e){return typeof e=="number"}function wx(e){return e!==null&&typeof e=="object"}function _s(e){if(di.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function _$(e){return di.call(e)==="[object Date]"}function S$(e){return di.call(e)==="[object File]"}function E$(e){return di.call(e)==="[object Blob]"}function bx(e){return di.call(e)==="[object Function]"}function C$(e){return wx(e)&&bx(e.pipe)}function A$(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function x$(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T$(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ip(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),np(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Md(){var e={};function t(i,o){_s(e[o])&&_s(i)?e[o]=Md(e[o],i):_s(i)?e[o]=Md({},i):np(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)ip(arguments[r],t);return e}function I$(e,t,r){return ip(t,function(i,o){r&&typeof i=="function"?e[o]=p$(i,r):e[o]=i}),e}function O$(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Yt={isArray:np,isArrayBuffer:g$,isBuffer:v$,isFormData:y$,isArrayBufferView:m$,isString:w$,isNumber:b$,isObject:wx,isPlainObject:_s,isUndefined:Dd,isDate:_$,isFile:S$,isBlob:E$,isFunction:bx,isStream:C$,isURLSearchParams:A$,isStandardBrowserEnv:T$,forEach:ip,merge:Md,extend:I$,trim:x$,stripBOM:O$},Ei=Yt;function A_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var _x=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Ei.isURLSearchParams(r))i=r.toString();else{var o=[];Ei.forEach(r,function(c,u){c===null||typeof c=="undefined"||(Ei.isArray(c)?u=u+"[]":c=[c],Ei.forEach(c,function(l){Ei.isDate(l)?l=l.toISOString():Ei.isObject(l)&&(l=JSON.stringify(l)),o.push(A_(u)+"="+A_(l))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},P$=Yt;function rc(){this.handlers=[]}rc.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};rc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};rc.prototype.forEach=function(t){P$.forEach(this.handlers,function(n){n!==null&&t(n)})};var k$=rc,R$=Yt,N$=function(t,r){R$.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},Sx=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},D$=Sx,Ex=function(t,r,n,i,o){var a=new Error(t);return D$(a,r,n,i,o)},M$=Ex,L$=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(M$("Request failed with status code "+n.status,n.config,null,n.request,n))},Wa=Yt,U$=Wa.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var c=[];c.push(r+"="+encodeURIComponent(n)),Wa.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Wa.isString(o)&&c.push("path="+o),Wa.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),B$=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},F$=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},j$=B$,$$=F$,z$=function(t,r){return t&&!j$(r)?$$(t,r):r},of=Yt,q$=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],K$=function(t){var r={},n,i,o;return t&&of.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=of.trim(s.substr(0,o)).toLowerCase(),i=of.trim(s.substr(o+1)),n){if(r[n]&&q$.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},x_=Yt,H$=x_.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=x_.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),Ja=Yt,G$=L$,V$=U$,W$=_x,J$=z$,Y$=K$,X$=H$,af=Ex,T_=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType;Ja.isFormData(o)&&delete a["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(u+":"+f)}var l=J$(t.baseURL,t.url);c.open(t.method.toUpperCase(),W$(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!!c){var p="getAllResponseHeaders"in c?Y$(c.getAllResponseHeaders()):null,g=!s||s==="text"||s==="json"?c.responseText:c.response,b={data:g,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};G$(n,i,b),c=null}}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){!c||(i(af("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(af("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),i(af(g,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Ja.isStandardBrowserEnv()){var h=(t.withCredentials||X$(l))&&t.xsrfCookieName?V$.read(t.xsrfCookieName):void 0;h&&(a[t.xsrfHeaderName]=h)}"setRequestHeader"in c&&Ja.forEach(a,function(g,b){typeof o=="undefined"&&b.toLowerCase()==="content-type"?delete a[b]:c.setRequestHeader(b,g)}),Ja.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(g){!c||(c.abort(),i(g),c=null)}),o||(o=null),c.send(o)})},tt=Yt,I_=N$,Q$=Sx,Z$={"Content-Type":"application/x-www-form-urlencoded"};function O_(e,t){!tt.isUndefined(e)&&tt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function e8(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=T_),e}function t8(e,t,r){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var nc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:e8(),transformRequest:[function(t,r){return I_(r,"Accept"),I_(r,"Content-Type"),tt.isFormData(t)||tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)?t:tt.isArrayBufferView(t)?t.buffer:tt.isURLSearchParams(t)?(O_(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):tt.isObject(t)||r&&r["Content-Type"]==="application/json"?(O_(r,"application/json"),t8(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&tt.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Q$(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};nc.headers={common:{Accept:"application/json, text/plain, */*"}};tt.forEach(["delete","get","head"],function(t){nc.headers[t]={}});tt.forEach(["post","put","patch"],function(t){nc.headers[t]=tt.merge(Z$)});var op=nc,r8=Yt,n8=op,i8=function(t,r,n){var i=this||n8;return r8.forEach(n,function(a){t=a.call(i,t,r)}),t},Cx=function(t){return!!(t&&t.__CANCEL__)},P_=Yt,sf=i8,o8=Cx,a8=op;function uf(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var s8=function(t){uf(t),t.headers=t.headers||{},t.data=sf.call(t,t.data,t.headers,t.transformRequest),t.headers=P_.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),P_.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||a8.adapter;return r(t).then(function(i){return uf(t),i.data=sf.call(t,i.data,i.headers,t.transformResponse),i},function(i){return o8(i)||(uf(t),i&&i.response&&(i.response.data=sf.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},ht=Yt,Ax=function(t,r){r=r||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(d,h){return ht.isPlainObject(d)&&ht.isPlainObject(h)?ht.merge(d,h):ht.isPlainObject(h)?ht.merge({},h):ht.isArray(h)?h.slice():h}function u(d){ht.isUndefined(r[d])?ht.isUndefined(t[d])||(n[d]=c(void 0,t[d])):n[d]=c(t[d],r[d])}ht.forEach(i,function(h){ht.isUndefined(r[h])||(n[h]=c(void 0,r[h]))}),ht.forEach(o,u),ht.forEach(a,function(h){ht.isUndefined(r[h])?ht.isUndefined(t[h])||(n[h]=c(void 0,t[h])):n[h]=c(void 0,r[h])}),ht.forEach(s,function(h){h in r?n[h]=c(t[h],r[h]):h in t&&(n[h]=c(void 0,t[h]))});var f=i.concat(o).concat(a).concat(s),l=Object.keys(t).concat(Object.keys(r)).filter(function(h){return f.indexOf(h)===-1});return ht.forEach(l,u),n};const u8="axios",c8="0.21.4",f8="Promise based HTTP client for the browser and node.js",l8="index.js",d8={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},h8={type:"git",url:"https://github.com/axios/axios.git"},p8=["xhr","http","ajax","promise","node"],v8="Matt Zabriskie",g8="MIT",y8={url:"https://github.com/axios/axios/issues"},m8="https://axios-http.com",w8={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},b8={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},_8="dist/axios.min.js",S8="dist/axios.min.js",E8="./index.d.ts",C8={"follow-redirects":"^1.14.0"},A8=[{path:"./dist/axios.min.js",threshold:"5kB"}];var x8={name:u8,version:c8,description:f8,main:l8,scripts:d8,repository:h8,keywords:p8,author:v8,license:g8,bugs:y8,homepage:m8,devDependencies:w8,browser:b8,jsdelivr:_8,unpkg:S8,typings:E8,dependencies:C8,bundlesize:A8},xx=x8,ap={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ap[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var k_={},T8=xx.version.split(".");function Tx(e,t){for(var r=t?t.split("."):T8,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}ap.transitional=function(t,r,n){var i=r&&Tx(r);function o(a,s){return"[Axios v"+xx.version+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return function(a,s,c){if(t===!1)throw new Error(o(s," has been removed in "+r));return i&&!k_[s]&&(k_[s]=!0,console.warn(o(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,c):!0}};function I8(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=s===void 0||a(s,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var O8={isOlderVersion:Tx,assertOptions:I8,validators:ap},Ix=Yt,P8=_x,R_=k$,N_=s8,ic=Ax,Ox=O8,Ci=Ox.validators;function pa(e){this.defaults=e,this.interceptors={request:new R_,response:new R_}}pa.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=ic(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&Ox.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean,"1.0.0"),forcedJSONParsing:Ci.transitional(Ci.boolean,"1.0.0"),clarifyTimeoutError:Ci.transitional(Ci.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var a;if(!i){var s=[N_,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var c=t;n.length;){var u=n.shift(),f=n.shift();try{c=u(c)}catch(l){f(l);break}}try{a=N_(c)}catch(l){return Promise.reject(l)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};pa.prototype.getUri=function(t){return t=ic(this.defaults,t),P8(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Ix.forEach(["delete","get","head","options"],function(t){pa.prototype[t]=function(r,n){return this.request(ic(n||{},{method:t,url:r,data:(n||{}).data}))}});Ix.forEach(["post","put","patch"],function(t){pa.prototype[t]=function(r,n,i){return this.request(ic(i||{},{method:t,url:r,data:n}))}});var k8=pa;function sp(e){this.message=e}sp.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};sp.prototype.__CANCEL__=!0;var Px=sp,R8=Px;function lu(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;e(function(i){r.reason||(r.reason=new R8(i),t(r.reason))})}lu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};lu.source=function(){var t,r=new lu(function(i){t=i});return{token:r,cancel:t}};var N8=lu,D8=function(t){return function(n){return t.apply(null,n)}},M8=function(t){return typeof t=="object"&&t.isAxiosError===!0},D_=Yt,L8=mx,Ss=k8,U8=Ax,B8=op;function kx(e){var t=new Ss(e),r=L8(Ss.prototype.request,t);return D_.extend(r,Ss.prototype,t),D_.extend(r,t),r}var Er=kx(B8);Er.Axios=Ss;Er.create=function(t){return kx(U8(Er.defaults,t))};Er.Cancel=Px;Er.CancelToken=N8;Er.isCancel=Cx;Er.all=function(t){return Promise.all(t)};Er.spread=D8;Er.isAxiosError=M8;rp.exports=Er;rp.exports.default=Er;var In=rp.exports,Jr;(function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"})(Jr||(Jr={}));var M_;(function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"})(M_||(M_={}));var Xo;(function(e){e.UPLOAD_PAUSED_MESSAGE="paused"})(Xo||(Xo={}));var F8=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},j8=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},cf=new Se("axios-http-handler"),Io="sendUploadProgress",du="sendDownloadProgress";function $8(e){return typeof Blob!="undefined"&&e instanceof Blob}function z8(e){return typeof e!="undefined"&&Object.prototype.hasOwnProperty.call(e,"response")&&typeof e.response!="undefined"&&Object.prototype.hasOwnProperty.call(e.response,"status")&&typeof e.response.status=="number"}var L_=function(e,t){var r,n;try{for(var i=F8(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=j8(o.value,2),s=a[0],c=a[1];s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=c,delete e[s])}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},q8=[function(e,t){return $8(e)?(L_(t,"Content-Type"),L_(t,"Accept"),e):In.defaults.transformRequest[0].call(null,e,t)}],K8=function(){function e(t,r,n){t===void 0&&(t={}),this.httpOptions=t,this.emitter=r,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=this.httpOptions.requestTimeout,i=r.emitter||this.emitter,o=t.path;if(t.query){var a=qh(t.query);a&&(o+="?"+a)}var s=t.port,c=t.protocol+"//"+t.hostname+(s?":"+s:"")+o,u={};u.url=c,u.method=t.method,u.headers=t.headers,delete u.headers.host,t.body?u.data=t.body:u.headers[Object.keys(u.headers).find(function(l){return l.toLowerCase()==="content-type"})]&&(u.data=null),i&&(u.onUploadProgress=function(l){i.emit(Io,l),cf.debug(l)},u.onDownloadProgress=function(l){i.emit(du,l),cf.debug(l)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),r.cancelTokenSource&&(u.cancelToken=r.cancelTokenSource.token),u.responseType="blob",mr.isReactNative&&(u.transformRequest=q8);var f=[In.request(u).then(function(l){return{response:new zo({headers:l.headers,statusCode:l.status,body:l.data})}}).catch(function(l){var d,h;if(l.message!==Xo.UPLOAD_PAUSED_MESSAGE&&cf.error(l.message),In.isCancel(l)||!z8(l))throw l;return{response:new zo({statusCode:l.response.status,body:(d=l.response)===null||d===void 0?void 0:d.data,headers:(h=l.response)===null||h===void 0?void 0:h.headers})}}),H8(n)];return Promise.race(f)},e}();function H8(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var G8=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Rx="contentLengthMiddleware",V8="http://localhost:20005",Eo="__uploadInProgress",W8=function(e){if(typeof e=="string")return e.length;if(X8(e))return e.byteLength;if(Y8(e))return e.size;throw new Error("Cannot determine byte length of "+e)},Bt=function(e,t,r,n,i){if(e){var o={attrs:r};n&&(o.metrics=n),rn.dispatch("storage",{event:t,data:o,message:i},"Storage",G8)}},J8=function(e){return typeof e!="undefined"&&e instanceof File},Y8=function(e){return typeof e!="undefined"&&e instanceof Blob},X8=function(e){return typeof e!="undefined"&&e instanceof ArrayBuffer},Ji=globalThis&&globalThis.__assign||function(){return Ji=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ji.apply(this,arguments)},up=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},cp=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},U_=new Se("S3ClientUtils"),B_={accessKeyId:"",secretAccessKey:""},Nx=function(e){var t=e.credentials,r=e.level,n=e.customPrefix,i=e.identityId,o=n||{},a=i||t.identityId,s=(o.private!==void 0?o.private:"private/")+a+"/",c=(o.protected!==void 0?o.protected:"protected/")+a+"/",u=o.public!==void 0?o.public:"public/";switch(r){case"private":return s;case"protected":return c;default:return u}},Dx=function(e,t){return function(r,n){return function(i){return up(void 0,void 0,void 0,function(){var o,a,s,c,u;return cp(this,function(f){switch(f.label){case 0:return[4,at.get()];case 1:return o=f.sent(),a=at.shear(o),s=Nx(Ji(Ji({},e),{credentials:a})),c=Object.assign({},i.input),Object.prototype.hasOwnProperty.call(i.input,"Key")?(c.Key=s+t,i.input=c):Object.prototype.hasOwnProperty.call(i.input,"Prefix")&&(c.Prefix=s+t,i.input=c),u=r(i),[2,u]}})})}}},Q8=function(e){return e.ServerTime&&typeof e.Code=="string"&&e.Code==="RequestTimeTooSkewed"},Mx=function(e){return function(t,r){return function(n){return up(void 0,void 0,void 0,function(){var i,o;return cp(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,a.sent()];case 2:throw i=a.sent(),Q8(i)&&(o=new Date(i.ServerTime),e.systemClockOffset=o.getTime()-Date.now()),i;case 3:return[2]}})})}}},Lx={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},Ux={step:"initialize",name:"addPrefixMiddleware"},Z8=function(){return up(void 0,void 0,void 0,function(){var e,t,r;return cp(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,at.get()];case 1:return e=n.sent(),e?(t=at.shear(e),U_.debug("credentials provider get credentials",t),[2,t]):[2,B_];case 2:return r=n.sent(),U_.warn("credentials provider error",r),[2,B_];case 3:return[2]}})})},Bx=function(e,t){var r=e.region,n=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,a={};i&&(a={endpoint:V8,tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var s=new H4(Ji(Ji({region:r,credentials:Z8,customUserAgent:gs()},a),{requestHandler:new K8({},t,n),useAccelerateEndpoint:o}));return s.middlewareStack.remove(Rx),s},Qo={exports:{}},qi=typeof Reflect=="object"?Reflect:null,F_=qi&&typeof qi.apply=="function"?qi.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Es;qi&&typeof qi.ownKeys=="function"?Es=qi.ownKeys:Object.getOwnPropertySymbols?Es=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Es=function(t){return Object.getOwnPropertyNames(t)};function ez(e){console&&console.warn&&console.warn(e)}var Fx=Number.isNaN||function(t){return t!==t};function Pe(){Pe.init.call(this)}Qo.exports=Pe;Qo.exports.once=iz;Pe.EventEmitter=Pe;Pe.prototype._events=void 0;Pe.prototype._eventsCount=0;Pe.prototype._maxListeners=void 0;var j_=10;function oc(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Pe,"defaultMaxListeners",{enumerable:!0,get:function(){return j_},set:function(e){if(typeof e!="number"||e<0||Fx(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");j_=e}});Pe.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Pe.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Fx(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function jx(e){return e._maxListeners===void 0?Pe.defaultMaxListeners:e._maxListeners}Pe.prototype.getMaxListeners=function(){return jx(this)};Pe.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")F_(c,this,r);else for(var u=c.length,f=Hx(c,u),n=0;n<u;++n)F_(f[n],this,r);return!0};function $x(e,t,r,n){var i,o,a;if(oc(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),a===void 0)a=o[t]=r,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=jx(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,ez(s)}return e}Pe.prototype.addListener=function(t,r){return $x(this,t,r,!1)};Pe.prototype.on=Pe.prototype.addListener;Pe.prototype.prependListener=function(t,r){return $x(this,t,r,!0)};function tz(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function zx(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=tz.bind(n);return i.listener=r,n.wrapFn=i,i}Pe.prototype.once=function(t,r){return oc(r),this.on(t,zx(this,t,r)),this};Pe.prototype.prependOnceListener=function(t,r){return oc(r),this.prependListener(t,zx(this,t,r)),this};Pe.prototype.removeListener=function(t,r){var n,i,o,a,s;if(oc(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():rz(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||r)}return this};Pe.prototype.off=Pe.prototype.removeListener;Pe.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function qx(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?nz(i):Hx(i,i.length)}Pe.prototype.listeners=function(t){return qx(this,t,!0)};Pe.prototype.rawListeners=function(t){return qx(this,t,!1)};Pe.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Kx.call(e,t)};Pe.prototype.listenerCount=Kx;function Kx(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Pe.prototype.eventNames=function(){return this._eventsCount>0?Es(this._events):[]};function Hx(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function rz(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function nz(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function iz(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,o),n(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}Gx(e,t,o,{once:!0}),t!=="error"&&oz(e,i,{once:!0})})}function oz(e,t,r){typeof e.on=="function"&&Gx(e,"error",t,r)}function Gx(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Oo=globalThis&&globalThis.__assign||function(){return Oo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Oo.apply(this,arguments)},un=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},cn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ff=new Se("AWSS3ProviderManagedUpload"),az=function(){function e(t,r,n){this.minPartSize=5*1024*1024,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=t,this.opts=r,this.emitter=n,this.s3client=this._createNewS3Client(r,n)}return e.prototype.upload=function(){return un(this,void 0,void 0,function(){var t,r,n,i,o,a,s=this;return cn(this,function(c){switch(c.label){case 0:return t=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return t.body=c.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,r=new Lj(this.params),[2,this.s3client.send(r)]):[3,2];case 2:return[4,this.createMultiPartUpload()];case 3:n=c.sent(),i=Math.ceil(this.totalBytesToUpload/this.minPartSize),o=this.createParts(),a=0,c.label=4;case 4:return a<i?[4,this.checkIfUploadCancelled(n)]:[3,9];case 5:return c.sent(),[4,this.uploadParts(n,o.slice(a,a+this.queueSize))];case 6:return c.sent(),[4,this.checkIfUploadCancelled(n)];case 7:c.sent(),c.label=8;case 8:return a+=this.queueSize,[3,4];case 9:return o.map(function(u){s.removeEventListener(u)}),[4,this.finishMultiPartUpload(n)];case 10:return[2,c.sent()]}})})},e.prototype.createParts=function(){for(var t=[],r=0;r<this.totalBytesToUpload;){var n=Math.min(r+this.minPartSize,this.totalBytesToUpload);t.push({bodyPart:this.body.slice(r,n),partNumber:t.length+1,emitter:new Qo.exports.EventEmitter,_lastUploadedBytes:0}),r+=this.minPartSize}return t},e.prototype.createMultiPartUpload=function(){return un(this,void 0,void 0,function(){var t,r;return cn(this,function(n){switch(n.label){case 0:return t=new ux(this.params),[4,this.s3client.send(t)];case 1:return r=n.sent(),ff.debug(r.UploadId),[2,r.UploadId]}})})},e.prototype.uploadParts=function(t,r){return un(this,void 0,void 0,function(){var n,i,o,a=this;return cn(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(r.map(function(c){return un(a,void 0,void 0,function(){var u,f,l,d,h,p,g,b;return cn(this,function(E){switch(E.label){case 0:return this.setupEventListener(c),u={emitter:c.emitter},f=this.params,l=f.Key,d=f.Bucket,h=f.SSECustomerAlgorithm,p=f.SSECustomerKey,g=f.SSECustomerKeyMD5,[4,this.s3client.send(new fx(Oo(Oo(Oo({PartNumber:c.partNumber,Body:c.bodyPart,UploadId:t,Key:l,Bucket:d},h&&{SSECustomerAlgorithm:h}),p&&{SSECustomerKey:p}),g&&{SSECustomerKeyMD5:g})),u)];case 1:return b=E.sent(),[2,b]}})})}))];case 1:for(n=s.sent(),i=0;i<n.length;i++)this.completedParts.push({PartNumber:r[i].partNumber,ETag:n[i].ETag});return[3,3];case 2:return o=s.sent(),ff.error("error happened while uploading a part. Cancelling the multipart upload",o),this.cancelUpload(),[2];case 3:return[2]}})})},e.prototype.finishMultiPartUpload=function(t){return un(this,void 0,void 0,function(){var r,n,i,o;return cn(this,function(a){switch(a.label){case 0:r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t,MultipartUpload:{Parts:this.completedParts}},n=new sx(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return i=a.sent(),[2,i.Key];case 3:return o=a.sent(),ff.error("error happened while finishing the upload. Cancelling the multipart upload",o),this.cancelUpload(),[2];case 4:return[2]}})})},e.prototype.checkIfUploadCancelled=function(t){return un(this,void 0,void 0,function(){var r,n;return cn(this,function(i){switch(i.label){case 0:if(!this.cancel)return[3,5];r="Upload was cancelled.",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.cleanup(t)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),r+=" "+n.message,[3,4];case 4:throw new Error(r);case 5:return[2]}})})},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(t){return un(this,void 0,void 0,function(){var r,n;return cn(this,function(i){switch(i.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t},[4,this.s3client.send(new ax(r))];case 1:return i.sent(),[4,this.s3client.send(new cx(r))];case 2:if(n=i.sent(),n&&n.Parts&&n.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}})})},e.prototype.removeEventListener=function(t){t.emitter.removeAllListeners(Io),t.emitter.removeAllListeners(du)},e.prototype.setupEventListener=function(t){var r=this;t.emitter.on(Io,function(n){r.progressChanged(t.partNumber,n.loaded-t._lastUploadedBytes),t._lastUploadedBytes=n.loaded})},e.prototype.progressChanged=function(t,r){this.bytesUploaded+=r,this.emitter.emit(Io,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:t,key:this.params.Key})},e.prototype.byteLength=function(t){if(t==null)return 0;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.path!="string")throw new Error("Cannot determine length of "+t)},e.prototype.validateAndSanitizeBody=function(t){return un(this,void 0,void 0,function(){return cn(this,function(r){return this.isGenericObject(t)?[2,JSON.stringify(t)]:[2,t]})})},e.prototype.isGenericObject=function(t){if(t!==null&&typeof t=="object")try{return!(this.byteLength(t)>=0)}catch{return!0}return!1},e.prototype._createNewS3Client=function(t,r){var n=Bx(t,r);return n.middlewareStack.add(Dx(this.opts,this.params.Key),Ux),n.middlewareStack.add(Mx(n.config),Lx),n},e}(),Ft=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},jt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sz=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},uz=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sz(arguments[t]));return e},Ot=new Se("AWSS3UploadTask"),Ke;(function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"})(Ke||(Ke={}));var wr;(function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"})(wr||(wr={}));var $_=1e4,cz=5*1024*1024,fz=4;function lz(e,t){return e.PartNumber-t.PartNumber}var Vx=function(){function e(t){var r=t.s3Client,n=t.file,i=t.emitter,o=t.storage,a=t.params,s=t.level,c=t.prefixPromise;this.partSize=cz,this.queueSize=fz,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=Ke.INIT,this.prefixPromise=c,this.s3client=r,this.s3client.middlewareStack.remove(Rx),this.storage=o,this.storageSync=Promise.resolve(),typeof this.storage.sync=="function"&&(this.storageSync=this.storage.sync()),this.params=a,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=i,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(wr.ERROR,function(){})}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===Ke.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(t){var r=t.key,n=t.bucket;return Ft(this,void 0,void 0,function(){var i,o,a,s,c;return jt(this,function(u){switch(u.label){case 0:return[4,this.s3client.send(new Mj({Bucket:n,Prefix:r}))];case 1:return i=u.sent(),o=i.Contents,a=o===void 0?[]:o,[4,this.prefixPromise];case 2:return s=u.sent(),c=a.find(function(f){return f.Key===""+s+r}),[2,c]}})})},e.prototype._getFileId=function(t){return J8(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,t,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,t,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return Ft(this,void 0,void 0,function(){var t,r,n;return jt(this,function(i){switch(i.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return t=i.sent(),Object.keys(t).length===0||!Object.prototype.hasOwnProperty.call(t,this.fileId)?[2,{parts:[],uploadId:null}]:(r=t[this.fileId],r.lastTouched=Date.now(),this.storage.setItem(Eo,JSON.stringify(t)),[4,this.s3client.send(new cx({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.uploadId}))]);case 2:return n=i.sent(),[2,{parts:n.Parts||[],uploadId:r.uploadId}]}})})},e.prototype._emitEvent=function(t,r){this.emitter.emit(t,r)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>$_)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is "+$_+".")},e.prototype._listCachedUploadTasks=function(){return Ft(this,void 0,void 0,function(){var t;return jt(this,function(r){switch(r.label){case 0:return[4,this.storageSync];case 1:return r.sent(),t=this.storage.getItem(Eo)||"{}",[2,JSON.parse(t)]}})})},e.prototype._cache=function(t){return Ft(this,void 0,void 0,function(){var r;return jt(this,function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return r=n.sent(),r[this.fileId]=t,this.storage.setItem(Eo,JSON.stringify(r)),[2]}})})},e.prototype._isCached=function(){return Ft(this,void 0,void 0,function(){var t,r;return jt(this,function(n){switch(n.label){case 0:return r=(t=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,r.apply(t,[n.sent(),this.fileId])]}})})},e.prototype._removeFromCache=function(){return Ft(this,void 0,void 0,function(){var t;return jt(this,function(r){switch(r.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return t=r.sent(),delete t[this.fileId],this.storage.setItem(Eo,JSON.stringify(t)),[2]}})})},e.prototype._onPartUploadCompletion=function(t){var r=t.eTag,n=t.partNumber,i=t.chunk;return Ft(this,void 0,void 0,function(){return jt(this,function(o){return this.completedParts.push({ETag:r,PartNumber:n}),this.bytesUploaded+=W8(i),this._emitEvent(wr.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter(function(a){return a.uploadPartInput.PartNumber!==n}),this.queued.length&&this.state!==Ke.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]})})},e.prototype._completeUpload=function(){return Ft(this,void 0,void 0,function(){var t;return jt(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.s3client.send(new sx({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(lz)}}))];case 1:return r.sent(),this._verifyFileSize(),this._emitEvent(wr.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=Ke.COMPLETED,[3,3];case 2:return t=r.sent(),Ot.error("error completing upload",t),this._emitEvent(wr.ERROR,t),[3,3];case 3:return[2]}})})},e.prototype._makeUploadPartRequest=function(t,r){return Ft(this,void 0,void 0,function(){var n,i;return jt(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.s3client.send(new fx(t),{cancelTokenSource:r})];case 1:return n=o.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:t.PartNumber,chunk:t.Body})];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),this.state===Ke.PAUSED?Ot.log("upload paused"):this.state===Ke.CANCELLED?Ot.log("upload aborted"):Ot.error("error starting next part of upload: ",i),!In.isCancel(i)&&i.message!==Xo.UPLOAD_PAUSED_MESSAGE&&(this._emitEvent(wr.ERROR,i),this.pause()),[3,4];case 4:return[2]}})})},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==Ke.PAUSED){var t=In.CancelToken.source(),r=this.queued.shift();this.inProgress.push({uploadPartInput:r,s3Request:this._makeUploadPartRequest(r,t),cancel:t.cancel})}},e.prototype._verifyFileSize=function(){return Ft(this,void 0,void 0,function(){var t,r;return jt(this,function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(t=n.sent(),r=Boolean(t&&t.Size===this.file.size),!r)throw new Error("File size does not match between local file and file on s3");return[2,r]}})})},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var t=this.file.size,r=[],n=0;n<t;){var i=Math.min(n+this.partSize,t);r.push({Body:this.file.slice(n,i),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:r.length+1,UploadId:this.uploadId}),n+=this.partSize}return r},e.prototype._initCachedUploadParts=function(t){this.bytesUploaded+=t.reduce(function(n,i){return n+i.Size},0);var r=new Set(t.map(function(n){return n.PartNumber}));this.queued=this.queued.filter(function(n){return!r.has(n.PartNumber)}),this.completedParts=t.map(function(n){return{PartNumber:n.PartNumber,ETag:n.ETag}}),this._emitEvent(wr.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Ft(this,void 0,void 0,function(){var t;return jt(this,function(r){switch(r.label){case 0:return[4,this.s3client.send(new ux(this.params))];case 1:return t=r.sent(),this._cache({uploadId:t.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,t.UploadId]}})})},e.prototype._initializeUploadTask=function(){return Ft(this,void 0,void 0,function(){var t,r,n,n,i;return jt(this,function(o){switch(o.label){case 0:this.state=Ke.IN_PROGRESS,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._isCached()];case 2:return o.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return t=o.sent(),r=t.parts,n=t.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(r),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=o.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),o.label=6;case 6:return[3,8];case 7:return i=o.sent(),In.isCancel(i)||Ot.error("Error initializing the upload task",i),[3,8];case 8:return[2]}})})},e.prototype.resume=function(){this.state===Ke.CANCELLED?Ot.warn("This task has already been cancelled"):this.state===Ke.COMPLETED?Ot.warn("This task has already been completed"):this.state===Ke.IN_PROGRESS?Ot.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=Ke.IN_PROGRESS;for(var t=0;t<this.queueSize;t++)this._startNextPart()},e.prototype._cancel=function(){return Ft(this,void 0,void 0,function(){var t;return jt(this,function(r){switch(r.label){case 0:return this.state!==Ke.CANCELLED?[3,1]:(Ot.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==Ke.COMPLETED?[3,2]:(Ot.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=Ke.CANCELLED,r.label=3;case 3:return r.trys.push([3,6,,7]),[4,this.s3client.send(new ax({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return r.sent(),[4,this._removeFromCache()];case 5:return r.sent(),[2,!0];case 6:return t=r.sent(),Ot.error("Error cancelling upload task",t),[2,!1];case 7:return[2]}})})},e.prototype.pause=function(){var t;this.state===Ke.CANCELLED?Ot.warn("This task has already been cancelled"):this.state===Ke.COMPLETED?Ot.warn("This task has already been completed"):this.state===Ke.PAUSED&&Ot.warn("This task is already paused"),this.state=Ke.PAUSED;var r=this.inProgress.splice(0,this.inProgress.length);r.forEach(function(n){n.cancel(Xo.UPLOAD_PAUSED_MESSAGE)}),(t=this.queued).unshift.apply(t,uz(r.map(function(n){return n.uploadPartInput})))},e}(),Nr=globalThis&&globalThis.__assign||function(){return Nr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Nr.apply(this,arguments)},vo=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},go=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},We=new Se("AWSS3Provider"),z_="public",dz=900,hz=function(){function e(t){var r=this;this._config=t||{},this._storage=new Vu().getStorage(),rn.listen("auth",function(n){var i=n.payload;(i.event==="signOut"||i.event==="signIn")&&r._storage.removeItem(Eo)}),We.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(t){if(We.debug("configure Storage",t),!t)return this._config;var r=Uh.parseMobilehubConfig(t);return this._config=Object.assign({},this._config,r.Storage),this._config.bucket||We.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(t,r){var n=t.s3Client,i=t.emitter,o=t.key,a=t.file,s=t.params,c=r.progressCallback,u=r.completeCallback,f=r.errorCallback,l=r.track,d=l===void 0?!1:l;if(!(a instanceof Blob))throw new Error(Jr.INVALID_BLOB);i.on(wr.UPLOAD_PROGRESS,function(g){c&&(typeof c=="function"?c(g):We.warn("progressCallback should be a function, not a "+typeof c))}),i.on(wr.UPLOAD_COMPLETE,function(g){u&&(typeof u=="function"?u(g):We.warn("completeCallback should be a function, not a "+typeof u))}),i.on(wr.ERROR,function(g){f&&(typeof f=="function"?f(g):We.warn("errorCallback should be a function, not a "+typeof f))});var h=at.get().then(function(g){var b=at.shear(g);return Nx(Nr(Nr({},r),{credentials:b}))}),p=new Vx({s3Client:n,file:a,emitter:i,level:r.level,storage:this._storage,params:s,prefixPromise:h});return Bt(d,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+o),p.resume(),p},e.prototype.copy=function(t,r,n){return vo(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V,F,ee,R,L,A,y;return go(this,function(_){switch(_.label){case 0:return[4,this._ensureCredentials()];case 1:if(i=_.sent(),!i||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);if(o=Object.assign({},this._config,n),a=o.acl,s=o.bucket,c=o.cacheControl,u=o.expires,f=o.track,l=o.serverSideEncryption,d=o.SSECustomerAlgorithm,h=o.SSECustomerKey,p=o.SSECustomerKeyMD5,g=o.SSEKMSKeyId,b=t.level,E=b===void 0?z_:b,S=t.identityId,T=t.key,N=r.level,k=N===void 0?z_:N,B=r.key,!T||typeof T!="string")throw new Error(Jr.NO_SRC_KEY);if(!B||typeof B!="string")throw new Error(Jr.NO_DEST_KEY);E!=="protected"&&S&&We.warn(`You may copy files from another user if the source level is "protected", currently it's `+E),V=this._prefix(Nr(Nr(Nr({},o),{level:E}),S&&{identityId:S})),F=this._prefix(Nr(Nr({},o),{level:k})),ee=s+"/"+V+T,R=""+F+B,We.debug("copying "+ee+" to "+R),L={Bucket:s,CopySource:ee,Key:R,MetadataDirective:"COPY"},c&&(L.CacheControl=c),u&&(L.Expires=u),l&&(L.ServerSideEncryption=l),d&&(L.SSECustomerAlgorithm=d),h&&(L.SSECustomerKey=h),p&&(L.SSECustomerKeyMD5=p),g&&(L.SSEKMSKeyId=g),a&&(L.ACL=a),A=this._createNewS3Client(o),_.label=2;case 2:return _.trys.push([2,4,,5]),[4,A.send(new Rj(L))];case 3:return _.sent(),Bt(f,"copy",{method:"copy",result:"success"},null,"Copy success from "+T+" to "+B),[2,{key:B}];case 4:throw y=_.sent(),Bt(f,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+T+" to "+B),y;case 5:return[2]}})})},e.prototype.get=function(t,r){return vo(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V,F,ee,R,L,A,y,_;return go(this,function(C){switch(C.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=C.sent(),!n||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);if(i=Object.assign({},this._config,r),o=i.bucket,a=i.download,s=i.cacheControl,c=i.contentDisposition,u=i.contentEncoding,f=i.contentLanguage,l=i.contentType,d=i.expires,h=i.track,p=i.SSECustomerAlgorithm,g=i.SSECustomerKey,b=i.SSECustomerKeyMD5,E=i.progressCallback,S=this._prefix(i),T=S+t,N=new Qo.exports.EventEmitter,k=this._createNewS3Client(i,N),We.debug("get "+t+" from "+T),B={Bucket:o,Key:T},s&&(B.ResponseCacheControl=s),c&&(B.ResponseContentDisposition=c),u&&(B.ResponseContentEncoding=u),f&&(B.ResponseContentLanguage=f),l&&(B.ResponseContentType=l),p&&(B.SSECustomerAlgorithm=p),g&&(B.SSECustomerKey=g),b&&(B.SSECustomerKeyMD5=b),a!==!0)return[3,5];V=new Yb(B),C.label=2;case 2:return C.trys.push([2,4,,5]),E&&(typeof E=="function"?N.on(du,function(D){E(D)}):We.warn("progressCallback should be a function, not a "+typeof E)),[4,k.send(V)];case 3:return F=C.sent(),N.removeAllListeners(du),Bt(h,"download",{method:"get",result:"success"},{fileSize:Number(F.Body.size||F.Body.length)},"Download success for "+t),[2,F];case 4:throw ee=C.sent(),Bt(h,"download",{method:"get",result:"failed"},null,"Download failed with "+ee.message),ee;case 5:return C.trys.push([5,8,,9]),R=new h$(Nr({},k.config)),[4,Bj(k,new Yb(B))];case 6:return L=C.sent(),y=Uj,[4,R.presign(L,{expiresIn:d||dz})];case 7:return A=y.apply(void 0,[C.sent()]),Bt(h,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+A),[2,A];case 8:throw _=C.sent(),We.warn("get signed url error",_),Bt(h,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+t),_;case 9:return[2]}})})},e.prototype.put=function(t,r,n){var i=Object.assign({},this._config,n),o=i.bucket,a=i.track,s=i.progressCallback,c=i.level,u=i.resumable,f=i.contentType,l=i.contentDisposition,d=i.contentEncoding,h=i.cacheControl,p=i.expires,g=i.metadata,b=i.tagging,E=i.acl,S=i.serverSideEncryption,T=i.SSECustomerAlgorithm,N=i.SSECustomerKey,k=i.SSECustomerKeyMD5,B=i.SSEKMSKeyId,V=f||"binary/octet-stream",F={Bucket:o,Key:t,Body:r,ContentType:V};h&&(F.CacheControl=h),l&&(F.ContentDisposition=l),d&&(F.ContentEncoding=d),p&&(F.Expires=p),g&&(F.Metadata=g),b&&(F.Tagging=b),S&&(F.ServerSideEncryption=S),T&&(F.SSECustomerAlgorithm=T),N&&(F.SSECustomerKey=N),k&&(F.SSECustomerKeyMD5=k),B&&(F.SSEKMSKeyId=B);var ee=new Qo.exports.EventEmitter,R=new az(F,i,ee);if(E&&(F.ACL=E),u===!0){var L=this._createNewS3Client(i);L.middlewareStack.add(Dx(i,t),Ux);var A={bucket:o,key:t,s3Client:L,file:r,emitter:ee,accessLevel:c,params:F};return this.startResumableUpload(A,n)}try{return s&&(typeof s=="function"?ee.on(Io,function(y){s(y)}):We.warn("progressCallback should be a function, not a "+typeof s)),R.upload().then(function(y){return We.debug("upload result",y),Bt(a,"upload",{method:"put",result:"success"},null,"Upload success for "+t),{key:t}})}catch(y){throw We.warn("error uploading",y),Bt(a,"upload",{method:"put",result:"failed"},null,"Error uploading "+t),y}},e.prototype.remove=function(t,r){return vo(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h;return go(this,function(p){switch(p.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=p.sent(),!n||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);i=Object.assign({},this._config,r),o=i.bucket,a=i.track,s=this._prefix(i),c=s+t,u=this._createNewS3Client(i),We.debug("remove "+t+" from "+c),f={Bucket:o,Key:c},l=new Nj(f),p.label=2;case 2:return p.trys.push([2,4,,5]),[4,u.send(l)];case 3:return d=p.sent(),Bt(a,"delete",{method:"remove",result:"success"},null,"Deleted "+t+" successfully"),[2,d];case 4:throw h=p.sent(),Bt(a,"delete",{method:"remove",result:"failed"},null,"Deletion of "+t+" failed with "+h),h;case 5:return[2]}})})},e.prototype.list=function(t,r){return vo(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,p,g;return go(this,function(b){switch(b.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=b.sent(),!n||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);i=Object.assign({},this._config,r),o=i.bucket,a=i.track,s=i.maxKeys,c=this._prefix(i),u=c+t,f=this._createNewS3Client(i),We.debug("list "+t+" from "+u),l={Bucket:o,Prefix:u,MaxKeys:s},d=new Dj(l),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,f.send(d)];case 3:return h=b.sent(),p=[],h&&h.Contents&&(p=h.Contents.map(function(E){return{key:E.Key.substr(c.length),eTag:E.ETag,lastModified:E.LastModified,size:E.Size}})),Bt(a,"list",{method:"list",result:"success"},null,p.length+" items returned from list operation"),We.debug("list",p),[2,p];case 4:throw g=b.sent(),We.warn("list error",g),Bt(a,"list",{method:"list",result:"failed"},null,"Listing items failed: "+g.message),g;case 5:return[2]}})})},e.prototype._ensureCredentials=function(){return vo(this,void 0,void 0,function(){var t,r,n;return go(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,at.get()];case 1:return t=i.sent(),t?(r=at.shear(t),We.debug("set credentials for storage",r),this._config.credentials=r,[2,!0]):[2,!1];case 2:return n=i.sent(),We.warn("ensure credentials error",n),[2,!1];case 3:return[2]}})})},e.prototype._isWithCredentials=function(t){return typeof t=="object"&&t.hasOwnProperty("credentials")},e.prototype._prefix=function(t){var r=t.credentials,n=t.level,i=t.customPrefix||{},o=t.identityId||r.identityId,a=(i.private!==void 0?i.private:"private/")+o+"/",s=(i.protected!==void 0?i.protected:"protected/")+o+"/",c=i.public!==void 0?i.public:"public/";switch(n){case"private":return a;case"protected":return s;default:return c}},e.prototype._createNewS3Client=function(t,r){var n=Bx(t,r);return n.middlewareStack.add(Mx(n.config),Lx),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),Dr=globalThis&&globalThis.__assign||function(){return Dr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Dr.apply(this,arguments)},pz=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Gr=new Se("StorageClass"),fn="AWSS3",q_=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,Gr.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(t){if(t&&t.getCategory()==="Storage"){this._pluggables.push(t);var r={};return r=t.configure(this._config[t.getProviderName()]),r}},e.prototype.getPluggable=function(t){var r=this._pluggables.find(function(n){return n.getProviderName()===t});return r===void 0?(Gr.debug("No plugin found with providerName",t),null):r},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.configure=function(t){var r=this;if(Gr.debug("configure Storage"),!t)return this._config;var n=Uh.parseMobilehubConfig(t),i=Object.keys(n.Storage),o=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],a=function(c){return o.some(function(u){return u===c})},s=function(c){return c.find(function(u){return a(u)})};return i&&s(i)&&!n.Storage[fn]&&(n.Storage[fn]={}),Object.entries(n.Storage).map(function(c){var u=pz(c,2),f=u[0],l=u[1];f&&a(f)&&l!==void 0&&(n.Storage[fn][f]=l,delete n.Storage[f])}),Object.keys(n.Storage).forEach(function(c){typeof n.Storage[c]!="string"&&(r._config[c]=Dr(Dr({},r._config[c]),n.Storage[c]))}),this._pluggables.forEach(function(c){c.configure(r._config[c.getProviderName()])}),this._pluggables.length===0&&this.addPluggable(new hz),this._config},e.prototype.getCancellableTokenSource=function(){return In.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenSourceMap.set(t,r)},e.prototype.isUploadTask=function(t){return typeof t!="undefined"&&typeof t.pause=="function"&&typeof t.resume=="function"},e.prototype.cancel=function(t,r){if(t instanceof Vx)return t._cancel();var n=this._cancelTokenSourceMap.get(t);n?n.cancel(r):Gr.debug("The request does not map to any cancel token")},e.prototype.copy=function(t,r,n){var i=(n==null?void 0:n.provider)||fn,o=this._pluggables.find(function(c){return c.getProviderName()===i});if(o===void 0)return Gr.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource();if(typeof o.copy!="function")return Promise.reject(".copy is not implemented on provider "+o.getProviderName());var s=o.copy(t,r,Dr(Dr({},n),{cancelTokenSource:a}));return this.updateRequestToBeCancellable(s,a),s},e.prototype.get=function(t,r){var n=(r==null?void 0:r.provider)||fn,i=this._pluggables.find(function(s){return s.getProviderName()===n});if(i===void 0)return Gr.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),a=i.get(t,Dr(Dr({},r),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(a,o),a},e.prototype.isCancelError=function(t){return In.isCancel(t)},e.prototype.put=function(t,r,n){var i=(n==null?void 0:n.provider)||fn,o=this._pluggables.find(function(c){return c.getProviderName()===i});if(o===void 0)return Gr.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource(),s=o.put(t,r,Dr(Dr({},n),{cancelTokenSource:a}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,a),s},e.prototype.remove=function(t,r){var n=(r==null?void 0:r.provider)||fn,i=this._pluggables.find(function(o){return o.getProviderName()===n});return i===void 0?(Gr.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):i.remove(t,r)},e.prototype.list=function(t,r){var n=(r==null?void 0:r.provider)||fn,i=this._pluggables.find(function(o){return o.getProviderName()===n});return i===void 0?(Gr.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):i.list(t,r)},e}(),Po=globalThis&&globalThis.__assign||function(){return Po=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Po.apply(this,arguments)},lf=new Se("Storage"),Vr=null,vz=function(){if(Vr)return Vr;lf.debug("Create Storage Instance, debug"),Vr=new q_,Vr.vault=new q_;var e=Vr.configure;return Vr.configure=function(t){lf.debug("storage configure called");var r=Po({},e.call(Vr,t));Object.keys(r).forEach(function(n){typeof r[n]!="string"&&(r[n]=Po(Po({},r[n]),{level:"private"}))}),lf.debug("storage vault configure called"),Vr.vault.configure(r)},Vr},gz=vz();st.register(gz);var fp={exports:{}},Wx=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},yz=Wx,hi=Object.prototype.toString;function lp(e){return hi.call(e)==="[object Array]"}function Ld(e){return typeof e=="undefined"}function mz(e){return e!==null&&!Ld(e)&&e.constructor!==null&&!Ld(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function wz(e){return hi.call(e)==="[object ArrayBuffer]"}function bz(e){return typeof FormData!="undefined"&&e instanceof FormData}function _z(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function Sz(e){return typeof e=="string"}function Ez(e){return typeof e=="number"}function Jx(e){return e!==null&&typeof e=="object"}function Cs(e){if(hi.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Cz(e){return hi.call(e)==="[object Date]"}function Az(e){return hi.call(e)==="[object File]"}function xz(e){return hi.call(e)==="[object Blob]"}function Yx(e){return hi.call(e)==="[object Function]"}function Tz(e){return Jx(e)&&Yx(e.pipe)}function Iz(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function Oz(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Pz(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function dp(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),lp(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Ud(){var e={};function t(i,o){Cs(e[o])&&Cs(i)?e[o]=Ud(e[o],i):Cs(i)?e[o]=Ud({},i):lp(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)dp(arguments[r],t);return e}function kz(e,t,r){return dp(t,function(i,o){r&&typeof i=="function"?e[o]=yz(i,r):e[o]=i}),e}function Rz(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Xt={isArray:lp,isArrayBuffer:wz,isBuffer:mz,isFormData:bz,isArrayBufferView:_z,isString:Sz,isNumber:Ez,isObject:Jx,isPlainObject:Cs,isUndefined:Ld,isDate:Cz,isFile:Az,isBlob:xz,isFunction:Yx,isStream:Tz,isURLSearchParams:Iz,isStandardBrowserEnv:Pz,forEach:dp,merge:Ud,extend:kz,trim:Oz,stripBOM:Rz},Ai=Xt;function K_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xx=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Ai.isURLSearchParams(r))i=r.toString();else{var o=[];Ai.forEach(r,function(c,u){c===null||typeof c=="undefined"||(Ai.isArray(c)?u=u+"[]":c=[c],Ai.forEach(c,function(l){Ai.isDate(l)?l=l.toISOString():Ai.isObject(l)&&(l=JSON.stringify(l)),o.push(K_(u)+"="+K_(l))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},Nz=Xt;function ac(){this.handlers=[]}ac.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};ac.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};ac.prototype.forEach=function(t){Nz.forEach(this.handlers,function(n){n!==null&&t(n)})};var Dz=ac,Mz=Xt,Lz=function(t,r){Mz.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},Qx=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},Uz=Qx,Zx=function(t,r,n,i,o){var a=new Error(t);return Uz(a,r,n,i,o)},Bz=Zx,Fz=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(Bz("Request failed with status code "+n.status,n.config,null,n.request,n))},Ya=Xt,jz=Ya.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var c=[];c.push(r+"="+encodeURIComponent(n)),Ya.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Ya.isString(o)&&c.push("path="+o),Ya.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),$z=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},zz=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},qz=$z,Kz=zz,Hz=function(t,r){return t&&!qz(r)?Kz(t,r):r},df=Xt,Gz=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Vz=function(t){var r={},n,i,o;return t&&df.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=df.trim(s.substr(0,o)).toLowerCase(),i=df.trim(s.substr(o+1)),n){if(r[n]&&Gz.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},H_=Xt,Wz=H_.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=H_.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),Xa=Xt,Jz=Fz,Yz=jz,Xz=Xx,Qz=Hz,Zz=Vz,e5=Wz,hf=Zx,G_=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType;Xa.isFormData(o)&&delete a["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(u+":"+f)}var l=Qz(t.baseURL,t.url);c.open(t.method.toUpperCase(),Xz(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!!c){var p="getAllResponseHeaders"in c?Zz(c.getAllResponseHeaders()):null,g=!s||s==="text"||s==="json"?c.responseText:c.response,b={data:g,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};Jz(n,i,b),c=null}}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){!c||(i(hf("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(hf("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),i(hf(g,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},Xa.isStandardBrowserEnv()){var h=(t.withCredentials||e5(l))&&t.xsrfCookieName?Yz.read(t.xsrfCookieName):void 0;h&&(a[t.xsrfHeaderName]=h)}"setRequestHeader"in c&&Xa.forEach(a,function(g,b){typeof o=="undefined"&&b.toLowerCase()==="content-type"?delete a[b]:c.setRequestHeader(b,g)}),Xa.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(g){!c||(c.abort(),i(g),c=null)}),o||(o=null),c.send(o)})},rt=Xt,V_=Lz,t5=Qx,r5={"Content-Type":"application/x-www-form-urlencoded"};function W_(e,t){!rt.isUndefined(e)&&rt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function n5(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=G_),e}function i5(e,t,r){if(rt.isString(e))try{return(t||JSON.parse)(e),rt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var sc={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:n5(),transformRequest:[function(t,r){return V_(r,"Accept"),V_(r,"Content-Type"),rt.isFormData(t)||rt.isArrayBuffer(t)||rt.isBuffer(t)||rt.isStream(t)||rt.isFile(t)||rt.isBlob(t)?t:rt.isArrayBufferView(t)?t.buffer:rt.isURLSearchParams(t)?(W_(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):rt.isObject(t)||r&&r["Content-Type"]==="application/json"?(W_(r,"application/json"),i5(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&rt.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?t5(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};sc.headers={common:{Accept:"application/json, text/plain, */*"}};rt.forEach(["delete","get","head"],function(t){sc.headers[t]={}});rt.forEach(["post","put","patch"],function(t){sc.headers[t]=rt.merge(r5)});var hp=sc,o5=Xt,a5=hp,s5=function(t,r,n){var i=this||a5;return o5.forEach(n,function(a){t=a.call(i,t,r)}),t},e1=function(t){return!!(t&&t.__CANCEL__)},J_=Xt,pf=s5,u5=e1,c5=hp;function vf(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var f5=function(t){vf(t),t.headers=t.headers||{},t.data=pf.call(t,t.data,t.headers,t.transformRequest),t.headers=J_.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),J_.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||c5.adapter;return r(t).then(function(i){return vf(t),i.data=pf.call(t,i.data,i.headers,t.transformResponse),i},function(i){return u5(i)||(vf(t),i&&i.response&&(i.response.data=pf.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},pt=Xt,t1=function(t,r){r=r||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(d,h){return pt.isPlainObject(d)&&pt.isPlainObject(h)?pt.merge(d,h):pt.isPlainObject(h)?pt.merge({},h):pt.isArray(h)?h.slice():h}function u(d){pt.isUndefined(r[d])?pt.isUndefined(t[d])||(n[d]=c(void 0,t[d])):n[d]=c(t[d],r[d])}pt.forEach(i,function(h){pt.isUndefined(r[h])||(n[h]=c(void 0,r[h]))}),pt.forEach(o,u),pt.forEach(a,function(h){pt.isUndefined(r[h])?pt.isUndefined(t[h])||(n[h]=c(void 0,t[h])):n[h]=c(void 0,r[h])}),pt.forEach(s,function(h){h in r?n[h]=c(t[h],r[h]):h in t&&(n[h]=c(void 0,t[h]))});var f=i.concat(o).concat(a).concat(s),l=Object.keys(t).concat(Object.keys(r)).filter(function(h){return f.indexOf(h)===-1});return pt.forEach(l,u),n};const l5="axios",d5="0.21.4",h5="Promise based HTTP client for the browser and node.js",p5="index.js",v5={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},g5={type:"git",url:"https://github.com/axios/axios.git"},y5=["xhr","http","ajax","promise","node"],m5="Matt Zabriskie",w5="MIT",b5={url:"https://github.com/axios/axios/issues"},_5="https://axios-http.com",S5={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},E5={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},C5="dist/axios.min.js",A5="dist/axios.min.js",x5="./index.d.ts",T5={"follow-redirects":"^1.14.0"},I5=[{path:"./dist/axios.min.js",threshold:"5kB"}];var O5={name:l5,version:d5,description:h5,main:p5,scripts:v5,repository:g5,keywords:y5,author:m5,license:w5,bugs:b5,homepage:_5,devDependencies:S5,browser:E5,jsdelivr:C5,unpkg:A5,typings:x5,dependencies:T5,bundlesize:I5},r1=O5,pp={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){pp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Y_={},P5=r1.version.split(".");function n1(e,t){for(var r=t?t.split("."):P5,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}pp.transitional=function(t,r,n){var i=r&&n1(r);function o(a,s){return"[Axios v"+r1.version+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return function(a,s,c){if(t===!1)throw new Error(o(s," has been removed in "+r));return i&&!Y_[s]&&(Y_[s]=!0,console.warn(o(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,c):!0}};function k5(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=s===void 0||a(s,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var R5={isOlderVersion:n1,assertOptions:k5,validators:pp},i1=Xt,N5=Xx,X_=Dz,Q_=f5,uc=t1,o1=R5,xi=o1.validators;function va(e){this.defaults=e,this.interceptors={request:new X_,response:new X_}}va.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=uc(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&o1.assertOptions(r,{silentJSONParsing:xi.transitional(xi.boolean,"1.0.0"),forcedJSONParsing:xi.transitional(xi.boolean,"1.0.0"),clarifyTimeoutError:xi.transitional(xi.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var a;if(!i){var s=[Q_,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var c=t;n.length;){var u=n.shift(),f=n.shift();try{c=u(c)}catch(l){f(l);break}}try{a=Q_(c)}catch(l){return Promise.reject(l)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};va.prototype.getUri=function(t){return t=uc(this.defaults,t),N5(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};i1.forEach(["delete","get","head","options"],function(t){va.prototype[t]=function(r,n){return this.request(uc(n||{},{method:t,url:r,data:(n||{}).data}))}});i1.forEach(["post","put","patch"],function(t){va.prototype[t]=function(r,n,i){return this.request(uc(i||{},{method:t,url:r,data:n}))}});var D5=va;function vp(e){this.message=e}vp.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};vp.prototype.__CANCEL__=!0;var a1=vp,M5=a1;function hu(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;e(function(i){r.reason||(r.reason=new M5(i),t(r.reason))})}hu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};hu.source=function(){var t,r=new hu(function(i){t=i});return{token:r,cancel:t}};var L5=hu,U5=function(t){return function(n){return t.apply(null,n)}},B5=function(t){return typeof t=="object"&&t.isAxiosError===!0},Z_=Xt,F5=Wx,As=D5,j5=t1,$5=hp;function s1(e){var t=new As(e),r=F5(As.prototype.request,t);return Z_.extend(r,As.prototype,t),Z_.extend(r,t),r}var Cr=s1($5);Cr.Axios=As;Cr.create=function(t){return s1(j5(Cr.defaults,t))};Cr.Cancel=a1;Cr.CancelToken=L5;Cr.isCancel=e1;Cr.all=function(t){return Promise.all(t)};Cr.spread=U5;Cr.isAxiosError=B5;fp.exports=Cr;fp.exports.default=Cr;var Qa=fp.exports,Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mr.apply(this,arguments)},z5=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},q5=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},eS=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Ti=new Se("RestClient"),u1=function(){function e(t){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=at,this._options=t,Ti.debug("API Options",this._options),this._cancelTokenMap==null&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(t,r,n){return z5(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d,h,p,g,b,E,S=this;return q5(this,function(T){switch(T.label){case 0:return Ti.debug(r,t),a="us-east-1",s="execute-api",c=void 0,typeof t=="string"?(i=this._parseUrl(t),o=t):(o=t.endpoint,c=t.custom_header,a=t.region,s=t.service,i=this._parseUrl(t.endpoint)),u={method:r,url:o,host:i.host,path:i.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},f={},mr.isReactNative&&(l=mr.userAgent||"aws-amplify/0.1.x",f={"User-Agent":l}),d=Object.assign({},n),h=d.response,d.body&&(typeof FormData=="function"&&d.body instanceof FormData?(f["Content-Type"]="multipart/form-data",u.data=d.body):(f["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(d.body))),d.responseType&&(u.responseType=d.responseType),d.withCredentials&&(u.withCredentials=d.withCredentials),d.timeout&&(u.timeout=d.timeout),d.cancellableToken&&(u.cancelToken=d.cancellableToken.token),u.signerServiceInfo=d.signerServiceInfo,typeof c!="function"?[3,2]:[4,c()];case 1:return g=T.sent(),[3,3];case 2:g=void 0,T.label=3;case 3:return p=g,u.headers=Mr(Mr(Mr({},f),p),d.headers),b=kt(o,!0,!0),E=eS(b,["search"]),u.url=ys(Mr(Mr({},E),{query:Mr(Mr({},E.query),d.queryStringParameters||{})})),typeof u.headers.Authorization!="undefined"?(u.headers=Object.keys(u.headers).reduce(function(N,k){return u.headers[k]&&(N[k]=u.headers[k]),N},{}),[2,this._request(u,h)]):[2,this.Credentials.get().then(function(N){return S._signed(Mr({},u),N,h,{region:a,service:s}).catch(function(k){if(sr.isClockSkewError(k)){var B=k.response.headers,V=B&&(B.date||B.Date),F=new Date(V),ee=sr.getDateFromHeaderString(u.headers["x-amz-date"]);if(sr.isClockSkewed(F))return sr.setClockOffset(F.getTime()-ee.getTime()),S.ajax(t,r,n)}throw k})},function(N){return Ti.debug("No credentials available, the request will be unsigned"),S._request(u,h)})]}})})},e.prototype.get=function(t,r){return this.ajax(t,"GET",r)},e.prototype.put=function(t,r){return this.ajax(t,"PUT",r)},e.prototype.patch=function(t,r){return this.ajax(t,"PATCH",r)},e.prototype.post=function(t,r){return this.ajax(t,"POST",r)},e.prototype.del=function(t,r){return this.ajax(t,"DELETE",r)},e.prototype.head=function(t,r){return this.ajax(t,"HEAD",r)},e.prototype.cancel=function(t,r){var n=this._cancelTokenMap.get(t);return n&&n.cancel(r),!0},e.prototype.isCancel=function(t){return Qa.isCancel(t)},e.prototype.getCancellableToken=function(){return Qa.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenMap.set(t,r)},e.prototype.endpoint=function(t){var r=this,n=this._options.endpoints,i="";return Array.isArray(n)&&n.forEach(function(o){o.name===t&&(i=o.endpoint,typeof o.region=="string"?r._region=o.region:typeof r._options.region=="string"&&(r._region=r._options.region),typeof o.service=="string"?r._service=o.service||"execute-api":r._service="execute-api",typeof o.custom_header=="function"?r._custom_header=o.custom_header:r._custom_header=void 0)}),i},e.prototype._signed=function(t,r,n,i){var o=i.service,a=i.region,s=t.signerServiceInfo,c=eS(t,["signerServiceInfo"]),u=a||this._region||this._options.region,f=o||this._service||this._options.service,l={secret_key:r.secretAccessKey,access_key:r.accessKeyId,session_token:r.sessionToken},d={region:u,service:f},h=Object.assign(d,s),p=AC.sign(c,l,h);return p.data&&(p.body=p.data),Ti.debug("Signed Request: ",p),delete p.headers.host,Qa(p).then(function(g){return n?g:g.data}).catch(function(g){throw Ti.debug(g),g})},e.prototype._request=function(t,r){return r===void 0&&(r=!1),Qa(t).then(function(n){return r?n:n.data}).catch(function(n){throw Ti.debug(n),n})},e.prototype._parseUrl=function(t){var r=t.split("/");return{host:r[2],path:"/"+r.slice(3).join("/")}},e}(),pu=globalThis&&globalThis.__assign||function(){return pu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pu.apply(this,arguments)},K5=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},H5=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},G5=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Za=new Se("RestAPI"),c1=function(){function e(t){this._api=null,this.Credentials=at,this._options=t,Za.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,i=n===void 0?{}:n,o=G5(r,["API"]),a=pu(pu({},o),i);if(Za.debug("configure Rest API",{opt:a}),a.aws_project_region){if(a.aws_cloud_logic_custom){var s=a.aws_cloud_logic_custom;a.endpoints=typeof s=="string"?JSON.parse(s):s}a=Object.assign({},a,{region:a.aws_project_region,header:{}})}return Array.isArray(a.endpoints)?a.endpoints.forEach(function(c){typeof c.custom_header!="undefined"&&typeof c.custom_header!="function"&&(Za.warn("Rest API "+c.name+", custom_header should be a function"),c.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?a.endpoints=this._options.endpoints:a.endpoints=[],this._options=Object.assign({},this._options,a),this.createInstance(),this._options},e.prototype.createInstance=function(){return Za.debug("create Rest API instance"),this._api=new u1(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.get(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.post=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.post(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.put=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.put(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.patch=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.patch(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.del=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.del(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.head=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.head(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype.endpoint=function(t){return K5(this,void 0,void 0,function(){return H5(this,function(r){return[2,this._api.endpoint(t)]})})},e.prototype.getEndpointInfo=function(t,r){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var i=n.find(function(a){return a.name===t});if(!i)throw new Error("API "+t+" does not exist");var o={endpoint:i.endpoint+r};return typeof i.region=="string"?o.region=i.region:typeof this._options.region=="string"&&(o.region=this._options.region),typeof i.service=="string"?o.service=i.service||"execute-api":o.service="execute-api",typeof i.custom_header=="function"?o.custom_header=i.custom_header:o.custom_header=void 0,o},e}(),V5=new c1(null);st.register(V5);function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(r){return typeof r}:xs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xs(e)}function W5(e){return xs(e)=="object"&&e!==null}var f1=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function Bd(e,t){for(var r=/\r\n|[\n\r]/g,n=1,i=t+1,o;(o=r.exec(e.body))&&o.index<t;)n+=1,i=t+1-(o.index+o[0].length);return{line:n,column:i}}function J5(e){return l1(e.source,Bd(e.source,e.start))}function l1(e,t){var r=e.locationOffset.column-1,n=Ts(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=t.line===1?r:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,`
`),f=n.split(/\r\n|[\n\r]/g),l=f[i];if(l.length>120){for(var d=Math.floor(c/80),h=c%80,p=[],g=0;g<l.length;g+=80)p.push(l.slice(g,g+80));return u+tS([["".concat(a),p[0]]].concat(p.slice(1,d+1).map(function(b){return["",b]}),[[" ",Ts(h-1)+"^"],["",p[d+1]]]))}return u+tS([["".concat(a-1),f[i-1]],["".concat(a),l],["",Ts(c-1)+"^"],["".concat(a+1),f[i+1]]])}function tS(e){var t=e.filter(function(n){n[0];var i=n[1];return i!==void 0}),r=Math.max.apply(Math,t.map(function(n){var i=n[0];return i.length}));return t.map(function(n){var i=n[0],o=n[1];return Y5(r,i)+(o?" | "+o:" |")}).join(`
`)}function Ts(e){return Array(e+1).join(" ")}function Y5(e,t){return Ts(e-t.length)+t}function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(r){return typeof r}:Is=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Is(e)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){Q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eq(e,t,r){return t&&nS(e.prototype,t),r&&nS(e,r),e}function tq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}function rq(e){var t=h1();return function(){var n=ea(e),i;if(t){var o=ea(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return d1(this,i)}}function d1(e,t){return t&&(Is(t)==="object"||typeof t=="function")?t:Co(e)}function Co(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fd(e){var t=typeof Map=="function"?new Map:void 0;return Fd=function(n){if(n===null||!nq(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Os(n,arguments,ea(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Zo(i,n)},Fd(e)}function Os(e,t,r){return h1()?Os=Reflect.construct:Os=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),u=new c;return a&&Zo(u,a.prototype),u},Os.apply(null,arguments)}function h1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function nq(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Zo(e,t){return Zo=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Zo(e,t)}function ea(e){return ea=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ea(e)}var Qr=function(e){tq(r,e);var t=rq(r);function r(n,i,o,a,s,c,u){var f,l,d,h;Z5(this,r),h=t.call(this,n),h.name="GraphQLError",h.originalError=c!=null?c:void 0,h.nodes=iS(Array.isArray(i)?i:i?[i]:void 0);for(var p=[],g=0,b=(E=h.nodes)!==null&&E!==void 0?E:[];g<b.length;g++){var E,S=b[g],T=S.loc;T!=null&&p.push(T)}p=iS(p),h.source=o!=null?o:(f=p)===null||f===void 0?void 0:f[0].source,h.positions=a!=null?a:(l=p)===null||l===void 0?void 0:l.map(function(k){return k.start}),h.locations=a&&o?a.map(function(k){return Bd(o,k)}):(d=p)===null||d===void 0?void 0:d.map(function(k){return Bd(k.source,k.start)}),h.path=s!=null?s:void 0;var N=c==null?void 0:c.extensions;return u==null&&W5(N)?h.extensions=X5({},N):h.extensions=u!=null?u:{},Object.defineProperties(Co(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(Co(h),"stack",{value:c.stack,writable:!0,configurable:!0}),d1(h)):(Error.captureStackTrace?Error.captureStackTrace(Co(h),r):Object.defineProperty(Co(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return eq(r,[{key:"toString",value:function(){return iq(this)}},{key:f1,get:function(){return"Object"}}]),r}(Fd(Error));function iS(e){return e===void 0||e.length===0?void 0:e}function iq(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];i.loc&&(t+=`

`+J5(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+=`

`+l1(e.source,s)}return t}function Kt(e,t,r){return new Qr("Syntax Error: ".concat(r),void 0,e,[t])}var le=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function oq(e,t){var r=Boolean(e);if(!r)throw new Error(t!=null?t:"Unexpected invariant triggered.")}var aq=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,jd=aq;function p1(e){var t=e.prototype.toJSON;typeof t=="function"||oq(0),e.prototype.inspect=t,jd&&(e.prototype[jd]=t)}var v1=function(){function e(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();p1(v1);var je=function(){function e(r,n,i,o,a,s,c){this.kind=r,this.start=n,this.end=i,this.line=o,this.column=a,this.value=c,this.prev=s,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();p1(je);function oS(e){return e!=null&&typeof e.kind=="string"}var Z=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(r){return typeof r}:Ps=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ps(e)}var sq=10,g1=2;function y1(e){return cc(e,[])}function cc(e,t){switch(Ps(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":uq(e,t);default:return String(e)}}function uq(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var r=[].concat(t,[e]),n=lq(e);if(n!==void 0){var i=n.call(e);if(i!==e)return typeof i=="string"?i:cc(i,r)}else if(Array.isArray(e))return fq(e,r);return cq(e,r)}function cq(e,t){var r=Object.keys(e);if(r.length===0)return"{}";if(t.length>g1)return"["+dq(e)+"]";var n=r.map(function(i){var o=cc(e[i],t);return i+": "+o});return"{ "+n.join(", ")+" }"}function fq(e,t){if(e.length===0)return"[]";if(t.length>g1)return"[Array]";for(var r=Math.min(sq,e.length),n=e.length-r,i=[],o=0;o<r;++o)i.push(cc(e[o],t));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function lq(e){var t=e[String(jd)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function dq(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}function gf(e,t){var r=Boolean(e);if(!r)throw new Error(t)}var hq=function(t,r){return t instanceof r};function aS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pq(e,t,r){return t&&aS(e.prototype,t),r&&aS(e,r),e}var m1=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||gf(0,"Body must be a string. Received: ".concat(y1(t),".")),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||gf(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||gf(0,"column in locationOffset is 1-indexed and must be positive.")}return pq(e,[{key:f1,get:function(){return"Source"}}]),e}();function vq(e){return hq(e,m1)}var gq=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function yq(e){var t=e.split(/\r\n|[\n\r]/g),r=mq(e);if(r!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var i=0;i<t.length&&sS(t[i]);)++i;for(var o=t.length;o>i&&sS(t[o-1]);)--o;return t.slice(i,o).join(`
`)}function sS(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function mq(e){for(var t,r=!0,n=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:e.charCodeAt(a+1)===10&&++a;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(o===null||i<o)&&(o=i),n=!1}return(t=o)!==null&&t!==void 0?t:0}function wq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e.indexOf(`
`)===-1,i=e[0]===" "||e[0]==="	",o=e[e.length-1]==='"',a=e[e.length-1]==="\\",s=!n||o||a||r,c="";return s&&!(n&&i)&&(c+=`
`+t),c+=t?e.replace(/\n/g,`
`+t):e,s&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var bq=function(){function e(r){var n=new je(Z.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==Z.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=Sq(this,n)}while(n.kind===Z.COMMENT);return n},e}();function _q(e){return e===Z.BANG||e===Z.DOLLAR||e===Z.AMP||e===Z.PAREN_L||e===Z.PAREN_R||e===Z.SPREAD||e===Z.COLON||e===Z.EQUALS||e===Z.AT||e===Z.BRACKET_L||e===Z.BRACKET_R||e===Z.BRACE_L||e===Z.PIPE||e===Z.BRACE_R}function ui(e){return isNaN(e)?Z.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Sq(e,t){for(var r=e.source,n=r.body,i=n.length,o=t.end;o<i;){var a=n.charCodeAt(o),s=e.line,c=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:n.charCodeAt(o+1)===10?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new je(Z.BANG,o,o+1,s,c,t);case 35:return Cq(r,o,s,c,t);case 36:return new je(Z.DOLLAR,o,o+1,s,c,t);case 38:return new je(Z.AMP,o,o+1,s,c,t);case 40:return new je(Z.PAREN_L,o,o+1,s,c,t);case 41:return new je(Z.PAREN_R,o,o+1,s,c,t);case 46:if(n.charCodeAt(o+1)===46&&n.charCodeAt(o+2)===46)return new je(Z.SPREAD,o,o+3,s,c,t);break;case 58:return new je(Z.COLON,o,o+1,s,c,t);case 61:return new je(Z.EQUALS,o,o+1,s,c,t);case 64:return new je(Z.AT,o,o+1,s,c,t);case 91:return new je(Z.BRACKET_L,o,o+1,s,c,t);case 93:return new je(Z.BRACKET_R,o,o+1,s,c,t);case 123:return new je(Z.BRACE_L,o,o+1,s,c,t);case 124:return new je(Z.PIPE,o,o+1,s,c,t);case 125:return new je(Z.BRACE_R,o,o+1,s,c,t);case 34:return n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34?Tq(r,o,s,c,t,e):xq(r,o,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Aq(r,o,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Oq(r,o,s,c,t)}throw Kt(r,o,Eq(a))}var u=e.line,f=1+o-e.lineStart;return new je(Z.EOF,i,i,u,f,t)}function Eq(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(ui(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(ui(e),".")}function Cq(e,t,r,n,i){var o=e.body,a,s=t;do a=o.charCodeAt(++s);while(!isNaN(a)&&(a>31||a===9));return new je(Z.COMMENT,t,s,r,n,i,o.slice(t+1,s))}function Aq(e,t,r,n,i,o){var a=e.body,s=r,c=t,u=!1;if(s===45&&(s=a.charCodeAt(++c)),s===48){if(s=a.charCodeAt(++c),s>=48&&s<=57)throw Kt(e,c,"Invalid number, unexpected digit after 0: ".concat(ui(s),"."))}else c=yf(e,c,s),s=a.charCodeAt(c);if(s===46&&(u=!0,s=a.charCodeAt(++c),c=yf(e,c,s),s=a.charCodeAt(c)),(s===69||s===101)&&(u=!0,s=a.charCodeAt(++c),(s===43||s===45)&&(s=a.charCodeAt(++c)),c=yf(e,c,s),s=a.charCodeAt(c)),s===46||Pq(s))throw Kt(e,c,"Invalid number, expected digit but got: ".concat(ui(s),"."));return new je(u?Z.FLOAT:Z.INT,t,c,n,i,o,a.slice(t,c))}function yf(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do o=n.charCodeAt(++i);while(o>=48&&o<=57);return i}throw Kt(e,i,"Invalid number, expected digit but got: ".concat(ui(o),"."))}function xq(e,t,r,n,i){for(var o=e.body,a=t+1,s=a,c=0,u="";a<o.length&&!isNaN(c=o.charCodeAt(a))&&c!==10&&c!==13;){if(c===34)return u+=o.slice(s,a),new je(Z.STRING,t,a+1,r,n,i,u);if(c<32&&c!==9)throw Kt(e,a,"Invalid character within String: ".concat(ui(c),"."));if(++a,c===92){switch(u+=o.slice(s,a-1),c=o.charCodeAt(a),c){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var f=Iq(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(f<0){var l=o.slice(a+1,a+5);throw Kt(e,a,"Invalid character escape sequence: \\u".concat(l,"."))}u+=String.fromCharCode(f),a+=4;break}default:throw Kt(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++a,s=a}}throw Kt(e,a,"Unterminated string.")}function Tq(e,t,r,n,i,o){for(var a=e.body,s=t+3,c=s,u=0,f="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(u===34&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34)return f+=a.slice(c,s),new je(Z.BLOCK_STRING,t,s+3,r,n,i,yq(f));if(u<32&&u!==9&&u!==10&&u!==13)throw Kt(e,s,"Invalid character within String: ".concat(ui(u),"."));u===10?(++s,++o.line,o.lineStart=s):u===13?(a.charCodeAt(s+1)===10?s+=2:++s,++o.line,o.lineStart=s):u===92&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34&&a.charCodeAt(s+3)===34?(f+=a.slice(c,s)+'"""',s+=4,c=s):++s}throw Kt(e,s,"Unterminated string.")}function Iq(e,t,r,n){return es(e)<<12|es(t)<<8|es(r)<<4|es(n)}function es(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Oq(e,t,r,n,i){for(var o=e.body,a=o.length,s=t+1,c=0;s!==a&&!isNaN(c=o.charCodeAt(s))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new je(Z.NAME,t,s,r,n,i,o.slice(t,s))}function Pq(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function mf(e,t){var r=new kq(e,t);return r.parseDocument()}var kq=function(){function e(r,n){var i=vq(r)?r:new m1(r);this._lexer=new bq(i),this._options=n}var t=e.prototype;return t.parseName=function(){var n=this.expectToken(Z.NAME);return{kind:le.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:le.DOCUMENT,definitions:this.many(Z.SOF,this.parseDefinition,Z.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(Z.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Z.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Z.BRACE_L))return{kind:le.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),o;return this.peek(Z.NAME)&&(o=this.parseName()),{kind:le.OPERATION_DEFINITION,operation:i,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(Z.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(Z.PAREN_L,this.parseVariableDefinition,Z.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:le.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Z.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Z.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Z.DOLLAR),{kind:le.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:le.SELECTION_SET,selections:this.many(Z.BRACE_L,this.parseSelection,Z.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(Z.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,i=this.parseName(),o,a;return this.expectOptionalToken(Z.COLON)?(o=i,a=this.parseName()):a=i,{kind:le.FIELD,alias:o,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Z.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Z.PAREN_L,i,Z.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(Z.COLON),{kind:le.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:le.ARGUMENT,name:this.parseName(),value:(this.expectToken(Z.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(Z.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(Z.NAME)?{kind:le.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:le.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:le.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:le.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case Z.BRACKET_L:return this.parseList(n);case Z.BRACE_L:return this.parseObject(n);case Z.INT:return this._lexer.advance(),{kind:le.INT,value:i.value,loc:this.loc(i)};case Z.FLOAT:return this._lexer.advance(),{kind:le.FLOAT,value:i.value,loc:this.loc(i)};case Z.STRING:case Z.BLOCK_STRING:return this.parseStringLiteral();case Z.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:le.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:le.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:le.NULL,loc:this.loc(i)};default:return{kind:le.ENUM,value:i.value,loc:this.loc(i)}}case Z.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:le.STRING,value:n.value,block:n.kind===Z.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var i=this,o=this._lexer.token,a=function(){return i.parseValueLiteral(n)};return{kind:le.LIST,values:this.any(Z.BRACKET_L,a,Z.BRACKET_R),loc:this.loc(o)}},t.parseObject=function(n){var i=this,o=this._lexer.token,a=function(){return i.parseObjectField(n)};return{kind:le.OBJECT,fields:this.any(Z.BRACE_L,a,Z.BRACE_R),loc:this.loc(o)}},t.parseObjectField=function(n){var i=this._lexer.token,o=this.parseName();return this.expectToken(Z.COLON),{kind:le.OBJECT_FIELD,name:o,value:this.parseValueLiteral(n),loc:this.loc(i)}},t.parseDirectives=function(n){for(var i=[];this.peek(Z.AT);)i.push(this.parseDirective(n));return i},t.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(Z.AT),{kind:le.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},t.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(Z.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(Z.BRACKET_R),i={kind:le.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(Z.BANG)?{kind:le.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},t.parseNamedType=function(){var n=this._lexer.token;return{kind:le.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Z.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(Z.STRING)||this.peek(Z.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),a=this.many(Z.BRACE_L,this.parseOperationTypeDefinition,Z.BRACE_R);return{kind:le.SCHEMA_DEFINITION,description:i,directives:o,operationTypes:a,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(Z.COLON);var o=this.parseNamedType();return{kind:le.OPERATION_TYPE_DEFINITION,operation:i,type:o,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),a=this.parseDirectives(!0);return{kind:le.SCALAR_TYPE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:le.OBJECT_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:c,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(Z.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(Z.AMP)||this.peek(Z.NAME));return i}return this.delimitedMany(Z.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Z.BRACE_L)&&this._lexer.lookahead().kind===Z.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Z.BRACE_L,this.parseFieldDefinition,Z.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseArgumentDefs();this.expectToken(Z.COLON);var s=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:le.FIELD_DEFINITION,description:i,name:o,arguments:a,type:s,directives:c,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(Z.PAREN_L,this.parseInputValueDef,Z.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName();this.expectToken(Z.COLON);var a=this.parseTypeReference(),s;this.expectOptionalToken(Z.EQUALS)&&(s=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:le.INPUT_VALUE_DEFINITION,description:i,name:o,type:a,defaultValue:s,directives:c,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:le.INTERFACE_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:c,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:le.UNION_TYPE_DEFINITION,description:i,name:o,directives:a,types:s,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Z.EQUALS)?this.delimitedMany(Z.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:le.ENUM_TYPE_DEFINITION,description:i,name:o,directives:a,values:s,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Z.BRACE_L,this.parseEnumValueDefinition,Z.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseDirectives(!0);return{kind:le.ENUM_VALUE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:le.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:o,directives:a,fields:s,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Z.BRACE_L,this.parseInputValueDef,Z.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Z.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),o=this.optionalMany(Z.BRACE_L,this.parseOperationTypeDefinition,Z.BRACE_R);if(i.length===0&&o.length===0)throw this.unexpected();return{kind:le.SCHEMA_EXTENSION,directives:i,operationTypes:o,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),o=this.parseDirectives(!0);if(o.length===0)throw this.unexpected();return{kind:le.SCALAR_TYPE_EXTENSION,name:i,directives:o,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:le.OBJECT_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:le.INTERFACE_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:le.UNION_TYPE_EXTENSION,name:i,directives:o,types:a,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:le.ENUM_TYPE_EXTENSION,name:i,directives:o,values:a,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:le.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:o,fields:a,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Z.AT);var o=this.parseName(),a=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:le.DIRECTIVE_DEFINITION,description:i,name:o,arguments:a,repeatable:s,locations:c,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Z.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(gq[i.value]!==void 0)return i;throw this.unexpected(n)},t.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new v1(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw Kt(this._lexer.source,i.start,"Expected ".concat(w1(n),", found ").concat(wf(i),"."))},t.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},t.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===Z.NAME&&i.value===n)this._lexer.advance();else throw Kt(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(wf(i),"."))},t.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===Z.NAME&&i.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var i=n!=null?n:this._lexer.token;return Kt(this._lexer.source,i.start,"Unexpected ".concat(wf(i),"."))},t.any=function(n,i,o){this.expectToken(n);for(var a=[];!this.expectOptionalToken(o);)a.push(i.call(this));return a},t.optionalMany=function(n,i,o){if(this.expectOptionalToken(n)){var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a}return[]},t.many=function(n,i,o){this.expectToken(n);var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a},t.delimitedMany=function(n,i){this.expectOptionalToken(n);var o=[];do o.push(i.call(this));while(this.expectOptionalToken(n));return o},e}();function wf(e){var t=e.value;return w1(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function w1(e){return _q(e)?'"'.concat(e,'"'):e}var Rq={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Nq=Object.freeze({});function Dq(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rq,n=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,u=void 0,f=void 0,l=[],d=[],h=e;do{a++;var p=a===o.length,g=p&&s.length!==0;if(p){if(u=d.length===0?void 0:l[l.length-1],c=f,f=d.pop(),g){if(i)c=c.slice();else{for(var b={},E=0,S=Object.keys(c);E<S.length;E++){var T=S[E];b[T]=c[T]}c=b}for(var N=0,k=0;k<s.length;k++){var B=s[k][0],V=s[k][1];i&&(B-=N),i&&V===null?(c.splice(B,1),N++):c[B]=V}}a=n.index,o=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(u=f?i?a:o[a]:void 0,c=f?f[u]:h,c==null)continue;f&&l.push(u)}var F=void 0;if(!Array.isArray(c)){if(!oS(c))throw new Error("Invalid AST Node: ".concat(y1(c),"."));var ee=Mq(t,c.kind,p);if(ee){if(F=ee.call(t,c,u,f,l,d),F===Nq)break;if(F===!1){if(!p){l.pop();continue}}else if(F!==void 0&&(s.push([u,F]),!p))if(oS(F))c=F;else{l.pop();continue}}}if(F===void 0&&g&&s.push([u,c]),p)l.pop();else{var R;n={inArray:i,index:a,keys:o,edits:s,prev:n},i=Array.isArray(c),o=i?c:(R=r[c.kind])!==null&&R!==void 0?R:[],a=-1,s=[],f&&d.push(f),f=c}}while(n!==void 0);return s.length!==0&&(h=s[s.length-1][1]),h}function Mq(e,t,r){var n=e[t];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var o=r?e.leave:e.enter;if(o){if(typeof o=="function")return o;var a=o[t];if(typeof a=="function")return a}}}function bf(e){return Dq(e,{leave:Uq})}var Lq=80,Uq={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return ue(t.definitions,`

`)+`
`},OperationDefinition:function(t){var r=t.operation,n=t.name,i=Be("(",ue(t.variableDefinitions,", "),")"),o=ue(t.directives," "),a=t.selectionSet;return!n&&!o&&!i&&r==="query"?a:ue([r,ue([n,i]),o,a]," ")},VariableDefinition:function(t){var r=t.variable,n=t.type,i=t.defaultValue,o=t.directives;return r+": "+n+Be(" = ",i)+Be(" ",ue(o," "))},SelectionSet:function(t){var r=t.selections;return hr(r)},Field:function(t){var r=t.alias,n=t.name,i=t.arguments,o=t.directives,a=t.selectionSet,s=Be("",r,": ")+n,c=s+Be("(",ue(i,", "),")");return c.length>Lq&&(c=s+Be(`(
`,ks(ue(i,`
`)),`
)`)),ue([c,ue(o," "),a]," ")},Argument:function(t){var r=t.name,n=t.value;return r+": "+n},FragmentSpread:function(t){var r=t.name,n=t.directives;return"..."+r+Be(" ",ue(n," "))},InlineFragment:function(t){var r=t.typeCondition,n=t.directives,i=t.selectionSet;return ue(["...",Be("on ",r),ue(n," "),i]," ")},FragmentDefinition:function(t){var r=t.name,n=t.typeCondition,i=t.variableDefinitions,o=t.directives,a=t.selectionSet;return"fragment ".concat(r).concat(Be("(",ue(i,", "),")")," ")+"on ".concat(n," ").concat(Be("",ue(o," ")," "))+a},IntValue:function(t){var r=t.value;return r},FloatValue:function(t){var r=t.value;return r},StringValue:function(t,r){var n=t.value,i=t.block;return i?wq(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var r=t.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var r=t.value;return r},ListValue:function(t){var r=t.values;return"["+ue(r,", ")+"]"},ObjectValue:function(t){var r=t.fields;return"{"+ue(r,", ")+"}"},ObjectField:function(t){var r=t.name,n=t.value;return r+": "+n},Directive:function(t){var r=t.name,n=t.arguments;return"@"+r+Be("(",ue(n,", "),")")},NamedType:function(t){var r=t.name;return r},ListType:function(t){var r=t.type;return"["+r+"]"},NonNullType:function(t){var r=t.type;return r+"!"},SchemaDefinition:dr(function(e){var t=e.directives,r=e.operationTypes;return ue(["schema",ue(t," "),hr(r)]," ")}),OperationTypeDefinition:function(t){var r=t.operation,n=t.type;return r+": "+n},ScalarTypeDefinition:dr(function(e){var t=e.name,r=e.directives;return ue(["scalar",t,ue(r," ")]," ")}),ObjectTypeDefinition:dr(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ue(["type",t,Be("implements ",ue(r," & ")),ue(n," "),hr(i)]," ")}),FieldDefinition:dr(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(uS(r)?Be(`(
`,ks(ue(r,`
`)),`
)`):Be("(",ue(r,", "),")"))+": "+n+Be(" ",ue(i," "))}),InputValueDefinition:dr(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return ue([t+": "+r,Be("= ",n),ue(i," ")]," ")}),InterfaceTypeDefinition:dr(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ue(["interface",t,Be("implements ",ue(r," & ")),ue(n," "),hr(i)]," ")}),UnionTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.types;return ue(["union",t,ue(r," "),n&&n.length!==0?"= "+ue(n," | "):""]," ")}),EnumTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.values;return ue(["enum",t,ue(r," "),hr(n)]," ")}),EnumValueDefinition:dr(function(e){var t=e.name,r=e.directives;return ue([t,ue(r," ")]," ")}),InputObjectTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.fields;return ue(["input",t,ue(r," "),hr(n)]," ")}),DirectiveDefinition:dr(function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+(uS(r)?Be(`(
`,ks(ue(r,`
`)),`
)`):Be("(",ue(r,", "),")"))+(n?" repeatable":"")+" on "+ue(i," | ")}),SchemaExtension:function(t){var r=t.directives,n=t.operationTypes;return ue(["extend schema",ue(r," "),hr(n)]," ")},ScalarTypeExtension:function(t){var r=t.name,n=t.directives;return ue(["extend scalar",r,ue(n," ")]," ")},ObjectTypeExtension:function(t){var r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return ue(["extend type",r,Be("implements ",ue(n," & ")),ue(i," "),hr(o)]," ")},InterfaceTypeExtension:function(t){var r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return ue(["extend interface",r,Be("implements ",ue(n," & ")),ue(i," "),hr(o)]," ")},UnionTypeExtension:function(t){var r=t.name,n=t.directives,i=t.types;return ue(["extend union",r,ue(n," "),i&&i.length!==0?"= "+ue(i," | "):""]," ")},EnumTypeExtension:function(t){var r=t.name,n=t.directives,i=t.values;return ue(["extend enum",r,ue(n," "),hr(i)]," ")},InputObjectTypeExtension:function(t){var r=t.name,n=t.directives,i=t.fields;return ue(["extend input",r,ue(n," "),hr(i)]," ")}};function dr(e){return function(t){return ue([t.description,e(t)],`
`)}}function ue(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(n){return n}).join(r))!==null&&t!==void 0?t:""}function hr(e){return Be(`{
`,ks(ue(e,`
`)),`
}`)}function Be(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+r:""}function ks(e){return Be("  ",e.replace(/\n/g,`
  `))}function Bq(e){return e.indexOf(`
`)!==-1}function uS(e){return e!=null&&e.some(Bq)}var ko=globalThis&&globalThis.__assign||function(){return ko=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ko.apply(this,arguments)},Fq=new Se("AbstractPubSubProvider"),b1=function(){function e(t){t===void 0&&(t={}),this._config=t}return e.prototype.configure=function(t){return t===void 0&&(t={}),this._config=ko(ko({},t),this._config),Fq.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return ko({},this._config)},enumerable:!0,configurable:!0}),e}(),_1={exports:{}};(function(e,t){(function(n,i){e.exports=i()})($e,function(){var n=function(i){var o="@VERSION@-@BUILDLEVEL@",a=i.localStorage||function(){var y={};return{setItem:function(_,C){y[_]=C},getItem:function(_){return y[_]},removeItem:function(_){delete y[_]}}}(),s={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},c=function(y,_){for(var C in y)if(y.hasOwnProperty(C))if(_.hasOwnProperty(C)){if(typeof y[C]!==_[C])throw new Error(d(f.INVALID_TYPE,[typeof y[C],C]))}else{var D="Unknown property, "+C+". Valid properties are:";for(var z in _)_.hasOwnProperty(z)&&(D=D+" "+z);throw new Error(D)}},u=function(y,_){return function(){return y.apply(_,arguments)}},f={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},l={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},d=function(y,_){var C=y.text;if(_){for(var D,z,$=0;$<_.length;$++)if(D="{"+$+"}",z=C.indexOf(D),z>0){var q=C.substring(0,z),H=C.substring(z+D.length);C=q+_[$]+H}}return C},h=[0,6,77,81,73,115,100,112,3],p=[0,4,77,81,84,84,4],g=function(y,_){this.type=y;for(var C in _)_.hasOwnProperty(C)&&(this[C]=_[C])};g.prototype.encode=function(){var y=(this.type&15)<<4,_=0,C=[],D=0,z;switch(this.messageIdentifier!==void 0&&(_+=2),this.type){case s.CONNECT:switch(this.mqttVersion){case 3:_+=h.length+3;break;case 4:_+=p.length+3;break}_+=k(this.clientId)+2,this.willMessage!==void 0&&(_+=k(this.willMessage.destinationName)+2,z=this.willMessage.payloadBytes,z instanceof Uint8Array||(z=new Uint8Array(q)),_+=z.byteLength+2),this.userName!==void 0&&(_+=k(this.userName)+2),this.password!==void 0&&(_+=k(this.password)+2);break;case s.SUBSCRIBE:y|=2;for(var $=0;$<this.topics.length;$++)C[$]=k(this.topics[$]),_+=C[$]+2;_+=this.requestedQos.length;break;case s.UNSUBSCRIBE:y|=2;for(var $=0;$<this.topics.length;$++)C[$]=k(this.topics[$]),_+=C[$]+2;break;case s.PUBREL:y|=2;break;case s.PUBLISH:this.payloadMessage.duplicate&&(y|=8),y=y|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(y|=1),D=k(this.payloadMessage.destinationName),_+=D+2;var q=this.payloadMessage.payloadBytes;_+=q.byteLength,q instanceof ArrayBuffer?q=new Uint8Array(q):q instanceof Uint8Array||(q=new Uint8Array(q.buffer));break}var H=N(_),U=H.length+1,W=new ArrayBuffer(_+U),Q=new Uint8Array(W);if(Q[0]=y,Q.set(H,1),this.type==s.PUBLISH)U=S(this.payloadMessage.destinationName,D,Q,U);else if(this.type==s.CONNECT){switch(this.mqttVersion){case 3:Q.set(h,U),U+=h.length;break;case 4:Q.set(p,U),U+=p.length;break}var M=0;this.cleanSession&&(M=2),this.willMessage!==void 0&&(M|=4,M|=this.willMessage.qos<<3,this.willMessage.retained&&(M|=32)),this.userName!==void 0&&(M|=128),this.password!==void 0&&(M|=64),Q[U++]=M,U=E(this.keepAliveInterval,Q,U)}switch(this.messageIdentifier!==void 0&&(U=E(this.messageIdentifier,Q,U)),this.type){case s.CONNECT:U=S(this.clientId,k(this.clientId),Q,U),this.willMessage!==void 0&&(U=S(this.willMessage.destinationName,k(this.willMessage.destinationName),Q,U),U=E(z.byteLength,Q,U),Q.set(z,U),U+=z.byteLength),this.userName!==void 0&&(U=S(this.userName,k(this.userName),Q,U)),this.password!==void 0&&(U=S(this.password,k(this.password),Q,U));break;case s.PUBLISH:Q.set(q,U);break;case s.SUBSCRIBE:for(var $=0;$<this.topics.length;$++)U=S(this.topics[$],C[$],Q,U),Q[U++]=this.requestedQos[$];break;case s.UNSUBSCRIBE:for(var $=0;$<this.topics.length;$++)U=S(this.topics[$],C[$],Q,U);break}return W};function b(y,_){var C=_,D=y[_],z=D>>4,$=D&=15;_+=1;var q,H=0,U=1;do{if(_==y.length)return[null,C];q=y[_++],H+=(q&127)*U,U*=128}while((q&128)!==0);var W=_+H;if(W>y.length)return[null,C];var Q=new g(z);switch(z){case s.CONNACK:var M=y[_++];M&1&&(Q.sessionPresent=!0),Q.returnCode=y[_++];break;case s.PUBLISH:var ce=$>>1&3,ae=T(y,_);_+=2;var ye=V(y,_,ae);_+=ae,ce>0&&(Q.messageIdentifier=T(y,_),_+=2);var de=new A(y.subarray(_,W));($&1)==1&&(de.retained=!0),($&8)==8&&(de.duplicate=!0),de.qos=ce,de.destinationName=ye,Q.payloadMessage=de;break;case s.PUBACK:case s.PUBREC:case s.PUBREL:case s.PUBCOMP:case s.UNSUBACK:Q.messageIdentifier=T(y,_);break;case s.SUBACK:Q.messageIdentifier=T(y,_),_+=2,Q.returnCode=y.subarray(_,W);break}return[Q,W]}function E(y,_,C){return _[C++]=y>>8,_[C++]=y%256,C}function S(y,_,C,D){return D=E(_,C,D),B(y,C,D),D+_}function T(y,_){return 256*y[_]+y[_+1]}function N(y){var _=new Array(1),C=0;do{var D=y%128;y=y>>7,y>0&&(D|=128),_[C++]=D}while(y>0&&C<4);return _}function k(y){for(var _=0,C=0;C<y.length;C++){var D=y.charCodeAt(C);D>2047?(55296<=D&&D<=56319&&(C++,_++),_+=3):D>127?_+=2:_++}return _}function B(y,_,C){for(var D=C,z=0;z<y.length;z++){var $=y.charCodeAt(z);if(55296<=$&&$<=56319){var q=y.charCodeAt(++z);if(isNaN(q))throw new Error(d(f.MALFORMED_UNICODE,[$,q]));$=($-55296<<10)+(q-56320)+65536}$<=127?_[D++]=$:$<=2047?(_[D++]=$>>6&31|192,_[D++]=$&63|128):$<=65535?(_[D++]=$>>12&15|224,_[D++]=$>>6&63|128,_[D++]=$&63|128):(_[D++]=$>>18&7|240,_[D++]=$>>12&63|128,_[D++]=$>>6&63|128,_[D++]=$&63|128)}return _}function V(y,_,C){for(var D="",z,$=_;$<_+C;){var q=y[$++];if(q<128)z=q;else{var H=y[$++]-128;if(H<0)throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),""]));if(q<224)z=64*(q-192)+H;else{var U=y[$++]-128;if(U<0)throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),U.toString(16)]));if(q<240)z=4096*(q-224)+64*H+U;else{var W=y[$++]-128;if(W<0)throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),U.toString(16),W.toString(16)]));if(q<248)z=262144*(q-240)+4096*H+64*U+W;else throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),U.toString(16),W.toString(16)]))}}}z>65535&&(z-=65536,D+=String.fromCharCode(55296+(z>>10)),z=56320+(z&1023)),D+=String.fromCharCode(z)}return D}var F=function(y,_){this._client=y,this._keepAliveInterval=_*1e3,this.isReset=!1;var C=new g(s.PINGREQ).encode(),D=function($){return function(){return z.apply($)}},z=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(C),this.timeout=setTimeout(D(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(f.PING_TIMEOUT.code,d(f.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(D(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},ee=function(y,_,C,D){_||(_=30);var z=function($,q,H){return function(){return $.apply(q,H)}};this.timeout=setTimeout(z(C,y,D),_*1e3),this.cancel=function(){clearTimeout(this.timeout)}},R=function(y,_,C,D,z){if(!("WebSocket"in i&&i.WebSocket!==null))throw new Error(d(f.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in i&&i.ArrayBuffer!==null))throw new Error(d(f.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.Client",y,_,C,D,z),this.host=_,this.port=C,this.path=D,this.uri=y,this.clientId=z,this._wsuri=null,this._localKey=_+":"+C+(D!="/mqtt"?":"+D:"")+":"+z+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0;for(var $ in a)($.indexOf("Sent:"+this._localKey)===0||$.indexOf("Received:"+this._localKey)===0)&&this.restore($)};R.prototype.host=null,R.prototype.port=null,R.prototype.path=null,R.prototype.uri=null,R.prototype.clientId=null,R.prototype.socket=null,R.prototype.connected=!1,R.prototype.maxMessageIdentifier=65536,R.prototype.connectOptions=null,R.prototype.hostIndex=null,R.prototype.onConnected=null,R.prototype.onConnectionLost=null,R.prototype.onMessageDelivered=null,R.prototype.onMessageArrived=null,R.prototype.traceFunction=null,R.prototype._msg_queue=null,R.prototype._buffered_msg_queue=null,R.prototype._connectTimeout=null,R.prototype.sendPinger=null,R.prototype.receivePinger=null,R.prototype._reconnectInterval=1,R.prototype._reconnecting=!1,R.prototype._reconnectTimeout=null,R.prototype.disconnectedPublishing=!1,R.prototype.disconnectedBufferSize=5e3,R.prototype.receiveBuffer=null,R.prototype._traceBuffer=null,R.prototype._MAX_TRACE_ENTRIES=100,R.prototype.connect=function(y){var _=this._traceMask(y,"password");if(this._trace("Client.connect",_,this.socket,this.connected),this.connected)throw new Error(d(f.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(d(f.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=y,this._reconnectInterval=1,this._reconnecting=!1,y.uris?(this.hostIndex=0,this._doConnect(y.uris[0])):this._doConnect(this.uri)},R.prototype.subscribe=function(y,_){if(this._trace("Client.subscribe",y,_),!this.connected)throw new Error(d(f.INVALID_STATE,["not connected"]));var C=new g(s.SUBSCRIBE);C.topics=y.constructor===Array?y:[y],_.qos===void 0&&(_.qos=0),C.requestedQos=[];for(var D=0;D<C.topics.length;D++)C.requestedQos[D]=_.qos;_.onSuccess&&(C.onSuccess=function(z){_.onSuccess({invocationContext:_.invocationContext,grantedQos:z})}),_.onFailure&&(C.onFailure=function(z){_.onFailure({invocationContext:_.invocationContext,errorCode:z,errorMessage:d(z)})}),_.timeout&&(C.timeOut=new ee(this,_.timeout,_.onFailure,[{invocationContext:_.invocationContext,errorCode:f.SUBSCRIBE_TIMEOUT.code,errorMessage:d(f.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(C),this._schedule_message(C)},R.prototype.unsubscribe=function(y,_){if(this._trace("Client.unsubscribe",y,_),!this.connected)throw new Error(d(f.INVALID_STATE,["not connected"]));var C=new g(s.UNSUBSCRIBE);C.topics=y.constructor===Array?y:[y],_.onSuccess&&(C.callback=function(){_.onSuccess({invocationContext:_.invocationContext})}),_.timeout&&(C.timeOut=new ee(this,_.timeout,_.onFailure,[{invocationContext:_.invocationContext,errorCode:f.UNSUBSCRIBE_TIMEOUT.code,errorMessage:d(f.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(C),this._schedule_message(C)},R.prototype.send=function(y){this._trace("Client.send",y);var _=new g(s.PUBLISH);if(_.payloadMessage=y,this.connected)y.qos>0?this._requires_ack(_):this.onMessageDelivered&&(this._notify_msg_sent[_]=this.onMessageDelivered(_.payloadMessage)),this._schedule_message(_);else if(this._reconnecting&&this.disconnectedPublishing){var C=Object.keys(this._sentMessages).length+this._buffered_msg_queue.length;if(C>this.disconnectedBufferSize)throw new Error(d(f.BUFFER_FULL,[this.disconnectedBufferSize]));y.qos>0?this._requires_ack(_):(_.sequence=++this._sequence,this._buffered_msg_queue.unshift(_))}else throw new Error(d(f.INVALID_STATE,["not connected"]))},R.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(d(f.INVALID_STATE,["not connecting or connected"]));var y=new g(s.DISCONNECT);this._notify_msg_sent[y]=u(this._disconnected,this),this._schedule_message(y)},R.prototype.getTraceLog=function(){if(this._traceBuffer!==null){this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var y in this._sentMessages)this._trace("_sentMessages ",y,this._sentMessages[y]);for(var y in this._receivedMessages)this._trace("_receivedMessages ",y,this._receivedMessages[y]);return this._traceBuffer}},R.prototype.startTrace=function(){this._traceBuffer===null&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,o)},R.prototype.stopTrace=function(){delete this._traceBuffer},R.prototype._doConnect=function(y){if(this.connectOptions.useSSL){var _=y.split(":");_[0]="wss",y=_.join(":")}this._wsuri=y,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(y,["mqttv3.1"]):this.socket=new WebSocket(y,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=u(this._on_socket_open,this),this.socket.onmessage=u(this._on_socket_message,this),this.socket.onerror=u(this._on_socket_error,this),this.socket.onclose=u(this._on_socket_close,this),this.sendPinger=new F(this,this.connectOptions.keepAliveInterval),this.receivePinger=new F(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new ee(this,this.connectOptions.timeout,this._disconnected,[f.CONNECT_TIMEOUT.code,d(f.CONNECT_TIMEOUT)])},R.prototype._schedule_message=function(y){this._msg_queue.unshift(y),this.connected&&this._process_queue()},R.prototype.store=function(y,_){var C={type:_.type,messageIdentifier:_.messageIdentifier,version:1};switch(_.type){case s.PUBLISH:_.pubRecReceived&&(C.pubRecReceived=!0),C.payloadMessage={};for(var D="",z=_.payloadMessage.payloadBytes,$=0;$<z.length;$++)z[$]<=15?D=D+"0"+z[$].toString(16):D=D+z[$].toString(16);C.payloadMessage.payloadHex=D,C.payloadMessage.qos=_.payloadMessage.qos,C.payloadMessage.destinationName=_.payloadMessage.destinationName,_.payloadMessage.duplicate&&(C.payloadMessage.duplicate=!0),_.payloadMessage.retained&&(C.payloadMessage.retained=!0),y.indexOf("Sent:")===0&&(_.sequence===void 0&&(_.sequence=++this._sequence),C.sequence=_.sequence);break;default:throw Error(d(f.INVALID_STORED_DATA,[y+this._localKey+_.messageIdentifier,C]))}a.setItem(y+this._localKey+_.messageIdentifier,JSON.stringify(C))},R.prototype.restore=function(y){var _=a.getItem(y),C=JSON.parse(_),D=new g(C.type,C);switch(C.type){case s.PUBLISH:for(var z=C.payloadMessage.payloadHex,$=new ArrayBuffer(z.length/2),q=new Uint8Array($),H=0;z.length>=2;){var U=parseInt(z.substring(0,2),16);z=z.substring(2,z.length),q[H++]=U}var W=new A(q);W.qos=C.payloadMessage.qos,W.destinationName=C.payloadMessage.destinationName,C.payloadMessage.duplicate&&(W.duplicate=!0),C.payloadMessage.retained&&(W.retained=!0),D.payloadMessage=W;break;default:throw Error(d(f.INVALID_STORED_DATA,[y,_]))}y.indexOf("Sent:"+this._localKey)===0?(D.payloadMessage.duplicate=!0,this._sentMessages[D.messageIdentifier]=D):y.indexOf("Received:"+this._localKey)===0&&(this._receivedMessages[D.messageIdentifier]=D)},R.prototype._process_queue=function(){for(var y=null;y=this._msg_queue.pop();)this._socket_send(y),this._notify_msg_sent[y]&&(this._notify_msg_sent[y](),delete this._notify_msg_sent[y])},R.prototype._requires_ack=function(y){var _=Object.keys(this._sentMessages).length;if(_>this.maxMessageIdentifier)throw Error("Too many messages:"+_);for(;this._sentMessages[this._message_identifier]!==void 0;)this._message_identifier++;y.messageIdentifier=this._message_identifier,this._sentMessages[y.messageIdentifier]=y,y.type===s.PUBLISH&&this.store("Sent:",y),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},R.prototype._on_socket_open=function(){var y=new g(s.CONNECT,this.connectOptions);y.clientId=this.clientId,this._socket_send(y)},R.prototype._on_socket_message=function(y){this._trace("Client._on_socket_message",y.data);for(var _=this._deframeMessages(y.data),C=0;C<_.length;C+=1)this._handleMessage(_[C])},R.prototype._deframeMessages=function(y){var _=new Uint8Array(y),C=[];if(this.receiveBuffer){var D=new Uint8Array(this.receiveBuffer.length+_.length);D.set(this.receiveBuffer),D.set(_,this.receiveBuffer.length),_=D,delete this.receiveBuffer}try{for(var z=0;z<_.length;){var $=b(_,z),q=$[0];if(z=$[1],q!==null)C.push(q);else break}z<_.length&&(this.receiveBuffer=_.subarray(z))}catch(U){var H=U.hasOwnProperty("stack")=="undefined"?U.stack.toString():"No Error Stack Available";this._disconnected(f.INTERNAL_ERROR.code,d(f.INTERNAL_ERROR,[U.message,H]));return}return C},R.prototype._handleMessage=function(y){this._trace("Client._handleMessage",y);try{switch(y.type){case s.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var _ in this._sentMessages){var M=this._sentMessages[_];a.removeItem("Sent:"+this._localKey+M.messageIdentifier)}this._sentMessages={};for(var _ in this._receivedMessages){var W=this._receivedMessages[_];a.removeItem("Received:"+this._localKey+W.messageIdentifier)}this._receivedMessages={}}if(y.returnCode===0)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(f.CONNACK_RETURNCODE.code,d(f.CONNACK_RETURNCODE,[y.returnCode,l[y.returnCode]]));break}var z=[];for(var C in this._sentMessages)this._sentMessages.hasOwnProperty(C)&&z.push(this._sentMessages[C]);if(this._buffered_msg_queue.length>0)for(var D=null;D=this._buffered_msg_queue.pop();)z.push(D),this.onMessageDelivered&&(this._notify_msg_sent[D]=this.onMessageDelivered(D.payloadMessage));for(var z=z.sort(function(ae,ye){return ae.sequence-ye.sequence}),$=0,q=z.length;$<q;$++){var M=z[$];if(M.type==s.PUBLISH&&M.pubRecReceived){var H=new g(s.PUBREL,{messageIdentifier:M.messageIdentifier});this._schedule_message(H)}else this._schedule_message(M)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var U=!1;this._reconnecting&&(U=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(U,this._wsuri),this._process_queue();break;case s.PUBLISH:this._receivePublish(y);break;case s.PUBACK:var M=this._sentMessages[y.messageIdentifier];M&&(delete this._sentMessages[y.messageIdentifier],a.removeItem("Sent:"+this._localKey+y.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(M.payloadMessage));break;case s.PUBREC:var M=this._sentMessages[y.messageIdentifier];if(M){M.pubRecReceived=!0;var H=new g(s.PUBREL,{messageIdentifier:y.messageIdentifier});this.store("Sent:",M),this._schedule_message(H)}break;case s.PUBREL:var W=this._receivedMessages[y.messageIdentifier];a.removeItem("Received:"+this._localKey+y.messageIdentifier),W&&(this._receiveMessage(W),delete this._receivedMessages[y.messageIdentifier]);var Q=new g(s.PUBCOMP,{messageIdentifier:y.messageIdentifier});this._schedule_message(Q);break;case s.PUBCOMP:var M=this._sentMessages[y.messageIdentifier];delete this._sentMessages[y.messageIdentifier],a.removeItem("Sent:"+this._localKey+y.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(M.payloadMessage);break;case s.SUBACK:var M=this._sentMessages[y.messageIdentifier];M&&(M.timeOut&&M.timeOut.cancel(),y.returnCode[0]===128?M.onFailure&&M.onFailure(y.returnCode):M.onSuccess&&M.onSuccess(y.returnCode),delete this._sentMessages[y.messageIdentifier]);break;case s.UNSUBACK:var M=this._sentMessages[y.messageIdentifier];M&&(M.timeOut&&M.timeOut.cancel(),M.callback&&M.callback(),delete this._sentMessages[y.messageIdentifier]);break;case s.PINGRESP:this.sendPinger.reset();break;case s.DISCONNECT:this._disconnected(f.INVALID_MQTT_MESSAGE_TYPE.code,d(f.INVALID_MQTT_MESSAGE_TYPE,[y.type]));break;default:this._disconnected(f.INVALID_MQTT_MESSAGE_TYPE.code,d(f.INVALID_MQTT_MESSAGE_TYPE,[y.type]))}}catch(ae){var ce=ae.hasOwnProperty("stack")=="undefined"?ae.stack.toString():"No Error Stack Available";this._disconnected(f.INTERNAL_ERROR.code,d(f.INTERNAL_ERROR,[ae.message,ce]));return}},R.prototype._on_socket_error=function(y){this._reconnecting||this._disconnected(f.SOCKET_ERROR.code,d(f.SOCKET_ERROR,[y.data]))},R.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(f.SOCKET_CLOSE.code,d(f.SOCKET_CLOSE))},R.prototype._socket_send=function(y){if(y.type==1){var _=this._traceMask(y,"password");this._trace("Client._socket_send",_)}else this._trace("Client._socket_send",y);this.socket.send(y.encode()),this.sendPinger.reset()},R.prototype._receivePublish=function(y){switch(y.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(y);break;case 1:var _=new g(s.PUBACK,{messageIdentifier:y.messageIdentifier});this._schedule_message(_),this._receiveMessage(y);break;case 2:this._receivedMessages[y.messageIdentifier]=y,this.store("Received:",y);var C=new g(s.PUBREC,{messageIdentifier:y.messageIdentifier});this._schedule_message(C);break;default:throw Error("Invaild qos="+y.payloadMessage.qos)}},R.prototype._receiveMessage=function(y){this.onMessageArrived&&this.onMessageArrived(y.payloadMessage)},R.prototype._connected=function(y,_){this.onConnected&&this.onConnected(y,_)},R.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=this._reconnectInterval*2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},R.prototype._disconnected=function(y,_){if(this._trace("Client._disconnected",y,_),y!==void 0&&this._reconnecting){this._reconnectTimeout=new ee(this,this._reconnectInterval,this._reconnect);return}if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.readyState===1&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(y===void 0&&(y=f.OK.code,_=d(f.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:y,errorMessage:_,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),y!==f.OK.code&&this.connectOptions.reconnect){this._reconnectInterval=1,this._reconnect();return}}else this.connectOptions.mqttVersion===4&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:y,errorMessage:_})},R.prototype._trace=function(){if(this.traceFunction){var y=Array.prototype.slice.call(arguments);for(var _ in y)typeof y[_]!="undefined"&&y.splice(_,1,JSON.stringify(y[_]));var C=y.join("");this.traceFunction({severity:"Debug",message:C})}if(this._traceBuffer!==null)for(var _=0,D=arguments.length;_<D;_++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),_===0?this._traceBuffer.push(arguments[_]):typeof arguments[_]=="undefined"?this._traceBuffer.push(arguments[_]):this._traceBuffer.push("  "+JSON.stringify(arguments[_]))},R.prototype._traceMask=function(y,_){var C={};for(var D in y)y.hasOwnProperty(D)&&(D==_?C[D]="******":C[D]=y[D]);return C};var L=function(y,_,C,D){var z;if(typeof y!="string")throw new Error(d(f.INVALID_TYPE,[typeof y,"host"]));if(arguments.length==2){D=_,z=y;var $=z.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if($)y=$[4]||$[2],_=parseInt($[7]),C=$[8];else throw new Error(d(f.INVALID_ARGUMENT,[y,"host"]))}else{if(arguments.length==3&&(D=C,C="/mqtt"),typeof _!="number"||_<0)throw new Error(d(f.INVALID_TYPE,[typeof _,"port"]));if(typeof C!="string")throw new Error(d(f.INVALID_TYPE,[typeof C,"path"]));var q=y.indexOf(":")!==-1&&y.slice(0,1)!=="["&&y.slice(-1)!=="]";z="ws://"+(q?"["+y+"]":y)+":"+_+C}for(var H=0,U=0;U<D.length;U++){var W=D.charCodeAt(U);55296<=W&&W<=56319&&U++,H++}if(typeof D!="string"||H>65535)throw new Error(d(f.INVALID_ARGUMENT,[D,"clientId"]));var Q=new R(z,y,_,C,D);Object.defineProperties(this,{host:{get:function(){return y},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},port:{get:function(){return _},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},path:{get:function(){return C},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},uri:{get:function(){return z},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return Q.clientId},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return Q.onConnected},set:function(M){if(typeof M=="function")Q.onConnected=M;else throw new Error(d(f.INVALID_TYPE,[typeof M,"onConnected"]))}},disconnectedPublishing:{get:function(){return Q.disconnectedPublishing},set:function(M){Q.disconnectedPublishing=M}},disconnectedBufferSize:{get:function(){return Q.disconnectedBufferSize},set:function(M){Q.disconnectedBufferSize=M}},onConnectionLost:{get:function(){return Q.onConnectionLost},set:function(M){if(typeof M=="function")Q.onConnectionLost=M;else throw new Error(d(f.INVALID_TYPE,[typeof M,"onConnectionLost"]))}},onMessageDelivered:{get:function(){return Q.onMessageDelivered},set:function(M){if(typeof M=="function")Q.onMessageDelivered=M;else throw new Error(d(f.INVALID_TYPE,[typeof M,"onMessageDelivered"]))}},onMessageArrived:{get:function(){return Q.onMessageArrived},set:function(M){if(typeof M=="function")Q.onMessageArrived=M;else throw new Error(d(f.INVALID_TYPE,[typeof M,"onMessageArrived"]))}},trace:{get:function(){return Q.traceFunction},set:function(M){if(typeof M=="function")Q.traceFunction=M;else throw new Error(d(f.INVALID_TYPE,[typeof M,"onTrace"]))}}}),this.connect=function(M){if(M=M||{},c(M,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),M.keepAliveInterval===void 0&&(M.keepAliveInterval=60),M.mqttVersion>4||M.mqttVersion<3)throw new Error(d(f.INVALID_ARGUMENT,[M.mqttVersion,"connectOptions.mqttVersion"]));if(M.mqttVersion===void 0?(M.mqttVersionExplicit=!1,M.mqttVersion=4):M.mqttVersionExplicit=!0,M.password!==void 0&&M.userName===void 0)throw new Error(d(f.INVALID_ARGUMENT,[M.password,"connectOptions.password"]));if(M.willMessage){if(!(M.willMessage instanceof A))throw new Error(d(f.INVALID_TYPE,[M.willMessage,"connectOptions.willMessage"]));if(M.willMessage.stringPayload=null,typeof M.willMessage.destinationName=="undefined")throw new Error(d(f.INVALID_TYPE,[typeof M.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(typeof M.cleanSession=="undefined"&&(M.cleanSession=!0),M.hosts){if(!(M.hosts instanceof Array))throw new Error(d(f.INVALID_ARGUMENT,[M.hosts,"connectOptions.hosts"]));if(M.hosts.length<1)throw new Error(d(f.INVALID_ARGUMENT,[M.hosts,"connectOptions.hosts"]));for(var ce=!1,ae=0;ae<M.hosts.length;ae++){if(typeof M.hosts[ae]!="string")throw new Error(d(f.INVALID_TYPE,[typeof M.hosts[ae],"connectOptions.hosts["+ae+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(M.hosts[ae])){if(ae===0)ce=!0;else if(!ce)throw new Error(d(f.INVALID_ARGUMENT,[M.hosts[ae],"connectOptions.hosts["+ae+"]"]))}else if(ce)throw new Error(d(f.INVALID_ARGUMENT,[M.hosts[ae],"connectOptions.hosts["+ae+"]"]))}if(ce)M.uris=M.hosts;else{if(!M.ports)throw new Error(d(f.INVALID_ARGUMENT,[M.ports,"connectOptions.ports"]));if(!(M.ports instanceof Array))throw new Error(d(f.INVALID_ARGUMENT,[M.ports,"connectOptions.ports"]));if(M.hosts.length!==M.ports.length)throw new Error(d(f.INVALID_ARGUMENT,[M.ports,"connectOptions.ports"]));M.uris=[];for(var ae=0;ae<M.hosts.length;ae++){if(typeof M.ports[ae]!="number"||M.ports[ae]<0)throw new Error(d(f.INVALID_TYPE,[typeof M.ports[ae],"connectOptions.ports["+ae+"]"]));var ye=M.hosts[ae],de=M.ports[ae],Oe=ye.indexOf(":")!==-1;z="ws://"+(Oe?"["+ye+"]":ye)+":"+de+C,M.uris.push(z)}}}Q.connect(M)},this.subscribe=function(M,ce){if(typeof M!="string"&&M.constructor!==Array)throw new Error("Invalid argument:"+M);if(ce=ce||{},c(ce,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),ce.timeout&&!ce.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(typeof ce.qos!="undefined"&&!(ce.qos===0||ce.qos===1||ce.qos===2))throw new Error(d(f.INVALID_ARGUMENT,[ce.qos,"subscribeOptions.qos"]));Q.subscribe(M,ce)},this.unsubscribe=function(M,ce){if(typeof M!="string"&&M.constructor!==Array)throw new Error("Invalid argument:"+M);if(ce=ce||{},c(ce,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),ce.timeout&&!ce.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");Q.unsubscribe(M,ce)},this.send=function(M,ce,ae,ye){var de;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(M instanceof A)&&typeof M!="string")throw new Error("Invalid argument:"+typeof M);if(de=M,typeof de.destinationName=="undefined")throw new Error(d(f.INVALID_ARGUMENT,[de.destinationName,"Message.destinationName"]));Q.send(de)}else de=new A(ce),de.destinationName=M,arguments.length>=3&&(de.qos=ae),arguments.length>=4&&(de.retained=ye),Q.send(de)},this.publish=function(M,ce,ae,ye){var de;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(M instanceof A)&&typeof M!="string")throw new Error("Invalid argument:"+typeof M);if(de=M,typeof de.destinationName=="undefined")throw new Error(d(f.INVALID_ARGUMENT,[de.destinationName,"Message.destinationName"]));Q.send(de)}else de=new A(ce),de.destinationName=M,arguments.length>=3&&(de.qos=ae),arguments.length>=4&&(de.retained=ye),Q.send(de)},this.disconnect=function(){Q.disconnect()},this.getTraceLog=function(){return Q.getTraceLog()},this.startTrace=function(){Q.startTrace()},this.stopTrace=function(){Q.stopTrace()},this.isConnected=function(){return Q.connected}},A=function(y){var _;if(typeof y=="string"||y instanceof ArrayBuffer||ArrayBuffer.isView(y)&&!(y instanceof DataView))_=y;else throw d(f.INVALID_ARGUMENT,[y,"newPayload"]);var C,D=0,z=!1,$=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return typeof _=="string"?_:V(_,0,_.length)}},payloadBytes:{enumerable:!0,get:function(){if(typeof _=="string"){var q=new ArrayBuffer(k(_)),H=new Uint8Array(q);return B(_,H,0),H}else return _}},destinationName:{enumerable:!0,get:function(){return C},set:function(q){if(typeof q=="string")C=q;else throw new Error(d(f.INVALID_ARGUMENT,[q,"newDestinationName"]))}},qos:{enumerable:!0,get:function(){return D},set:function(q){if(q===0||q===1||q===2)D=q;else throw new Error("Invalid argument:"+q)}},retained:{enumerable:!0,get:function(){return z},set:function(q){if(typeof q=="boolean")z=q;else throw new Error(d(f.INVALID_ARGUMENT,[q,"newRetained"]))}},topic:{enumerable:!0,get:function(){return C},set:function(q){C=q}},duplicate:{enumerable:!0,get:function(){return $},set:function(q){$=q}}})};return{Client:L,Message:A}}(typeof $e!="undefined"?$e:typeof self!="undefined"?self:typeof window!="undefined"?window:{});return n})})(_1);var jq=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gn=globalThis&&globalThis.__assign||function(){return gn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gn.apply(this,arguments)},Ni=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Di=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cS=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Ii=new Se("MqttOverWSProvider");function $q(e,t){for(var r=e.split("/"),n=r.length,i=t.split("/"),o=0;o<n;++o){var a=r[o],s=i[o];if(a==="#")return i.length>=n;if(a!=="+"&&a!==s)return!1}return n===i.length}var zq=function(){function e(){this.promises=new Map}return e.prototype.get=function(t,r){return Ni(this,void 0,void 0,function(){var n,i;return Di(this,function(o){return n=this.promises.get(t),n?[2,n]:r?(i=r(t),this.promises.set(t,i),[2,i]):[2,void 0]})})},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(t){this.promises.delete(t)},e}(),fS=typeof Symbol!="undefined"?Symbol("topic"):"@@topic",qq=function(e){jq(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,gn(gn({},r),{clientId:r.clientId||Vh.v4()}))||this;return n._clientsQueue=new zq,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(r){return typeof r=="object"&&r[fS]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(r){var n=this,i=r.clientId,o=r.errorCode,a=cS(r,["clientId","errorCode"]);if(o!==0){Ii.warn(i,JSON.stringify(gn({errorCode:o},a),null,2));var s=[];if(!i)return;var c=this._clientIdObservers.get(i);if(!c)return;c.forEach(function(u){u.error("Disconnected, error code: "+o),n._topicObservers.forEach(function(f,l){f.delete(u),f.size===0&&s.push(l)})}),this._clientIdObservers.delete(i),s.forEach(function(u){n._topicObservers.delete(u)})}},t.prototype.newClient=function(r){var n=r.url,i=r.clientId;return Ni(this,void 0,void 0,function(){var o,a=this;return Di(this,function(s){switch(s.label){case 0:return Ii.debug("Creating new MQTT client",i),o=new _1.exports.Client(n,i),o.onMessageArrived=function(c){var u=c.destinationName,f=c.payloadString;a._onMessage(u,f)},o.onConnectionLost=function(c){var u=c.errorCode,f=cS(c,["errorCode"]);a.onDisconnect(gn({clientId:i,errorCode:u},f))},[4,new Promise(function(c,u){o.connect({useSSL:a.isSSLEnabled,mqttVersion:3,onSuccess:function(){return c(o)},onFailure:u})})];case 1:return s.sent(),[2,o]}})})},t.prototype.connect=function(r,n){return n===void 0&&(n={}),Ni(this,void 0,void 0,function(){var i=this;return Di(this,function(o){switch(o.label){case 0:return[4,this.clientsQueue.get(r,function(a){return i.newClient(gn(gn({},n),{clientId:a}))})];case 1:return[2,o.sent()]}})})},t.prototype.disconnect=function(r){return Ni(this,void 0,void 0,function(){var n;return Di(this,function(i){switch(i.label){case 0:return[4,this.clientsQueue.get(r)];case 1:return n=i.sent(),n&&n.isConnected()&&n.disconnect(),this.clientsQueue.remove(r),[2]}})})},t.prototype.publish=function(r,n){return Ni(this,void 0,void 0,function(){var i,o,a,s;return Di(this,function(c){switch(c.label){case 0:return i=[].concat(r),o=JSON.stringify(n),[4,this.endpoint];case 1:return a=c.sent(),[4,this.connect(this.clientId,{url:a})];case 2:return s=c.sent(),Ii.debug("Publishing to topic(s)",i.join(","),o),i.forEach(function(u){return s.send(u,o)}),[2]}})})},t.prototype._onMessage=function(r,n){try{var i=[];this._topicObservers.forEach(function(a,s){$q(s,r)&&i.push(a)});var o=JSON.parse(n);typeof o=="object"&&(o[fS]=r),i.forEach(function(a){a.forEach(function(s){return s.next(o)})})}catch(a){Ii.warn("Error handling message",a,n)}},t.prototype.subscribe=function(r,n){var i=this;n===void 0&&(n={});var o=[].concat(r);return Ii.debug("Subscribing to topic(s)",o.join(",")),new $o(function(a){o.forEach(function(l){var d=i._topicObservers.get(l);d||(d=new Set,i._topicObservers.set(l,d)),d.add(a)});var s,c=n.clientId,u=c===void 0?i.clientId:c,f=i._clientIdObservers.get(u);return f||(f=new Set),f.add(a),i._clientIdObservers.set(u,f),function(){return Ni(i,void 0,void 0,function(){var l,d,h,p;return Di(this,function(g){switch(g.label){case 0:return l=n.url,l!==void 0?[3,2]:[4,this.endpoint];case 1:return h=g.sent(),[3,3];case 2:h=l,g.label=3;case 3:d=h,g.label=4;case 4:return g.trys.push([4,6,,7]),[4,this.connect(u,{url:d})];case 5:return s=g.sent(),o.forEach(function(b){s.subscribe(b)}),[3,7];case 6:return p=g.sent(),a.error(p),[3,7];case 7:return[2]}})})}(),function(){var l,d;return Ii.debug("Unsubscribing from topic(s)",o.join(",")),s&&((l=i._clientIdObservers.get(u))===null||l===void 0||l.delete(a),((d=i._clientIdObservers.get(u))===null||d===void 0?void 0:d.size)===0&&(i.disconnect(u),i._clientIdObservers.delete(u)),o.forEach(function(h){var p=i._topicObservers.get(h)||new Set;p.delete(a),p.size===0&&(i._topicObservers.delete(h),s.isConnected()&&s.unsubscribe(h))})),null}})},t}(b1),Kq=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ts=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},rs=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Hq=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},pn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Gq=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pn(arguments[t]));return e},lS=new Se("AWSAppSyncProvider"),Vq=function(e){Kq(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._topicClient=new Map,r._topicAlias=new Map,r}return Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(r,n,i){return ts(this,void 0,void 0,function(){return rs(this,function(o){throw new Error("Operation not supported")})})},t.prototype._cleanUp=function(r){var n=this,i=Array.from(this._topicClient.entries()).filter(function(o){var a=pn(o,2),s=a[1];return s.clientId===r}).map(function(o){var a=pn(o,1),s=a[0];return s});i.forEach(function(o){return n._cleanUpForTopic(o)})},t.prototype._cleanUpForTopic=function(r){this._topicClient.delete(r),this._topicAlias.delete(r)},t.prototype.onDisconnect=function(r){var n=this,i=r.clientId,o=r.errorCode,a=Hq(r,["clientId","errorCode"]);if(o!==0){var s=Array.from(this._topicClient.entries()).filter(function(c){var u=pn(c,2),f=u[1];return f.clientId===i}).map(function(c){var u=pn(c,1),f=u[0];return f});s.forEach(function(c){n._topicObservers.has(c)&&(n._topicObservers.get(c).forEach(function(u){u.closed||u.error(a)}),n._topicObservers.delete(c))}),this._cleanUp(i)}},t.prototype.disconnect=function(r){return ts(this,void 0,void 0,function(){return rs(this,function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(r,function(){return null})];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,r)];case 2:return n.sent(),this._cleanUp(r),[2]}})})},t.prototype.subscribe=function(r,n){var i=this;n===void 0&&(n={});var o=new $o(function(a){var s=[].concat(r);return lS.debug("Subscribing to topic(s)",s.join(",")),function(){return ts(i,void 0,void 0,function(){var c,u,f,l,d,h=this;return rs(this,function(p){switch(p.label){case 0:return s.forEach(function(g){h._topicObservers.has(g)||h._topicObservers.set(g,new Set),h._topicObservers.get(g).add(a)}),c=n.mqttConnections,u=c===void 0?[]:c,f=n.newSubscriptions,l=Object.entries(f).map(function(g){var b=pn(g,2),E=b[0],S=b[1];return[S.topic,E]}),this._topicAlias=new Map(Gq(Array.from(this._topicAlias.entries()),l)),d=Object.entries(s.reduce(function(g,b){var E=u.find(function(N){return N.topics.indexOf(b)>-1});if(E){var S=E.client,T=E.url;g[S]||(g[S]={url:T,topics:new Set}),g[S].topics.add(b)}return g},{})),[4,Promise.all(d.map(function(g){var b=pn(g,2),E=b[0],S=b[1],T=S.url,N=S.topics;return ts(h,void 0,void 0,function(){var k,B,V=this;return rs(this,function(F){switch(F.label){case 0:k=null,F.label=1;case 1:return F.trys.push([1,3,,4]),[4,this.connect(E,{clientId:E,url:T})];case 2:return k=F.sent(),[3,4];case 3:return B=F.sent(),a.error({message:"Failed to connect",error:B}),a.complete(),[2,void 0];case 4:return N.forEach(function(ee){k.isConnected()&&(k.subscribe(ee),V._topicClient.set(ee,k))}),[2,k]}})})}))];case 1:return p.sent(),[2]}})})}(),function(){lS.debug("Unsubscribing from topic(s)",s.join(",")),s.forEach(function(c){var u=i._topicClient.get(c);u&&u.isConnected()&&(u.unsubscribe(c),i._topicClient.delete(c),Array.from(i._topicClient.values()).some(function(f){return f===u})||i.disconnect(u.clientId)),i._topicObservers.delete(c)})}});return $o.from(o).map(function(a){var s=i.getTopicForValue(a),c=i._topicAlias.get(s);return a.data=Object.entries(a.data).reduce(function(u,f){var l=pn(f,2),d=l[0],h=l[1];return u[c||d]=h,u},{}),a})},t}(qq),Wq=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pt.apply(this,arguments)},rr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},nr=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jq=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Fe=new Se("AWSAppSyncRealTimeProvider"),Yq=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Xq=function(e,t,r){rn.dispatch("api",{event:e,data:t,message:r},"PubSub",Yq)},Qq=5e3,Zq=[400,401,403],gr;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"})(gr||(gr={}));var yn;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(yn||(yn={}));var ir;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(ir||(ir={}));var eK={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},dS=15e3,tK=15e3,hS=5*60*1e3,rK=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,nK="/realtime",iK=function(e){Wq(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.socketStatus=ir.CLOSED,r.keepAliveTimeout=hS,r.subscriptionObserverMap=new Map,r.promiseArray=[],r}return t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(r,n,i){return rr(this,void 0,void 0,function(){return nr(this,function(o){throw new Error("Operation not supported")})})},t.prototype.isCustomDomain=function(r){return r.match(rK)===null},t.prototype.subscribe=function(r,n){var i=this,o=n==null?void 0:n.appSyncGraphqlEndpoint;return new $o(function(a){if(!n||!o)a.error({errors:[Pt({},new Qr("Subscribe only available for AWS AppSync endpoint"))]}),a.complete();else{var s=Vh.v4();return i._startSubscriptionWithAWSAppSyncRealTime({options:n,observer:a,subscriptionId:s}).catch(function(c){a.error({errors:[Pt({},new Qr(Yr.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+c))]}),a.complete()}),function(){return rr(i,void 0,void 0,function(){var c,u;return nr(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(s)];case 1:if(f.sent(),c=(this.subscriptionObserverMap.get(s)||{}).subscriptionState,!c)return[2];if(c===yn.CONNECTED)this._sendUnsubscriptionMessage(s);else throw new Error("Subscription never connected");return[3,4];case 2:return u=f.sent(),Fe.debug("Error while unsubscribing "+u),[3,4];case 3:return this._removeSubscriptionObserver(s),[7];case 4:return[2]}})})}}})},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(r){var n=r.options,i=r.observer,o=r.subscriptionId,a,s;return rr(this,void 0,void 0,function(){var c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V,F,ee,R,L,A,y,_,C,D,z=this;return nr(this,function($){switch($.label){case 0:return c=n.appSyncGraphqlEndpoint,u=n.authenticationType,f=n.query,l=n.variables,d=n.apiKey,h=n.region,p=n.graphql_headers,g=p===void 0?function(){return{}}:p,b=n.additionalHeaders,E=b===void 0?{}:b,S=yn.PENDING,T={query:f,variables:l},this.subscriptionObserverMap.set(o,{observer:i,query:f!=null?f:"",variables:l!=null?l:{},subscriptionState:S,startAckTimeoutId:void 0}),N=JSON.stringify(T),B=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:d,appSyncGraphqlEndpoint:c,authenticationType:u,payload:N,canonicalUri:"",region:h,additionalHeaders:E})];case 1:return V=[Pt.apply(void 0,B.concat([$.sent()]))],[4,g()];case 2:k=Pt.apply(void 0,[Pt.apply(void 0,[Pt.apply(void 0,V.concat([$.sent()])),E]),(D={},D[f3]=IA.userAgent,D)]),F={id:o,payload:{data:N,extensions:{authorization:Pt({},k)}},type:gr.GQL_START},ee=JSON.stringify(F),$.label=3;case 3:return $.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:d,appSyncGraphqlEndpoint:c,authenticationType:u,region:h,additionalHeaders:E})];case 4:return $.sent(),[3,6];case 5:return R=$.sent(),Fe.debug({err:R}),L=(a=R.message)!==null&&a!==void 0?a:"",i.error({errors:[Pt({},new Qr(Yr.CONNECTION_FAILED+": "+L))]}),i.complete(),A=(this.subscriptionObserverMap.get(o)||{}).subscriptionFailedCallback,typeof A=="function"&&A(),[2];case 6:return y=(s=this.subscriptionObserverMap.get(o))!==null&&s!==void 0?s:{},_=y.subscriptionFailedCallback,C=y.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:S,query:f!=null?f:"",variables:l!=null?l:{},subscriptionReadyCallback:C,subscriptionFailedCallback:_,startAckTimeoutId:setTimeout(function(){z._timeoutStartSubscriptionAck.call(z,o)},tK)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(ee),[2]}})})},t.prototype._waitForSubscriptionToBeConnected=function(r){return rr(this,void 0,void 0,function(){var n,i,o=this;return nr(this,function(a){return n=this.subscriptionObserverMap.get(r),n&&(i=n.subscriptionState,i===yn.PENDING)?[2,new Promise(function(s,c){var u=n.observer,f=n.subscriptionState,l=n.variables,d=n.query;o.subscriptionObserverMap.set(r,{observer:u,subscriptionState:f,variables:l,query:d,subscriptionReadyCallback:s,subscriptionFailedCallback:c})})]:[2]})})},t.prototype._sendUnsubscriptionMessage=function(r){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===ir.READY){var n={id:r,type:gr.GQL_STOP},i=JSON.stringify(n);this.awsRealTimeSocket.send(i)}}catch(o){Fe.debug({err:o})}},t.prototype._removeSubscriptionObserver=function(r){this.subscriptionObserverMap.delete(r),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=ir.CLOSED;return}if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Fe.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId);var r=this.awsRealTimeSocket;r.onclose=null,r.onerror=null,r.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=ir.CLOSED}}},t.prototype._handleIncomingSubscriptionMessage=function(r){Fe.debug("subscription message from AWS AppSync RealTime: "+r.data);var n=JSON.parse(r.data),i=n.id,o=i===void 0?"":i,a=n.payload,s=n.type,c=this.subscriptionObserverMap.get(o)||{},u=c.observer,f=u===void 0?null:u,l=c.query,d=l===void 0?"":l,h=c.variables,p=h===void 0?{}:h,g=c.startAckTimeoutId,b=c.subscriptionReadyCallback,E=c.subscriptionFailedCallback;if(Fe.debug({id:o,observer:f,query:d,variables:p}),s===gr.GQL_DATA&&a&&a.data){f?f.next(a):Fe.debug("observer not found for id: "+o);return}if(s===gr.GQL_START_ACK){Fe.debug("subscription ready for "+JSON.stringify({query:d,variables:p})),typeof b=="function"&&b(),g&&clearTimeout(g),Xq(Yr.SUBSCRIPTION_ACK,{query:d,variables:p},"Connection established for subscription");var S=yn.CONNECTED;f&&this.subscriptionObserverMap.set(o,{observer:f,query:d,variables:p,startAckTimeoutId:void 0,subscriptionState:S,subscriptionReadyCallback:b,subscriptionFailedCallback:E});return}if(s===gr.GQL_CONNECTION_KEEP_ALIVE){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,Yr.TIMEOUT_DISCONNECT),this.keepAliveTimeout);return}if(s===gr.GQL_ERROR){var S=yn.FAILED;f&&(this.subscriptionObserverMap.set(o,{observer:f,query:d,variables:p,startAckTimeoutId:g,subscriptionReadyCallback:b,subscriptionFailedCallback:E,subscriptionState:S}),f.error({errors:[Pt({},new Qr(Yr.CONNECTION_FAILED+": "+JSON.stringify(a)))]}),g&&clearTimeout(g),f.complete(),typeof E=="function"&&E())}},t.prototype._errorDisconnect=function(r){Fe.debug("Disconnect error: "+r),this.subscriptionObserverMap.forEach(function(n){var i=n.observer;i&&!i.closed&&i.error({errors:[Pt({},new Qr(r))]})}),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=ir.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(r){var n=this.subscriptionObserverMap.get(r);if(n){var i=n.observer,o=n.query,a=n.variables;if(!i)return;this.subscriptionObserverMap.set(r,{observer:i,query:o,variables:a,subscriptionState:yn.FAILED}),i&&!i.closed&&(i.error({errors:[Pt({},new Qr("Subscription timeout "+JSON.stringify({query:o,variables:a})))]}),i.complete()),Fe.debug("timeoutStartSubscription",JSON.stringify({query:o,variables:a}))}},t.prototype._initializeWebSocketConnection=function(r){var n=this,i=r.appSyncGraphqlEndpoint,o=r.authenticationType,a=r.apiKey,s=r.region,c=r.additionalHeaders;if(this.socketStatus!==ir.READY)return new Promise(function(u,f){return rr(n,void 0,void 0,function(){var l,d,h,p,g,b,E,S,T,N;return nr(this,function(k){switch(k.label){case 0:if(this.promiseArray.push({res:u,rej:f}),this.socketStatus!==ir.CLOSED)return[3,5];k.label=1;case 1:return k.trys.push([1,4,,5]),this.socketStatus=ir.CONNECTING,l="{}",p=(h=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:o,payload:l,canonicalUri:"/connect",apiKey:a,appSyncGraphqlEndpoint:i,region:s,additionalHeaders:c})];case 2:return d=p.apply(h,[k.sent()]),g=Te.Buffer.from(d).toString("base64"),b=Te.Buffer.from(l).toString("base64"),E=i!=null?i:"",this.isCustomDomain(E)?E=E.concat(nK):E=E.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),S=this.isSSLEnabled?"wss://":"ws://",E=E.replace("https://",S).replace("http://",S),T=E+"?header="+g+"&payload="+b,[4,this._initializeRetryableHandshake(T)];case 3:return k.sent(),this.promiseArray.forEach(function(B){var V=B.res;Fe.debug("Notifying connection successful"),V()}),this.socketStatus=ir.READY,this.promiseArray=[],[3,5];case 4:return N=k.sent(),this.promiseArray.forEach(function(B){var V=B.rej;return V(N)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=ir.CLOSED,[3,5];case 5:return[2]}})})})},t.prototype._initializeRetryableHandshake=function(r){return rr(this,void 0,void 0,function(){return nr(this,function(n){switch(n.label){case 0:return Fe.debug("Initializaling retryable Handshake"),[4,mC(this._initializeHandshake.bind(this),[r],Qq)];case 1:return n.sent(),[2]}})})},t.prototype._initializeHandshake=function(r){return rr(this,void 0,void 0,function(){var n,i,o,a,s=this;return nr(this,function(c){switch(c.label){case 0:Fe.debug("Initializing handshake "+r),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,function(){return new Promise(function(u,f){var l=new WebSocket(r,"graphql-ws");l.onerror=function(){Fe.debug("WebSocket connection error")},l.onclose=function(){f(new Error("Connection handshake error"))},l.onopen=function(){return s.awsRealTimeSocket=l,u()}})}()];case 2:return c.sent(),[4,function(){return new Promise(function(u,f){if(s.awsRealTimeSocket){var l=!1;s.awsRealTimeSocket.onerror=function(p){Fe.debug("WebSocket error "+JSON.stringify(p))},s.awsRealTimeSocket.onclose=function(p){Fe.debug("WebSocket closed "+p.reason),f(new Error(JSON.stringify(p)))},s.awsRealTimeSocket.onmessage=function(p){Fe.debug("subscription message from AWS AppSyncRealTime: "+p.data+" ");var g=JSON.parse(p.data),b=g.type,E=g.payload,S=(E===void 0?{}:E).connectionTimeoutMs,T=S===void 0?hS:S;if(b===gr.GQL_CONNECTION_ACK){l=!0,s.awsRealTimeSocket&&(s.keepAliveTimeout=T,s.awsRealTimeSocket.onmessage=s._handleIncomingSubscriptionMessage.bind(s),s.awsRealTimeSocket.onerror=function(y){Fe.debug(y),s._errorDisconnect(Yr.CONNECTION_CLOSED)},s.awsRealTimeSocket.onclose=function(y){Fe.debug("WebSocket closed "+y.reason),s._errorDisconnect(Yr.CONNECTION_CLOSED)}),u("Cool, connected to AWS AppSyncRealTime");return}if(b===gr.GQL_CONNECTION_ERROR){var N=g.payload,k=(N===void 0?{}:N).errors,B=Jq(k===void 0?[]:k,1),V=B[0],F=V===void 0?{}:V,ee=F.errorType,R=ee===void 0?"":ee,L=F.errorCode,A=L===void 0?0:L;f({errorType:R,errorCode:A})}};var d={type:gr.GQL_CONNECTION_INIT};s.awsRealTimeSocket.send(JSON.stringify(d)),setTimeout(h.bind(s,l),dS)}function h(p){p||f(new Error("Connection timeout: ack from AWSRealTime was not received on "+dS+" ms"))}})}()];case 3:return c.sent(),[3,5];case 4:throw n=c.sent(),i=n,o=i.errorType,a=i.errorCode,Zq.includes(a)?new Sn(o):o?new Error(o):n;case 5:return[2]}})})},t.prototype._awsRealTimeHeaderBasedAuth=function(r){var n=r.authenticationType,i=r.payload,o=r.canonicalUri,a=r.appSyncGraphqlEndpoint,s=r.apiKey,c=r.region,u=r.additionalHeaders;return rr(this,void 0,void 0,function(){var f,l,d,h;return nr(this,function(p){switch(p.label){case 0:return f={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},!n||!f[n]?(Fe.debug("Authentication type "+n+" not supported"),[2,""]):[3,1];case 1:return l=f[n],d=kt(a!=null?a:"").host,[4,l({payload:i,canonicalUri:o,appSyncGraphqlEndpoint:a,apiKey:s,region:c,host:d,additionalHeaders:u})];case 2:return h=p.sent(),[2,h]}})})},t.prototype._awsRealTimeCUPHeader=function(r){var n=r.host;return rr(this,void 0,void 0,function(){var i;return nr(this,function(o){switch(o.label){case 0:return[4,ai.currentSession()];case 1:return i=o.sent(),[2,{Authorization:i.getAccessToken().getJwtToken(),host:n}]}})})},t.prototype._awsRealTimeOPENIDHeader=function(r){var n=r.host;return rr(this,void 0,void 0,function(){var i,o,a;return nr(this,function(s){switch(s.label){case 0:return[4,Vo.getItem("federatedInfo")];case 1:return o=s.sent(),o?(i=o.token,[3,4]):[3,2];case 2:return[4,ai.currentAuthenticatedUser()];case 3:a=s.sent(),a&&(i=a.token),s.label=4;case 4:if(!i)throw new Error("No federated jwt");return[2,{Authorization:i,host:n}]}})})},t.prototype._awsRealTimeApiKeyHeader=function(r){var n=r.apiKey,i=r.host;return rr(this,void 0,void 0,function(){var o,a;return nr(this,function(s){return o=new Date,a=o.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:i,"x-amz-date":a,"x-api-key":n}]})})},t.prototype._awsRealTimeIAMHeader=function(r){var n=r.payload,i=r.canonicalUri,o=r.appSyncGraphqlEndpoint,a=r.region;return rr(this,void 0,void 0,function(){var s,c,u,f,l;return nr(this,function(d){switch(d.label){case 0:return s={region:a,service:"appsync"},[4,this._ensureCredentials()];case 1:if(c=d.sent(),!c)throw new Error("No credentials");return[4,at.get().then(function(h){var p=h,g=p.secretAccessKey,b=p.accessKeyId,E=p.sessionToken;return{secret_key:g,access_key:b,session_token:E}})];case 2:return u=d.sent(),f={url:""+o+i,data:n,method:"POST",headers:Pt({},eK)},l=AC.sign(f,u,s),[2,l.headers]}})})},t.prototype._customAuthHeader=function(r){var n=r.host,i=r.additionalHeaders;if(!i||!i.Authorization)throw new Error("No auth token specified");return{Authorization:i.Authorization,host:n}},t.prototype._ensureCredentials=function(){return at.get().then(function(r){if(!r)return!1;var n=at.shear(r);return Fe.debug("set credentials for AWSAppSyncRealTimeProvider",n),!0}).catch(function(r){return Fe.warn("ensure credentials error",r),!1})},t}(b1),pS=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},vS=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},oK=Nn().isNode,_f=new Se("PubSub"),aK=function(){function e(t){this._options=t!=null?t:{},_f.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new Vq(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new iK(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(t){var r=this,n=t?t.PubSub||t:{};return _f.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map(function(i){return i.configure(r._options)}),this._options},e.prototype.addPluggable=function(t){return pS(this,void 0,void 0,function(){var r;return vS(this,function(n){return t&&t.getCategory()==="PubSub"?(this._pluggables.push(t),r=t.configure(this._options),[2,r]):[2]})})},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.getProviderByName=function(t){return t===c3?this.awsAppSyncProvider:t===TA?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(r){return r.getProviderName()===t})},e.prototype.getProviders=function(t){t===void 0&&(t={});var r=t.provider;if(!r)return this._pluggables;var n=this.getProviderByName(r);if(!n)throw new Error("Could not find provider named "+r);return[n]},e.prototype.publish=function(t,r,n){return pS(this,void 0,void 0,function(){return vS(this,function(i){return[2,Promise.all(this.getProviders(n).map(function(o){return o.publish(t,r,n)}))]})})},e.prototype.subscribe=function(t,r){if(oK&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");_f.debug("subscribe options",r);var n=this.getProviders(r);return new $o(function(i){var o=n.map(function(s){return{provider:s,observable:s.subscribe(t,r)}}),a=o.map(function(s){var c=s.provider,u=s.observable;return u.subscribe({start:console.error,next:function(f){return i.next({provider:c,value:f})},error:function(f){return i.error({provider:c,error:f})}})});return function(){return a.forEach(function(s){return s.unsubscribe()})}})},e}(),S1=new aK;st.register(S1);var Yr;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(Yr||(Yr={}));var Sf=S1,mn;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})(mn||(mn={}));var Xr=globalThis&&globalThis.__assign||function(){return Xr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xr.apply(this,arguments)},gS=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},yS=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sK=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},mS=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},uK="x-amz-user-agent",jn=new Se("GraphQLAPI"),E1=function(){function e(t){this._api=null,this.Auth=ai,this.Cache=Vo,this.Credentials=at,this._options=t,jn.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,i=n===void 0?{}:n,o=sK(r,["API"]),a=Xr(Xr({},o),i);return jn.debug("configure GraphQL API",{opt:a}),a.aws_project_region&&(a=Object.assign({},a,{region:a.aws_project_region,header:{}})),typeof a.graphql_headers!="undefined"&&typeof a.graphql_headers!="function"&&(jn.warn("graphql_headers should be a function"),a.graphql_headers=void 0),this._options=Object.assign({},this._options,a),this.createInstance(),this._options},e.prototype.createInstance=function(){return jn.debug("create Rest instance"),this._options?(this._api=new u1(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(t,r){return r===void 0&&(r={}),gS(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h;return yS(this,function(p){switch(p.label){case 0:switch(n=this._options,i=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,a=t||i||"AWS_IAM",s={},c=a,c){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(mn.NO_API_KEY);return s={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(u=p.sent(),!u)throw new Error(mn.NO_CREDENTIALS);return[3,17];case 4:return p.trys.push([4,9,,10]),f=void 0,[4,Vo.getItem("federatedInfo")];case 5:return l=p.sent(),l?(f=l.token,[3,8]):[3,6];case 6:return[4,ai.currentAuthenticatedUser()];case 7:d=p.sent(),d&&(f=d.token),p.label=8;case 8:if(!f)throw new Error(mn.NO_FEDERATED_JWT);return s={Authorization:f},[3,10];case 9:throw p.sent(),new Error(mn.NO_CURRENT_USER);case 10:return[3,17];case 11:return p.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return h=p.sent(),s={Authorization:h.getAccessToken().getJwtToken()},[3,14];case 13:throw p.sent(),new Error(mn.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!r.Authorization)throw new Error(mn.NO_AUTH_TOKEN);return s={Authorization:r.Authorization},[3,17];case 16:return s={Authorization:null},[3,17];case 17:return[2,s]}})})},e.prototype.getGraphqlOperationType=function(t){var r=mf(t),n=r.definitions,i=mS(n,1),o=i[0].operation;return o},e.prototype.graphql=function(t,r){var n=t.query,i=t.variables,o=i===void 0?{}:i,a=t.authMode,s=t.authToken,c=mf(typeof n=="string"?n:bf(n)),u=mS(c.definitions.filter(function(E){return E.kind==="OperationDefinition"}),1),f=u[0],l=f===void 0?{}:f,d=l.operation,h=r||{};switch(s&&(h.Authorization=s),d){case"query":case"mutation":var p=this._api.getCancellableToken(),g={cancellableToken:p},b=this._graphql({query:c,variables:o,authMode:a},h,g);return this._api.updateRequestToBeCancellable(b,p),b;case"subscription":return this._graphqlSubscribe({query:c,variables:o,authMode:a},h);default:throw new Error("invalid operation type: "+d)}},e.prototype._graphql=function(t,r,n){var i=t.query,o=t.variables,a=t.authMode;return r===void 0&&(r={}),n===void 0&&(n={}),gS(this,void 0,void 0,function(){var s,c,u,f,l,d,h,p,g,b,E,S,T,N,k,B,V,F,ee,R,L,A;return yS(this,function(y){switch(y.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:y.sent(),y.label=2;case 2:return s=this._options,c=s.aws_appsync_region,u=s.aws_appsync_graphqlEndpoint,f=s.graphql_headers,l=f===void 0?function(){return{}}:f,d=s.graphql_endpoint,h=s.graphql_endpoint_iam_region,g=[{}],b=!d,b?[4,this._headerBasedAuth(a,r)]:[3,4];case 3:b=y.sent(),y.label=4;case 4:return E=[Xr.apply(void 0,g.concat([b]))],S=d,S?h?[4,this._headerBasedAuth(a,r)]:[3,6]:[3,8];case 5:return T=y.sent(),[3,7];case 6:T={Authorization:null},y.label=7;case 7:S=T,y.label=8;case 8:return N=[Xr.apply(void 0,E.concat([S]))],[4,l({query:i,variables:o})];case 9:if(p=Xr.apply(void 0,[Xr.apply(void 0,[Xr.apply(void 0,N.concat([y.sent()])),r]),!d&&(A={},A[uK]=IA.userAgent,A)]),k={query:bf(i),variables:o},B=Object.assign({headers:p,body:k,signerServiceInfo:{service:d?"execute-api":"appsync",region:d?h:c}},n),V=d||u,!V)throw F=new Qr("No graphql endpoint provided."),{data:{},errors:[F]};y.label=10;case 10:return y.trys.push([10,12,,13]),[4,this._api.post(V,B)];case 11:return ee=y.sent(),[3,13];case 12:if(R=y.sent(),this._api.isCancel(R))throw R;return ee={data:{},errors:[new Qr(R.message,null,null,null,null,R)]},[3,13];case 13:if(L=ee.errors,L&&L.length)throw ee;return[2,ee]}})})},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype._graphqlSubscribe=function(t,r){var n=t.query,i=t.variables,o=t.authMode,a=t.authToken;r===void 0&&(r={});var s=this._options,c=s.aws_appsync_region,u=s.aws_appsync_graphqlEndpoint,f=s.aws_appsync_authenticationType,l=s.aws_appsync_apiKey,d=s.graphql_headers,h=d===void 0?function(){return{}}:d,p=o||f||"AWS_IAM";if(Sf&&typeof Sf.subscribe=="function")return Sf.subscribe("",{provider:TA,appSyncGraphqlEndpoint:u,authenticationType:p,apiKey:l,query:bf(n),region:c,variables:i,graphql_headers:h,additionalHeaders:r,authToken:a});throw jn.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var t=this;return this.Credentials.get().then(function(r){if(!r)return!1;var n=t.Credentials.shear(r);return jn.debug("set credentials for api",n),!0}).catch(function(r){return jn.warn("ensure credentials error",r),!1})},e}(),cK=new E1(null);st.register(cK);var vu=globalThis&&globalThis.__assign||function(){return vu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vu.apply(this,arguments)},fK=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},lK=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dK=new Se("API"),hK=function(){function e(t){this.Auth=ai,this.Cache=Vo,this.Credentials=at,this._options=t,this._restApi=new c1(t),this._graphqlApi=new E1(t),dK.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(t){this._options=Object.assign({},this._options,t),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var r=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return vu(vu({},r),n)},e.prototype.get=function(t,r,n){return this._restApi.get(t,r,n)},e.prototype.post=function(t,r,n){return this._restApi.post(t,r,n)},e.prototype.put=function(t,r,n){return this._restApi.put(t,r,n)},e.prototype.patch=function(t,r,n){return this._restApi.patch(t,r,n)},e.prototype.del=function(t,r,n){return this._restApi.del(t,r,n)},e.prototype.head=function(t,r,n){return this._restApi.head(t,r,n)},e.prototype.isCancel=function(t){return this._restApi.isCancel(t)},e.prototype.cancel=function(t,r){return this._restApi.cancel(t,r)},e.prototype.endpoint=function(t){return fK(this,void 0,void 0,function(){return lK(this,function(r){return[2,this._restApi.endpoint(t)]})})},e.prototype.getGraphqlOperationType=function(t){return this._graphqlApi.getGraphqlOperationType(t)},e.prototype.graphql=function(t,r){return this._graphqlApi.graphql(t,r)},e}(),pK=new hK(null);st.register(pK);var vK={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($e,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var c in o)i.d(s,c,function(u){return o[u]}.bind(null,c));return s},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=0)}([function(r,n,i){function o(a){for(var s in a)n.hasOwnProperty(s)||(n[s]=a[s])}Object.defineProperty(n,"__esModule",{value:!0}),o(i(1)),o(i(2)),o(i(3)),o(i(4)),o(i(5)),o(i(6)),o(i(7)),o(i(8)),o(i(9)),o(i(10)),o(i(11)),o(i(12)),o(i(13))},function(r,n,i){r.exports={a:"Anchor__a___1_Iz8"}},function(r,n,i){r.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(r,n,i){r.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(r,n,i){r.exports={hint:"Hint__hint___2XngB"}},function(r,n,i){r.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(r,n,i){r.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(r,n,i){r.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(r,n,i){r.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(r,n,i){r.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(r,n,i){r.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(r,n,i){r.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(r,n,i){r.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(r,n,i){r.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])})})(vK);st.Auth=ai;st.Cache=Vo;st.ServiceWorker=XU;var WK=st;function gu(e,t){for(var r=function(a){Object.defineProperty(e,a,{get:function(){return t[a]}})},n=0,i=Object.keys(t||{});n<i.length;n++){var o=i[n];r(o)}}function C1(e){if(!e._vmdModuleName)throw new Error(`ERR_GET_MODULE_NAME : Could not get module accessor.
      Make sure your module has name, we can't make accessors for unnamed modules
      i.e. @Module({ name: 'something' })`);return"vuexModuleDecorators/".concat(e._vmdModuleName)}var JK=function(){function e(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules}return e}();function gK(e,t){var r=C1(e);if(t&&t.getters[r])return t.getters[r];if(e._statics)return e._statics;var n=e._genStatic;if(!n)throw new Error(`ERR_GET_MODULE_NO_STATICS : Could not get module accessor.
      Make sure your module has name, we can't make accessors for unnamed modules
      i.e. @Module({ name: 'something' })`);var i=n(t);return t?t.getters[r]=i:e._statics=i,i}var yK=["actions","getters","mutations","modules","state","namespaced","commit"];function mK(e){var t=new e.prototype.constructor({}),r={};return Object.keys(t).forEach(function(n){if(yK.indexOf(n)!==-1){if(typeof t[n]!="undefined")throw new Error(`ERR_RESERVED_STATE_KEY_USED: You cannot use the following
        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']
        as fields in your module. These are reserved as they have special purpose in Vuex`);return}t.hasOwnProperty(n)&&typeof t[n]!="function"&&(r[n]=t[n])}),r}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $d(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function zd(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function yu(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function wK(e,t,r){var n=t.stateFactory?e.state():e.state;Object.keys(n).forEach(function(i){n.hasOwnProperty(i)&&["undefined","function"].indexOf(typeof n[i])===-1&&Object.defineProperty(r,i,{get:function(){for(var o=t.name.split("/"),a=r.store.state,s=0,c=o;s<c.length;s++){var u=c[s];a=a[u]}return a[i]}})})}function bK(e,t,r){Object.keys(e.getters).forEach(function(n){e.namespaced?Object.defineProperty(r,n,{get:function(){return r.store.getters["".concat(t.name,"/").concat(n)]}}):Object.defineProperty(r,n,{get:function(){return r.store.getters[n]}})})}function _K(e,t,r){Object.keys(e.mutations).forEach(function(n){e.namespaced?r[n]=function(){for(var i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];(i=r.store).commit.apply(i,yu(["".concat(t.name,"/").concat(n)],o,!1))}:r[n]=function(){for(var i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];(i=r.store).commit.apply(i,yu([n],o,!1))}})}function SK(e,t,r){Object.keys(e.actions).forEach(function(n){e.namespaced?r[n]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $d(this,void 0,void 0,function(){var a;return zd(this,function(s){return[2,(a=r.store).dispatch.apply(a,yu(["".concat(t.name,"/").concat(n)],i,!1))]})})}:r[n]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return $d(this,void 0,void 0,function(){var a;return zd(this,function(s){return[2,(a=r.store).dispatch.apply(a,yu([n],i,!1))]})})}})}function EK(e,t){if(!t.name)throw new Error("Name of module not provided in decorator options");if(!t.store)throw new Error("Store not provided in decorator options when using dynamic option");t.store.registerModule(t.name,e,{preserveState:t.preserveState||!1})}function wS(e,t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t.prototype,r);n.get&&e.getters&&(e.getters[r]=function(i,o,a,s){var c={context:{state:i,getters:o,rootState:a,rootGetters:s}};gu(c,i),gu(c,o);var u=n.get.call(c);return u})})}function bS(e){return function(t){var r=t,n=function(){return mK(r)};r.state||(r.state=e&&e.stateFactory?n:n()),r.getters||(r.getters={}),r.namespaced||(r.namespaced=e&&e.namespaced);for(var i=Object.getPrototypeOf(r);i.name!=="VuexModule"&&i.name!=="";)wS(r,i),i=Object.getPrototypeOf(i);wS(r,r);var o=e;return o.name&&(Object.defineProperty(t,"_genStatic",{value:function(a){var s={store:a||o.store};if(!s.store)throw new Error(`ERR_STORE_NOT_PROVIDED: To use getModule(), either the module
            should be decorated with store in decorator, i.e. @Module({store: store}) or
            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)`);return wK(r,o,s),r.getters&&bK(r,o,s),r.mutations&&_K(r,o,s),r.actions&&SK(r,o,s),s}}),Object.defineProperty(t,"_vmdModuleName",{value:o.name})),o.dynamic&&EK(r,o),t}}function YK(e){if(typeof e=="function")bS({})(e);else return bS(e)}var CK={};function _S(e){var t=e||{},r=t.commit,n=r===void 0?void 0:r,i=t.rawError,o=i===void 0?!!CK.rawError:i,a=t.root,s=a===void 0?!1:a;return function(c,u,f){var l=c.constructor;l.hasOwnProperty("actions")||(l.actions=Object.assign({},l.actions));var d=f.value,h=function(p,g){return $d(this,void 0,void 0,function(){var b,E,S,T,N;return zd(this,function(k){switch(k.label){case 0:return k.trys.push([0,5,,6]),b=null,l._genStatic?(E=C1(l),S=p.rootGetters[E]?p.rootGetters[E]:gK(l),S.context=p,[4,d.call(S,g)]):[3,2];case 1:return b=k.sent(),[3,4];case 2:return T={context:p},gu(T,p.state),gu(T,p.getters),[4,d.call(T,g)];case 3:b=k.sent(),k.label=4;case 4:return n&&p.commit(n,b),[2,b];case 5:throw N=k.sent(),o?N:new Error(`ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? 
That works only in dynamic modules. 
If not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]
`+new Error("Could not perform action ".concat(u.toString())).stack+`
`+N.stack);case 6:return[2]}})})};l.actions[u]=s?{root:s,handler:h}:h}}function XK(e,t,r){if(!t&&!r)return _S(e);_S()(e,t,r)}function QK(e,t,r){var n=e.constructor;n.hasOwnProperty("mutations")||(n.mutations=Object.assign({},n.mutations));var i=r.value,o=function(a,s){i.call(a,s)};n.mutations[t]=o}/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function AK(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:n});else{var r=e.prototype._init;e.prototype._init=function(i){i===void 0&&(i={}),i.init=i.init?[n].concat(i.init):n,r.call(this,i)}}function n(){var i=this.$options;i.store?this.$store=typeof i.store=="function"?i.store():i.store:i.parent&&i.parent.$store&&(this.$store=i.parent.$store)}}var xK=typeof window!="undefined"?window:typeof global!="undefined"?global:{},Oi=xK.__VUE_DEVTOOLS_GLOBAL_HOOK__;function TK(e){!Oi||(e._devtoolHook=Oi,Oi.emit("vuex:init",e),Oi.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,r){Oi.emit("vuex:mutation",t,r)},{prepend:!0}),e.subscribeAction(function(t,r){Oi.emit("vuex:action",t,r)},{prepend:!0}))}function IK(e,t){return e.filter(t)[0]}function qd(e,t){if(t===void 0&&(t=[]),e===null||typeof e!="object")return e;var r=IK(t,function(i){return i.original===e});if(r)return r.copy;var n=Array.isArray(e)?[]:{};return t.push({original:e,copy:n}),Object.keys(e).forEach(function(i){n[i]=qd(e[i],t)}),n}function ro(e,t){Object.keys(e).forEach(function(r){return t(e[r],r)})}function A1(e){return e!==null&&typeof e=="object"}function OK(e){return e&&typeof e.then=="function"}function PK(e,t){return function(){return e(t)}}var Pr=function(t,r){this.runtime=r,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=(typeof n=="function"?n():n)||{}},x1={namespaced:{configurable:!0}};x1.namespaced.get=function(){return!!this._rawModule.namespaced};Pr.prototype.addChild=function(t,r){this._children[t]=r};Pr.prototype.removeChild=function(t){delete this._children[t]};Pr.prototype.getChild=function(t){return this._children[t]};Pr.prototype.hasChild=function(t){return t in this._children};Pr.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Pr.prototype.forEachChild=function(t){ro(this._children,t)};Pr.prototype.forEachGetter=function(t){this._rawModule.getters&&ro(this._rawModule.getters,t)};Pr.prototype.forEachAction=function(t){this._rawModule.actions&&ro(this._rawModule.actions,t)};Pr.prototype.forEachMutation=function(t){this._rawModule.mutations&&ro(this._rawModule.mutations,t)};Object.defineProperties(Pr.prototype,x1);var pi=function(t){this.register([],t,!1)};pi.prototype.get=function(t){return t.reduce(function(r,n){return r.getChild(n)},this.root)};pi.prototype.getNamespace=function(t){var r=this.root;return t.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")};pi.prototype.update=function(t){T1([],this.root,t)};pi.prototype.register=function(t,r,n){var i=this;n===void 0&&(n=!0);var o=new Pr(r,n);if(t.length===0)this.root=o;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],o)}r.modules&&ro(r.modules,function(s,c){i.register(t.concat(c),s,n)})};pi.prototype.unregister=function(t){var r=this.get(t.slice(0,-1)),n=t[t.length-1],i=r.getChild(n);!i||!i.runtime||r.removeChild(n)};pi.prototype.isRegistered=function(t){var r=this.get(t.slice(0,-1)),n=t[t.length-1];return r?r.hasChild(n):!1};function T1(e,t,r){if(t.update(r),r.modules)for(var n in r.modules){if(!t.getChild(n))return;T1(e.concat(n),t.getChild(n),r.modules[n])}}var Rt,Qt=function(t){var r=this;t===void 0&&(t={}),!Rt&&typeof window!="undefined"&&window.Vue&&P1(window.Vue);var n=t.plugins;n===void 0&&(n=[]);var i=t.strict;i===void 0&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new pi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Rt,this._makeLocalGettersCache=Object.create(null);var o=this,a=this,s=a.dispatch,c=a.commit;this.dispatch=function(d,h){return s.call(o,d,h)},this.commit=function(d,h,p){return c.call(o,d,h,p)},this.strict=i;var u=this._modules.root.state;fc(this,u,[],this._modules.root),yp(this,u),n.forEach(function(l){return l(r)});var f=t.devtools!==void 0?t.devtools:Rt.config.devtools;f&&TK(this)},gp={state:{configurable:!0}};gp.state.get=function(){return this._vm._data.$$state};gp.state.set=function(e){};Qt.prototype.commit=function(t,r,n){var i=this,o=mu(t,r,n),a=o.type,s=o.payload,c={type:a,payload:s},u=this._mutations[a];!u||(this._withCommit(function(){u.forEach(function(l){l(s)})}),this._subscribers.slice().forEach(function(f){return f(c,i.state)}))};Qt.prototype.dispatch=function(t,r){var n=this,i=mu(t,r),o=i.type,a=i.payload,s={type:o,payload:a},c=this._actions[o];if(!!c){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(s,n.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(f){return f(a)})):c[0](a);return new Promise(function(f,l){u.then(function(d){try{n._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,n.state)})}catch{}f(d)},function(d){try{n._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,n.state,d)})}catch{}l(d)})})}};Qt.prototype.subscribe=function(t,r){return I1(t,this._subscribers,r)};Qt.prototype.subscribeAction=function(t,r){var n=typeof t=="function"?{before:t}:t;return I1(n,this._actionSubscribers,r)};Qt.prototype.watch=function(t,r,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},r,n)};Qt.prototype.replaceState=function(t){var r=this;this._withCommit(function(){r._vm._data.$$state=t})};Qt.prototype.registerModule=function(t,r,n){n===void 0&&(n={}),typeof t=="string"&&(t=[t]),this._modules.register(t,r),fc(this,this.state,t,this._modules.get(t),n.preserveState),yp(this,this.state)};Qt.prototype.unregisterModule=function(t){var r=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=mp(r.state,t.slice(0,-1));Rt.delete(n,t[t.length-1])}),O1(this)};Qt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Qt.prototype.hotUpdate=function(t){this._modules.update(t),O1(this,!0)};Qt.prototype._withCommit=function(t){var r=this._committing;this._committing=!0,t(),this._committing=r};Object.defineProperties(Qt.prototype,gp);function I1(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function O1(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;fc(e,r,[],e._modules.root,!0),yp(e,r,t)}function yp(e,t,r){var n=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};ro(i,function(s,c){o[c]=PK(s,e),Object.defineProperty(e.getters,c,{get:function(){return e._vm[c]},enumerable:!0})});var a=Rt.config.silent;Rt.config.silent=!0,e._vm=new Rt({data:{$$state:t},computed:o}),Rt.config.silent=a,e.strict&&LK(e),n&&(r&&e._withCommit(function(){n._data.$$state=null}),Rt.nextTick(function(){return n.$destroy()}))}function fc(e,t,r,n,i){var o=!r.length,a=e._modules.getNamespace(r);if(n.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=n),!o&&!i){var s=mp(t,r.slice(0,-1)),c=r[r.length-1];e._withCommit(function(){Rt.set(s,c,n.state)})}var u=n.context=kK(e,a,r);n.forEachMutation(function(f,l){var d=a+l;NK(e,d,f,u)}),n.forEachAction(function(f,l){var d=f.root?l:a+l,h=f.handler||f;DK(e,d,h,u)}),n.forEachGetter(function(f,l){var d=a+l;MK(e,d,f,u)}),n.forEachChild(function(f,l){fc(e,t,r.concat(l),f,i)})}function kK(e,t,r){var n=t==="",i={dispatch:n?e.dispatch:function(o,a,s){var c=mu(o,a,s),u=c.payload,f=c.options,l=c.type;return(!f||!f.root)&&(l=t+l),e.dispatch(l,u)},commit:n?e.commit:function(o,a,s){var c=mu(o,a,s),u=c.payload,f=c.options,l=c.type;(!f||!f.root)&&(l=t+l),e.commit(l,u,f)}};return Object.defineProperties(i,{getters:{get:n?function(){return e.getters}:function(){return RK(e,t)}},state:{get:function(){return mp(e.state,r)}}}),i}function RK(e,t){if(!e._makeLocalGettersCache[t]){var r={},n=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,n)===t){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function NK(e,t,r,n){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(a){r.call(e,n.state,a)})}function DK(e,t,r,n){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(a){var s=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},a);return OK(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):s})}function MK(e,t,r,n){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return r(n.state,n.getters,o.state,o.getters)})}function LK(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function mp(e,t){return t.reduce(function(r,n){return r[n]},e)}function mu(e,t,r){return A1(e)&&e.type&&(r=t,t=e,e=e.type),{type:e,payload:t,options:r}}function P1(e){Rt&&e===Rt||(Rt=e,AK(Rt))}var k1=dc(function(e,t){var r={};return lc(t).forEach(function(n){var i=n.key,o=n.val;r[i]=function(){var s=this.$store.state,c=this.$store.getters;if(e){var u=hc(this.$store,"mapState",e);if(!u)return;s=u.context.state,c=u.context.getters}return typeof o=="function"?o.call(this,s,c):s[o]},r[i].vuex=!0}),r}),R1=dc(function(e,t){var r={};return lc(t).forEach(function(n){var i=n.key,o=n.val;r[i]=function(){for(var s=[],c=arguments.length;c--;)s[c]=arguments[c];var u=this.$store.commit;if(e){var f=hc(this.$store,"mapMutations",e);if(!f)return;u=f.context.commit}return typeof o=="function"?o.apply(this,[u].concat(s)):u.apply(this.$store,[o].concat(s))}}),r}),N1=dc(function(e,t){var r={};return lc(t).forEach(function(n){var i=n.key,o=n.val;o=e+o,r[i]=function(){if(!(e&&!hc(this.$store,"mapGetters",e)))return this.$store.getters[o]},r[i].vuex=!0}),r}),D1=dc(function(e,t){var r={};return lc(t).forEach(function(n){var i=n.key,o=n.val;r[i]=function(){for(var s=[],c=arguments.length;c--;)s[c]=arguments[c];var u=this.$store.dispatch;if(e){var f=hc(this.$store,"mapActions",e);if(!f)return;u=f.context.dispatch}return typeof o=="function"?o.apply(this,[u].concat(s)):u.apply(this.$store,[o].concat(s))}}),r}),UK=function(e){return{mapState:k1.bind(null,e),mapGetters:N1.bind(null,e),mapMutations:R1.bind(null,e),mapActions:D1.bind(null,e)}};function lc(e){return BK(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function BK(e){return Array.isArray(e)||A1(e)}function dc(e){return function(t,r){return typeof t!="string"?(r=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,r)}}function hc(e,t,r){var n=e._modulesNamespaceMap[r];return n}function FK(e){e===void 0&&(e={});var t=e.collapsed;t===void 0&&(t=!0);var r=e.filter;r===void 0&&(r=function(f,l,d){return!0});var n=e.transformer;n===void 0&&(n=function(f){return f});var i=e.mutationTransformer;i===void 0&&(i=function(f){return f});var o=e.actionFilter;o===void 0&&(o=function(f,l){return!0});var a=e.actionTransformer;a===void 0&&(a=function(f){return f});var s=e.logMutations;s===void 0&&(s=!0);var c=e.logActions;c===void 0&&(c=!0);var u=e.logger;return u===void 0&&(u=console),function(f){var l=qd(f.state);typeof u!="undefined"&&(s&&f.subscribe(function(d,h){var p=qd(h);if(r(d,l,p)){var g=CS(),b=i(d),E="mutation "+d.type+g;SS(u,E,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",n(l)),u.log("%c mutation","color: #03A9F4; font-weight: bold",b),u.log("%c next state","color: #4CAF50; font-weight: bold",n(p)),ES(u)}l=p}),c&&f.subscribeAction(function(d,h){if(o(d,h)){var p=CS(),g=a(d),b="action "+d.type+p;SS(u,b,t),u.log("%c action","color: #03A9F4; font-weight: bold",g),ES(u)}}))}}function SS(e,t,r){var n=r?e.groupCollapsed:e.group;try{n.call(e,t)}catch{e.log(t)}}function ES(e){try{e.groupEnd()}catch{e.log("\u2014\u2014 log end \u2014\u2014")}}function CS(){var e=new Date;return" @ "+ns(e.getHours(),2)+":"+ns(e.getMinutes(),2)+":"+ns(e.getSeconds(),2)+"."+ns(e.getMilliseconds(),3)}function jK(e,t){return new Array(t+1).join(e)}function ns(e,t){return jK("0",t-e.toString().length)+e}var $K={Store:Qt,install:P1,version:"3.6.2",mapState:k1,mapMutations:R1,mapGetters:N1,mapActions:D1,createNamespacedHelpers:UK,createLogger:FK},ZK=$K;export{WK as A,ak as C,YK as M,qK as P,ze as V,KK as a,wR as b,pK as c,HK as d,VK as e,JK as f,ar as g,QK as h,GK as i,XK as j,gK as k,zK as l,ZK as m};

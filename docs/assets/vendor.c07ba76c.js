/*!
 * Vue.js v2.6.14
 * (c) 2014-2021 Evan You
 * Released under the MIT License.
 */var Br=Object.freeze({});function he(e){return e==null}function G(e){return e!=null}function He(e){return e===!0}function g1(e){return e===!1}function ra(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function Ct(e){return e!==null&&typeof e=="object"}var Dd=Object.prototype.toString;function Gt(e){return Dd.call(e)==="[object Object]"}function m1(e){return Dd.call(e)==="[object RegExp]"}function dS(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function vf(e){return G(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function y1(e){return e==null?"":Array.isArray(e)||Gt(e)&&e.toString===Dd?JSON.stringify(e,null,2):String(e)}function Ro(e){var t=parseFloat(e);return isNaN(t)?e:t}function Ar(e,t){for(var r=Object.create(null),n=e.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return t?function(o){return r[o.toLowerCase()]}:function(o){return r[o]}}Ar("slot,component",!0);var w1=Ar("key,ref,slot,slot-scope,is");function nn(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var b1=Object.prototype.hasOwnProperty;function St(e,t){return b1.call(e,t)}function fi(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}var _1=/-(\w)/g,Zn=fi(function(e){return e.replace(_1,function(t,r){return r?r.toUpperCase():""})}),S1=fi(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),E1=/\B([A-Z])/g,na=fi(function(e){return e.replace(E1,"-$1").toLowerCase()});function C1(e,t){function r(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return r._length=e.length,r}function A1(e,t){return e.bind(t)}var x1=Function.prototype.bind?A1:C1;function gf(e,t){t=t||0;for(var r=e.length-t,n=new Array(r);r--;)n[r]=e[r+t];return n}function De(e,t){for(var r in t)e[r]=t[r];return e}function hS(e){for(var t={},r=0;r<e.length;r++)e[r]&&De(t,e[r]);return t}function Rt(e,t,r){}var ga=function(e,t,r){return!1},pS=function(e){return e};function ei(e,t){if(e===t)return!0;var r=Ct(e),n=Ct(t);if(r&&n)try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every(function(c,u){return ei(c,t[u])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!i&&!o){var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(c){return ei(e[c],t[c])})}else return!1}catch{return!1}else return!r&&!n?String(e)===String(t):!1}function vS(e,t){for(var r=0;r<e.length;r++)if(ei(e[r],t))return r;return-1}function Is(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var lp="data-server-rendered",vu=["component","directive","filter"],gS=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],fr={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:ga,isReservedAttr:ga,isUnknownElement:ga,getTagNamespace:Rt,parsePlatformTagName:pS,mustUseProp:ga,async:!0,_lifecycleHooks:gS},T1=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function I1(e){var t=(e+"").charCodeAt(0);return t===36||t===95}function ji(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var O1=new RegExp("[^"+T1.source+".$_\\d]");function k1(e){if(!O1.test(e)){var t=e.split(".");return function(r){for(var n=0;n<t.length;n++){if(!r)return;r=r[t[n]]}return r}}}var P1="__proto__"in{},Vt=typeof window!="undefined",Ld=typeof WXEnvironment!="undefined"&&!!WXEnvironment.platform,mS=Ld&&WXEnvironment.platform.toLowerCase(),vt=Vt&&window.navigator.userAgent.toLowerCase(),Xi=vt&&/msie|trident/.test(vt),Qi=vt&&vt.indexOf("msie 9.0")>0,Ud=vt&&vt.indexOf("edge/")>0;vt&&vt.indexOf("android")>0;var N1=vt&&/iphone|ipad|ipod|ios/.test(vt)||mS==="ios";vt&&/chrome\/\d+/.test(vt);vt&&/phantomjs/.test(vt);var dp=vt&&vt.match(/firefox\/(\d+)/),mf={}.watch,yS=!1;if(Vt)try{var hp={};Object.defineProperty(hp,"passive",{get:function(){yS=!0}}),window.addEventListener("test-passive",null,hp)}catch{}var ma,gu=function(){return ma===void 0&&(!Vt&&!Ld&&typeof global!="undefined"?ma=global.process&&global.process.env.VUE_ENV==="server":ma=!1),ma},Os=Vt&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function $i(e){return typeof e=="function"&&/native code/.test(e.toString())}var mu=typeof Symbol!="undefined"&&$i(Symbol)&&typeof Reflect!="undefined"&&$i(Reflect.ownKeys),Mo;typeof Set!="undefined"&&$i(Set)?Mo=Set:Mo=function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(r){return this.set[r]===!0},e.prototype.add=function(r){this.set[r]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var R1=Rt,M1=0,Ht=function(){this.id=M1++,this.subs=[]};Ht.prototype.addSub=function(t){this.subs.push(t)};Ht.prototype.removeSub=function(t){nn(this.subs,t)};Ht.prototype.depend=function(){Ht.target&&Ht.target.addDep(this)};Ht.prototype.notify=function(){for(var t=this.subs.slice(),r=0,n=t.length;r<n;r++)t[r].update()};Ht.target=null;var es=[];function ia(e){es.push(e),Ht.target=e}function oa(){es.pop(),Ht.target=es[es.length-1]}var Mt=function(t,r,n,i,o,a,s,c){this.tag=t,this.data=r,this.children=n,this.text=i,this.elm=o,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=r&&r.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=c,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wS={child:{configurable:!0}};wS.child.get=function(){return this.componentInstance};Object.defineProperties(Mt.prototype,wS);var Jn=function(e){e===void 0&&(e="");var t=new Mt;return t.text=e,t.isComment=!0,t};function Li(e){return new Mt(void 0,void 0,void 0,String(e))}function yf(e){var t=new Mt(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var bS=Array.prototype,ks=Object.create(bS),D1=["push","pop","shift","unshift","splice","sort","reverse"];D1.forEach(function(e){var t=bS[e];ji(ks,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var o=t.apply(this,n),a=this.__ob__,s;switch(e){case"push":case"unshift":s=n;break;case"splice":s=n.slice(2);break}return s&&a.observeArray(s),a.dep.notify(),o})});var L1=Object.getOwnPropertyNames(ks),Bd=!0;function On(e){Bd=e}var Ps=function(t){this.value=t,this.dep=new Ht,this.vmCount=0,ji(t,"__ob__",this),Array.isArray(t)?(P1?U1(t,ks):B1(t,ks,L1),this.observeArray(t)):this.walk(t)};Ps.prototype.walk=function(t){for(var r=Object.keys(t),n=0;n<r.length;n++)ri(t,r[n])};Ps.prototype.observeArray=function(t){for(var r=0,n=t.length;r<n;r++)ti(t[r])};function U1(e,t){e.__proto__=t}function B1(e,t,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];ji(e,o,t[o])}}function ti(e,t){if(!(!Ct(e)||e instanceof Mt)){var r;return St(e,"__ob__")&&e.__ob__ instanceof Ps?r=e.__ob__:Bd&&!gu()&&(Array.isArray(e)||Gt(e))&&Object.isExtensible(e)&&!e._isVue&&(r=new Ps(e)),t&&r&&r.vmCount++,r}}function ri(e,t,r,n,i){var o=new Ht,a=Object.getOwnPropertyDescriptor(e,t);if(!(a&&a.configurable===!1)){var s=a&&a.get,c=a&&a.set;(!s||c)&&arguments.length===2&&(r=e[t]);var u=!i&&ti(r);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var l=s?s.call(e):r;return Ht.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(l)&&SS(l))),l},set:function(l){var d=s?s.call(e):r;l===d||l!==l&&d!==d||s&&!c||(c?c.call(e,l):r=l,u=!i&&ti(l),o.notify())}})}}function Fd(e,t,r){if(Array.isArray(e)&&dS(t))return e.length=Math.max(e.length,t),e.splice(t,1,r),r;if(t in e&&!(t in Object.prototype))return e[t]=r,r;var n=e.__ob__;return e._isVue||n&&n.vmCount?r:n?(ri(n.value,t,r),n.dep.notify(),r):(e[t]=r,r)}function _S(e,t){if(Array.isArray(e)&&dS(t)){e.splice(t,1);return}var r=e.__ob__;e._isVue||r&&r.vmCount||!St(e,t)||(delete e[t],r&&r.dep.notify())}function SS(e){for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&SS(t)}var Fr=fr.optionMergeStrategies;function wf(e,t){if(!t)return e;for(var r,n,i,o=mu?Reflect.ownKeys(t):Object.keys(t),a=0;a<o.length;a++)r=o[a],r!=="__ob__"&&(n=e[r],i=t[r],St(e,r)?n!==i&&Gt(n)&&Gt(i)&&wf(n,i):Fd(e,r,i));return e}function bf(e,t,r){return r?function(){var i=typeof t=="function"?t.call(r,r):t,o=typeof e=="function"?e.call(r,r):e;return i?wf(i,o):o}:t?e?function(){return wf(typeof t=="function"?t.call(this,this):t,typeof e=="function"?e.call(this,this):e)}:t:e}Fr.data=function(e,t,r){return r?bf(e,t,r):t&&typeof t!="function"?e:bf(e,t)};function F1(e,t){var r=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return r&&j1(r)}function j1(e){for(var t=[],r=0;r<e.length;r++)t.indexOf(e[r])===-1&&t.push(e[r]);return t}gS.forEach(function(e){Fr[e]=F1});function $1(e,t,r,n){var i=Object.create(e||null);return t?De(i,t):i}vu.forEach(function(e){Fr[e+"s"]=$1});Fr.watch=function(e,t,r,n){if(e===mf&&(e=void 0),t===mf&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};De(i,e);for(var o in t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i};Fr.props=Fr.methods=Fr.inject=Fr.computed=function(e,t,r,n){if(!e)return t;var i=Object.create(null);return De(i,e),t&&De(i,t),i};Fr.provide=bf;var z1=function(e,t){return t===void 0?e:t};function q1(e,t){var r=e.props;if(!!r){var n={},i,o,a;if(Array.isArray(r))for(i=r.length;i--;)o=r[i],typeof o=="string"&&(a=Zn(o),n[a]={type:null});else if(Gt(r))for(var s in r)o=r[s],a=Zn(s),n[a]=Gt(o)?o:{type:o};e.props=n}}function K1(e,t){var r=e.inject;if(!!r){var n=e.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(Gt(r))for(var o in r){var a=r[o];n[o]=Gt(a)?De({from:o},a):{from:a}}}}function H1(e){var t=e.directives;if(t)for(var r in t){var n=t[r];typeof n=="function"&&(t[r]={bind:n,update:n})}}function ni(e,t,r){if(typeof t=="function"&&(t=t.options),q1(t),K1(t),H1(t),!t._base&&(t.extends&&(e=ni(e,t.extends,r)),t.mixins))for(var n=0,i=t.mixins.length;n<i;n++)e=ni(e,t.mixins[n],r);var o={},a;for(a in e)s(a);for(a in t)St(e,a)||s(a);function s(c){var u=Fr[c]||z1;o[c]=u(e[c],t[c],r,c)}return o}function jd(e,t,r,n){if(typeof r=="string"){var i=e[t];if(St(i,r))return i[r];var o=Zn(r);if(St(i,o))return i[o];var a=S1(o);if(St(i,a))return i[a];var s=i[r]||i[o]||i[a];return s}}function $d(e,t,r,n){var i=t[e],o=!St(r,e),a=r[e],s=vp(Boolean,i.type);if(s>-1){if(o&&!St(i,"default"))a=!1;else if(a===""||a===na(e)){var c=vp(String,i.type);(c<0||s<c)&&(a=!0)}}if(a===void 0){a=G1(n,i,e);var u=Bd;On(!0),ti(a),On(u)}return a}function G1(e,t,r){if(!!St(t,"default")){var n=t.default;return e&&e.$options.propsData&&e.$options.propsData[r]===void 0&&e._props[r]!==void 0?e._props[r]:typeof n=="function"&&_f(t.type)!=="Function"?n.call(e):n}}var V1=/^\s*function (\w+)/;function _f(e){var t=e&&e.toString().match(V1);return t?t[1]:""}function pp(e,t){return _f(e)===_f(t)}function vp(e,t){if(!Array.isArray(t))return pp(t,e)?0:-1;for(var r=0,n=t.length;r<n;r++)if(pp(t[r],e))return r;return-1}function ii(e,t,r){ia();try{if(t)for(var n=t;n=n.$parent;){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=i[o].call(n,e,t,r)===!1;if(a)return}catch(s){gp(s,n,"errorCaptured hook")}}gp(e,t,r)}finally{oa()}}function Hi(e,t,r,n,i){var o;try{o=r?e.apply(t,r):e.call(t),o&&!o._isVue&&vf(o)&&!o._handled&&(o.catch(function(a){return ii(a,n,i+" (Promise/async)")}),o._handled=!0)}catch(a){ii(a,n,i)}return o}function gp(e,t,r){if(fr.errorHandler)try{return fr.errorHandler.call(null,e,t,r)}catch(n){n!==e&&mp(n)}mp(e)}function mp(e,t,r){if((Vt||Ld)&&typeof console!="undefined")console.error(e);else throw e}var Sf=!1,Ef=[],Cf=!1;function ya(){Cf=!1;var e=Ef.slice(0);Ef.length=0;for(var t=0;t<e.length;t++)e[t]()}var yo;if(typeof Promise!="undefined"&&$i(Promise)){var W1=Promise.resolve();yo=function(){W1.then(ya),N1&&setTimeout(Rt)},Sf=!0}else if(!Xi&&typeof MutationObserver!="undefined"&&($i(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var wa=1,J1=new MutationObserver(ya),yp=document.createTextNode(String(wa));J1.observe(yp,{characterData:!0}),yo=function(){wa=(wa+1)%2,yp.data=String(wa)},Sf=!0}else typeof setImmediate!="undefined"&&$i(setImmediate)?yo=function(){setImmediate(ya)}:yo=function(){setTimeout(ya,0)};function zd(e,t){var r;if(Ef.push(function(){if(e)try{e.call(t)}catch(n){ii(n,t,"nextTick")}else r&&r(t)}),Cf||(Cf=!0,yo()),!e&&typeof Promise!="undefined")return new Promise(function(n){r=n})}var wp=new Mo;function Ns(e){Af(e,wp),wp.clear()}function Af(e,t){var r,n,i=Array.isArray(e);if(!(!i&&!Ct(e)||Object.isFrozen(e)||e instanceof Mt)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i)for(r=e.length;r--;)Af(e[r],t);else for(n=Object.keys(e),r=n.length;r--;)Af(e[n[r]],t)}}var bp=fi(function(e){var t=e.charAt(0)==="&";e=t?e.slice(1):e;var r=e.charAt(0)==="~";e=r?e.slice(1):e;var n=e.charAt(0)==="!";return e=n?e.slice(1):e,{name:e,once:r,capture:n,passive:t}});function xf(e,t){function r(){var n=arguments,i=r.fns;if(Array.isArray(i))for(var o=i.slice(),a=0;a<o.length;a++)Hi(o[a],null,n,t,"v-on handler");else return Hi(i,null,arguments,t,"v-on handler")}return r.fns=e,r}function ES(e,t,r,n,i,o){var a,s,c,u;for(a in e)s=e[a],c=t[a],u=bp(a),he(s)||(he(c)?(he(s.fns)&&(s=e[a]=xf(s,o)),He(u.once)&&(s=e[a]=i(u.name,s,u.capture)),r(u.name,s,u.capture,u.passive,u.params)):s!==c&&(c.fns=s,e[a]=c));for(a in t)he(e[a])&&(u=bp(a),n(u.name,t[a],u.capture))}function _n(e,t,r){e instanceof Mt&&(e=e.data.hook||(e.data.hook={}));var n,i=e[t];function o(){r.apply(this,arguments),nn(n.fns,o)}he(i)?n=xf([o]):G(i.fns)&&He(i.merged)?(n=i,n.fns.push(o)):n=xf([i,o]),n.merged=!0,e[t]=n}function Y1(e,t,r){var n=t.options.props;if(!he(n)){var i={},o=e.attrs,a=e.props;if(G(o)||G(a))for(var s in n){var c=na(s);_p(i,a,s,c,!0)||_p(i,o,s,c,!1)}return i}}function _p(e,t,r,n,i){if(G(t)){if(St(t,r))return e[r]=t[r],i||delete t[r],!0;if(St(t,n))return e[r]=t[n],i||delete t[n],!0}return!1}function X1(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function qd(e){return ra(e)?[Li(e)]:Array.isArray(e)?CS(e):void 0}function io(e){return G(e)&&G(e.text)&&g1(e.isComment)}function CS(e,t){var r=[],n,i,o,a;for(n=0;n<e.length;n++)i=e[n],!(he(i)||typeof i=="boolean")&&(o=r.length-1,a=r[o],Array.isArray(i)?i.length>0&&(i=CS(i,(t||"")+"_"+n),io(i[0])&&io(a)&&(r[o]=Li(a.text+i[0].text),i.shift()),r.push.apply(r,i)):ra(i)?io(a)?r[o]=Li(a.text+i):i!==""&&r.push(Li(i)):io(i)&&io(a)?r[o]=Li(a.text+i.text):(He(e._isVList)&&G(i.tag)&&he(i.key)&&G(t)&&(i.key="__vlist"+t+"_"+n+"__"),r.push(i)));return r}function Q1(e){var t=e.$options.provide;t&&(e._provided=typeof t=="function"?t.call(e):t)}function Z1(e){var t=AS(e.$options.inject,e);t&&(On(!1),Object.keys(t).forEach(function(r){ri(e,r,t[r])}),On(!0))}function AS(e,t){if(e){for(var r=Object.create(null),n=mu?Reflect.ownKeys(e):Object.keys(e),i=0;i<n.length;i++){var o=n[i];if(o!=="__ob__"){for(var a=e[o].from,s=t;s;){if(s._provided&&St(s._provided,a)){r[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in e[o]){var c=e[o].default;r[o]=typeof c=="function"?c.call(t):c}}}return r}}function Kd(e,t){if(!e||!e.length)return{};for(var r={},n=0,i=e.length;n<i;n++){var o=e[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,(o.context===t||o.fnContext===t)&&a&&a.slot!=null){var s=a.slot,c=r[s]||(r[s]=[]);o.tag==="template"?c.push.apply(c,o.children||[]):c.push(o)}else(r.default||(r.default=[])).push(o)}for(var u in r)r[u].every(eT)&&delete r[u];return r}function eT(e){return e.isComment&&!e.asyncFactory||e.text===" "}function Do(e){return e.isComment&&e.asyncFactory}function ts(e,t,r){var n,i=Object.keys(t).length>0,o=e?!!e.$stable:!i,a=e&&e.$key;if(!e)n={};else{if(e._normalized)return e._normalized;if(o&&r&&r!==Br&&a===r.$key&&!i&&!r.$hasNormal)return r;n={};for(var s in e)e[s]&&s[0]!=="$"&&(n[s]=tT(t,s,e[s]))}for(var c in t)c in n||(n[c]=rT(t,c));return e&&Object.isExtensible(e)&&(e._normalized=n),ji(n,"$stable",o),ji(n,"$key",a),ji(n,"$hasNormal",i),n}function tT(e,t,r){var n=function(){var i=arguments.length?r.apply(null,arguments):r({});i=i&&typeof i=="object"&&!Array.isArray(i)?[i]:qd(i);var o=i&&i[0];return i&&(!o||i.length===1&&o.isComment&&!Do(o))?void 0:i};return r.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function rT(e,t){return function(){return e[t]}}function nT(e,t){var r,n,i,o,a;if(Array.isArray(e)||typeof e=="string")for(r=new Array(e.length),n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);else if(typeof e=="number")for(r=new Array(e),n=0;n<e;n++)r[n]=t(n+1,n);else if(Ct(e))if(mu&&e[Symbol.iterator]){r=[];for(var s=e[Symbol.iterator](),c=s.next();!c.done;)r.push(t(c.value,r.length)),c=s.next()}else for(o=Object.keys(e),r=new Array(o.length),n=0,i=o.length;n<i;n++)a=o[n],r[n]=t(e[a],a,n);return G(r)||(r=[]),r._isVList=!0,r}function iT(e,t,r,n){var i=this.$scopedSlots[e],o;i?(r=r||{},n&&(r=De(De({},n),r)),o=i(r)||(typeof t=="function"?t():t)):o=this.$slots[e]||(typeof t=="function"?t():t);var a=r&&r.slot;return a?this.$createElement("template",{slot:a},o):o}function oT(e){return jd(this.$options,"filters",e)||pS}function Sp(e,t){return Array.isArray(e)?e.indexOf(t)===-1:e!==t}function aT(e,t,r,n,i){var o=fr.keyCodes[t]||r;return i&&n&&!fr.keyCodes[t]?Sp(i,n):o?Sp(o,e):n?na(n)!==t:e===void 0}function sT(e,t,r,n,i){if(r&&Ct(r)){Array.isArray(r)&&(r=hS(r));var o,a=function(c){if(c==="class"||c==="style"||w1(c))o=e;else{var u=e.attrs&&e.attrs.type;o=n||fr.mustUseProp(t,u,c)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var f=Zn(c),l=na(c);if(!(f in o)&&!(l in o)&&(o[c]=r[c],i)){var d=e.on||(e.on={});d["update:"+c]=function(h){r[c]=h}}};for(var s in r)a(s)}return e}function uT(e,t){var r=this._staticTrees||(this._staticTrees=[]),n=r[e];return n&&!t||(n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),xS(n,"__static__"+e,!1)),n}function cT(e,t,r){return xS(e,"__once__"+t+(r?"_"+r:""),!0),e}function xS(e,t,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&typeof e[n]!="string"&&Ep(e[n],t+"_"+n,r);else Ep(e,t,r)}function Ep(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function fT(e,t){if(t&&Gt(t)){var r=e.on=e.on?De({},e.on):{};for(var n in t){var i=r[n],o=t[n];r[n]=i?[].concat(i,o):o}}return e}function TS(e,t,r,n){t=t||{$stable:!r};for(var i=0;i<e.length;i++){var o=e[i];Array.isArray(o)?TS(o,t,r):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function lT(e,t){for(var r=0;r<t.length;r+=2){var n=t[r];typeof n=="string"&&n&&(e[t[r]]=t[r+1])}return e}function dT(e,t){return typeof e=="string"?t+e:e}function IS(e){e._o=cT,e._n=Ro,e._s=y1,e._l=nT,e._t=iT,e._q=ei,e._i=vS,e._m=uT,e._f=oT,e._k=aT,e._b=sT,e._v=Li,e._e=Jn,e._u=TS,e._g=fT,e._d=lT,e._p=dT}function Hd(e,t,r,n,i){var o=this,a=i.options,s;St(n,"_uid")?(s=Object.create(n),s._original=n):(s=n,n=n._original);var c=He(a._compiled),u=!c;this.data=e,this.props=t,this.children=r,this.parent=n,this.listeners=e.on||Br,this.injections=AS(a.inject,n),this.slots=function(){return o.$slots||ts(e.scopedSlots,o.$slots=Kd(r,n)),o.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ts(e.scopedSlots,this.slots())}}),c&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=ts(e.scopedSlots,this.$slots)),a._scopeId?this._c=function(f,l,d,h){var v=Rs(s,f,l,d,h,u);return v&&!Array.isArray(v)&&(v.fnScopeId=a._scopeId,v.fnContext=n),v}:this._c=function(f,l,d,h){return Rs(s,f,l,d,h,u)}}IS(Hd.prototype);function hT(e,t,r,n,i){var o=e.options,a={},s=o.props;if(G(s))for(var c in s)a[c]=$d(c,s,t||Br);else G(r.attrs)&&Ap(a,r.attrs),G(r.props)&&Ap(a,r.props);var u=new Hd(r,a,i,n,e),f=o.render.call(null,u._c,u);if(f instanceof Mt)return Cp(f,r,u.parent,o);if(Array.isArray(f)){for(var l=qd(f)||[],d=new Array(l.length),h=0;h<l.length;h++)d[h]=Cp(l[h],r,u.parent,o);return d}}function Cp(e,t,r,n,i){var o=yf(e);return o.fnContext=r,o.fnOptions=n,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Ap(e,t){for(var r in t)e[Zn(r)]=t[r]}var Gd={init:function(t,r){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Gd.prepatch(n,n)}else{var i=t.componentInstance=pT(t,Yn);i.$mount(r?t.elm:void 0,r)}},prepatch:function(t,r){var n=r.componentOptions,i=r.componentInstance=t.componentInstance;RT(i,n.propsData,n.listeners,r,n.children)},insert:function(t){var r=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,_r(n,"mounted")),t.data.keepAlive&&(r._isMounted?UT(n):Vd(n,!0))},destroy:function(t){var r=t.componentInstance;r._isDestroyed||(t.data.keepAlive?DS(r,!0):r.$destroy())}},xp=Object.keys(Gd);function Tp(e,t,r,n,i){if(!he(e)){var o=r.$options._base;if(Ct(e)&&(e=o.extend(e)),typeof e=="function"){var a;if(he(e.cid)&&(a=e,e=CT(a,o),e===void 0))return ET(a,t,r,n,i);t=t||{},Xd(e),G(t.model)&&mT(e.options,t);var s=Y1(t,e);if(He(e.options.functional))return hT(e,s,t,r,n);var c=t.on;if(t.on=t.nativeOn,He(e.options.abstract)){var u=t.slot;t={},u&&(t.slot=u)}vT(t);var f=e.options.name||i,l=new Mt("vue-component-"+e.cid+(f?"-"+f:""),t,void 0,void 0,void 0,r,{Ctor:e,propsData:s,listeners:c,tag:i,children:n},a);return l}}}function pT(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return G(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(r)}function vT(e){for(var t=e.hook||(e.hook={}),r=0;r<xp.length;r++){var n=xp[r],i=t[n],o=Gd[n];i!==o&&!(i&&i._merged)&&(t[n]=i?gT(o,i):o)}}function gT(e,t){var r=function(n,i){e(n,i),t(n,i)};return r._merged=!0,r}function mT(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[r]=t.model.value;var i=t.on||(t.on={}),o=i[n],a=t.model.callback;G(o)?(Array.isArray(o)?o.indexOf(a)===-1:o!==a)&&(i[n]=[a].concat(o)):i[n]=a}var yT=1,OS=2;function Rs(e,t,r,n,i,o){return(Array.isArray(r)||ra(r))&&(i=n,n=r,r=void 0),He(o)&&(i=OS),wT(e,t,r,n,i)}function wT(e,t,r,n,i){if(G(r)&&G(r.__ob__)||(G(r)&&G(r.is)&&(t=r.is),!t))return Jn();Array.isArray(n)&&typeof n[0]=="function"&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),i===OS?n=qd(n):i===yT&&(n=X1(n));var o,a;if(typeof t=="string"){var s;a=e.$vnode&&e.$vnode.ns||fr.getTagNamespace(t),fr.isReservedTag(t)?o=new Mt(fr.parsePlatformTagName(t),r,n,void 0,void 0,e):(!r||!r.pre)&&G(s=jd(e.$options,"components",t))?o=Tp(s,r,e,n,t):o=new Mt(t,r,n,void 0,void 0,e)}else o=Tp(t,r,e,n);return Array.isArray(o)?o:G(o)?(G(a)&&kS(o,a),G(r)&&bT(r),o):Jn()}function kS(e,t,r){if(e.ns=t,e.tag==="foreignObject"&&(t=void 0,r=!0),G(e.children))for(var n=0,i=e.children.length;n<i;n++){var o=e.children[n];G(o.tag)&&(he(o.ns)||He(r)&&o.tag!=="svg")&&kS(o,t,r)}}function bT(e){Ct(e.style)&&Ns(e.style),Ct(e.class)&&Ns(e.class)}function _T(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,n=r&&r.context;e.$slots=Kd(t._renderChildren,n),e.$scopedSlots=Br,e._c=function(o,a,s,c){return Rs(e,o,a,s,c,!1)},e.$createElement=function(o,a,s,c){return Rs(e,o,a,s,c,!0)};var i=r&&r.data;ri(e,"$attrs",i&&i.attrs||Br,null,!0),ri(e,"$listeners",t._parentListeners||Br,null,!0)}var Tf=null;function ST(e){IS(e.prototype),e.prototype.$nextTick=function(t){return zd(t,this)},e.prototype._render=function(){var t=this,r=t.$options,n=r.render,i=r._parentVnode;i&&(t.$scopedSlots=ts(i.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=i;var o;try{Tf=t,o=n.call(t._renderProxy,t.$createElement)}catch(a){ii(a,t,"render"),o=t._vnode}finally{Tf=null}return Array.isArray(o)&&o.length===1&&(o=o[0]),o instanceof Mt||(o=Jn()),o.parent=i,o}}function dc(e,t){return(e.__esModule||mu&&e[Symbol.toStringTag]==="Module")&&(e=e.default),Ct(e)?t.extend(e):e}function ET(e,t,r,n,i){var o=Jn();return o.asyncFactory=e,o.asyncMeta={data:t,context:r,children:n,tag:i},o}function CT(e,t){if(He(e.error)&&G(e.errorComp))return e.errorComp;if(G(e.resolved))return e.resolved;var r=Tf;if(r&&G(e.owners)&&e.owners.indexOf(r)===-1&&e.owners.push(r),He(e.loading)&&G(e.loadingComp))return e.loadingComp;if(r&&!G(e.owners)){var n=e.owners=[r],i=!0,o=null,a=null;r.$on("hook:destroyed",function(){return nn(n,r)});var s=function(l){for(var d=0,h=n.length;d<h;d++)n[d].$forceUpdate();l&&(n.length=0,o!==null&&(clearTimeout(o),o=null),a!==null&&(clearTimeout(a),a=null))},c=Is(function(l){e.resolved=dc(l,t),i?n.length=0:s(!0)}),u=Is(function(l){G(e.errorComp)&&(e.error=!0,s(!0))}),f=e(c,u);return Ct(f)&&(vf(f)?he(e.resolved)&&f.then(c,u):vf(f.component)&&(f.component.then(c,u),G(f.error)&&(e.errorComp=dc(f.error,t)),G(f.loading)&&(e.loadingComp=dc(f.loading,t),f.delay===0?e.loading=!0:o=setTimeout(function(){o=null,he(e.resolved)&&he(e.error)&&(e.loading=!0,s(!1))},f.delay||200)),G(f.timeout)&&(a=setTimeout(function(){a=null,he(e.resolved)&&u(null)},f.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function PS(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(G(r)&&(G(r.componentOptions)||Do(r)))return r}}function AT(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&NS(e,t)}var Lo;function xT(e,t){Lo.$on(e,t)}function TT(e,t){Lo.$off(e,t)}function IT(e,t){var r=Lo;return function n(){var i=t.apply(null,arguments);i!==null&&r.$off(e,n)}}function NS(e,t,r){Lo=e,ES(t,r||{},xT,TT,IT,e),Lo=void 0}function OT(e){var t=/^hook:/;e.prototype.$on=function(r,n){var i=this;if(Array.isArray(r))for(var o=0,a=r.length;o<a;o++)i.$on(r[o],n);else(i._events[r]||(i._events[r]=[])).push(n),t.test(r)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(r,n){var i=this;function o(){i.$off(r,o),n.apply(i,arguments)}return o.fn=n,i.$on(r,o),i},e.prototype.$off=function(r,n){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(r)){for(var o=0,a=r.length;o<a;o++)i.$off(r[o],n);return i}var s=i._events[r];if(!s)return i;if(!n)return i._events[r]=null,i;for(var c,u=s.length;u--;)if(c=s[u],c===n||c.fn===n){s.splice(u,1);break}return i},e.prototype.$emit=function(r){var n=this,i=n._events[r];if(i){i=i.length>1?gf(i):i;for(var o=gf(arguments,1),a='event handler for "'+r+'"',s=0,c=i.length;s<c;s++)Hi(i[s],n,o,n,a)}return n}}var Yn=null;function RS(e){var t=Yn;return Yn=e,function(){Yn=t}}function kT(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function PT(e){e.prototype._update=function(t,r){var n=this,i=n.$el,o=n._vnode,a=RS(n);n._vnode=t,o?n.$el=n.__patch__(o,t):n.$el=n.__patch__(n.$el,t,r,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},e.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){_r(t,"beforeDestroy"),t._isBeingDestroyed=!0;var r=t.$parent;r&&!r._isBeingDestroyed&&!t.$options.abstract&&nn(r.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),_r(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function NT(e,t,r){e.$el=t,e.$options.render||(e.$options.render=Jn),_r(e,"beforeMount");var n;return n=function(){e._update(e._render(),r)},new xr(e,n,Rt,{before:function(){e._isMounted&&!e._isDestroyed&&_r(e,"beforeUpdate")}},!0),r=!1,e.$vnode==null&&(e._isMounted=!0,_r(e,"mounted")),e}function RT(e,t,r,n,i){var o=n.data.scopedSlots,a=e.$scopedSlots,s=!!(o&&!o.$stable||a!==Br&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key||!o&&e.$scopedSlots.$key),c=!!(i||e.$options._renderChildren||s);if(e.$options._parentVnode=n,e.$vnode=n,e._vnode&&(e._vnode.parent=n),e.$options._renderChildren=i,e.$attrs=n.data.attrs||Br,e.$listeners=r||Br,t&&e.$options.props){On(!1);for(var u=e._props,f=e.$options._propKeys||[],l=0;l<f.length;l++){var d=f[l],h=e.$options.props;u[d]=$d(d,h,t,e)}On(!0),e.$options.propsData=t}r=r||Br;var v=e.$options._parentListeners;e.$options._parentListeners=r,NS(e,r,v),c&&(e.$slots=Kd(i,n.context),e.$forceUpdate())}function MS(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Vd(e,t){if(t){if(e._directInactive=!1,MS(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(var r=0;r<e.$children.length;r++)Vd(e.$children[r]);_r(e,"activated")}}function DS(e,t){if(!(t&&(e._directInactive=!0,MS(e)))&&!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)DS(e.$children[r]);_r(e,"deactivated")}}function _r(e,t){ia();var r=e.$options[t],n=t+" hook";if(r)for(var i=0,o=r.length;i<o;i++)Hi(r[i],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),oa()}var Zr=[],Wd=[],Ms={},If=!1,Jd=!1,Ui=0;function MT(){Ui=Zr.length=Wd.length=0,Ms={},If=Jd=!1}var LS=0,Of=Date.now;if(Vt&&!Xi){var hc=window.performance;hc&&typeof hc.now=="function"&&Of()>document.createEvent("Event").timeStamp&&(Of=function(){return hc.now()})}function DT(){LS=Of(),Jd=!0;var e,t;for(Zr.sort(function(i,o){return i.id-o.id}),Ui=0;Ui<Zr.length;Ui++)e=Zr[Ui],e.before&&e.before(),t=e.id,Ms[t]=null,e.run();var r=Wd.slice(),n=Zr.slice();MT(),BT(r),LT(n),Os&&fr.devtools&&Os.emit("flush")}function LT(e){for(var t=e.length;t--;){var r=e[t],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&_r(n,"updated")}}function UT(e){e._inactive=!1,Wd.push(e)}function BT(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Vd(e[t],!0)}function FT(e){var t=e.id;if(Ms[t]==null){if(Ms[t]=!0,!Jd)Zr.push(e);else{for(var r=Zr.length-1;r>Ui&&Zr[r].id>e.id;)r--;Zr.splice(r+1,0,e)}If||(If=!0,zd(DT))}}var jT=0,xr=function(t,r,n,i,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++jT,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Mo,this.newDepIds=new Mo,this.expression="",typeof r=="function"?this.getter=r:(this.getter=k1(r),this.getter||(this.getter=Rt)),this.value=this.lazy?void 0:this.get()};xr.prototype.get=function(){ia(this);var t,r=this.vm;try{t=this.getter.call(r,r)}catch(n){if(this.user)ii(n,r,'getter for watcher "'+this.expression+'"');else throw n}finally{this.deep&&Ns(t),oa(),this.cleanupDeps()}return t};xr.prototype.addDep=function(t){var r=t.id;this.newDepIds.has(r)||(this.newDepIds.add(r),this.newDeps.push(t),this.depIds.has(r)||t.addSub(this))};xr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var r=this.deps[t];this.newDepIds.has(r.id)||r.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0};xr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():FT(this)};xr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||Ct(t)||this.deep){var r=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';Hi(this.cb,this.vm,[t,r],this.vm,n)}else this.cb.call(this.vm,t,r)}}};xr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1};xr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()};xr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||nn(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var wn={enumerable:!0,configurable:!0,get:Rt,set:Rt};function Yd(e,t,r){wn.get=function(){return this[t][r]},wn.set=function(i){this[t][r]=i},Object.defineProperty(e,r,wn)}function $T(e){e._watchers=[];var t=e.$options;t.props&&zT(e,t.props),t.methods&&VT(e,t.methods),t.data?qT(e):ti(e._data={},!0),t.computed&&GT(e,t.computed),t.watch&&t.watch!==mf&&WT(e,t.watch)}function zT(e,t){var r=e.$options.propsData||{},n=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||On(!1);var a=function(c){i.push(c);var u=$d(c,t,r,e);ri(n,c,u),c in e||Yd(e,"_props",c)};for(var s in t)a(s);On(!0)}function qT(e){var t=e.$options.data;t=e._data=typeof t=="function"?KT(t,e):t||{},Gt(t)||(t={});var r=Object.keys(t),n=e.$options.props;e.$options.methods;for(var i=r.length;i--;){var o=r[i];n&&St(n,o)||I1(o)||Yd(e,"_data",o)}ti(t,!0)}function KT(e,t){ia();try{return e.call(t,t)}catch(r){return ii(r,t,"data()"),{}}finally{oa()}}var HT={lazy:!0};function GT(e,t){var r=e._computedWatchers=Object.create(null),n=gu();for(var i in t){var o=t[i],a=typeof o=="function"?o:o.get;n||(r[i]=new xr(e,a||Rt,Rt,HT)),i in e||US(e,i,o)}}function US(e,t,r){var n=!gu();typeof r=="function"?(wn.get=n?Ip(t):Op(r),wn.set=Rt):(wn.get=r.get?n&&r.cache!==!1?Ip(t):Op(r.get):Rt,wn.set=r.set||Rt),Object.defineProperty(e,t,wn)}function Ip(e){return function(){var r=this._computedWatchers&&this._computedWatchers[e];if(r)return r.dirty&&r.evaluate(),Ht.target&&r.depend(),r.value}}function Op(e){return function(){return e.call(this,this)}}function VT(e,t){e.$options.props;for(var r in t)e[r]=typeof t[r]!="function"?Rt:x1(t[r],e)}function WT(e,t){for(var r in t){var n=t[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)kf(e,r,n[i]);else kf(e,r,n)}}function kf(e,t,r,n){return Gt(r)&&(n=r,r=r.handler),typeof r=="string"&&(r=e[r]),e.$watch(t,r,n)}function JT(e){var t={};t.get=function(){return this._data};var r={};r.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=Fd,e.prototype.$delete=_S,e.prototype.$watch=function(n,i,o){var a=this;if(Gt(i))return kf(a,n,i,o);o=o||{},o.user=!0;var s=new xr(a,n,i,o);if(o.immediate){var c='callback for immediate watcher "'+s.expression+'"';ia(),Hi(i,a,[s.value],a,c),oa()}return function(){s.teardown()}}}var YT=0;function XT(e){e.prototype._init=function(t){var r=this;r._uid=YT++,r._isVue=!0,t&&t._isComponent?QT(r,t):r.$options=ni(Xd(r.constructor),t||{},r),r._renderProxy=r,r._self=r,kT(r),AT(r),_T(r),_r(r,"beforeCreate"),Z1(r),$T(r),Q1(r),_r(r,"created"),r.$options.el&&r.$mount(r.$options.el)}}function QT(e,t){var r=e.$options=Object.create(e.constructor.options),n=t._parentVnode;r.parent=t.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}function Xd(e){var t=e.options;if(e.super){var r=Xd(e.super),n=e.superOptions;if(r!==n){e.superOptions=r;var i=ZT(e);i&&De(e.extendOptions,i),t=e.options=ni(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function ZT(e){var t,r=e.options,n=e.sealedOptions;for(var i in r)r[i]!==n[i]&&(t||(t={}),t[i]=r[i]);return t}function ze(e){this._init(e)}XT(ze);JT(ze);OT(ze);PT(ze);ST(ze);function eI(e){e.use=function(t){var r=this._installedPlugins||(this._installedPlugins=[]);if(r.indexOf(t)>-1)return this;var n=gf(arguments,1);return n.unshift(this),typeof t.install=="function"?t.install.apply(t,n):typeof t=="function"&&t.apply(null,n),r.push(t),this}}function tI(e){e.mixin=function(t){return this.options=ni(this.options,t),this}}function rI(e){e.cid=0;var t=1;e.extend=function(r){r=r||{};var n=this,i=n.cid,o=r._Ctor||(r._Ctor={});if(o[i])return o[i];var a=r.name||n.options.name,s=function(u){this._init(u)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=ni(n.options,r),s.super=n,s.options.props&&nI(s),s.options.computed&&iI(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,vu.forEach(function(c){s[c]=n[c]}),a&&(s.options.components[a]=s),s.superOptions=n.options,s.extendOptions=r,s.sealedOptions=De({},s.options),o[i]=s,s}}function nI(e){var t=e.options.props;for(var r in t)Yd(e.prototype,"_props",r)}function iI(e){var t=e.options.computed;for(var r in t)US(e.prototype,r,t[r])}function oI(e){vu.forEach(function(t){e[t]=function(r,n){return n?(t==="component"&&Gt(n)&&(n.name=n.name||r,n=this.options._base.extend(n)),t==="directive"&&typeof n=="function"&&(n={bind:n,update:n}),this.options[t+"s"][r]=n,n):this.options[t+"s"][r]}})}function kp(e){return e&&(e.Ctor.options.name||e.tag)}function ba(e,t){return Array.isArray(e)?e.indexOf(t)>-1:typeof e=="string"?e.split(",").indexOf(t)>-1:m1(e)?e.test(t):!1}function Pp(e,t){var r=e.cache,n=e.keys,i=e._vnode;for(var o in r){var a=r[o];if(a){var s=a.name;s&&!t(s)&&Pf(r,o,n,i)}}}function Pf(e,t,r,n){var i=e[t];i&&(!n||i.tag!==n.tag)&&i.componentInstance.$destroy(),e[t]=null,nn(r,t)}var Np=[String,RegExp,Array],aI={name:"keep-alive",abstract:!0,props:{include:Np,exclude:Np,max:[String,Number]},methods:{cacheVNode:function(){var t=this,r=t.cache,n=t.keys,i=t.vnodeToCache,o=t.keyToCache;if(i){var a=i.tag,s=i.componentInstance,c=i.componentOptions;r[o]={name:kp(c),tag:a,componentInstance:s},n.push(o),this.max&&n.length>parseInt(this.max)&&Pf(r,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Pf(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",function(r){Pp(t,function(n){return ba(r,n)})}),this.$watch("exclude",function(r){Pp(t,function(n){return!ba(r,n)})})},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,r=PS(t),n=r&&r.componentOptions;if(n){var i=kp(n),o=this,a=o.include,s=o.exclude;if(a&&(!i||!ba(a,i))||s&&i&&ba(s,i))return r;var c=this,u=c.cache,f=c.keys,l=r.key==null?n.Ctor.cid+(n.tag?"::"+n.tag:""):r.key;u[l]?(r.componentInstance=u[l].componentInstance,nn(f,l),f.push(l)):(this.vnodeToCache=r,this.keyToCache=l),r.data.keepAlive=!0}return r||t&&t[0]}},sI={KeepAlive:aI};function uI(e){var t={};t.get=function(){return fr},Object.defineProperty(e,"config",t),e.util={warn:R1,extend:De,mergeOptions:ni,defineReactive:ri},e.set=Fd,e.delete=_S,e.nextTick=zd,e.observable=function(r){return ti(r),r},e.options=Object.create(null),vu.forEach(function(r){e.options[r+"s"]=Object.create(null)}),e.options._base=e,De(e.options.components,sI),eI(e),tI(e),rI(e),oI(e)}uI(ze);Object.defineProperty(ze.prototype,"$isServer",{get:gu});Object.defineProperty(ze.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(ze,"FunctionalRenderContext",{value:Hd});ze.version="2.6.14";var cI=Ar("style,class"),fI=Ar("input,textarea,option,select,progress"),lI=function(e,t,r){return r==="value"&&fI(e)&&t!=="button"||r==="selected"&&e==="option"||r==="checked"&&e==="input"||r==="muted"&&e==="video"},BS=Ar("contenteditable,draggable,spellcheck"),dI=Ar("events,caret,typing,plaintext-only"),hI=function(e,t){return Ds(t)||t==="false"?"false":e==="contenteditable"&&dI(t)?t:"true"},pI=Ar("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Nf="http://www.w3.org/1999/xlink",Qd=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"},FS=function(e){return Qd(e)?e.slice(6,e.length):""},Ds=function(e){return e==null||e===!1};function vI(e){for(var t=e.data,r=e,n=e;G(n.componentInstance);)n=n.componentInstance._vnode,n&&n.data&&(t=Rp(n.data,t));for(;G(r=r.parent);)r&&r.data&&(t=Rp(t,r.data));return gI(t.staticClass,t.class)}function Rp(e,t){return{staticClass:Zd(e.staticClass,t.staticClass),class:G(e.class)?[e.class,t.class]:t.class}}function gI(e,t){return G(e)||G(t)?Zd(e,eh(t)):""}function Zd(e,t){return e?t?e+" "+t:e:t||""}function eh(e){return Array.isArray(e)?mI(e):Ct(e)?yI(e):typeof e=="string"?e:""}function mI(e){for(var t="",r,n=0,i=e.length;n<i;n++)G(r=eh(e[n]))&&r!==""&&(t&&(t+=" "),t+=r);return t}function yI(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}var wI={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},bI=Ar("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),th=Ar("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),jS=function(e){return bI(e)||th(e)};function _I(e){if(th(e))return"svg";if(e==="math")return"math"}var _a=Object.create(null);function SI(e){if(!Vt)return!0;if(jS(e))return!1;if(e=e.toLowerCase(),_a[e]!=null)return _a[e];var t=document.createElement(e);return e.indexOf("-")>-1?_a[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:_a[e]=/HTMLUnknownElement/.test(t.toString())}var Rf=Ar("text,number,password,search,email,tel,url");function EI(e){if(typeof e=="string"){var t=document.querySelector(e);return t||document.createElement("div")}else return e}function CI(e,t){var r=document.createElement(e);return e!=="select"||t.data&&t.data.attrs&&t.data.attrs.multiple!==void 0&&r.setAttribute("multiple","multiple"),r}function AI(e,t){return document.createElementNS(wI[e],t)}function xI(e){return document.createTextNode(e)}function TI(e){return document.createComment(e)}function II(e,t,r){e.insertBefore(t,r)}function OI(e,t){e.removeChild(t)}function kI(e,t){e.appendChild(t)}function PI(e){return e.parentNode}function NI(e){return e.nextSibling}function RI(e){return e.tagName}function MI(e,t){e.textContent=t}function DI(e,t){e.setAttribute(t,"")}var LI=Object.freeze({createElement:CI,createElementNS:AI,createTextNode:xI,createComment:TI,insertBefore:II,removeChild:OI,appendChild:kI,parentNode:PI,nextSibling:NI,tagName:RI,setTextContent:MI,setStyleScope:DI}),UI={create:function(t,r){Bi(r)},update:function(t,r){t.data.ref!==r.data.ref&&(Bi(t,!0),Bi(r))},destroy:function(t){Bi(t,!0)}};function Bi(e,t){var r=e.data.ref;if(!!G(r)){var n=e.context,i=e.componentInstance||e.elm,o=n.$refs;t?Array.isArray(o[r])?nn(o[r],i):o[r]===i&&(o[r]=void 0):e.data.refInFor?Array.isArray(o[r])?o[r].indexOf(i)<0&&o[r].push(i):o[r]=[i]:o[r]=i}}var Hn=new Mt("",{},[]),oo=["create","activate","update","remove","destroy"];function Dn(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&G(e.data)===G(t.data)&&BI(e,t)||He(e.isAsyncPlaceholder)&&he(t.asyncFactory.error))}function BI(e,t){if(e.tag!=="input")return!0;var r,n=G(r=e.data)&&G(r=r.attrs)&&r.type,i=G(r=t.data)&&G(r=r.attrs)&&r.type;return n===i||Rf(n)&&Rf(i)}function FI(e,t,r){var n,i,o={};for(n=t;n<=r;++n)i=e[n].key,G(i)&&(o[i]=n);return o}function jI(e){var t,r,n={},i=e.modules,o=e.nodeOps;for(t=0;t<oo.length;++t)for(n[oo[t]]=[],r=0;r<i.length;++r)G(i[r][oo[t]])&&n[oo[t]].push(i[r][oo[t]]);function a(A){return new Mt(o.tagName(A).toLowerCase(),{},[],void 0,A)}function s(A,m){function b(){--b.listeners===0&&c(A)}return b.listeners=m,b}function c(A){var m=o.parentNode(A);G(m)&&o.removeChild(m,A)}function u(A,m,b,C,M,z,$){if(G(A.elm)&&G(z)&&(A=z[$]=yf(A)),A.isRootInsert=!M,!f(A,m,b,C)){var q=A.data,H=A.children,L=A.tag;G(L)?(A.elm=A.ns?o.createElementNS(A.ns,L):o.createElement(L,A),E(A),v(A,H,m),G(q)&&_(A,m),h(b,A.elm,C)):He(A.isComment)?(A.elm=o.createComment(A.text),h(b,A.elm,C)):(A.elm=o.createTextNode(A.text),h(b,A.elm,C))}}function f(A,m,b,C){var M=A.data;if(G(M)){var z=G(A.componentInstance)&&M.keepAlive;if(G(M=M.hook)&&G(M=M.init)&&M(A,!1),G(A.componentInstance))return l(A,m),h(b,A.elm,C),He(z)&&d(A,m,b,C),!0}}function l(A,m){G(A.data.pendingInsert)&&(m.push.apply(m,A.data.pendingInsert),A.data.pendingInsert=null),A.elm=A.componentInstance.$el,g(A)?(_(A,m),E(A)):(Bi(A),m.push(A))}function d(A,m,b,C){for(var M,z=A;z.componentInstance;)if(z=z.componentInstance._vnode,G(M=z.data)&&G(M=M.transition)){for(M=0;M<n.activate.length;++M)n.activate[M](Hn,z);m.push(z);break}h(b,A.elm,C)}function h(A,m,b){G(A)&&(G(b)?o.parentNode(b)===A&&o.insertBefore(A,m,b):o.appendChild(A,m))}function v(A,m,b){if(Array.isArray(m))for(var C=0;C<m.length;++C)u(m[C],b,A.elm,null,!0,m,C);else ra(A.text)&&o.appendChild(A.elm,o.createTextNode(String(A.text)))}function g(A){for(;A.componentInstance;)A=A.componentInstance._vnode;return G(A.tag)}function _(A,m){for(var b=0;b<n.create.length;++b)n.create[b](Hn,A);t=A.data.hook,G(t)&&(G(t.create)&&t.create(Hn,A),G(t.insert)&&m.push(A))}function E(A){var m;if(G(m=A.fnScopeId))o.setStyleScope(A.elm,m);else for(var b=A;b;)G(m=b.context)&&G(m=m.$options._scopeId)&&o.setStyleScope(A.elm,m),b=b.parent;G(m=Yn)&&m!==A.context&&m!==A.fnContext&&G(m=m.$options._scopeId)&&o.setStyleScope(A.elm,m)}function S(A,m,b,C,M,z){for(;C<=M;++C)u(b[C],z,A,m,!1,b,C)}function T(A){var m,b,C=A.data;if(G(C))for(G(m=C.hook)&&G(m=m.destroy)&&m(A),m=0;m<n.destroy.length;++m)n.destroy[m](A);if(G(m=A.children))for(b=0;b<A.children.length;++b)T(A.children[b])}function R(A,m,b){for(;m<=b;++m){var C=A[m];G(C)&&(G(C.tag)?(P(C),T(C)):c(C.elm))}}function P(A,m){if(G(m)||G(A.data)){var b,C=n.remove.length+1;for(G(m)?m.listeners+=C:m=s(A.elm,C),G(b=A.componentInstance)&&G(b=b._vnode)&&G(b.data)&&P(b,m),b=0;b<n.remove.length;++b)n.remove[b](A,m);G(b=A.data.hook)&&G(b=b.remove)?b(A,m):m()}else c(A.elm)}function U(A,m,b,C,M){for(var z=0,$=0,q=m.length-1,H=m[0],L=m[q],V=b.length-1,Q=b[0],D=b[V],ce,ae,me,de,Oe=!M;z<=q&&$<=V;)he(H)?H=m[++z]:he(L)?L=m[--q]:Dn(H,Q)?(j(H,Q,C,b,$),H=m[++z],Q=b[++$]):Dn(L,D)?(j(L,D,C,b,V),L=m[--q],D=b[--V]):Dn(H,D)?(j(H,D,C,b,V),Oe&&o.insertBefore(A,H.elm,o.nextSibling(L.elm)),H=m[++z],D=b[--V]):Dn(L,Q)?(j(L,Q,C,b,$),Oe&&o.insertBefore(A,L.elm,H.elm),L=m[--q],Q=b[++$]):(he(ce)&&(ce=FI(m,z,q)),ae=G(Q.key)?ce[Q.key]:W(Q,m,z,q),he(ae)?u(Q,C,A,H.elm,!1,b,$):(me=m[ae],Dn(me,Q)?(j(me,Q,C,b,$),m[ae]=void 0,Oe&&o.insertBefore(A,me.elm,H.elm)):u(Q,C,A,H.elm,!1,b,$)),Q=b[++$]);z>q?(de=he(b[V+1])?null:b[V+1].elm,S(A,de,b,$,V,C)):$>V&&R(m,z,q)}function W(A,m,b,C){for(var M=b;M<C;M++){var z=m[M];if(G(z)&&Dn(A,z))return M}}function j(A,m,b,C,M,z){if(A!==m){G(m.elm)&&G(C)&&(m=C[M]=yf(m));var $=m.elm=A.elm;if(He(A.isAsyncPlaceholder)){G(m.asyncFactory.resolved)?B(A.elm,m,b):m.isAsyncPlaceholder=!0;return}if(He(m.isStatic)&&He(A.isStatic)&&m.key===A.key&&(He(m.isCloned)||He(m.isOnce))){m.componentInstance=A.componentInstance;return}var q,H=m.data;G(H)&&G(q=H.hook)&&G(q=q.prepatch)&&q(A,m);var L=A.children,V=m.children;if(G(H)&&g(m)){for(q=0;q<n.update.length;++q)n.update[q](A,m);G(q=H.hook)&&G(q=q.update)&&q(A,m)}he(m.text)?G(L)&&G(V)?L!==V&&U($,L,V,b,z):G(V)?(G(A.text)&&o.setTextContent($,""),S($,null,V,0,V.length-1,b)):G(L)?R(L,0,L.length-1):G(A.text)&&o.setTextContent($,""):A.text!==m.text&&o.setTextContent($,m.text),G(H)&&G(q=H.hook)&&G(q=q.postpatch)&&q(A,m)}}function te(A,m,b){if(He(b)&&G(A.parent))A.parent.data.pendingInsert=m;else for(var C=0;C<m.length;++C)m[C].data.hook.insert(m[C])}var k=Ar("attrs,class,staticClass,staticStyle,key");function B(A,m,b,C){var M,z=m.tag,$=m.data,q=m.children;if(C=C||$&&$.pre,m.elm=A,He(m.isComment)&&G(m.asyncFactory))return m.isAsyncPlaceholder=!0,!0;if(G($)&&(G(M=$.hook)&&G(M=M.init)&&M(m,!0),G(M=m.componentInstance)))return l(m,b),!0;if(G(z)){if(G(q))if(!A.hasChildNodes())v(m,q,b);else if(G(M=$)&&G(M=M.domProps)&&G(M=M.innerHTML)){if(M!==A.innerHTML)return!1}else{for(var H=!0,L=A.firstChild,V=0;V<q.length;V++){if(!L||!B(L,q[V],b,C)){H=!1;break}L=L.nextSibling}if(!H||L)return!1}if(G($)){var Q=!1;for(var D in $)if(!k(D)){Q=!0,_(m,b);break}!Q&&$.class&&Ns($.class)}}else A.data!==m.text&&(A.data=m.text);return!0}return function(m,b,C,M){if(he(b)){G(m)&&T(m);return}var z=!1,$=[];if(he(m))z=!0,u(b,$);else{var q=G(m.nodeType);if(!q&&Dn(m,b))j(m,b,$,null,null,M);else{if(q){if(m.nodeType===1&&m.hasAttribute(lp)&&(m.removeAttribute(lp),C=!0),He(C)&&B(m,b,$))return te(b,$,!0),m;m=a(m)}var H=m.elm,L=o.parentNode(H);if(u(b,$,H._leaveCb?null:L,o.nextSibling(H)),G(b.parent))for(var V=b.parent,Q=g(b);V;){for(var D=0;D<n.destroy.length;++D)n.destroy[D](V);if(V.elm=b.elm,Q){for(var ce=0;ce<n.create.length;++ce)n.create[ce](Hn,V);var ae=V.data.hook.insert;if(ae.merged)for(var me=1;me<ae.fns.length;me++)ae.fns[me]()}else Bi(V);V=V.parent}G(L)?R([m],0,0):G(m.tag)&&T(m)}}return te(b,$,z),b.elm}}var $I={create:pc,update:pc,destroy:function(t){pc(t,Hn)}};function pc(e,t){(e.data.directives||t.data.directives)&&zI(e,t)}function zI(e,t){var r=e===Hn,n=t===Hn,i=Mp(e.data.directives,e.context),o=Mp(t.data.directives,t.context),a=[],s=[],c,u,f;for(c in o)u=i[c],f=o[c],u?(f.oldValue=u.value,f.oldArg=u.arg,ao(f,"update",t,e),f.def&&f.def.componentUpdated&&s.push(f)):(ao(f,"bind",t,e),f.def&&f.def.inserted&&a.push(f));if(a.length){var l=function(){for(var d=0;d<a.length;d++)ao(a[d],"inserted",t,e)};r?_n(t,"insert",l):l()}if(s.length&&_n(t,"postpatch",function(){for(var d=0;d<s.length;d++)ao(s[d],"componentUpdated",t,e)}),!r)for(c in i)o[c]||ao(i[c],"unbind",e,e,n)}var qI=Object.create(null);function Mp(e,t){var r=Object.create(null);if(!e)return r;var n,i;for(n=0;n<e.length;n++)i=e[n],i.modifiers||(i.modifiers=qI),r[KI(i)]=i,i.def=jd(t.$options,"directives",i.name);return r}function KI(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function ao(e,t,r,n,i){var o=e.def&&e.def[t];if(o)try{o(r.elm,e,r,n,i)}catch(a){ii(a,r.context,"directive "+e.name+" "+t+" hook")}}var HI=[UI,$I];function Dp(e,t){var r=t.componentOptions;if(!(G(r)&&r.Ctor.options.inheritAttrs===!1)&&!(he(e.data.attrs)&&he(t.data.attrs))){var n,i,o,a=t.elm,s=e.data.attrs||{},c=t.data.attrs||{};G(c.__ob__)&&(c=t.data.attrs=De({},c));for(n in c)i=c[n],o=s[n],o!==i&&Lp(a,n,i,t.data.pre);(Xi||Ud)&&c.value!==s.value&&Lp(a,"value",c.value);for(n in s)he(c[n])&&(Qd(n)?a.removeAttributeNS(Nf,FS(n)):BS(n)||a.removeAttribute(n))}}function Lp(e,t,r,n){n||e.tagName.indexOf("-")>-1?Up(e,t,r):pI(t)?Ds(r)?e.removeAttribute(t):(r=t==="allowfullscreen"&&e.tagName==="EMBED"?"true":t,e.setAttribute(t,r)):BS(t)?e.setAttribute(t,hI(t,r)):Qd(t)?Ds(r)?e.removeAttributeNS(Nf,FS(t)):e.setAttributeNS(Nf,t,r):Up(e,t,r)}function Up(e,t,r){if(Ds(r))e.removeAttribute(t);else{if(Xi&&!Qi&&e.tagName==="TEXTAREA"&&t==="placeholder"&&r!==""&&!e.__ieph){var n=function(i){i.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,r)}}var GI={create:Dp,update:Dp};function Bp(e,t){var r=t.elm,n=t.data,i=e.data;if(!(he(n.staticClass)&&he(n.class)&&(he(i)||he(i.staticClass)&&he(i.class)))){var o=vI(t),a=r._transitionClasses;G(a)&&(o=Zd(o,eh(a))),o!==r._prevClass&&(r.setAttribute("class",o),r._prevClass=o)}}var VI={create:Bp,update:Bp},vc="__r",gc="__c";function WI(e){if(G(e[vc])){var t=Xi?"change":"input";e[t]=[].concat(e[vc],e[t]||[]),delete e[vc]}G(e[gc])&&(e.change=[].concat(e[gc],e.change||[]),delete e[gc])}var Uo;function JI(e,t,r){var n=Uo;return function i(){var o=t.apply(null,arguments);o!==null&&$S(e,i,r,n)}}var YI=Sf&&!(dp&&Number(dp[1])<=53);function XI(e,t,r,n){if(YI){var i=LS,o=t;t=o._wrapper=function(a){if(a.target===a.currentTarget||a.timeStamp>=i||a.timeStamp<=0||a.target.ownerDocument!==document)return o.apply(this,arguments)}}Uo.addEventListener(e,t,yS?{capture:r,passive:n}:r)}function $S(e,t,r,n){(n||Uo).removeEventListener(e,t._wrapper||t,r)}function Fp(e,t){if(!(he(e.data.on)&&he(t.data.on))){var r=t.data.on||{},n=e.data.on||{};Uo=t.elm,WI(r),ES(r,n,XI,$S,JI,t.context),Uo=void 0}}var QI={create:Fp,update:Fp},Sa;function jp(e,t){if(!(he(e.data.domProps)&&he(t.data.domProps))){var r,n,i=t.elm,o=e.data.domProps||{},a=t.data.domProps||{};G(a.__ob__)&&(a=t.data.domProps=De({},a));for(r in o)r in a||(i[r]="");for(r in a){if(n=a[r],r==="textContent"||r==="innerHTML"){if(t.children&&(t.children.length=0),n===o[r])continue;i.childNodes.length===1&&i.removeChild(i.childNodes[0])}if(r==="value"&&i.tagName!=="PROGRESS"){i._value=n;var s=he(n)?"":String(n);ZI(i,s)&&(i.value=s)}else if(r==="innerHTML"&&th(i.tagName)&&he(i.innerHTML)){Sa=Sa||document.createElement("div"),Sa.innerHTML="<svg>"+n+"</svg>";for(var c=Sa.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}else if(n!==o[r])try{i[r]=n}catch{}}}}function ZI(e,t){return!e.composing&&(e.tagName==="OPTION"||eO(e,t)||tO(e,t))}function eO(e,t){var r=!0;try{r=document.activeElement!==e}catch{}return r&&e.value!==t}function tO(e,t){var r=e.value,n=e._vModifiers;if(G(n)){if(n.number)return Ro(r)!==Ro(t);if(n.trim)return r.trim()!==t.trim()}return r!==t}var rO={create:jp,update:jp},nO=fi(function(e){var t={},r=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(r).forEach(function(i){if(i){var o=i.split(n);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t});function mc(e){var t=zS(e.style);return e.staticStyle?De(e.staticStyle,t):t}function zS(e){return Array.isArray(e)?hS(e):typeof e=="string"?nO(e):e}function iO(e,t){var r={},n;if(t)for(var i=e;i.componentInstance;)i=i.componentInstance._vnode,i&&i.data&&(n=mc(i.data))&&De(r,n);(n=mc(e.data))&&De(r,n);for(var o=e;o=o.parent;)o.data&&(n=mc(o.data))&&De(r,n);return r}var oO=/^--/,$p=/\s*!important$/,zp=function(e,t,r){if(oO.test(t))e.style.setProperty(t,r);else if($p.test(r))e.style.setProperty(na(t),r.replace($p,""),"important");else{var n=aO(t);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)e.style[n]=r[i];else e.style[n]=r}},qp=["Webkit","Moz","ms"],Ea,aO=fi(function(e){if(Ea=Ea||document.createElement("div").style,e=Zn(e),e!=="filter"&&e in Ea)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<qp.length;r++){var n=qp[r]+t;if(n in Ea)return n}});function Kp(e,t){var r=t.data,n=e.data;if(!(he(r.staticStyle)&&he(r.style)&&he(n.staticStyle)&&he(n.style))){var i,o,a=t.elm,s=n.staticStyle,c=n.normalizedStyle||n.style||{},u=s||c,f=zS(t.data.style)||{};t.data.normalizedStyle=G(f.__ob__)?De({},f):f;var l=iO(t,!0);for(o in u)he(l[o])&&zp(a,o,"");for(o in l)i=l[o],i!==u[o]&&zp(a,o,i==null?"":i)}}var sO={create:Kp,update:Kp},qS=/\s+/;function KS(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(qS).forEach(function(n){return e.classList.add(n)}):e.classList.add(t);else{var r=" "+(e.getAttribute("class")||"")+" ";r.indexOf(" "+t+" ")<0&&e.setAttribute("class",(r+t).trim())}}function HS(e,t){if(!(!t||!(t=t.trim())))if(e.classList)t.indexOf(" ")>-1?t.split(qS).forEach(function(i){return e.classList.remove(i)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var r=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";r.indexOf(n)>=0;)r=r.replace(n," ");r=r.trim(),r?e.setAttribute("class",r):e.removeAttribute("class")}}function GS(e){if(!!e){if(typeof e=="object"){var t={};return e.css!==!1&&De(t,Hp(e.name||"v")),De(t,e),t}else if(typeof e=="string")return Hp(e)}}var Hp=fi(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),VS=Vt&&!Qi,Pi="transition",yc="animation",rs="transition",Ls="transitionend",Mf="animation",WS="animationend";VS&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(rs="WebkitTransition",Ls="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Mf="WebkitAnimation",WS="webkitAnimationEnd"));var Gp=Vt?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function JS(e){Gp(function(){Gp(e)})}function Xn(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(t)<0&&(r.push(t),KS(e,t))}function en(e,t){e._transitionClasses&&nn(e._transitionClasses,t),HS(e,t)}function YS(e,t,r){var n=XS(e,t),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===Pi?Ls:WS,c=0,u=function(){e.removeEventListener(s,f),r()},f=function(l){l.target===e&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),e.addEventListener(s,f)}var uO=/\b(transform|all)(,|$)/;function XS(e,t){var r=window.getComputedStyle(e),n=(r[rs+"Delay"]||"").split(", "),i=(r[rs+"Duration"]||"").split(", "),o=Vp(n,i),a=(r[Mf+"Delay"]||"").split(", "),s=(r[Mf+"Duration"]||"").split(", "),c=Vp(a,s),u,f=0,l=0;t===Pi?o>0&&(u=Pi,f=o,l=i.length):t===yc?c>0&&(u=yc,f=c,l=s.length):(f=Math.max(o,c),u=f>0?o>c?Pi:yc:null,l=u?u===Pi?i.length:s.length:0);var d=u===Pi&&uO.test(r[rs+"Property"]);return{type:u,timeout:f,propCount:l,hasTransform:d}}function Vp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(r,n){return Wp(r)+Wp(e[n])}))}function Wp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Df(e,t){var r=e.elm;G(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=GS(e.data.transition);if(!he(n)&&!(G(r._enterCb)||r.nodeType!==1)){for(var i=n.css,o=n.type,a=n.enterClass,s=n.enterToClass,c=n.enterActiveClass,u=n.appearClass,f=n.appearToClass,l=n.appearActiveClass,d=n.beforeEnter,h=n.enter,v=n.afterEnter,g=n.enterCancelled,_=n.beforeAppear,E=n.appear,S=n.afterAppear,T=n.appearCancelled,R=n.duration,P=Yn,U=Yn.$vnode;U&&U.parent;)P=U.context,U=U.parent;var W=!P._isMounted||!e.isRootInsert;if(!(W&&!E&&E!=="")){var j=W&&u?u:a,te=W&&l?l:c,k=W&&f?f:s,B=W&&_||d,A=W&&typeof E=="function"?E:h,m=W&&S||v,b=W&&T||g,C=Ro(Ct(R)?R.enter:R),M=i!==!1&&!Qi,z=rh(A),$=r._enterCb=Is(function(){M&&(en(r,k),en(r,te)),$.cancelled?(M&&en(r,j),b&&b(r)):m&&m(r),r._enterCb=null});e.data.show||_n(e,"insert",function(){var q=r.parentNode,H=q&&q._pending&&q._pending[e.key];H&&H.tag===e.tag&&H.elm._leaveCb&&H.elm._leaveCb(),A&&A(r,$)}),B&&B(r),M&&(Xn(r,j),Xn(r,te),JS(function(){en(r,j),$.cancelled||(Xn(r,k),z||(ZS(C)?setTimeout($,C):YS(r,o,$)))})),e.data.show&&(t&&t(),A&&A(r,$)),!M&&!z&&$()}}}function QS(e,t){var r=e.elm;G(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=GS(e.data.transition);if(he(n)||r.nodeType!==1)return t();if(G(r._leaveCb))return;var i=n.css,o=n.type,a=n.leaveClass,s=n.leaveToClass,c=n.leaveActiveClass,u=n.beforeLeave,f=n.leave,l=n.afterLeave,d=n.leaveCancelled,h=n.delayLeave,v=n.duration,g=i!==!1&&!Qi,_=rh(f),E=Ro(Ct(v)?v.leave:v),S=r._leaveCb=Is(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),g&&(en(r,s),en(r,c)),S.cancelled?(g&&en(r,a),d&&d(r)):(t(),l&&l(r)),r._leaveCb=null});h?h(T):T();function T(){S.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),u&&u(r),g&&(Xn(r,a),Xn(r,c),JS(function(){en(r,a),S.cancelled||(Xn(r,s),_||(ZS(E)?setTimeout(S,E):YS(r,o,S)))})),f&&f(r,S),!g&&!_&&S())}}function ZS(e){return typeof e=="number"&&!isNaN(e)}function rh(e){if(he(e))return!1;var t=e.fns;return G(t)?rh(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Jp(e,t){t.data.show!==!0&&Df(t)}var cO=Vt?{create:Jp,activate:Jp,remove:function(t,r){t.data.show!==!0?QS(t,r):r()}}:{},fO=[GI,VI,QI,rO,sO,cO],lO=fO.concat(HI),dO=jI({nodeOps:LI,modules:lO});Qi&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&nh(e,"input")});var eE={inserted:function(t,r,n,i){n.tag==="select"?(i.elm&&!i.elm._vOptions?_n(n,"postpatch",function(){eE.componentUpdated(t,r,n)}):Yp(t,r,n.context),t._vOptions=[].map.call(t.options,Us)):(n.tag==="textarea"||Rf(t.type))&&(t._vModifiers=r.modifiers,r.modifiers.lazy||(t.addEventListener("compositionstart",hO),t.addEventListener("compositionend",Zp),t.addEventListener("change",Zp),Qi&&(t.vmodel=!0)))},componentUpdated:function(t,r,n){if(n.tag==="select"){Yp(t,r,n.context);var i=t._vOptions,o=t._vOptions=[].map.call(t.options,Us);if(o.some(function(s,c){return!ei(s,i[c])})){var a=t.multiple?r.value.some(function(s){return Qp(s,o)}):r.value!==r.oldValue&&Qp(r.value,o);a&&nh(t,"change")}}}};function Yp(e,t,r){Xp(e,t),(Xi||Ud)&&setTimeout(function(){Xp(e,t)},0)}function Xp(e,t,r){var n=t.value,i=e.multiple;if(!(i&&!Array.isArray(n))){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=vS(n,Us(a))>-1,a.selected!==o&&(a.selected=o);else if(ei(Us(a),n)){e.selectedIndex!==s&&(e.selectedIndex=s);return}i||(e.selectedIndex=-1)}}function Qp(e,t){return t.every(function(r){return!ei(r,e)})}function Us(e){return"_value"in e?e._value:e.value}function hO(e){e.target.composing=!0}function Zp(e){!e.target.composing||(e.target.composing=!1,nh(e.target,"input"))}function nh(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function Lf(e){return e.componentInstance&&(!e.data||!e.data.transition)?Lf(e.componentInstance._vnode):e}var pO={bind:function(t,r,n){var i=r.value;n=Lf(n);var o=n.data&&n.data.transition,a=t.__vOriginalDisplay=t.style.display==="none"?"":t.style.display;i&&o?(n.data.show=!0,Df(n,function(){t.style.display=a})):t.style.display=i?a:"none"},update:function(t,r,n){var i=r.value,o=r.oldValue;if(!i!=!o){n=Lf(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,i?Df(n,function(){t.style.display=t.__vOriginalDisplay}):QS(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,r,n,i,o){o||(t.style.display=t.__vOriginalDisplay)}},vO={model:eE,show:pO},tE={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Uf(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Uf(PS(t.children)):e}function rE(e){var t={},r=e.$options;for(var n in r.propsData)t[n]=e[n];var i=r._parentListeners;for(var o in i)t[Zn(o)]=i[o];return t}function ev(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function gO(e){for(;e=e.parent;)if(e.data.transition)return!0}function mO(e,t){return t.key===e.key&&t.tag===e.tag}var yO=function(e){return e.tag||Do(e)},wO=function(e){return e.name==="show"},bO={name:"transition",props:tE,abstract:!0,render:function(t){var r=this,n=this.$slots.default;if(!!n&&(n=n.filter(yO),!!n.length)){var i=this.mode,o=n[0];if(gO(this.$vnode))return o;var a=Uf(o);if(!a)return o;if(this._leaving)return ev(t,o);var s="__transition-"+this._uid+"-";a.key=a.key==null?a.isComment?s+"comment":s+a.tag:ra(a.key)?String(a.key).indexOf(s)===0?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=rE(this),u=this._vnode,f=Uf(u);if(a.data.directives&&a.data.directives.some(wO)&&(a.data.show=!0),f&&f.data&&!mO(a,f)&&!Do(f)&&!(f.componentInstance&&f.componentInstance._vnode.isComment)){var l=f.data.transition=De({},c);if(i==="out-in")return this._leaving=!0,_n(l,"afterLeave",function(){r._leaving=!1,r.$forceUpdate()}),ev(t,o);if(i==="in-out"){if(Do(a))return u;var d,h=function(){d()};_n(c,"afterEnter",h),_n(c,"enterCancelled",h),_n(l,"delayLeave",function(v){d=v})}}return o}}},nE=De({tag:String,moveClass:String},tE);delete nE.mode;var _O={props:nE,beforeMount:function(){var t=this,r=this._update;this._update=function(n,i){var o=RS(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),r.call(t,n,i)}},render:function(t){for(var r=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],a=this.children=[],s=rE(this),c=0;c<o.length;c++){var u=o[c];u.tag&&u.key!=null&&String(u.key).indexOf("__vlist")!==0&&(a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s)}if(i){for(var f=[],l=[],d=0;d<i.length;d++){var h=i[d];h.data.transition=s,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?f.push(h):l.push(h)}this.kept=t(r,null,f),this.removed=l}return t(r,null,a)},updated:function(){var t=this.prevChildren,r=this.moveClass||(this.name||"v")+"-move";!t.length||!this.hasMove(t[0].elm,r)||(t.forEach(SO),t.forEach(EO),t.forEach(CO),this._reflow=document.body.offsetHeight,t.forEach(function(n){if(n.data.moved){var i=n.elm,o=i.style;Xn(i,r),o.transform=o.WebkitTransform=o.transitionDuration="",i.addEventListener(Ls,i._moveCb=function a(s){s&&s.target!==i||(!s||/transform$/.test(s.propertyName))&&(i.removeEventListener(Ls,a),i._moveCb=null,en(i,r))})}}))},methods:{hasMove:function(t,r){if(!VS)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(o){HS(n,o)}),KS(n,r),n.style.display="none",this.$el.appendChild(n);var i=XS(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function SO(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function EO(e){e.data.newPos=e.elm.getBoundingClientRect()}function CO(e){var t=e.data.pos,r=e.data.newPos,n=t.left-r.left,i=t.top-r.top;if(n||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}var AO={Transition:bO,TransitionGroup:_O};ze.config.mustUseProp=lI;ze.config.isReservedTag=jS;ze.config.isReservedAttr=cI;ze.config.getTagNamespace=_I;ze.config.isUnknownElement=SI;De(ze.options.directives,vO);De(ze.options.components,AO);ze.prototype.__patch__=Vt?dO:Rt;ze.prototype.$mount=function(e,t){return e=e&&Vt?EI(e):void 0,NT(this,e,t)};Vt&&setTimeout(function(){fr.devtools&&Os&&Os.emit("init",ze)},0);/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(t){return typeof t}:ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function xO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){return IO(e)||OO(e)||kO()}function IO(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function OO(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function kO(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function PO(){return typeof Reflect!="undefined"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function NO(e,t){wc(e,t),Object.getOwnPropertyNames(t.prototype).forEach(function(r){wc(e.prototype,t.prototype,r)}),Object.getOwnPropertyNames(t).forEach(function(r){wc(e,t,r)})}function wc(e,t,r){var n=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);n.forEach(function(i){var o=r?Reflect.getOwnMetadata(i,t,r):Reflect.getOwnMetadata(i,t);r?Reflect.defineMetadata(i,o,e,r):Reflect.defineMetadata(i,o,e)})}var RO={__proto__:[]},MO=RO instanceof Array;function DO(e){return function(t,r,n){var i=typeof t=="function"?t:t.constructor;i.__decorators__||(i.__decorators__=[]),typeof n!="number"&&(n=void 0),i.__decorators__.push(function(o){return e(o,r,n)})}}function LO(e){var t=ns(e);return e==null||t!=="object"&&t!=="function"}function UO(e,t){var r=t.prototype._init;t.prototype._init=function(){var o=this,a=Object.getOwnPropertyNames(e);if(e.$options.props)for(var s in e.$options.props)e.hasOwnProperty(s)||a.push(s);a.forEach(function(c){Object.defineProperty(o,c,{get:function(){return e[c]},set:function(f){e[c]=f},configurable:!0})})};var n=new t;t.prototype._init=r;var i={};return Object.keys(n).forEach(function(o){n[o]!==void 0&&(i[o]=n[o])}),i}var Bf=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function tv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(s){if(s!=="constructor"){if(Bf.indexOf(s)>-1){t[s]=r[s];return}var c=Object.getOwnPropertyDescriptor(r,s);c.value!==void 0?typeof c.value=="function"?(t.methods||(t.methods={}))[s]=c.value:(t.mixins||(t.mixins=[])).push({data:function(){return xO({},s,c.value)}}):(c.get||c.set)&&((t.computed||(t.computed={}))[s]={get:c.get,set:c.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return UO(this,e)}});var n=e.__decorators__;n&&(n.forEach(function(s){return s(t)}),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),o=i instanceof ze?i.constructor:ze,a=o.extend(t);return FO(a,e,o),PO()&&NO(a,e),a}var BO={prototype:!0,arguments:!0,callee:!0,caller:!0};function FO(e,t,r){Object.getOwnPropertyNames(t).forEach(function(n){if(!BO[n]){var i=Object.getOwnPropertyDescriptor(e,n);if(!(i&&!i.configurable)){var o=Object.getOwnPropertyDescriptor(t,n);if(!MO){if(n==="cid")return;var a=Object.getOwnPropertyDescriptor(r,n);if(!LO(o.value)&&a&&a.value===o.value)return}Object.defineProperty(e,n,o)}}})}function jO(e){return typeof e=="function"?tv(e):function(t){return tv(t,e)}}jO.registerHooks=function(t){Bf.push.apply(Bf,TO(t))};globalThis&&globalThis.__spreadArrays;var $O=typeof Reflect!="undefined"&&typeof Reflect.getMetadata!="undefined";function zO(e,t,r){if($O&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type=="undefined"){var n=Reflect.getMetadata("design:type",t,r);n!==Object&&(e.type=n)}}function $q(e){return e===void 0&&(e={}),function(t,r){zO(e,t,r),DO(function(n,i){(n.props||(n.props={}))[i]=e})(t,r)}}function Bs(e,t){for(var r=function(a){Object.defineProperty(e,a,{get:function(){return t[a]}})},n=0,i=Object.keys(t||{});n<i.length;n++){var o=i[n];r(o)}}function iE(e){if(!e._vmdModuleName)throw new Error(`ERR_GET_MODULE_NAME : Could not get module accessor.
      Make sure your module has name, we can't make accessors for unnamed modules
      i.e. @Module({ name: 'something' })`);return"vuexModuleDecorators/".concat(e._vmdModuleName)}var zq=function(){function e(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules}return e}();function qO(e,t){var r=iE(e);if(t&&t.getters[r])return t.getters[r];if(e._statics)return e._statics;var n=e._genStatic;if(!n)throw new Error(`ERR_GET_MODULE_NO_STATICS : Could not get module accessor.
      Make sure your module has name, we can't make accessors for unnamed modules
      i.e. @Module({ name: 'something' })`);var i=n(t);return t?t.getters[r]=i:e._statics=i,i}var KO=["actions","getters","mutations","modules","state","namespaced","commit"];function HO(e){var t=new e.prototype.constructor({}),r={};return Object.keys(t).forEach(function(n){if(KO.indexOf(n)!==-1){if(typeof t[n]!="undefined")throw new Error(`ERR_RESERVED_STATE_KEY_USED: You cannot use the following
        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']
        as fields in your module. These are reserved as they have special purpose in Vuex`);return}t.hasOwnProperty(n)&&typeof t[n]!="function"&&(r[n]=t[n])}),r}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ff(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function jf(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Fs(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function GO(e,t,r){var n=t.stateFactory?e.state():e.state;Object.keys(n).forEach(function(i){n.hasOwnProperty(i)&&["undefined","function"].indexOf(typeof n[i])===-1&&Object.defineProperty(r,i,{get:function(){for(var o=t.name.split("/"),a=r.store.state,s=0,c=o;s<c.length;s++){var u=c[s];a=a[u]}return a[i]}})})}function VO(e,t,r){Object.keys(e.getters).forEach(function(n){e.namespaced?Object.defineProperty(r,n,{get:function(){return r.store.getters["".concat(t.name,"/").concat(n)]}}):Object.defineProperty(r,n,{get:function(){return r.store.getters[n]}})})}function WO(e,t,r){Object.keys(e.mutations).forEach(function(n){e.namespaced?r[n]=function(){for(var i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];(i=r.store).commit.apply(i,Fs(["".concat(t.name,"/").concat(n)],o,!1))}:r[n]=function(){for(var i,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];(i=r.store).commit.apply(i,Fs([n],o,!1))}})}function JO(e,t,r){Object.keys(e.actions).forEach(function(n){e.namespaced?r[n]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Ff(this,void 0,void 0,function(){var a;return jf(this,function(s){return[2,(a=r.store).dispatch.apply(a,Fs(["".concat(t.name,"/").concat(n)],i,!1))]})})}:r[n]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Ff(this,void 0,void 0,function(){var a;return jf(this,function(s){return[2,(a=r.store).dispatch.apply(a,Fs([n],i,!1))]})})}})}function YO(e,t){if(!t.name)throw new Error("Name of module not provided in decorator options");if(!t.store)throw new Error("Store not provided in decorator options when using dynamic option");t.store.registerModule(t.name,e,{preserveState:t.preserveState||!1})}function rv(e,t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t.prototype,r);n.get&&e.getters&&(e.getters[r]=function(i,o,a,s){var c={context:{state:i,getters:o,rootState:a,rootGetters:s}};Bs(c,i),Bs(c,o);var u=n.get.call(c);return u})})}function nv(e){return function(t){var r=t,n=function(){return HO(r)};r.state||(r.state=e&&e.stateFactory?n:n()),r.getters||(r.getters={}),r.namespaced||(r.namespaced=e&&e.namespaced);for(var i=Object.getPrototypeOf(r);i.name!=="VuexModule"&&i.name!=="";)rv(r,i),i=Object.getPrototypeOf(i);rv(r,r);var o=e;return o.name&&(Object.defineProperty(t,"_genStatic",{value:function(a){var s={store:a||o.store};if(!s.store)throw new Error(`ERR_STORE_NOT_PROVIDED: To use getModule(), either the module
            should be decorated with store in decorator, i.e. @Module({store: store}) or
            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)`);return GO(r,o,s),r.getters&&VO(r,o,s),r.mutations&&WO(r,o,s),r.actions&&JO(r,o,s),s}}),Object.defineProperty(t,"_vmdModuleName",{value:o.name})),o.dynamic&&YO(r,o),t}}function qq(e){if(typeof e=="function")nv({})(e);else return nv(e)}var XO={};function iv(e){var t=e||{},r=t.commit,n=r===void 0?void 0:r,i=t.rawError,o=i===void 0?!!XO.rawError:i,a=t.root,s=a===void 0?!1:a;return function(c,u,f){var l=c.constructor;l.hasOwnProperty("actions")||(l.actions=Object.assign({},l.actions));var d=f.value,h=function(v,g){return Ff(this,void 0,void 0,function(){var _,E,S,T,R;return jf(this,function(P){switch(P.label){case 0:return P.trys.push([0,5,,6]),_=null,l._genStatic?(E=iE(l),S=v.rootGetters[E]?v.rootGetters[E]:qO(l),S.context=v,[4,d.call(S,g)]):[3,2];case 1:return _=P.sent(),[3,4];case 2:return T={context:v},Bs(T,v.state),Bs(T,v.getters),[4,d.call(T,g)];case 3:_=P.sent(),P.label=4;case 4:return n&&v.commit(n,_),[2,_];case 5:throw R=P.sent(),o?R:new Error(`ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? 
That works only in dynamic modules. 
If not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]
`+new Error("Could not perform action ".concat(u.toString())).stack+`
`+R.stack);case 6:return[2]}})})};l.actions[u]=s?{root:s,handler:h}:h}}function Kq(e,t,r){if(!t&&!r)return iv(e);iv()(e,t,r)}function Hq(e,t,r){var n=e.constructor;n.hasOwnProperty("mutations")||(n.mutations=Object.assign({},n.mutations));var i=r.value,o=function(a,s){i.call(a,s)};n.mutations[t]=o}var QO="Logging",ZO=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ek=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},gi=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ek(arguments[t]));return e},ov={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5},pr;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"})(pr||(pr={}));var Se=function(){function e(t,r){r===void 0&&(r=pr.WARN),this.name=t,this.level=r,this._pluggables=[]}return e.prototype._padding=function(t){return t<10?"0"+t:""+t},e.prototype._ts=function(){var t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()},e.prototype.configure=function(t){return t?(this._config=t,this._config):this._config},e.prototype._log=function(t){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.level;e.LOG_LEVEL&&(a=e.LOG_LEVEL),typeof window!="undefined"&&window.LOG_LEVEL&&(a=window.LOG_LEVEL);var s=ov[a],c=ov[t];if(c>=s){var u=console.log.bind(console);t===pr.ERROR&&console.error&&(u=console.error.bind(console)),t===pr.WARN&&console.warn&&(u=console.warn.bind(console));var f="["+t+"] "+this._ts()+" "+this.name,l="";if(i.length===1&&typeof i[0]=="string")l=f+" - "+i[0],u(l);else if(i.length===1)l=f+" "+i[0],u(f,i[0]);else if(typeof i[0]=="string"){var d=i.slice(1);d.length===1&&(d=d[0]),l=f+" - "+i[0]+" "+d,u(f+" - "+i[0],d)}else l=f+" "+i,u(f,i);try{for(var h=ZO(this._pluggables),v=h.next();!v.done;v=h.next()){var g=v.value,_={message:l,timestamp:Date.now()};g.pushLogs([_])}}catch(E){r={error:E}}finally{try{v&&!v.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,gi([pr.INFO],t))},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,gi([pr.INFO],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,gi([pr.WARN],t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,gi([pr.ERROR],t))},e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,gi([pr.DEBUG],t))},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._log.apply(this,gi([pr.VERBOSE],t))},e.prototype.addPluggable=function(t){t&&t.getCategoryName()===QO&&(this._pluggables.push(t),t.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),tk=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},bc=new Se("Amplify"),rk=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=Se,this.ServiceWorker=null}return e.prototype.register=function(t){bc.debug("component registered in amplify",t),this._components.push(t),typeof t.getModuleName=="function"?(this._modules[t.getModuleName()]=t,this[t.getModuleName()]=t):bc.debug("no getModuleName method for component",t),t.configure(this._config)},e.prototype.configure=function(t){var r=this;return t?(this._config=Object.assign(this._config,t),bc.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(n){var i=tk(n,2);i[0];var o=i[1];Object.keys(o).forEach(function(a){r._modules[a]&&(o[a]=r._modules[a])})}),this._components.map(function(n){n.configure(r._config)}),this._config):this._config},e.prototype.addPluggable=function(t){t&&t.getCategory&&typeof t.getCategory=="function"&&this._components.map(function(r){r.addPluggable&&typeof r.addPluggable=="function"&&r.addPluggable(t)})},e}(),at=new rk,nk="4.5.2",$f="aws-amplify/"+nk,yr={userAgent:$f+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch(yr.product=navigator.product||"",yr.navigator=navigator||null,navigator.product){case"ReactNative":yr.userAgent=$f+" react-native",yr.isReactNative=!0;break;default:yr.userAgent=$f+" js",yr.isReactNative=!1;break}var is=function(){return yr.userAgent},xo=globalThis&&globalThis.__assign||function(){return xo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xo.apply(this,arguments)},oE=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},av=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oE(arguments[t]));return e},Kr=new Se("Hub"),ik=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default";function ok(e){return e.onHubCapsule!==void 0}var ak=function(){function e(t){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}return e.prototype.remove=function(t,r){if(t instanceof RegExp){var n=this.patterns.find(function(o){var a=o.pattern;return a.source===t.source});if(!n){Kr.warn("No listeners for "+t);return}this.patterns=av(this.patterns.filter(function(o){return o!==n}))}else{var i=this.listeners[t];if(!i){Kr.warn("No listeners for "+t);return}this.listeners[t]=av(i.filter(function(o){var a=o.callback;return a!==r}))}},e.prototype.dispatch=function(t,r,n,i){if(n===void 0&&(n=""),this.protectedChannels.indexOf(t)>-1){var o=i===ik;o||Kr.warn("WARNING: "+t+" is protected and dispatching on it can have unintended consequences")}var a={channel:t,payload:xo({},r),source:n,patternInfo:[]};try{this._toListeners(a)}catch(s){Kr.error(s)}},e.prototype.listen=function(t,r,n){var i=this;n===void 0&&(n="noname");var o;if(ok(r))Kr.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),o=r.onHubCapsule.bind(r);else{if(typeof r!="function")throw new Error("No callback supplied to Hub");o=r}if(t instanceof RegExp)this.patterns.push({pattern:t,callback:o});else{var a=this.listeners[t];a||(a=[],this.listeners[t]=a),a.push({name:n,callback:o})}return function(){i.remove(t,o)}},e.prototype._toListeners=function(t){var r=t.channel,n=t.payload,i=this.listeners[r];if(i&&i.forEach(function(a){Kr.debug("Dispatching to "+r+" with ",n);try{a.callback(t)}catch(s){Kr.error(s)}}),this.patterns.length>0){if(!n.message){Kr.warn("Cannot perform pattern matching without a message key");return}var o=n.message;this.patterns.forEach(function(a){var s=o.match(a.pattern);if(s){var c=oE(s),u=c.slice(1),f=xo(xo({},t),{patternInfo:u});try{a.callback(f)}catch(l){Kr.error(l)}}})}},e}(),tn=new ak("__default__"),sk=new Se("I18n"),sv=function(){function e(t){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},t),this._lang=this._options.language,!this._lang&&typeof window!="undefined"&&window&&window.navigator&&(this._lang=window.navigator.language),sk.debug(this._lang)}return e.prototype.setLanguage=function(t){this._lang=t},e.prototype.get=function(t,r){if(r===void 0&&(r=void 0),!this._lang)return typeof r!="undefined"?r:t;var n=this._lang,i=this.getByLanguage(t,n);return i||(n.indexOf("-")>0&&(i=this.getByLanguage(t,n.split("-")[0])),i)?i:typeof r!="undefined"?r:t},e.prototype.getByLanguage=function(t,r,n){if(n===void 0&&(n=null),!r)return n;var i=this._dict[r];return i?i[t]:n},e.prototype.putVocabulariesForLanguage=function(t,r){var n=this._dict[t];n||(n=this._dict[t]={}),Object.assign(n,r)},e.prototype.putVocabularies=function(t){var r=this;Object.keys(t).map(function(n){r.putVocabulariesForLanguage(n,t[n])})},e}(),uv=new Se("I18n"),mi=null,an=null,uk=function(){function e(){}return e.configure=function(t){return uv.debug("configure I18n"),t&&(mi=Object.assign({},mi,t.I18n||t),e.createInstance()),mi},e.getModuleName=function(){return"I18n"},e.createInstance=function(){uv.debug("create I18n instance"),!an&&(an=new sv(mi))},e.setLanguage=function(t){return e.checkConfig(),an.setLanguage(t)},e.get=function(t,r){return e.checkConfig()?an.get(t,r):typeof r=="undefined"?t:r},e.putVocabulariesForLanguage=function(t,r){return e.checkConfig(),an.putVocabulariesForLanguage(t,r)},e.putVocabularies=function(t){return e.checkConfig(),an.putVocabularies(t)},e.checkConfig=function(){return an||(an=new sv(mi)),!0},e}();at.register(uk);var ck=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],fk=function(e){return e===void 0&&(e={}),Object.keys(e).length===0},lk=function(e,t,r){if(!e||!e.sort)return!1;var n=r&&r==="desc"?-1:1;return e.sort(function(i,o){var a=i[t],s=o[t];return typeof s=="undefined"?typeof a=="undefined"?0:1*n:typeof a=="undefined"||a<s?-1*n:a>s?1*n:0}),!0},dk=function(e,t){var r=Object.assign({},e);return t&&(typeof t=="string"?delete r[t]:t.forEach(function(n){delete r[n]})),r},hk=function(e,t){t===void 0&&(t="application/octet-stream");var r=e.toLowerCase(),n=ck.filter(function(i){return r.endsWith("."+i.ext)});return n.length>0?n[0].type:t},pk=function(e){var t=e.toLowerCase();return t.startsWith("text/")?!0:t==="application/json"||t==="application/xml"||t==="application/sh"},vk=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=32;r>0;r-=1)e+=t[Math.floor(Math.random()*t.length)];return e},aE=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(o){return n=!0,t=!1,o},function(o){throw r=!0,t=!1,o});return i.isFullfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i},gk=function(){if(typeof self=="undefined")return!1;var e=self;return typeof e.WorkerGlobalScope!="undefined"&&self instanceof e.WorkerGlobalScope},Pn=function(){var e=typeof window!="undefined"&&typeof window.document!="undefined",t=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null;return{isBrowser:e,isNode:t}},sE=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=[]),!ih(e))return e;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t.includes(i)?i:i[0].toLowerCase()+i.slice(1);n[o]=r.includes(i)?e[i]:sE(e[i],t,r)}return n},uE=function(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=[]),!ih(e))return e;var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=t.includes(i)?i:i[0].toUpperCase()+i.slice(1);n[o]=r.includes(i)?e[i]:uE(e[i],t,r)}return n},ih=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},js=function(){function e(){}return e.isEmpty=fk,e.sortByField=lk,e.objectLessAttributes=dk,e.filenameToContentType=hk,e.isTextFile=pk,e.generateRandomString=vk,e.makeQuerablePromise=aE,e.isWebWorker=gk,e.browserOrNode=Pn,e.transferKeyToLowerCase=sE,e.transferKeyToUpperCase=uE,e.isStrictObject=ih,e}(),$e=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yu(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),t}function mk(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oh={},N={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,i,o,a,s,c,u,f,l,d,h,v,g,_,E,S,T,R,P,U,W;(function(j){var te=typeof $e=="object"?$e:typeof self=="object"?self:typeof this=="object"?this:{};j(k(te,k(e.exports)));function k(B,A){return B!==te&&(typeof Object.create=="function"?Object.defineProperty(B,"__esModule",{value:!0}):B.__esModule=!0),function(m,b){return B[m]=A?A(m,b):b}}})(function(j){var te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var A in B)B.hasOwnProperty(A)&&(k[A]=B[A])};t=function(k,B){te(k,B);function A(){this.constructor=k}k.prototype=B===null?Object.create(B):(A.prototype=B.prototype,new A)},r=Object.assign||function(k){for(var B,A=1,m=arguments.length;A<m;A++){B=arguments[A];for(var b in B)Object.prototype.hasOwnProperty.call(B,b)&&(k[b]=B[b])}return k},n=function(k,B){var A={};for(var m in k)Object.prototype.hasOwnProperty.call(k,m)&&B.indexOf(m)<0&&(A[m]=k[m]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,m=Object.getOwnPropertySymbols(k);b<m.length;b++)B.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(k,m[b])&&(A[m[b]]=k[m[b]]);return A},i=function(k,B,A,m){var b=arguments.length,C=b<3?B:m===null?m=Object.getOwnPropertyDescriptor(B,A):m,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(k,B,A,m);else for(var z=k.length-1;z>=0;z--)(M=k[z])&&(C=(b<3?M(C):b>3?M(B,A,C):M(B,A))||C);return b>3&&C&&Object.defineProperty(B,A,C),C},o=function(k,B){return function(A,m){B(A,m,k)}},a=function(k,B){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,B)},s=function(k,B,A,m){function b(C){return C instanceof A?C:new A(function(M){M(C)})}return new(A||(A=Promise))(function(C,M){function z(H){try{q(m.next(H))}catch(L){M(L)}}function $(H){try{q(m.throw(H))}catch(L){M(L)}}function q(H){H.done?C(H.value):b(H.value).then(z,$)}q((m=m.apply(k,B||[])).next())})},c=function(k,B){var A={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},m,b,C,M;return M={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function z(q){return function(H){return $([q,H])}}function $(q){if(m)throw new TypeError("Generator is already executing.");for(;A;)try{if(m=1,b&&(C=q[0]&2?b.return:q[0]?b.throw||((C=b.return)&&C.call(b),0):b.next)&&!(C=C.call(b,q[1])).done)return C;switch(b=0,C&&(q=[q[0]&2,C.value]),q[0]){case 0:case 1:C=q;break;case 4:return A.label++,{value:q[1],done:!1};case 5:A.label++,b=q[1],q=[0];continue;case 7:q=A.ops.pop(),A.trys.pop();continue;default:if(C=A.trys,!(C=C.length>0&&C[C.length-1])&&(q[0]===6||q[0]===2)){A=0;continue}if(q[0]===3&&(!C||q[1]>C[0]&&q[1]<C[3])){A.label=q[1];break}if(q[0]===6&&A.label<C[1]){A.label=C[1],C=q;break}if(C&&A.label<C[2]){A.label=C[2],A.ops.push(q);break}C[2]&&A.ops.pop(),A.trys.pop();continue}q=B.call(k,A)}catch(H){q=[6,H],b=0}finally{m=C=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},W=function(k,B,A,m){m===void 0&&(m=A),k[m]=B[A]},u=function(k,B){for(var A in k)A!=="default"&&!B.hasOwnProperty(A)&&(B[A]=k[A])},f=function(k){var B=typeof Symbol=="function"&&Symbol.iterator,A=B&&k[B],m=0;if(A)return A.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&m>=k.length&&(k=void 0),{value:k&&k[m++],done:!k}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(k,B){var A=typeof Symbol=="function"&&k[Symbol.iterator];if(!A)return k;var m=A.call(k),b,C=[],M;try{for(;(B===void 0||B-- >0)&&!(b=m.next()).done;)C.push(b.value)}catch(z){M={error:z}}finally{try{b&&!b.done&&(A=m.return)&&A.call(m)}finally{if(M)throw M.error}}return C},d=function(){for(var k=[],B=0;B<arguments.length;B++)k=k.concat(l(arguments[B]));return k},h=function(){for(var k=0,B=0,A=arguments.length;B<A;B++)k+=arguments[B].length;for(var m=Array(k),b=0,B=0;B<A;B++)for(var C=arguments[B],M=0,z=C.length;M<z;M++,b++)m[b]=C[M];return m},v=function(k){return this instanceof v?(this.v=k,this):new v(k)},g=function(k,B,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=A.apply(k,B||[]),b,C=[];return b={},M("next"),M("throw"),M("return"),b[Symbol.asyncIterator]=function(){return this},b;function M(V){m[V]&&(b[V]=function(Q){return new Promise(function(D,ce){C.push([V,Q,D,ce])>1||z(V,Q)})})}function z(V,Q){try{$(m[V](Q))}catch(D){L(C[0][3],D)}}function $(V){V.value instanceof v?Promise.resolve(V.value.v).then(q,H):L(C[0][2],V)}function q(V){z("next",V)}function H(V){z("throw",V)}function L(V,Q){V(Q),C.shift(),C.length&&z(C[0][0],C[0][1])}},_=function(k){var B,A;return B={},m("next"),m("throw",function(b){throw b}),m("return"),B[Symbol.iterator]=function(){return this},B;function m(b,C){B[b]=k[b]?function(M){return(A=!A)?{value:v(k[b](M)),done:b==="return"}:C?C(M):M}:C}},E=function(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=k[Symbol.asyncIterator],A;return B?B.call(k):(k=typeof f=="function"?f(k):k[Symbol.iterator](),A={},m("next"),m("throw"),m("return"),A[Symbol.asyncIterator]=function(){return this},A);function m(C){A[C]=k[C]&&function(M){return new Promise(function(z,$){M=k[C](M),b(z,$,M.done,M.value)})}}function b(C,M,z,$){Promise.resolve($).then(function(q){C({value:q,done:z})},M)}},S=function(k,B){return Object.defineProperty?Object.defineProperty(k,"raw",{value:B}):k.raw=B,k},T=function(k){if(k&&k.__esModule)return k;var B={};if(k!=null)for(var A in k)Object.hasOwnProperty.call(k,A)&&(B[A]=k[A]);return B.default=k,B},R=function(k){return k&&k.__esModule?k:{default:k}},P=function(k,B){if(!B.has(k))throw new TypeError("attempted to get private field on non-instance");return B.get(k)},U=function(k,B,A){if(!B.has(k))throw new TypeError("attempted to set private field on non-instance");return B.set(k,A),A},j("__extends",t),j("__assign",r),j("__rest",n),j("__decorate",i),j("__param",o),j("__metadata",a),j("__awaiter",s),j("__generator",c),j("__exportStar",u),j("__createBinding",W),j("__values",f),j("__read",l),j("__spread",d),j("__spreadArrays",h),j("__await",v),j("__asyncGenerator",g),j("__asyncDelegator",_),j("__asyncValues",E),j("__makeTemplateObject",S),j("__importStar",T),j("__importDefault",R),j("__classPrivateFieldGet",P),j("__classPrivateFieldSet",U)})})(N);var ah={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.BLOCK_SIZE=64;Nn.DIGEST_LENGTH=32;Nn.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);Nn.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Nn.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var sh={};Object.defineProperty(sh,"__esModule",{value:!0});var er=Nn,yk=function(){function e(){this.state=Int32Array.from(er.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>er.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===er.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%er.BLOCK_SIZE>=er.BLOCK_SIZE-8){for(var i=this.bufferLength;i<er.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<er.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(er.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(er.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(er.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],f=n[6],l=n[7],d=0;d<er.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(r[d*4]&255)<<24|(r[d*4+1]&255)<<16|(r[d*4+2]&255)<<8|r[d*4+3]&255;else{var h=this.temp[d-2],v=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[d-15];var g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(v+this.temp[d-7]|0)+(g+this.temp[d-16]|0)}var _=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&f)|0)+(l+(er.KEY[d]+this.temp[d]|0)|0)|0,E=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&a^o&a)|0;l=f,f=u,u=c,c=s+_|0,s=a,a=o,o=i,i=_+E|0}n[0]+=i,n[1]+=o,n[2]+=a,n[3]+=s,n[4]+=c,n[5]+=u,n[6]+=f,n[7]+=l},e}();sh.RawSha256=yk;var wk=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},bk=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var a=[i,e[++r],e[++r],e[++r]],s="%"+a.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function _k(e){return new TextEncoder().encode(e)}function Sk(e){return new TextDecoder("utf-8").decode(e)}var Ek=function(e){return typeof TextEncoder=="function"?_k(e):wk(e)},Ck=function(e){return typeof TextDecoder=="function"?Sk(e):bk(e)},Ak=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Ek,toUtf8:Ck},Symbol.toStringTag,{value:"Module"})),xk=yu(Ak);Object.defineProperty(ah,"__esModule",{value:!0});var cv=N.exports,$s=Nn,zf=sh,Tk=xk,Ik=function(){function e(t){if(this.hash=new zf.RawSha256,t){this.outer=new zf.RawSha256;var r=Ok(t),n=new Uint8Array($s.BLOCK_SIZE);n.set(r);for(var i=0;i<$s.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!(kk(t)||this.error))try{this.hash.update(cE(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return cv.__awaiter(this,void 0,void 0,function(){return cv.__generator(this,function(t){return[2,this.digestSync()]})})},e}();ah.Sha256=Ik;function Ok(e){var t=cE(e);if(t.byteLength>$s.BLOCK_SIZE){var r=new zf.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array($s.BLOCK_SIZE);return n.set(t),n}function kk(e){return typeof e=="string"?e.length===0:e.byteLength===0}function cE(e){return typeof e=="string"?Tk.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=N.exports;t.__exportStar(ah,e)})(oh);var fE={},qf={};for(var so=0;so<256;so++){var uo=so.toString(16).toLowerCase();uo.length===1&&(uo="0"+uo),fE[so]=uo,qf[uo]=so}function Pk(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=e.substr(r,2).toLowerCase();if(n in qf)t[r/2]=qf[n];else throw new Error("Cannot decode unrecognized sequence "+n+" as hexadecimal")}return t}function Pt(e){for(var t="",r=0;r<e.byteLength;r++)t+=fE[e[r]];return t}var Kf={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof $e=="object"&&$e;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,c=36,u=1,f=26,l=38,d=700,h=72,v=128,g="-",_=/^xn--/,E=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=c-u,P=Math.floor,U=String.fromCharCode,W;function j(H){throw RangeError(T[H])}function te(H,L){for(var V=H.length,Q=[];V--;)Q[V]=L(H[V]);return Q}function k(H,L){var V=H.split("@"),Q="";V.length>1&&(Q=V[0]+"@",H=V[1]),H=H.replace(S,".");var D=H.split("."),ce=te(D,L).join(".");return Q+ce}function B(H){for(var L=[],V=0,Q=H.length,D,ce;V<Q;)D=H.charCodeAt(V++),D>=55296&&D<=56319&&V<Q?(ce=H.charCodeAt(V++),(ce&64512)==56320?L.push(((D&1023)<<10)+(ce&1023)+65536):(L.push(D),V--)):L.push(D);return L}function A(H){return te(H,function(L){var V="";return L>65535&&(L-=65536,V+=U(L>>>10&1023|55296),L=56320|L&1023),V+=U(L),V}).join("")}function m(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:c}function b(H,L){return H+22+75*(H<26)-((L!=0)<<5)}function C(H,L,V){var Q=0;for(H=V?P(H/d):H>>1,H+=P(H/L);H>R*f>>1;Q+=c)H=P(H/R);return P(Q+(R+1)*H/(H+l))}function M(H){var L=[],V=H.length,Q,D=0,ce=v,ae=h,me,de,Oe,At,Le,Ve,yt,Lt,Zt;for(me=H.lastIndexOf(g),me<0&&(me=0),de=0;de<me;++de)H.charCodeAt(de)>=128&&j("not-basic"),L.push(H.charCodeAt(de));for(Oe=me>0?me+1:0;Oe<V;){for(At=D,Le=1,Ve=c;Oe>=V&&j("invalid-input"),yt=m(H.charCodeAt(Oe++)),(yt>=c||yt>P((s-D)/Le))&&j("overflow"),D+=yt*Le,Lt=Ve<=ae?u:Ve>=ae+f?f:Ve-ae,!(yt<Lt);Ve+=c)Zt=c-Lt,Le>P(s/Zt)&&j("overflow"),Le*=Zt;Q=L.length+1,ae=C(D-At,Q,At==0),P(D/Q)>s-ce&&j("overflow"),ce+=P(D/Q),D%=Q,L.splice(D++,0,ce)}return A(L)}function z(H){var L,V,Q,D,ce,ae,me,de,Oe,At,Le,Ve=[],yt,Lt,Zt,Pr;for(H=B(H),yt=H.length,L=v,V=0,ce=h,ae=0;ae<yt;++ae)Le=H[ae],Le<128&&Ve.push(U(Le));for(Q=D=Ve.length,D&&Ve.push(g);Q<yt;){for(me=s,ae=0;ae<yt;++ae)Le=H[ae],Le>=L&&Le<me&&(me=Le);for(Lt=Q+1,me-L>P((s-V)/Lt)&&j("overflow"),V+=(me-L)*Lt,L=me,ae=0;ae<yt;++ae)if(Le=H[ae],Le<L&&++V>s&&j("overflow"),Le==L){for(de=V,Oe=c;At=Oe<=ce?u:Oe>=ce+f?f:Oe-ce,!(de<At);Oe+=c)Pr=de-At,Zt=c-At,Ve.push(U(b(At+Pr%Zt,0))),de=P(Pr/Zt);Ve.push(U(b(de,0))),ce=C(V,Lt,Q==D),V=0,++Q}++V,++L}return Ve.join("")}function $(H){return k(H,function(L){return _.test(L)?M(L.slice(4).toLowerCase()):L})}function q(H){return k(H,function(L){return E.test(L)?"xn--"+z(L):L})}if(a={version:"1.3.2",ucs2:{decode:B,encode:A},decode:M,encode:z,toASCII:q,toUnicode:$},n&&i)if(e.exports==n)i.exports=a;else for(W in a)a.hasOwnProperty(W)&&(n[W]=a[W]);else r.punycode=a})($e)})(Kf,Kf.exports);var Nk={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Bo={};function Rk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Mk=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var u=e[c].replace(o,"%20"),f=u.indexOf(r),l,d,h,v;f>=0?(l=u.substr(0,f),d=u.substr(f+1)):(l=u,d=""),h=decodeURIComponent(l),v=decodeURIComponent(d),Rk(i,h)?Array.isArray(i[h])?i[h].push(v):i[h]=[i[h],v]:i[h]=v}return i},co=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Dk=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(co(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(co(a))}).join(t):o+encodeURIComponent(co(e[i]))}).join(t):n?encodeURIComponent(co(n))+r+encodeURIComponent(co(e)):""};Bo.decode=Bo.parse=Mk;Bo.encode=Bo.stringify=Dk;var Lk=Kf.exports,Lr=Nk,kt=uh,os=Hk;function Sr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Uk=/^([a-z0-9.+-]+:)/i,Bk=/:[0-9]*$/,Fk=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,jk=["<",">",'"',"`"," ","\r",`
`,"	"],$k=["{","}","|","\\","^","`"].concat(jk),Hf=["'"].concat($k),fv=["%","/","?",";","#"].concat(Hf),lv=["/","?","#"],zk=255,dv=/^[+a-z0-9A-Z_-]{0,63}$/,qk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Kk={javascript:!0,"javascript:":!0},Gf={javascript:!0,"javascript:":!0},zi={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Vf=Bo;function uh(e,t,r){if(e&&Lr.isObject(e)&&e instanceof Sr)return e;var n=new Sr;return n.parse(e,t,r),n}Sr.prototype.parse=function(e,t,r){if(!Lr.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var c=Fk.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=Vf.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Uk.exec(s);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,s=s.substr(u.length)}if(r||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=s.substr(0,2)==="//";l&&!(u&&Gf[u])&&(s=s.substr(2),this.slashes=!0)}if(!Gf[u]&&(l||u&&!zi[u])){for(var d=-1,h=0;h<lv.length;h++){var v=s.indexOf(lv[h]);v!==-1&&(d===-1||v<d)&&(d=v)}var g,_;d===-1?_=s.lastIndexOf("@"):_=s.lastIndexOf("@",d),_!==-1&&(g=s.slice(0,_),s=s.slice(_+1),this.auth=decodeURIComponent(g)),d=-1;for(var h=0;h<fv.length;h++){var v=s.indexOf(fv[h]);v!==-1&&(d===-1||v<d)&&(d=v)}d===-1&&(d=s.length),this.host=s.slice(0,d),s=s.slice(d),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var S=this.hostname.split(/\./),h=0,T=S.length;h<T;h++){var R=S[h];if(!!R&&!R.match(dv)){for(var P="",U=0,W=R.length;U<W;U++)R.charCodeAt(U)>127?P+="x":P+=R[U];if(!P.match(dv)){var j=S.slice(0,h),te=S.slice(h+1),k=R.match(qk);k&&(j.push(k[1]),te.unshift(k[2])),te.length&&(s="/"+te.join(".")+s),this.hostname=j.join(".");break}}}this.hostname.length>zk?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=Lk.toASCII(this.hostname));var B=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+B,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Kk[f])for(var h=0,T=Hf.length;h<T;h++){var m=Hf[h];if(s.indexOf(m)!==-1){var b=encodeURIComponent(m);b===m&&(b=escape(m)),s=s.split(m).join(b)}}var C=s.indexOf("#");C!==-1&&(this.hash=s.substr(C),s=s.slice(0,C));var M=s.indexOf("?");if(M!==-1?(this.search=s.substr(M),this.query=s.substr(M+1),t&&(this.query=Vf.parse(this.query)),s=s.slice(0,M)):t&&(this.search="",this.query={}),s&&(this.pathname=s),zi[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",z=this.search||"";this.path=B+z}return this.href=this.format(),this};function Hk(e){return Lr.isString(e)&&(e=uh(e)),e instanceof Sr?e.format():Sr.prototype.format.call(e)}Sr.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Lr.isObject(this.query)&&Object.keys(this.query).length&&(o=Vf.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||zi[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+r+a+n};Sr.prototype.resolve=function(e){return this.resolveObject(uh(e,!1,!0)).format()};Sr.prototype.resolveObject=function(e){if(Lr.isString(e)){var t=new Sr;t.parse(e,!1,!0),e=t}for(var r=new Sr,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var c=a[s];c!=="protocol"&&(r[c]=e[c])}return zi[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!zi[e.protocol]){for(var u=Object.keys(e),f=0;f<u.length;f++){var l=u[f];r[l]=e[l]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!Gf[e.protocol]){for(var T=(e.pathname||"").split("/");T.length&&!(e.host=T.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),r.pathname=T.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",h=r.search||"";r.path=d+h}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",_=g||v||r.host&&e.pathname,E=_,S=r.pathname&&r.pathname.split("/")||[],T=e.pathname&&e.pathname.split("/")||[],R=r.protocol&&!zi[r.protocol];if(R&&(r.hostname="",r.port=null,r.host&&(S[0]===""?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(T[0]===""?T[0]=e.host:T.unshift(e.host)),e.host=null),_=_&&(T[0]===""||S[0]==="")),g)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=T;else if(T.length)S||(S=[]),S.pop(),S=S.concat(T),r.search=e.search,r.query=e.query;else if(!Lr.isNullOrUndefined(e.search)){if(R){r.hostname=r.host=S.shift();var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.host=r.hostname=P.shift())}return r.search=e.search,r.query=e.query,(!Lr.isNull(r.pathname)||!Lr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var U=S.slice(-1)[0],W=(r.host||e.host||S.length>1)&&(U==="."||U==="..")||U==="",j=0,te=S.length;te>=0;te--)U=S[te],U==="."?S.splice(te,1):U===".."?(S.splice(te,1),j++):j&&(S.splice(te,1),j--);if(!_&&!E)for(;j--;j)S.unshift("..");_&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")&&S.unshift(""),W&&S.join("/").substr(-1)!=="/"&&S.push("");var k=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(R){r.hostname=r.host=k?"":S.length?S.shift():"";var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.host=r.hostname=P.shift())}return _=_||r.host&&S.length,_&&!k&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),(!Lr.isNull(r.pathname)||!Lr.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Sr.prototype.parseHost=function(){var e=this.host,t=Bk.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Gk=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vk=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Wk=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jk=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Yk=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jk(arguments[t]));return e},Ca=new Se("Util"),Sn=function(e){Gk(t,e);function t(r){var n=e.call(this,r)||this;return n.nonRetryable=!0,n}return t}(Error),Xk=function(e){var t="nonRetryable";return e&&e[t]};function lE(e,t,r,n){return n===void 0&&(n=1),Vk(this,void 0,void 0,function(){var i,o;return Wk(this,function(a){switch(a.label){case 0:if(typeof e!="function")throw Error("functionToRetry must be a function");Ca.debug(e.name+" attempt #"+n+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,Yk(t))];case 2:return[2,a.sent()];case 3:if(i=a.sent(),Ca.debug("error on "+e.name,i),Xk(i))throw Ca.debug(e.name+" non retryable error",i),i;return o=r(n,t,i),Ca.debug(e.name+" retrying in "+o+" ms"),o===!1?[3,6]:[4,new Promise(function(s){return setTimeout(s,o)})];case 4:return a.sent(),[4,lE(e,t,r,n+1)];case 5:return[2,a.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}})})}var dE=5*60*1e3;function Qk(e){e===void 0&&(e=dE);var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var hE=function(e,t,r){return r===void 0&&(r=dE),lE(e,t,Qk(r))},wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.Observable=void 0;function ch(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fh(e,t,r){return t&&hv(e.prototype,t),r&&hv(e,r),e}var lh=function(){return typeof Symbol=="function"},dh=function(e){return lh()&&Boolean(Symbol[e])},hh=function(e){return dh(e)?Symbol[e]:"@@"+e};lh()&&!dh("observable")&&(Symbol.observable=Symbol("observable"));var Zk=hh("iterator"),Wf=hh("observable"),pE=hh("species");function zs(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function fo(e){var t=e.constructor;return t!==void 0&&(t=t[pE],t===null&&(t=void 0)),t!==void 0?t:bu}function eP(e){return e instanceof bu}function Gi(e){Gi.log?Gi.log(e):setTimeout(function(){throw e})}function as(e){Promise.resolve().then(function(){try{e()}catch(t){Gi(t)}})}function vE(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var r=zs(t,"unsubscribe");r&&r.call(t)}}catch(n){Gi(n)}}function Jf(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function tP(e){var t=e._queue;if(!!t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(gE(e,t[r].type,t[r].value),e._state!=="closed");++r);}}function gE(e,t,r){e._state="running";var n=e._observer;try{var i=zs(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(Jf(e),i)i.call(n,r);else throw r;break;case"complete":Jf(e),i&&i.call(n);break}}catch(o){Gi(o)}e._state==="closed"?vE(e):e._state==="running"&&(e._state="ready")}function _c(e,t,r){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:r});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:r}],as(function(){return tP(e)});return}gE(e,t,r)}}var rP=function(){function e(t,r){ch(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var n=new nP(this);try{this._cleanup=r.call(void 0,n)}catch(i){n.error(i)}this._state==="initializing"&&(this._state="ready")}return fh(e,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(Jf(this),vE(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),e}(),nP=function(){function e(t){ch(this,e),this._subscription=t}return fh(e,[{key:"next",value:function(r){_c(this._subscription,"next",r)}},{key:"error",value:function(r){_c(this._subscription,"error",r)}},{key:"complete",value:function(){_c(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),bu=function(){function e(t){if(ch(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}return fh(e,[{key:"subscribe",value:function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new rP(r,this._subscriber)}},{key:"forEach",value:function(r){var n=this;return new Promise(function(i,o){if(typeof r!="function"){o(new TypeError(r+" is not a function"));return}function a(){s.unsubscribe(),i()}var s=n.subscribe({next:function(c){try{r(c,a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i})})}},{key:"map",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=fo(this);return new i(function(o){return n.subscribe({next:function(a){try{a=r(a)}catch(s){return o.error(s)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})}},{key:"filter",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=fo(this);return new i(function(o){return n.subscribe({next:function(a){try{if(!r(a))return}catch(s){return o.error(s)}o.next(a)},error:function(a){o.error(a)},complete:function(){o.complete()}})})}},{key:"reduce",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=fo(this),o=arguments.length>1,a=!1,s=arguments[1],c=s;return new i(function(u){return n.subscribe({next:function(f){var l=!a;if(a=!0,!l||o)try{c=r(c,f)}catch(d){return u.error(d)}else c=f},error:function(f){u.error(f)},complete:function(){if(!a&&!o)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})}},{key:"concat",value:function(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=fo(this);return new a(function(s){var c,u=0;function f(l){c=l.subscribe({next:function(d){s.next(d)},error:function(d){s.error(d)},complete:function(){u===i.length?(c=void 0,s.complete()):f(a.from(i[u++]))}})}return f(r),function(){c&&(c.unsubscribe(),c=void 0)}})}},{key:"flatMap",value:function(r){var n=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=fo(this);return new i(function(o){var a=[],s=n.subscribe({next:function(u){if(r)try{u=r(u)}catch(l){return o.error(l)}var f=i.from(u).subscribe({next:function(l){o.next(l)},error:function(l){o.error(l)},complete:function(){var l=a.indexOf(f);l>=0&&a.splice(l,1),c()}});a.push(f)},error:function(u){o.error(u)},complete:function(){c()}});function c(){s.closed&&a.length===0&&o.complete()}return function(){a.forEach(function(u){return u.unsubscribe()}),s.unsubscribe()}})}},{key:Wf,value:function(){return this}}],[{key:"from",value:function(r){var n=typeof this=="function"?this:e;if(r==null)throw new TypeError(r+" is not an object");var i=zs(r,Wf);if(i){var o=i.call(r);if(Object(o)!==o)throw new TypeError(o+" is not an object");return eP(o)&&o.constructor===n?o:new n(function(a){return o.subscribe(a)})}if(dh("iterator")&&(i=zs(r,Zk),i))return new n(function(a){as(function(){if(!a.closed){var s=!0,c=!1,u=void 0;try{for(var f=i.call(r)[Symbol.iterator](),l;!(s=(l=f.next()).done);s=!0){var d=l.value;if(a.next(d),a.closed)return}}catch(h){c=!0,u=h}finally{try{!s&&f.return!=null&&f.return()}finally{if(c)throw u}}a.complete()}})});if(Array.isArray(r))return new n(function(a){as(function(){if(!a.closed){for(var s=0;s<r.length;++s)if(a.next(r[s]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")}},{key:"of",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=typeof this=="function"?this:e;return new o(function(a){as(function(){if(!a.closed){for(var s=0;s<n.length;++s)if(a.next(n[s]),a.closed)return;a.complete()}})})}},{key:pE,get:function(){return this}}]),e}();wu.Observable=bu;lh()&&Object.defineProperty(bu,Symbol("extensions"),{value:{symbol:Wf,hostReportError:Gi},configurable:!0});var iP=wu.Observable,oP=iP,Fo=oP,aP=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},sP=1e3*60*5,sr={clockOffset:0,getDateWithClockOffset:function(){return sr.clockOffset?new Date(new Date().getTime()+sr.clockOffset):new Date},getClockOffset:function(){return sr.clockOffset},getHeaderStringFromDate:function(e){return e===void 0&&(e=sr.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=aP(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6];return new Date(Date.UTC(Number(r),Number(n)-1,Number(i),Number(o),Number(a),Number(s)))},isClockSkewed:function(e){return Math.abs(e.getTime()-sr.getDateWithClockOffset().getTime())>=sP},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){sr.clockOffset=e}};function uP(e){return e.split("").map(function(t){return t.charCodeAt(0).toString(16).padStart(2,"0")}).join("")}function cP(e){return e.match(/.{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join("")}var zt=globalThis&&globalThis.__assign||function(){return zt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zt.apply(this,arguments)},fP=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},mE=new Se("Signer"),Aa="AWS4-HMAC-SHA256",lP="iotdevicegateway",wo=function(e,t){var r=new oh.Sha256(e);return r.update(t),r.digestSync()},yE=function(e){var t=e||"",r=new oh.Sha256;return r.update(t),Pt(r.digestSync())},dP=function(e){return e.replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},hP=function(e){return!e||e.length===0?"":e.split("&").map(function(t){var r=t.split("=");if(r.length===1)return t;var n=dP(r[1]);return r[0]+"="+n}).sort(function(t,r){var n=t.split("=")[0],i=r.split("=")[0];return n===i?t<r?-1:1:n<i?-1:1}).join("&")},pP=function(e){return!e||Object.keys(e).length===0?"":Object.keys(e).map(function(t){return{key:t.toLowerCase(),value:e[t]?e[t].trim().replace(/\s+/g," "):""}}).sort(function(t,r){return t.key<r.key?-1:1}).map(function(t){return t.key+":"+t.value}).join(`
`)+`
`},wE=function(e){return Object.keys(e).map(function(t){return t.toLowerCase()}).sort().join(";")},pv=function(e){var t=kt(e.url);return[e.method||"/",encodeURIComponent(t.pathname).replace(/%2F/gi,"/"),hP(t.query),pP(e.headers),wE(e.headers),yE(e.data)].join(`
`)},vv=function(e){var t=kt(e.url),r=t.host,n=r.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/),i=(n||[]).slice(1,3);return i[1]==="es"&&(i=i.reverse()),{service:e.service||i[0],region:e.region||i[1]}},gv=function(e,t,r){return[e,t,r,"aws4_request"].join("/")},mv=function(e,t,r,n){return[e,r,n,yE(t)].join(`
`)},yv=function(e,t,r){mE.debug(r);var n="AWS4"+e,i=wo(n,t),o=wo(i,r.region),a=wo(o,r.service),s=wo(a,"aws4_request");return s},wv=function(e,t){return Pt(wo(e,t))},vP=function(e,t,r,n,i){return[e+" Credential="+t+"/"+r,"SignedHeaders="+n,"Signature="+i].join(", ")},bE=function(){function e(){}return e.sign=function(t,r,n){n===void 0&&(n=null),t.headers=t.headers||{};var i=sr.getDateWithClockOffset(),o=i.toISOString().replace(/[:\-]|\.\d{3}/g,""),a=o.substr(0,8),s=kt(t.url);t.headers.host=s.host,t.headers["x-amz-date"]=o,r.session_token&&(t.headers["X-Amz-Security-Token"]=r.session_token);var c=pv(t);mE.debug(c);var u=n||vv(t),f=gv(a,u.region,u.service),l=mv(Aa,c,o,f),d=yv(r.secret_key,a,u),h=wv(d,l),v=vP(Aa,r.access_key,f,wE(t.headers),h);return t.headers.Authorization=v,t},e.signUrl=function(t,r,n,i){var o=typeof t=="object"?t.url:t,a=typeof t=="object"?t.method:"GET",s=typeof t=="object"?t.body:void 0,c=sr.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=c.substr(0,8),f=kt(o,!0,!0);f.search;var l=fP(f,["search"]),d=l.host,h={host:d},v=n||vv({url:os(l)}),g=v.region,_=v.service,E=gv(u,g,_),S=r.session_token&&_!==lP,T=zt(zt(zt({"X-Amz-Algorithm":Aa,"X-Amz-Credential":[r.access_key,E].join("/"),"X-Amz-Date":c.substr(0,16)},S?{"X-Amz-Security-Token":""+r.session_token}:{}),i?{"X-Amz-Expires":""+i}:{}),{"X-Amz-SignedHeaders":Object.keys(h).join(",")}),R=pv({method:a,url:os(zt(zt({},l),{query:zt(zt({},l.query),T)})),headers:h,data:s}),P=mv(Aa,R,c,E),U=yv(r.secret_key,u,{region:g,service:_}),W=wv(U,P),j=zt({"X-Amz-Signature":W},r.session_token&&{"X-Amz-Security-Token":r.session_token}),te=os({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:zt(zt(zt({},l.query),T),j)});return te},e}(),qs=globalThis&&globalThis.__assign||function(){return qs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qs.apply(this,arguments)},gP=new Se("Parser"),mP=function(e){var t={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};t.Analytics=r}(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(t.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:e.aws_mandatory_sign_in==="enable"});var n;return e.aws_user_files_s3_bucket?n={AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:n=e?e.Storage||e:{},e.Logging&&(t.Logging=qs(qs({},e.Logging),{region:e.aws_project_region})),e.geo&&(t.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(t.Geo={AmazonLocationService:e.geo.amazon_location_service})),t.Analytics=Object.assign({},t.Analytics,e.Analytics),t.Auth=Object.assign({},t.Auth,e.Auth),t.Storage=Object.assign({},n),t.Logging=Object.assign({},t.Logging,e.Logging),gP.debug("parse config",e,"to amplifyconfig",t),t},ph=function(){function e(){}return e.parseMobilehubConfig=mP,e}(),vh={},_u={},aa={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.isEmptyData=void 0;function yP(e){return typeof e=="string"?e.length===0:e.byteLength===0}Su.isEmptyData=yP;var gh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})(gh);var wP=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){var o=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},bP=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++r];t+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){var a=[i,e[++r],e[++r],e[++r]],s="%"+a.map(function(c){return c.toString(16)}).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function _P(e){return new TextEncoder().encode(e)}function SP(e){return new TextDecoder("utf-8").decode(e)}var Eu=function(e){return typeof TextEncoder=="function"?_P(e):wP(e)},mh=function(e){return typeof TextDecoder=="function"?SP(e):bP(e)},EP=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Eu,toUtf8:mh},Symbol.toStringTag,{value:"Module"})),_E=yu(EP),CP={};function AP(){return typeof window!="undefined"?window:typeof self!="undefined"?self:CP}var xP=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:AP},Symbol.toStringTag,{value:"Module"})),yh=yu(xP);Object.defineProperty(aa,"__esModule",{value:!0});aa.Sha256=void 0;var TP=Su,SE=gh,IP=_E,Yf=yh,OP=function(){function e(t){t?(this.operation=kP(t).then(function(r){return(0,Yf.locateWindow)().msCrypto.subtle.sign(SE.SHA_256_HMAC_ALGO,r)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,Yf.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(t){var r=this;(0,TP.isEmptyData)(t)||(this.operation=this.operation.then(function(n){return n.onerror=function(){r.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(EE(t)),n}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(t){return new Promise(function(r,n){t.onerror=function(){n(new Error("Error encountered finalizing hash"))},t.oncomplete=function(){t.result&&r(new Uint8Array(t.result)),n(new Error("Error encountered finalizing hash"))},t.finish()})})},e}();aa.Sha256=OP;function kP(e){return new Promise(function(t,r){var n=(0,Yf.locateWindow)().msCrypto.subtle.importKey("raw",EE(e),SE.SHA_256_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&t(n.result),r(new Error("ImportKey completed without importing key."))},n.onerror=function(){r(new Error("ImportKey failed to import key."))}})}function EE(e){return typeof e=="string"?(0,IP.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var sa={},ua={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.convertToBuffer=void 0;var PP=_E,NP=typeof Buffer!="undefined"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:PP.fromUtf8;function RP(e){return e instanceof Uint8Array?e:typeof e=="string"?NP(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}Cu.convertToBuffer=RP;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.isEmptyData=void 0;function MP(e){return typeof e=="string"?e.length===0:e.byteLength===0}Au.isEmptyData=MP;var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.numToUint8=void 0;function DP(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}xu.numToUint8=DP;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.uint32ArrayFrom=void 0;function LP(e){if(!Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r];return t}return Uint32Array.from(e)}Tu.uint32ArrayFrom=LP;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Cu;Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=Au;Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=xu;Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=Tu;Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})})(ua);Object.defineProperty(sa,"__esModule",{value:!0});sa.Sha256=void 0;var xa=ua,Ta=gh,Sc=yh,UP=function(){function e(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(r,n){(0,Sc.locateWindow)().crypto.subtle.importKey("raw",(0,xa.convertToBuffer)(t),Ta.SHA_256_HMAC_ALGO,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return e.prototype.update=function(t){if(!(0,xa.isEmptyData)(t)){var r=(0,xa.convertToBuffer)(t),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var t=this;return this.key?this.key.then(function(r){return(0,Sc.locateWindow)().crypto.subtle.sign(Ta.SHA_256_HMAC_ALGO,r,t.toHash).then(function(n){return new Uint8Array(n)})}):(0,xa.isEmptyData)(this.toHash)?Promise.resolve(Ta.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,Sc.locateWindow)().crypto.subtle.digest(Ta.SHA_256_HASH,t.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},e}();sa.Sha256=UP;var CE={},Iu={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.MAX_HASHABLE_LENGTH=qt.INIT=qt.KEY=qt.DIGEST_LENGTH=qt.BLOCK_SIZE=void 0;qt.BLOCK_SIZE=64;qt.DIGEST_LENGTH=32;qt.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);qt.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];qt.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.RawSha256=void 0;var tr=qt,BP=function(){function e(){this.state=Int32Array.from(tr.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=t.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>tr.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[r++],n--,this.bufferLength===tr.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%tr.BLOCK_SIZE>=tr.BLOCK_SIZE-8){for(var i=this.bufferLength;i<tr.BLOCK_SIZE;i++)r.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<tr.BLOCK_SIZE-8;i++)r.setUint8(i,0);r.setUint32(tr.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),r.setUint32(tr.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(tr.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3],c=n[4],u=n[5],f=n[6],l=n[7],d=0;d<tr.BLOCK_SIZE;d++){if(d<16)this.temp[d]=(r[d*4]&255)<<24|(r[d*4+1]&255)<<16|(r[d*4+2]&255)<<8|r[d*4+3]&255;else{var h=this.temp[d-2],v=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[d-15];var g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[d]=(v+this.temp[d-7]|0)+(g+this.temp[d-16]|0)}var _=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&f)|0)+(l+(tr.KEY[d]+this.temp[d]|0)|0)|0,E=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&a^o&a)|0;l=f,f=u,u=c,c=s+_|0,s=a,a=o,o=i,i=_+E|0}n[0]+=i,n[1]+=o,n[2]+=a,n[3]+=s,n[4]+=c,n[5]+=u,n[6]+=f,n[7]+=l},e}();Ou.RawSha256=BP;Object.defineProperty(Iu,"__esModule",{value:!0});Iu.Sha256=void 0;var bv=N.exports,Ks=qt,Xf=Ou,Qf=ua,FP=function(){function e(t){if(this.hash=new Xf.RawSha256,t){this.outer=new Xf.RawSha256;var r=jP(t),n=new Uint8Array(Ks.BLOCK_SIZE);n.set(r);for(var i=0;i<Ks.BLOCK_SIZE;i++)r[i]^=54,n[i]^=92;this.hash.update(r),this.outer.update(n);for(var i=0;i<r.byteLength;i++)r[i]=0}}return e.prototype.update=function(t){if(!((0,Qf.isEmptyData)(t)||this.error))try{this.hash.update((0,Qf.convertToBuffer)(t))}catch(r){this.error=r}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,bv.__awaiter)(this,void 0,void 0,function(){return(0,bv.__generator)(this,function(t){return[2,this.digestSync()]})})},e}();Iu.Sha256=FP;function jP(e){var t=(0,Qf.convertToBuffer)(e);if(t.byteLength>Ks.BLOCK_SIZE){var r=new Xf.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(Ks.BLOCK_SIZE);return n.set(t),n}(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=N.exports;(0,t.__exportStar)(Iu,e)})(CE);var AE={},jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.supportsZeroByteGCM=jr.supportsSubtleCrypto=jr.supportsSecureRandom=jr.supportsWebCrypto=void 0;var _v=N.exports,$P=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function zP(e){if(xE(e)&&typeof e.crypto.subtle=="object"){var t=e.crypto.subtle;return wh(t)}return!1}jr.supportsWebCrypto=zP;function xE(e){if(typeof e=="object"&&typeof e.crypto=="object"){var t=e.crypto.getRandomValues;return typeof t=="function"}return!1}jr.supportsSecureRandom=xE;function wh(e){return e&&$P.every(function(t){return typeof e[t]=="function"})}jr.supportsSubtleCrypto=wh;function qP(e){return _v.__awaiter(this,void 0,void 0,function(){var t,r;return _v.__generator(this,function(n){switch(n.label){case 0:if(!wh(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return r=n.sent(),[2,r.byteLength===16];case 4:return n.sent(),[2,!1];case 5:return[2]}})})}jr.supportsZeroByteGCM=qP;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=N.exports;t.__exportStar(jr,e)})(AE);var TE={},IE={};Object.defineProperty(IE,"__esModule",{value:!0});var OE={};Object.defineProperty(OE,"__esModule",{value:!0});var kE={};Object.defineProperty(kE,"__esModule",{value:!0});var PE={};Object.defineProperty(PE,"__esModule",{value:!0});var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.isMsWindow=void 0;var KP=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function HP(e){return"MSInputMethodContext"in e&&"msCrypto"in e}function GP(e){if(HP(e)&&e.msCrypto.subtle!==void 0){var t=e.msCrypto,r=t.getRandomValues,n=t.subtle;return KP.map(function(i){return n[i]}).concat(r).every(function(i){return typeof i=="function"})}return!1}ku.isMsWindow=GP;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=N.exports;t.__exportStar(IE,e),t.__exportStar(OE,e),t.__exportStar(kE,e),t.__exportStar(PE,e),t.__exportStar(ku,e)})(TE);Object.defineProperty(_u,"__esModule",{value:!0});_u.Sha256=void 0;var VP=aa,WP=sa,JP=CE,YP=AE,XP=TE,Sv=yh,QP=function(){function e(t){(0,YP.supportsWebCrypto)((0,Sv.locateWindow)())?this.hash=new WP.Sha256(t):(0,XP.isMsWindow)((0,Sv.locateWindow)())?this.hash=new VP.Sha256(t):this.hash=new JP.Sha256(t)}return e.prototype.update=function(t,r){this.hash.update(t,r)},e.prototype.digest=function(){return this.hash.digest()},e}();_u.Sha256=QP;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=N.exports;(0,t.__exportStar)(_u,e);var r=aa;Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=sa;Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(vh);var jo=function(){function e(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}return e.isInstance=function(t){if(!t)return!1;var r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"},e}(),Ge=function(){function e(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.substr(-1)!==":"?t.protocol+":":t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?"/"+t.path:t.path:"/"}return e.isInstance=function(t){if(!t)return!1;var r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"},e.prototype.clone=function(){var t=new e(N.exports.__assign(N.exports.__assign({},this),{headers:N.exports.__assign({},this.headers)}));return t.query&&(t.query=ZP(t.query)),t},e}();function ZP(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return N.exports.__assign(N.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?N.exports.__spread(i):i,n))},{})}var Gn=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,eN)},eN=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function bh(e){var t,r,n=[];try{for(var i=N.exports.__values(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=Gn(a),Array.isArray(s))for(var c=0,u=s.length;c<u;c++)n.push(a+"="+Gn(s[c]));else{var f=a;(s||typeof s=="string")&&(f+="="+Gn(s)),n.push(f)}}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join("&")}function tN(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var NE=function(){function e(t){var r=t===void 0?{}:t,n=r.requestTimeout;this.requestTimeout=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=r===void 0?{}:r,i=n.abortSignal,o=this.requestTimeout;if(i!=null&&i.aborted){var a=new Error("Request aborted");return a.name="AbortError",Promise.reject(a)}var s=t.path;if(t.query){var c=bh(t.query);c&&(s+="?"+c)}var u=t.port,f=t.method,l=t.protocol+"//"+t.hostname+(u?":"+u:"")+s,d=f==="GET"||f==="HEAD"?void 0:t.body,h={body:d,headers:new Headers(t.headers),method:f};typeof AbortController!="undefined"&&(h.signal=i);var v=new Request(l,h),g=[fetch(v).then(function(_){var E,S,T=_.headers,R={};try{for(var P=N.exports.__values(T.entries()),U=P.next();!U.done;U=P.next()){var W=U.value;R[W[0]]=W[1]}}catch(te){E={error:te}}finally{try{U&&!U.done&&(S=P.return)&&S.call(P)}finally{if(E)throw E.error}}var j=_.body!==void 0;return j?{response:new jo({headers:R,statusCode:_.status,body:_.body})}:_.blob().then(function(te){return{response:new jo({headers:R,statusCode:_.status,body:te})}})}),tN(o)];return i&&g.push(new Promise(function(_,E){i.onabort=function(){var S=new Error("Request aborted");S.name="AbortError",E(S)}})),Promise.race(g)},e}(),oi={},Zi=new Array(64);for(var nt=0,$o="A".charCodeAt(0),_h="Z".charCodeAt(0);nt+$o<=_h;nt++){var kn=String.fromCharCode(nt+$o);oi[kn]=nt,Zi[nt]=kn}for(var nt=0,$o="a".charCodeAt(0),_h="z".charCodeAt(0);nt+$o<=_h;nt++){var kn=String.fromCharCode(nt+$o),zo=nt+26;oi[kn]=zo,Zi[zo]=kn}for(var nt=0;nt<10;nt++){oi[nt.toString(10)]=nt+52;var kn=nt.toString(10),zo=nt+52;oi[kn]=zo,Zi[zo]=kn}oi["+"]=62;Zi[62]="+";oi["/"]=63;Zi[63]="/";var qi=6,To=8,rN=63;function Sh(e){var t=e.length/4*3;e.substr(-2)==="=="?t-=2:e.substr(-1)==="="&&t--;for(var r=new ArrayBuffer(t),n=new DataView(r),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,c=i+3;s<=c;s++)e[s]!=="="?(o|=oi[e[s]]<<(c-s)*qi,a+=qi):o>>=qi;var u=i/4*3;o>>=a%To;for(var f=Math.floor(a/To),l=0;l<f;l++){var d=(f-l-1)*To;n.setUint8(u+l,(o&255<<d)>>d)}}return new Uint8Array(r)}function RE(e){for(var t="",r=0;r<e.length;r+=3){for(var n=0,i=0,o=r,a=Math.min(r+3,e.length);o<a;o++)n|=e[o]<<(a-o-1)*To,i+=To;var s=Math.ceil(i/qi);n<<=s*qi-i;for(var c=1;c<=s;c++){var u=(s-c)*qi;t+=Zi[(n&rN<<u)>>u]}t+="==".slice(0,4-s)}return t}var ME=function(e){return typeof Blob=="function"&&e instanceof Blob?nN(e):iN(e)};function nN(e){return N.exports.__awaiter(this,void 0,void 0,function(){var t,r;return N.exports.__generator(this,function(n){switch(n.label){case 0:return[4,oN(e)];case 1:return t=n.sent(),r=Sh(t),[2,new Uint8Array(r)]}})})}function iN(e){return N.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,a,s;return N.exports.__generator(this,function(c){switch(c.label){case 0:t=new Uint8Array(0),r=e.getReader(),n=!1,c.label=1;case 1:return n?[3,3]:[4,r.read()];case 2:return i=c.sent(),o=i.done,a=i.value,a&&(s=t,t=new Uint8Array(s.length+a.length),t.set(s),t.set(a,s.length)),n=o,[3,1];case 3:return[2,t]}})})}function oN(e){return new Promise(function(t,r){var n=new FileReader;n.onloadend=function(){var i;if(n.readyState!==2)return r(new Error("Reader aborted too early"));var o=(i=n.result)!==null&&i!==void 0?i:"",a=o.indexOf(","),s=a>-1?a+1:o.length;t(o.substring(s))},n.onabort=function(){return r(new Error("Read aborted"))},n.onerror=function(){return r(n.error)},n.readAsDataURL(e)})}var DE=function(e){return function(){return Promise.reject(e)}},aN=function(e){return function(t,r){return function(n){return N.exports.__awaiter(void 0,void 0,void 0,function(){var i;return N.exports.__generator(this,function(o){return!((i=e==null?void 0:e.retryStrategy)===null||i===void 0)&&i.mode&&(r.userAgent=N.exports.__spread(r.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,n)]})})}}},sN={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},LE=function(e){return{applyToStack:function(t){t.add(aN(e),sN)}}},uN=100,cN=20*1e3,fN=500,lN=500,dN=5,hN=10,pN=1,vN="amz-sdk-invocation-id",gN="amz-sdk-request",mN=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],yN=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],wN=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],bN=[500,502,503,504],_N=function(e){return e.$retryable!==void 0},SN=function(e){return mN.includes(e.name)},UE=function(e){var t,r;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||yN.includes(e.name)||((r=e.$retryable)===null||r===void 0?void 0:r.throttling)==!0},EN=function(e){var t;return wN.includes(e.name)||bN.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)},Hs={exports:{}},Ev=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(Ev){var Cv=new Uint8Array(16);Hs.exports=function(){return Ev(Cv),Cv}}else{var Av=new Array(16);Hs.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Av[t]=r>>>((t&3)<<3)&255;return Av}}var BE=[];for(var Ia=0;Ia<256;++Ia)BE[Ia]=(Ia+256).toString(16).substr(1);function CN(e,t){var r=t||0,n=BE;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var FE=CN,AN=Hs.exports,xN=FE,xv,Ec,Cc=0,Ac=0;function TN(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var o=e.node||xv,a=e.clockseq!==void 0?e.clockseq:Ec;if(o==null||a==null){var s=AN();o==null&&(o=xv=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=Ec=(s[6]<<8|s[7])&16383)}var c=e.msecs!==void 0?e.msecs:new Date().getTime(),u=e.nsecs!==void 0?e.nsecs:Ac+1,f=c-Cc+(u-Ac)/1e4;if(f<0&&e.clockseq===void 0&&(a=a+1&16383),(f<0||c>Cc)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Cc=c,Ac=u,Ec=a,c+=122192928e5;var l=((c&268435455)*1e4+u)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var d=c/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var h=0;h<6;++h)i[n+h]=o[h];return t||xN(i)}var IN=TN,ON=Hs.exports,kN=FE;function PN(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||ON)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||kN(i)}var NN=PN,RN=IN,jE=NN,Eh=jE;Eh.v1=RN;Eh.v4=jE;var Ch=Eh,MN=function(e){var t=e,r=e,n=function(s){return s.name==="TimeoutError"?hN:dN},i=function(s){return n(s)<=r},o=function(s){if(!i(s))throw new Error("No retry token available");var c=n(s);return r-=c,c},a=function(s){r+=s!=null?s:pN,r=Math.min(r,t)};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:o,releaseRetryTokens:a})},DN=function(e,t){return Math.floor(Math.min(cN,Math.random()*Math.pow(2,t)*e))},LN=function(e){return e?_N(e)||SN(e)||UE(e)||EN(e):!1},Pu=3,UN="standard",BN=function(){function e(t,r){var n,i,o;this.maxAttemptsProvider=t,this.mode=UN,this.retryDecider=(n=r==null?void 0:r.retryDecider)!==null&&n!==void 0?n:LN,this.delayDecider=(i=r==null?void 0:r.delayDecider)!==null&&i!==void 0?i:DN,this.retryQuota=(o=r==null?void 0:r.retryQuota)!==null&&o!==void 0?o:MN(lN)}return e.prototype.shouldRetry=function(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)},e.prototype.getMaxAttempts=function(){return N.exports.__awaiter(this,void 0,void 0,function(){var t;return N.exports.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t=Pu,[3,3];case 3:return[2,t]}})})},e.prototype.retry=function(t,r){return N.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f;return N.exports.__generator(this,function(l){switch(l.label){case 0:return i=0,o=0,[4,this.getMaxAttempts()];case 1:a=l.sent(),s=r.request,Ge.isInstance(s)&&(s.headers[vN]=Ch.v4()),c=function(){var d,h,v,g,_;return N.exports.__generator(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,5]),Ge.isInstance(s)&&(s.headers[gN]="attempt="+(i+1)+"; max="+a),[4,t(r)];case 1:return d=E.sent(),h=d.response,v=d.output,u.retryQuota.releaseRetryTokens(n),v.$metadata.attempts=i+1,v.$metadata.totalRetryDelay=o,[2,{value:{response:h,output:v}}];case 2:return g=E.sent(),i++,u.shouldRetry(g,i,a)?(n=u.retryQuota.retrieveRetryTokens(g),_=u.delayDecider(UE(g)?fN:uN,i),o+=_,[4,new Promise(function(S){return setTimeout(S,_)})]):[3,4];case 3:return E.sent(),[2,"continue"];case 4:throw g.$metadata||(g.$metadata={}),g.$metadata.attempts=i,g.$metadata.totalRetryDelay=o,g;case 5:return[2]}})},u=this,l.label=2;case 2:return[5,c()];case 3:return f=l.sent(),typeof f=="object"?[2,f.value]:[3,2];case 4:return[2]}})})},e}(),$E=function(e){var t=FN(e.maxAttempts);return N.exports.__assign(N.exports.__assign({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new BN(t)})},FN=function(e){if(e===void 0&&(e=Pu),typeof e=="number"){var t=Promise.resolve(e);return function(){return t}}return e};function zE(e){if(typeof e=="string"){for(var t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2)}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}}const jN={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},qE={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},qe={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},bt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ln={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class re{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=re.getVersionPrecision(t),o=re.getVersionPrecision(r);let a=Math.max(i,o),s=0;const c=re.map([t,r],u=>{const f=a-re.getVersionPrecision(u),l=u+new Array(f+1).join(".0");return re.map(l.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const o=t[n];if(r(o,n))return o}}static assign(t,...r){const n=t;let i,o;if(Object.assign)return Object.assign(t,...r);for(i=0,o=r.length;i<o;i+=1){const a=r[i];typeof a=="object"&&a!==null&&Object.keys(a).forEach(c=>{n[c]=a[c]})}return t}static getBrowserAlias(t){return jN[t]}static getBrowserTypeByAlias(t){return qE[t]||""}}const Pe=/version\/(\d+(\.?_?\d+)+)/i,$N=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=re.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=re.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=re.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=re.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=re.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=re.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=re.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=re.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=re.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=re.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=re.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=re.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=re.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=re.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=re.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=re.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=re.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=re.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=re.getFirstMatch(Pe,e)||re.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=re.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=re.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=re.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=re.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=re.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=re.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=re.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=re.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=re.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=re.getFirstMatch(Pe,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:re.getFirstMatch(i,e),version:re.getSecondMatch(i,e)}}}];var zN=[{test:[/Roku\/DVP/],describe(e){const t=re.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:bt.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=re.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:bt.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=re.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=re.getWindowsVersionName(t);return{name:bt.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:bt.iOS},r=re.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=re.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=re.getMacOSVersionName(t),n={name:bt.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=re.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:bt.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=re.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=re.getAndroidVersionName(t),n={name:bt.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=re.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:bt.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=re.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||re.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||re.getFirstMatch(/\bbb(\d+)/i,e);return{name:bt.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=re.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:bt.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=re.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:bt.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:bt.Linux}}},{test:[/CrOS/],describe(){return{name:bt.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=re.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:bt.PlayStation4,version:t}}}],qN=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=re.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:qe.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:qe.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:qe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:qe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:qe.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:qe.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:qe.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=re.getFirstMatch(/(ipod|iphone)/i,e);return{type:qe.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:qe.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:qe.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:qe.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:qe.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:qe.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:qe.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:qe.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:qe.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:qe.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:qe.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:qe.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:qe.tv}}}],KN=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:ln.Blink};const r=re.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ln.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:ln.Trident},r=re.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:ln.Presto},r=re.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:ln.Gecko},r=re.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ln.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:ln.WebKit},r=re.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Tv{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=re.find($N,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=re.find(zN,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=re.find(qN,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=re.find(KN,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return re.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let o=0;if(Object.keys(t).forEach(s=>{const c=t[s];typeof c=="string"?(i[s]=c,o+=1):typeof c=="object"&&(r[s]=c,n+=1)}),n>0){const s=Object.keys(r),c=re.find(s,f=>this.isOS(f));if(c){const f=this.satisfies(r[c]);if(f!==void 0)return f}const u=re.find(s,f=>this.isPlatform(f));if(u){const f=this.satisfies(r[u]);if(f!==void 0)return f}}if(o>0){const s=Object.keys(i),c=re.find(s,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=re.getBrowserTypeByAlias(i);return r&&o&&(i=o.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(re.compareVersions(o,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class HN{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Tv(t,r)}static parse(t){return new Tv(t).getResult()}static get BROWSER_MAP(){return qE}static get ENGINE_MAP(){return ln}static get OS_MAP(){return bt}static get PLATFORMS_MAP(){return qe}}var KE=function(e){var t=e.serviceId,r=e.clientVersion;return function(){return N.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l;return N.exports.__generator(this,function(d){return n=!((o=window==null?void 0:window.navigator)===null||o===void 0)&&o.userAgent?HN.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",r],["os/"+(((a=n==null?void 0:n.os)===null||a===void 0?void 0:a.name)||"other"),(s=n==null?void 0:n.os)===null||s===void 0?void 0:s.version],["lang/js"],["md/browser",((u=(c=n==null?void 0:n.browser)===null||c===void 0?void 0:c.name)!==null&&u!==void 0?u:"unknown")+"_"+((l=(f=n==null?void 0:n.browser)===null||f===void 0?void 0:f.version)!==null&&l!==void 0?l:"unknown")]],t&&i.push(["api/"+t,r]),[2,i]})})}};function GN(e){var t,r,n={};if(e=e.replace(/^\?/,""),e)try{for(var i=N.exports.__values(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value,s=N.exports.__read(a.split("="),2),c=s[0],u=s[1],f=u===void 0?null:u;c=decodeURIComponent(c),f&&(f=decodeURIComponent(f)),c in n?Array.isArray(n[c])?n[c].push(f):n[c]=[n[c],f]:n[c]=f}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}var HE=function(e){var t=new URL(e),r=t.hostname,n=t.pathname,i=t.port,o=t.protocol,a=t.search,s;return a&&(s=GN(a)),{hostname:r,port:i?parseInt(i):void 0,protocol:o,path:n,query:s}},GE=function(e){var t;return N.exports.__assign(N.exports.__assign({},e),{tls:(t=e.tls)!==null&&t!==void 0?t:!0,endpoint:e.endpoint?VN(e):function(){return WN(e)},isCustomEndpoint:!!e.endpoint})},VN=function(e){var t=e.endpoint,r=e.urlParser;if(typeof t=="string"){var n=Promise.resolve(r(t));return function(){return n}}else if(typeof t=="object"){var i=Promise.resolve(t);return function(){return i}}return t},WN=function(e){return N.exports.__awaiter(void 0,void 0,void 0,function(){var t,r,n,i,o,a;return N.exports.__generator(this,function(s){switch(s.label){case 0:return t=e.tls,r=t===void 0?!0:t,[4,e.region()];case 1:if(n=s.sent(),i=new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/),!i.test(n))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(o=((a=s.sent())!==null&&a!==void 0?a:{}).hostname,!o)throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+o)]}})})},VE=function(e){if(!e.region)throw new Error("Region is missing");return N.exports.__assign(N.exports.__assign({},e),{region:JN(e.region)})},JN=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}return e},Iv="content-length";function YN(e){var t=this;return function(r){return function(n){return N.exports.__awaiter(t,void 0,void 0,function(){var i,o,a,s,c;return N.exports.__generator(this,function(u){return i=n.request,Ge.isInstance(i)&&(o=i.body,a=i.headers,o&&Object.keys(a).map(function(f){return f.toLowerCase()}).indexOf(Iv)===-1&&(s=e(o),s!==void 0&&(i.headers=N.exports.__assign(N.exports.__assign({},i.headers),(c={},c[Iv]=String(s),c))))),[2,r(N.exports.__assign(N.exports.__assign({},n),{request:i}))]})})}}}var XN={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},WE=function(e){return{applyToStack:function(t){t.add(YN(e.bodyLengthChecker),XN)}}};var QN=function(e){return function(t){return function(r){return N.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o;return N.exports.__generator(this,function(a){return Ge.isInstance(r.request)?(n=r.request,i=(e.requestHandler.metadata||{}).handlerProtocol,o=i===void 0?"":i,o.indexOf("h2")>=0&&!n.headers[":authority"]?(delete n.headers.host,n.headers[":authority"]=""):n.headers.host||(n.headers.host=n.hostname),[2,t(r)]):[2,t(r)]})})}}},ZN={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},JE=function(e){return{applyToStack:function(t){t.add(QN(e),ZN)}}},eR=function(){return function(e,t){return function(r){return N.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l;return N.exports.__generator(this,function(d){switch(d.label){case 0:return n=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(r)];case 1:return c=d.sent(),a?(typeof a.info=="function"&&(u=c.output,f=u.$metadata,l=N.exports.__rest(u,["$metadata"]),a.info({clientName:n,commandName:i,input:o(r.input),output:s(l),metadata:f})),[2,c]):[2,c]}})})}}},tR={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},YE=function(e){return{applyToStack:function(t){t.add(eR(),tR)}}},rR="X-Amz-Algorithm",nR="X-Amz-Credential",XE="X-Amz-Date",iR="X-Amz-SignedHeaders",oR="X-Amz-Expires",QE="X-Amz-Signature",ZE="X-Amz-Security-Token",eC="authorization",tC=XE.toLowerCase(),aR="date",sR=[eC,tC,aR],uR=QE.toLowerCase(),Zf="x-amz-content-sha256",cR=ZE.toLowerCase(),fR={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},lR=/^proxy-/,dR=/^sec-/,xc="AWS4-HMAC-SHA256",hR="AWS4-HMAC-SHA256-PAYLOAD",pR="UNSIGNED-PAYLOAD",vR=50,rC="aws4_request",gR=60*60*24*7,Oa={},Tc=[];function Ic(e,t,r){return e+"/"+t+"/"+r+"/"+rC}var mR=function(e,t,r,n,i){return N.exports.__awaiter(void 0,void 0,void 0,function(){var o,a,s,c,u,f,l,d,h;return N.exports.__generator(this,function(v){switch(v.label){case 0:return[4,Ov(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=v.sent(),a=r+":"+n+":"+i+":"+Pt(o)+":"+t.sessionToken,a in Oa)return[2,Oa[a]];for(Tc.push(a);Tc.length>vR;)delete Oa[Tc.shift()];s="AWS4"+t.secretAccessKey,v.label=2;case 2:v.trys.push([2,7,8,9]),c=N.exports.__values([r,n,i,rC]),u=c.next(),v.label=3;case 3:return u.done?[3,6]:(f=u.value,[4,Ov(e,s,f)]);case 4:s=v.sent(),v.label=5;case 5:return u=c.next(),[3,3];case 6:return[3,9];case 7:return l=v.sent(),d={error:l},[3,9];case 8:try{u&&!u.done&&(h=c.return)&&h.call(c)}finally{if(d)throw d.error}return[7];case 9:return[2,Oa[a]=s]}})})};function Ov(e,t,r){var n=new e(t);return n.update(r),n.digest()}function kv(e,t,r){var n,i,o=e.headers,a={};try{for(var s=N.exports.__values(Object.keys(o).sort()),c=s.next();!c.done;c=s.next()){var u=c.value,f=u.toLowerCase();(f in fR||(t==null?void 0:t.has(f))||lR.test(f)||dR.test(f))&&(!r||r&&!r.has(f))||(a[f]=o[u].trim().replace(/\s+/g," "))}}catch(l){n={error:l}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a}function yR(e){var t,r,n=e.query,i=n===void 0?{}:n,o=[],a={},s=function(l){if(l.toLowerCase()===uR)return"continue";o.push(l);var d=i[l];typeof d=="string"?a[l]=Gn(l)+"="+Gn(d):Array.isArray(d)&&(a[l]=d.slice(0).sort().reduce(function(h,v){return h.concat([Gn(l)+"="+Gn(v)])},[]).join("&"))};try{for(var c=N.exports.__values(Object.keys(i).sort()),u=c.next();!u.done;u=c.next()){var f=u.value;s(f)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return o.map(function(l){return a[l]}).filter(function(l){return l}).join("&")}var wR=function(e){return typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"};function Oc(e,t){var r=e.headers,n=e.body;return N.exports.__awaiter(this,void 0,void 0,function(){var i,o,a,s,c,u,f;return N.exports.__generator(this,function(l){switch(l.label){case 0:try{for(i=N.exports.__values(Object.keys(r)),o=i.next();!o.done;o=i.next())if(a=o.value,a.toLowerCase()===Zf)return[2,r[a]]}catch(d){u={error:d}}finally{try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(u)throw u.error}}return n!=null?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return typeof n=="string"||ArrayBuffer.isView(n)||wR(n)?(s=new t,s.update(n),c=Pt,[4,s.digest()]):[3,3];case 2:return[2,c.apply(void 0,[l.sent()])];case 3:return[2,pR]}})})}function bR(e,t){var r,n;e=e.toLowerCase();try{for(var i=N.exports.__values(Object.keys(t)),o=i.next();!o.done;o=i.next()){var a=o.value;if(e===a.toLowerCase())return!0}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}function nC(e){var t=e.headers,r=e.query,n=N.exports.__rest(e,["headers","query"]);return N.exports.__assign(N.exports.__assign({},n),{headers:N.exports.__assign({},t),query:r?_R(r):void 0})}function _R(e){return Object.keys(e).reduce(function(t,r){var n,i=e[r];return N.exports.__assign(N.exports.__assign({},t),(n={},n[r]=Array.isArray(i)?N.exports.__spread(i):i,n))},{})}function SR(e,t){var r,n,i;t===void 0&&(t={});var o=typeof e.clone=="function"?e.clone():nC(e),a=o.headers,s=o.query,c=s===void 0?{}:s;try{for(var u=N.exports.__values(Object.keys(a)),f=u.next();!f.done;f=u.next()){var l=f.value,d=l.toLowerCase();d.substr(0,6)==="x-amz-"&&!(!((i=t.unhoistableHeaders)===null||i===void 0)&&i.has(d))&&(c[l]=a[l],delete a[l])}}catch(h){r={error:h}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return N.exports.__assign(N.exports.__assign({},e),{headers:a,query:c})}function Pv(e){var t,r;e=typeof e.clone=="function"?e.clone():nC(e);try{for(var n=N.exports.__values(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;sR.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}function ER(e){return CR(e).toISOString().replace(/\.\d{3}Z$/,"Z")}function CR(e){return typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e}var iC=function(){function e(t){var r=t.applyChecksum,n=t.credentials,i=t.region,o=t.service,a=t.sha256,s=t.uriEscapePath,c=s===void 0?!0:s;this.service=o,this.sha256=a,this.uriEscapePath=c,this.applyChecksum=typeof r=="boolean"?r:!0,this.regionProvider=AR(i),this.credentialProvider=xR(n)}return e.prototype.presign=function(t,r){return r===void 0&&(r={}),N.exports.__awaiter(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,v,g,_,E,S,T,R,P,U,W,j,te,k;return N.exports.__generator(this,function(B){switch(B.label){case 0:return n=r.signingDate,i=n===void 0?new Date:n,o=r.expiresIn,a=o===void 0?3600:o,s=r.unsignableHeaders,c=r.unhoistableHeaders,u=r.signableHeaders,f=r.signingRegion,l=r.signingService,[4,this.credentialProvider()];case 1:return d=B.sent(),f==null?[3,2]:(v=f,[3,4]);case 2:return[4,this.regionProvider()];case 3:v=B.sent(),B.label=4;case 4:return h=v,g=ka(i),_=g.longDate,E=g.shortDate,a>gR?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(S=Ic(E,h,l!=null?l:this.service),T=SR(Pv(t),{unhoistableHeaders:c}),d.sessionToken&&(T.query[ZE]=d.sessionToken),T.query[rR]=xc,T.query[nR]=d.accessKeyId+"/"+S,T.query[XE]=_,T.query[oR]=a.toString(10),R=kv(T,s,u),T.query[iR]=Nv(R),P=T.query,U=QE,W=this.getSignature,j=[_,S,this.getSigningKey(d,h,E,l)],te=this.createCanonicalRequest,k=[T,R],[4,Oc(t,this.sha256)]);case 5:return[4,W.apply(this,j.concat([te.apply(this,k.concat([B.sent()]))]))];case 6:return P[U]=B.sent(),[2,T]}})})},e.prototype.sign=function(t,r){return N.exports.__awaiter(this,void 0,void 0,function(){return N.exports.__generator(this,function(n){return typeof t=="string"?[2,this.signString(t,r)]:t.headers&&t.payload?[2,this.signEvent(t,r)]:[2,this.signRequest(t,r)]})})},e.prototype.signEvent=function(t,r){var n=t.headers,i=t.payload,o=r.signingDate,a=o===void 0?new Date:o,s=r.priorSignature,c=r.signingRegion,u=r.signingService;return N.exports.__awaiter(this,void 0,void 0,function(){var f,l,d,h,v,g,_,E,S,T,R;return N.exports.__generator(this,function(P){switch(P.label){case 0:return c==null?[3,1]:(l=c,[3,3]);case 1:return[4,this.regionProvider()];case 2:l=P.sent(),P.label=3;case 3:return f=l,d=ka(a),h=d.shortDate,v=d.longDate,g=Ic(h,f,u!=null?u:this.service),[4,Oc({headers:{},body:i},this.sha256)];case 4:return _=P.sent(),E=new this.sha256,E.update(n),T=Pt,[4,E.digest()];case 5:return S=T.apply(void 0,[P.sent()]),R=[hR,v,g,s,S,_].join(`
`),[2,this.signString(R,{signingDate:a,signingRegion:f,signingService:u})]}})})},e.prototype.signString=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,a=n.signingRegion,s=n.signingService;return N.exports.__awaiter(this,void 0,void 0,function(){var c,u,f,l,d,h,v,g;return N.exports.__generator(this,function(_){switch(_.label){case 0:return[4,this.credentialProvider()];case 1:return c=_.sent(),a==null?[3,2]:(f=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:f=_.sent(),_.label=4;case 4:return u=f,l=ka(o).shortDate,v=(h=this.sha256).bind,[4,this.getSigningKey(c,u,l,s)];case 5:return d=new(v.apply(h,[void 0,_.sent()])),d.update(t),g=Pt,[4,d.digest()];case 6:return[2,g.apply(void 0,[_.sent()])]}})})},e.prototype.signRequest=function(t,r){var n=r===void 0?{}:r,i=n.signingDate,o=i===void 0?new Date:i,a=n.signableHeaders,s=n.unsignableHeaders,c=n.signingRegion,u=n.signingService;return N.exports.__awaiter(this,void 0,void 0,function(){var f,l,d,h,v,g,_,E,S,T,R;return N.exports.__generator(this,function(P){switch(P.label){case 0:return[4,this.credentialProvider()];case 1:return f=P.sent(),c==null?[3,2]:(d=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:d=P.sent(),P.label=4;case 4:return l=d,h=Pv(t),v=ka(o),g=v.longDate,_=v.shortDate,E=Ic(_,l,u!=null?u:this.service),h.headers[tC]=g,f.sessionToken&&(h.headers[cR]=f.sessionToken),[4,Oc(h,this.sha256)];case 5:return S=P.sent(),!bR(Zf,h.headers)&&this.applyChecksum&&(h.headers[Zf]=S),T=kv(h,s,a),[4,this.getSignature(g,E,this.getSigningKey(f,l,_,u),this.createCanonicalRequest(h,T,S))];case 6:return R=P.sent(),h.headers[eC]=xc+" "+("Credential="+f.accessKeyId+"/"+E+", ")+("SignedHeaders="+Nv(T)+", ")+("Signature="+R),[2,h]}})})},e.prototype.createCanonicalRequest=function(t,r,n){var i=Object.keys(r).sort();return t.method+`
`+this.getCanonicalPath(t)+`
`+yR(t)+`
`+i.map(function(o){return o+":"+r[o]}).join(`
`)+`

`+i.join(";")+`
`+n},e.prototype.createStringToSign=function(t,r,n){return N.exports.__awaiter(this,void 0,void 0,function(){var i,o;return N.exports.__generator(this,function(a){switch(a.label){case 0:return i=new this.sha256,i.update(n),[4,i.digest()];case 1:return o=a.sent(),[2,xc+`
`+t+`
`+r+`
`+Pt(o)]}})})},e.prototype.getCanonicalPath=function(t){var r=t.path;if(this.uriEscapePath){var n=encodeURIComponent(r.replace(/^\//,""));return"/"+n.replace(/%2F/g,"/")}return r},e.prototype.getSignature=function(t,r,n,i){return N.exports.__awaiter(this,void 0,void 0,function(){var o,a,s,c,u;return N.exports.__generator(this,function(f){switch(f.label){case 0:return[4,this.createStringToSign(t,r,i)];case 1:return o=f.sent(),c=(s=this.sha256).bind,[4,n];case 2:return a=new(c.apply(s,[void 0,f.sent()])),a.update(o),u=Pt,[4,a.digest()];case 3:return[2,u.apply(void 0,[f.sent()])]}})})},e.prototype.getSigningKey=function(t,r,n,i){return mR(this.sha256,t,n,r,i||this.service)},e}(),ka=function(e){var t=ER(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},Nv=function(e){return Object.keys(e).sort().join(";")},AR=function(e){if(typeof e=="string"){var t=Promise.resolve(e);return function(){return t}}else return e},xR=function(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}else return e};function oC(e){var t=this,r=e.credentials||e.credentialDefaultProvider(e),n=kc(r),i=e.signingEscapePath,o=i===void 0?!0:i,a=e.systemClockOffset,s=a===void 0?e.systemClockOffset||0:a,c=e.sha256,u;return e.signer?u=kc(e.signer):u=function(){return kc(e.region)().then(function(f){return N.exports.__awaiter(t,void 0,void 0,function(){return N.exports.__generator(this,function(l){switch(l.label){case 0:return[4,e.regionInfoProvider(f)];case 1:return[2,[l.sent()||{},f]]}})})}).then(function(f){var l=N.exports.__read(f,2),d=l[0],h=l[1],v=d.signingRegion,g=d.signingService;return e.signingRegion=e.signingRegion||v||h,e.signingName=e.signingName||g||e.serviceId,new iC({credentials:n,region:e.signingRegion,service:e.signingName,sha256:c,uriEscapePath:o})})},N.exports.__assign(N.exports.__assign({},e),{systemClockOffset:s,signingEscapePath:o,credentials:n,signer:u})}function kc(e){if(typeof e=="object"){var t=Promise.resolve(e);return function(){return t}}return e}var TR=function(e,t){return Math.abs(IR(t).getTime()-e)>=3e5},IR=function(e){return new Date(Date.now()+e)};function OR(e){return function(t,r){return function(n){return N.exports.__awaiter(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d;return N.exports.__generator(this,function(h){switch(h.label){case 0:return Ge.isInstance(n.request)?typeof e.signer!="function"?[3,2]:[4,e.signer()]:[2,t(n)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,s=t,c=[N.exports.__assign({},n)],d={},[4,i.sign(n.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:r.signing_region,signingService:r.signing_service})];case 4:return[4,s.apply(void 0,[N.exports.__assign.apply(void 0,c.concat([(d.request=h.sent(),d)]))])];case 5:return a=h.sent(),u=a.response.headers,f=u&&(u.date||u.Date),f&&(l=Date.parse(f),TR(l,e.systemClockOffset)&&(e.systemClockOffset=l-Date.now())),[2,a]}})})}}}var kR={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},PR=function(e){return{applyToStack:function(t){t.addRelativeTo(OR(e),kR)}}};function aC(e){return N.exports.__assign(N.exports.__assign({},e),{customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent})}var Pc="user-agent",NR="x-amz-user-agent",Rv=" ",RR=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,MR=function(e){return function(t,r){return function(n){return N.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,a,s,c,u,f,l;return N.exports.__generator(this,function(d){switch(d.label){case 0:return i=n.request,Ge.isInstance(i)?(o=i.headers,a=((f=r==null?void 0:r.userAgent)===null||f===void 0?void 0:f.map(Nc))||[],[4,e.defaultUserAgentProvider()]):[2,t(n)];case 1:return s=d.sent().map(Nc),c=((l=e==null?void 0:e.customUserAgent)===null||l===void 0?void 0:l.map(Nc))||[],o[NR]=N.exports.__spread(s,a,c).join(Rv),u=N.exports.__spread(s.filter(function(h){return h.startsWith("aws-sdk-")}),c).join(Rv),e.runtime!=="browser"&&u&&(o[Pc]=o[Pc]?o[Pc]+" "+u:u),[2,t(N.exports.__assign(N.exports.__assign({},n),{request:i}))]}})})}}},Nc=function(e){var t=N.exports.__read(e,2),r=t[0],n=t[1],i=r.indexOf("/"),o=r.substring(0,i),a=r.substring(i+1);return o==="api"&&(a=a.toLowerCase()),[o,a,n].filter(function(s){return s&&s.length>0}).map(function(s){return s==null?void 0:s.replace(RR,"_")}).join("/")},DR={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},sC=function(e){return{applyToStack:function(t){t.add(MR(e),DR)}}},Gs=function(){var e=[],t=[],r=new Set,n=function(f){return f.sort(function(l,d){return Mv[d.step]-Mv[l.step]||Dv[d.priority||"normal"]-Dv[l.priority||"normal"]})},i=function(f){var l=!1,d=function(h){return h.name&&h.name===f?(l=!0,r.delete(f),!1):!0};return e=e.filter(d),t=t.filter(d),l},o=function(f){var l=!1,d=function(h){return h.middleware===f?(l=!0,h.name&&r.delete(h.name),!1):!0};return e=e.filter(d),t=t.filter(d),l},a=function(f){return e.forEach(function(l){f.add(l.middleware,N.exports.__assign({},l))}),t.forEach(function(l){f.addRelativeTo(l.middleware,N.exports.__assign({},l))}),f},s=function(f){var l=[];return f.before.forEach(function(d){d.before.length===0&&d.after.length===0?l.push(d):l.push.apply(l,N.exports.__spread(s(d)))}),l.push(f),f.after.reverse().forEach(function(d){d.before.length===0&&d.after.length===0?l.push(d):l.push.apply(l,N.exports.__spread(s(d)))}),l},c=function(){var f=[],l=[],d={};e.forEach(function(v){var g=N.exports.__assign(N.exports.__assign({},v),{before:[],after:[]});g.name&&(d[g.name]=g),f.push(g)}),t.forEach(function(v){var g=N.exports.__assign(N.exports.__assign({},v),{before:[],after:[]});g.name&&(d[g.name]=g),l.push(g)}),l.forEach(function(v){if(v.toMiddleware){var g=d[v.toMiddleware];if(g===void 0)throw new Error(v.toMiddleware+" is not found when adding "+(v.name||"anonymous")+" middleware "+v.relation+" "+v.toMiddleware);v.relation==="after"&&g.after.push(v),v.relation==="before"&&g.before.push(v)}});var h=n(f).map(s).reduce(function(v,g){return v.push.apply(v,N.exports.__spread(g)),v},[]);return h.map(function(v){return v.middleware})},u={add:function(f,l){l===void 0&&(l={});var d=l.name,h=l.override,v=N.exports.__assign({step:"initialize",priority:"normal",middleware:f},l);if(d){if(r.has(d)){if(!h)throw new Error("Duplicate middleware name '"+d+"'");var g=e.findIndex(function(E){return E.name===d}),_=e[g];if(_.step!==v.step||_.priority!==v.priority)throw new Error('"'+d+'" middleware with '+_.priority+" priority in "+_.step+" step cannot be "+("overridden by same-name middleware with "+v.priority+" priority in "+v.step+" step."));e.splice(g,1)}r.add(d)}e.push(v)},addRelativeTo:function(f,l){var d=l.name,h=l.override,v=N.exports.__assign({middleware:f},l);if(d){if(r.has(d)){if(!h)throw new Error("Duplicate middleware name '"+d+"'");var g=t.findIndex(function(E){return E.name===d}),_=t[g];if(_.toMiddleware!==v.toMiddleware||_.relation!==v.relation)throw new Error('"'+d+'" middleware '+_.relation+' "'+_.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+v.relation+' "'+v.toMiddleware+'" middleware.'));t.splice(g,1)}r.add(d)}t.push(v)},clone:function(){return a(Gs())},use:function(f){f.applyToStack(u)},remove:function(f){return typeof f=="string"?i(f):o(f)},removeByTag:function(f){var l=!1,d=function(h){var v=h.tags,g=h.name;return v&&v.includes(f)?(g&&r.delete(g),l=!0,!1):!0};return e=e.filter(d),t=t.filter(d),l},concat:function(f){var l=a(Gs());return l.use(f),l},applyToStack:a,resolve:function(f,l){var d,h;try{for(var v=N.exports.__values(c().reverse()),g=v.next();!g.done;g=v.next()){var _=g.value;f=_(f,l)}}catch(E){d={error:E}}finally{try{g&&!g.done&&(h=v.return)&&h.call(v)}finally{if(d)throw d.error}}return f}};return u},Mv={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Dv={high:3,normal:2,low:1},uC=function(){function e(t){this.middlewareStack=Gs(),this.config=t}return e.prototype.send=function(t,r,n){var i=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,a=t.resolveMiddleware(this.middlewareStack,this.config,i);if(o)a(t).then(function(s){return o(null,s.output)},function(s){return o(s)}).catch(function(){});else return a(t).then(function(s){return s.output})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Wt=function(){function e(){this.middlewareStack=Gs()}return e}();function Ye(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}var qo=function(e){return Array.isArray(e)?e:[e]},cC=function(e){var t="#text";for(var r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=cC(e[r]));return e},Vs=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,N.exports.__spread([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Vs.prototype=Object.create(String.prototype,{constructor:{value:Vs,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Vs,String);(function(e){N.exports.__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(r){return r instanceof t?r:r instanceof String||typeof r=="string"?new t(r):new t(JSON.stringify(r))},t})(Vs);var LR=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],UR=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Qn(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),a=e.getUTCMinutes(),s=e.getUTCSeconds(),c=i<10?"0"+i:""+i,u=o<10?"0"+o:""+o,f=a<10?"0"+a:""+a,l=s<10?"0"+s:""+s;return LR[n]+", "+c+" "+UR[r]+" "+t+" "+u+":"+f+":"+l+" GMT"}var Ae="***SensitiveInformation***",BR=function(e,t){return function(r,n){return function(i){return N.exports.__awaiter(void 0,void 0,void 0,function(){var o,a;return N.exports.__generator(this,function(s){switch(s.label){case 0:return[4,r(i)];case 1:return o=s.sent().response,[4,t(o,e)];case 2:return a=s.sent(),[2,{response:o,output:a}]}})})}}},FR=function(e,t){return function(r,n){return function(i){return N.exports.__awaiter(void 0,void 0,void 0,function(){var o;return N.exports.__generator(this,function(a){switch(a.label){case 0:return[4,t(i.input,e)];case 1:return o=a.sent(),[2,r(N.exports.__assign(N.exports.__assign({},i),{request:o}))]}})})}}},jR={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},$R={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Jt(e,t,r){return{applyToStack:function(n){n.add(BR(e,r),jR),n.add(FR(e,t),$R)}}}var zR=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},qR=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},vn=new Se("CognitoCredentials"),KR=new Promise(function(e,t){if(!Pn().isBrowser)return vn.debug("not in the browser, directly resolved"),e();var r=window.gapi&&window.gapi.auth2?window.gapi.auth2:null;if(r)return vn.debug("google api already loaded"),e();setTimeout(function(){return e()},2e3)}),HR=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return zR(this,void 0,void 0,function(){return qR(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(vn.debug("need to wait for the Google SDK loaded"),[4,KR]);case 1:t.sent(),this.initialized=!0,vn.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})})},e.prototype._refreshGoogleTokenImpl=function(){var t=null;return Pn().isBrowser&&(t=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),t?new Promise(function(r,n){t.getAuthInstance().then(function(i){i||(vn.debug("google Auth undefined"),n(new Sn("google Auth undefined")));var o=i.currentUser.get();o.isSignedIn()?(vn.debug("refreshing the google access token"),o.reloadAuthResponse().then(function(a){var s=a.id_token,c=a.expires_at;r({token:s,expires_at:c})}).catch(function(a){a&&a.error==="network_error"?n("Network error reloading google auth response"):n(new Sn("Failed to reload google auth response"))})):n(new Sn("User is not signed in with Google"))}).catch(function(i){vn.debug("Failed to refresh google token",i),n(new Sn("Failed to refresh google token"))})}):(vn.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),GR=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},VR=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qn=new Se("CognitoCredentials"),WR=new Promise(function(e,t){if(!Pn().isBrowser)return qn.debug("not in the browser, directly resolved"),e();var r=window.FB;if(r)return qn.debug("FB SDK already loaded"),e();setTimeout(function(){return e()},2e3)}),JR=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return GR(this,void 0,void 0,function(){return VR(this,function(t){switch(t.label){case 0:return this.initialized?[3,2]:(qn.debug("need to wait for the Facebook SDK loaded"),[4,WR]);case 1:t.sent(),this.initialized=!0,qn.debug("finish waiting"),t.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})})},e.prototype._refreshFacebookTokenImpl=function(){var t=null;if(Pn().isBrowser&&(t=window.FB),!t){var r="no fb sdk available";return qn.debug(r),Promise.reject(new Sn(r))}return new Promise(function(n,i){t.getLoginStatus(function(o){if(!o||!o.authResponse){var a="no response from facebook when refreshing the jwt token";qn.debug(a),i(new Sn(a))}else{var s=o.authResponse,c=s.accessToken,u=s.expiresIn,f=new Date,l=u*1e3+f.getTime();if(!c){var a="the jwtToken is undefined";qn.debug(a),i(new Sn(a))}n({token:c,expires_at:l})}},{scope:"public_profile,email"})})},e}(),YR=new HR,XR=new JR,Ln={},QR=function(){function e(){}return e.setItem=function(t,r){return Ln[t]=r,Ln[t]},e.getItem=function(t){return Object.prototype.hasOwnProperty.call(Ln,t)?Ln[t]:void 0},e.removeItem=function(t){return delete Ln[t]},e.clear=function(){return Ln={},Ln},e}(),Nu=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch{this.storageWindow=QR}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),el=function(e,t){return el=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},el(e,t)};function Ah(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");el(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var X=function(){return X=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},X.apply(this,arguments)};function gt(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function mt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ZR(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}const e2="@aws-sdk/client-cognito-identity",t2="AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",r2="3.6.1",n2={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},i2="./dist/cjs/index.js",o2="./types/index.d.ts",a2="./dist/es/index.js",s2={"./runtimeConfig":"./runtimeConfig.browser"},u2=!1,c2={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1",tslib:"^2.0.0"},f2={"@aws-sdk/client-documentation-generator":"3.6.1","@aws-sdk/client-iam":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},l2={node:">=10.0.0"},d2={"<4.0":{"types/*":["types/ts3.4/*"]}},h2={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},p2="Apache-2.0",v2="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",g2={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"};var m2={name:e2,description:t2,version:r2,scripts:n2,main:i2,types:o2,module:a2,browser:s2,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:u2,dependencies:c2,devDependencies:f2,engines:l2,typesVersions:d2,author:h2,license:p2,homepage:v2,repository:g2},Lv="cognito-identity.{region}.amazonaws.com",y2="cognito-identity.{region}.amazonaws.com.cn",w2="cognito-identity.{region}.c2s.ic.gov",b2="cognito-identity.{region}.sc2s.sgov.gov",_2="cognito-identity.{region}.amazonaws.com",S2=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),E2=new Set(["cn-north-1","cn-northwest-1"]),C2=new Set(["us-iso-east-1"]),A2=new Set(["us-isob-east-1"]),x2=new Set(["us-gov-east-1","us-gov-west-1"]),T2=function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:S2.has(e)&&(r={hostname:Lv.replace("{region}",e),partition:"aws"}),E2.has(e)&&(r={hostname:y2.replace("{region}",e),partition:"aws-cn"}),C2.has(e)&&(r={hostname:w2.replace("{region}",e),partition:"aws-iso"}),A2.has(e)&&(r={hostname:b2.replace("{region}",e),partition:"aws-iso-b"}),x2.has(e)&&(r={hostname:_2.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:Lv.replace("{region}",e),partition:"aws"})}return Promise.resolve(X({signingService:"cognito-identity"},r))},Uv={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:T2,serviceId:"Cognito Identity",urlParser:HE},I2=X(X({},Uv),{runtime:"browser",base64Decoder:Sh,base64Encoder:RE,bodyLengthChecker:zE,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:KE({serviceId:Uv.serviceId,clientVersion:m2.version}),maxAttempts:Pu,region:DE("Region is missing"),requestHandler:new NE,sha256:vh.Sha256,streamCollector:ME,utf8Decoder:Eu,utf8Encoder:mh}),Rc=function(e){Ah(t,e);function t(r){var n=this,i=X(X({},I2),r),o=VE(i),a=GE(o),s=oC(a),c=$E(s),u=c,f=aC(u);return n=e.call(this,f)||this,n.config=f,n.middlewareStack.use(LE(n.config)),n.middlewareStack.use(WE(n.config)),n.middlewareStack.use(JE(n.config)),n.middlewareStack.use(YE(n.config)),n.middlewareStack.use(sC(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(uC),Bv;(function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"})(Bv||(Bv={}));var Fv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Fv||(Fv={}));var jv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(jv||(jv={}));var $v;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})($v||($v={}));var zv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(zv||(zv={}));var qv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(qv||(qv={}));var Kv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Kv||(Kv={}));var Hv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Hv||(Hv={}));var Gv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Gv||(Gv={}));var Vv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Vv||(Vv={}));var Wv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Wv||(Wv={}));var Jv;(function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"})(Jv||(Jv={}));var Yv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Yv||(Yv={}));var Xv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Xv||(Xv={}));var Qv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Qv||(Qv={}));var Zv;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Zv||(Zv={}));var eg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(eg||(eg={}));var tg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(tg||(tg={}));var rg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(rg||(rg={}));var ng;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ng||(ng={}));var tl;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(tl||(tl={}));var ig;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ig||(ig={}));var rl;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(rl||(rl={}));var og;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(og||(og={}));var nl;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(nl||(nl={}));var il;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(il||(il={}));var ag;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ag||(ag={}));var sg;(function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"})(sg||(sg={}));var ug;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(ug||(ug={}));var cg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(cg||(cg={}));var fg;(function(e){e.RULES="Rules",e.TOKEN="Token"})(fg||(fg={}));var lg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(lg||(lg={}));var dg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(dg||(dg={}));var hg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(hg||(hg={}));var pg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(pg||(pg={}));var vg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(vg||(vg={}));var gg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(gg||(gg={}));var mg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(mg||(mg={}));var yg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(yg||(yg={}));var wg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(wg||(wg={}));var bg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(bg||(bg={}));var _g;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(_g||(_g={}));var Sg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Sg||(Sg={}));var Eg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Eg||(Eg={}));var Cg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Cg||(Cg={}));var Ag;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ag||(Ag={}));var xg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(xg||(xg={}));var Tg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Tg||(Tg={}));var Ig;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ig||(Ig={}));var Og;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Og||(Og={}));var kg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(kg||(kg={}));var Pg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Pg||(Pg={}));var Ng;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Ng||(Ng={}));var Rg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Rg||(Rg={}));var Mg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Mg||(Mg={}));var Dg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Dg||(Dg={}));var Lg;(function(e){e.filterSensitiveLog=function(t){return X({},t)}})(Lg||(Lg={}));var O2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n;return mt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},n=JSON.stringify(U2(e)),[2,yC(t,r,"/",void 0,n)]})})},k2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n;return mt(this,function(i){return r={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},n=JSON.stringify(B2(e)),[2,yC(t,r,"/",void 0,n)]})})},P2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,N2(e,t)]:[4,Ru(e.body,t)];case 1:return r=o.sent(),n={},n=$2(r),i=X({$metadata:Ie(e)},n),[2,Promise.resolve(i)]}})})},N2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,v,g,_,E;return mt(this,function(S){switch(S.label){case 0:return n=[X({},e)],E={},[4,Ru(e.body,t)];case 1:switch(r=X.apply(void 0,n.concat([(E.body=S.sent(),E)])),o="UnknownError",o=wC(e,r.body),a=o,a){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":return[3,8];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,fC(r)];case 3:return i=X.apply(void 0,[X.apply(void 0,s.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 4:return c=[{}],[4,lC(r)];case 5:return i=X.apply(void 0,[X.apply(void 0,c.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 6:return u=[{}],[4,D2(r)];case 7:return i=X.apply(void 0,[X.apply(void 0,u.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 8:return f=[{}],[4,dC(r)];case 9:return i=X.apply(void 0,[X.apply(void 0,f.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 10:return l=[{}],[4,hC(r)];case 11:return i=X.apply(void 0,[X.apply(void 0,l.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 12:return d=[{}],[4,pC(r)];case 13:return i=X.apply(void 0,[X.apply(void 0,d.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 14:return h=[{}],[4,vC(r)];case 15:return i=X.apply(void 0,[X.apply(void 0,h.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 16:return v=[{}],[4,gC(r)];case 17:return i=X.apply(void 0,[X.apply(void 0,v.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 18:g=r.body,o=g.code||g.Code||o,i=X(X({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:Ie(e)}),S.label=19;case 19:return _=i.message||i.Message||o,i.message=_,delete i.Message,[2,Promise.reject(Object.assign(new Error(_),i))]}})})},R2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){switch(o.label){case 0:return e.statusCode>=300?[2,M2(e,t)]:[4,Ru(e.body,t)];case 1:return r=o.sent(),n={},n=z2(r),i=X({$metadata:Ie(e)},n),[2,Promise.resolve(i)]}})})},M2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,v,g,_,E;return mt(this,function(S){switch(S.label){case 0:return n=[X({},e)],E={},[4,Ru(e.body,t)];case 1:switch(r=X.apply(void 0,n.concat([(E.body=S.sent(),E)])),o="UnknownError",o=wC(e,r.body),a=o,a){case"ExternalServiceException":return[3,2];case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":return[3,4];case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":return[3,6];case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":return[3,8];case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":return[3,10];case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":return[3,12];case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":return[3,14];case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":return[3,16];case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,fC(r)];case 3:return i=X.apply(void 0,[X.apply(void 0,s.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 4:return c=[{}],[4,lC(r)];case 5:return i=X.apply(void 0,[X.apply(void 0,c.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 6:return u=[{}],[4,dC(r)];case 7:return i=X.apply(void 0,[X.apply(void 0,u.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 8:return f=[{}],[4,L2(r)];case 9:return i=X.apply(void 0,[X.apply(void 0,f.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 10:return l=[{}],[4,hC(r)];case 11:return i=X.apply(void 0,[X.apply(void 0,l.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 12:return d=[{}],[4,pC(r)];case 13:return i=X.apply(void 0,[X.apply(void 0,d.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 14:return h=[{}],[4,vC(r)];case 15:return i=X.apply(void 0,[X.apply(void 0,h.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 16:return v=[{}],[4,gC(r)];case 17:return i=X.apply(void 0,[X.apply(void 0,v.concat([S.sent()])),{name:o,$metadata:Ie(e)}]),[3,19];case 18:g=r.body,o=g.code||g.Code||o,i=X(X({},g),{name:""+o,message:g.message||g.Message||o,$fault:"client",$metadata:Ie(e)}),S.label=19;case 19:return _=i.message||i.Message||o,i.message=_,delete i.Message,[2,Promise.reject(Object.assign(new Error(_),i))]}})})},fC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=j2(r),i=X({name:"ExternalServiceException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},lC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=q2(r),i=X({name:"InternalErrorException",$fault:"server",$metadata:Ie(e)},n),[2,i]})})},D2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=K2(r),i=X({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},dC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=H2(r),i=X({name:"InvalidParameterException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},L2=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=G2(r),i=X({name:"LimitExceededException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},hC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=V2(r),i=X({name:"NotAuthorizedException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},pC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=W2(r),i=X({name:"ResourceConflictException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},vC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=J2(r),i=X({name:"ResourceNotFoundException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},gC=function(e,t){return gt(void 0,void 0,void 0,function(){var r,n,i;return mt(this,function(o){return r=e.body,n=Y2(r),i=X({name:"TooManyRequestsException",$fault:"client",$metadata:Ie(e)},n),[2,i]})})},U2=function(e,t){return X(X(X({},e.CustomRoleArn!==void 0&&e.CustomRoleArn!==null&&{CustomRoleArn:e.CustomRoleArn}),e.IdentityId!==void 0&&e.IdentityId!==null&&{IdentityId:e.IdentityId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:mC(e.Logins)})},B2=function(e,t){return X(X(X({},e.AccountId!==void 0&&e.AccountId!==null&&{AccountId:e.AccountId}),e.IdentityPoolId!==void 0&&e.IdentityPoolId!==null&&{IdentityPoolId:e.IdentityPoolId}),e.Logins!==void 0&&e.Logins!==null&&{Logins:mC(e.Logins)})},mC=function(e,t){return Object.entries(e).reduce(function(r,n){var i,o=ZR(n,2),a=o[0],s=o[1];return s===null?r:X(X({},r),(i={},i[a]=s,i))},{})},F2=function(e,t){return{AccessKeyId:e.AccessKeyId!==void 0&&e.AccessKeyId!==null?e.AccessKeyId:void 0,Expiration:e.Expiration!==void 0&&e.Expiration!==null?new Date(Math.round(e.Expiration*1e3)):void 0,SecretKey:e.SecretKey!==void 0&&e.SecretKey!==null?e.SecretKey:void 0,SessionToken:e.SessionToken!==void 0&&e.SessionToken!==null?e.SessionToken:void 0}},j2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},$2=function(e,t){return{Credentials:e.Credentials!==void 0&&e.Credentials!==null?F2(e.Credentials):void 0,IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},z2=function(e,t){return{IdentityId:e.IdentityId!==void 0&&e.IdentityId!==null?e.IdentityId:void 0}},q2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},K2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},H2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},G2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},V2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},W2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},J2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Y2=function(e,t){return{message:e.message!==void 0&&e.message!==null?e.message:void 0}},Ie=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},X2=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Q2=function(e,t){return X2(e,t).then(function(r){return t.utf8Encoder(r)})},yC=function(e,t,r,n,i){return gt(void 0,void 0,void 0,function(){var o,a,s,c,u,f;return mt(this,function(l){switch(l.label){case 0:return[4,e.endpoint()];case 1:return o=l.sent(),a=o.hostname,s=o.protocol,c=s===void 0?"https":s,u=o.port,f={protocol:c,hostname:a,port:u,method:"POST",path:r,headers:t},n!==void 0&&(f.hostname=n),i!==void 0&&(f.body=i),[2,new Ge(f)]}})})},Ru=function(e,t){return Q2(e,t).then(function(r){return r.length?JSON.parse(r):{}})},wC=function(e,t){var r=function(o,a){return Object.keys(o).find(function(s){return s.toLowerCase()===a.toLowerCase()})},n=function(o){var a=o;return a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},i=r(e.headers,"x-amzn-errortype");return i!==void 0?n(e.headers[i]):t.code!==void 0?n(t.code):t.__type!==void 0?n(t.__type):""},ol=function(e){Ah(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),a=n.logger,s="CognitoIdentityClient",c="GetCredentialsForIdentityCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:tl.filterSensitiveLog,outputFilterSensitiveLog:rl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return O2(r,n)},t.prototype.deserialize=function(r,n){return P2(r,n)},t}(Wt),Io=function(e){Ah(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize));var o=r.concat(this.middlewareStack),a=n.logger,s="CognitoIdentityClient",c="GetIdCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:nl.filterSensitiveLog,outputFilterSensitiveLog:il.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return k2(r,n)},t.prototype.deserialize=function(r,n){return R2(r,n)},t}(Wt),Mu=function(e){N.exports.__extends(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r)||this;return i.tryNextLink=n,i}return t}(Error);function bC(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return typeof n=="string"?t.push([r,n]):t.push(n().then(function(i){return[r,i]})),t},[])).then(function(t){return t.reduce(function(r,n){var i=N.exports.__read(n,2),o=i[0],a=i[1];return r[o]=a,r},{})})}function bo(e){var t=this;return function(){return N.exports.__awaiter(t,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,v;return N.exports.__generator(this,function(g){switch(g.label){case 0:return l=(f=e.client).send,d=ol.bind,v={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,bC(e.logins)]:[3,2];case 1:return h=g.sent(),[3,3];case 2:h=void 0,g.label=3;case 3:return[4,l.apply(f,[new(d.apply(ol,[void 0,(v.Logins=h,v)]))])];case 4:return r=g.sent().Credentials,n=r===void 0?eM():r,i=n.AccessKeyId,o=i===void 0?Z2():i,a=n.Expiration,s=n.SecretKey,c=s===void 0?tM():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:o,secretAccessKey:c,sessionToken:u,expiration:a}]}})})}}function Z2(){throw new Mu("Response from Amazon Cognito contained no access key ID")}function eM(){throw new Mu("Response from Amazon Cognito contained no credentials")}function tM(){throw new Mu("Response from Amazon Cognito contained no secret key")}var Mc="IdentityIds",rM=function(){function e(t){t===void 0&&(t="aws:cognito-identity-ids"),this.dbName=t}return e.prototype.getItem=function(t){return this.withObjectStore("readonly",function(r){var n=r.get(t);return new Promise(function(i){n.onerror=function(){return i(null)},n.onsuccess=function(){return i(n.result?n.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(t){return this.withObjectStore("readwrite",function(r){var n=r.delete(t);return new Promise(function(i,o){n.onerror=function(){return o(n.error)},n.onsuccess=function(){return i()}})})},e.prototype.setItem=function(t,r){return this.withObjectStore("readwrite",function(n){var i=n.put({id:t,value:r});return new Promise(function(o,a){i.onerror=function(){return a(i.error)},i.onsuccess=function(){return o()}})})},e.prototype.getDb=function(){var t=self.indexedDB.open(this.dbName,1);return new Promise(function(r,n){t.onsuccess=function(){r(t.result)},t.onerror=function(){n(t.error)},t.onblocked=function(){n(new Error("Unable to access DB"))},t.onupgradeneeded=function(){var i=t.result;i.onerror=function(){n(new Error("Failed to create object store"))},i.createObjectStore(Mc,{keyPath:"id"})}})},e.prototype.withObjectStore=function(t,r){return this.getDb().then(function(n){var i=n.transaction(Mc,t);return i.oncomplete=function(){return n.close()},new Promise(function(o,a){i.onerror=function(){return a(i.error)},o(r(i.objectStore(Mc)))}).catch(function(o){throw n.close(),o})})},e}(),nM=function(){function e(t){t===void 0&&(t={}),this.store=t}return e.prototype.getItem=function(t){return t in this.store?this.store[t]:null},e.prototype.removeItem=function(t){delete this.store[t]},e.prototype.setItem=function(t,r){this.store[t]=r},e}(),iM=new nM;function oM(){return typeof self=="object"&&self.indexedDB?new rM:typeof window=="object"&&window.localStorage?window.localStorage:iM}function aM(e){var t=this,r=e.accountId,n=e.cache,i=n===void 0?oM():n,o=e.client,a=e.customRoleArn,s=e.identityPoolId,c=e.logins,u=e.userIdentifier,f=u===void 0?!c||Object.keys(c).length===0?"ANONYMOUS":void 0:u,l=f?"aws:cognito-identity-credentials:"+s+":"+f:void 0,d=function(){return N.exports.__awaiter(t,void 0,void 0,function(){var h,v,g,_,E,S,T,R,P;return N.exports.__generator(this,function(U){switch(U.label){case 0:return v=l,v?[4,i.getItem(l)]:[3,2];case 1:v=U.sent(),U.label=2;case 2:return h=v,h?[3,7]:(S=(E=o).send,T=Io.bind,P={AccountId:r,IdentityPoolId:s},c?[4,bC(c)]:[3,4]);case 3:return R=U.sent(),[3,5];case 4:R=void 0,U.label=5;case 5:return[4,S.apply(E,[new(T.apply(Io,[void 0,(P.Logins=R,P)]))])];case 6:g=U.sent().IdentityId,_=g===void 0?sM():g,h=_,l&&Promise.resolve(i.setItem(l,h)).catch(function(){}),U.label=7;case 7:return d=bo({client:o,customRoleArn:a,logins:c,identityId:h}),[2,d()]}})})};return function(){return d().catch(function(h){return N.exports.__awaiter(t,void 0,void 0,function(){return N.exports.__generator(this,function(v){throw l&&Promise.resolve(i.removeItem(l)).catch(function(){}),h})})})}}function sM(){throw new Mu("Response from Amazon Cognito contained no identity ID")}var Ws=globalThis&&globalThis.__assign||function(){return Ws=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ws.apply(this,arguments)},xt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Tt=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ye=new Se("Credentials"),uM=50*60*1e3,cM="CognitoIdentityId-",fM=function(){function e(t){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(t),this._refreshHandlers.google=YR.refreshGoogleToken,this._refreshHandlers.facebook=XR.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(t){if(!t)return this._config||{};this._config=Object.assign({},this._config,t);var r=this._config.refreshHandlers;return r&&(this._refreshHandlers=Ws(Ws({},this._refreshHandlers),r)),this._storage=this._config.storage,this._storage||(this._storage=new Nu().getStorage()),this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return ye.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(t){return""+cM+t},e.prototype._pickupCredentials=function(){return ye.debug("picking up credentials"),!this._gettingCredPromise||!this._gettingCredPromise.isPending()?(ye.debug("getting new cred promise"),this._gettingCredPromise=aE(this._keepAlive())):ye.debug("getting old cred promise"),this._gettingCredPromise},e.prototype._keepAlive=function(){return xt(this,void 0,void 0,function(){var t,r,n,i,o,a,s,c;return Tt(this,function(u){switch(u.label){case 0:if(ye.debug("checking if credentials exists and not expired"),t=this._credentials,t&&!this._isExpired(t)&&!this._isPastTTL())return ye.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(t)];if(ye.debug("need to get a new credential or refresh the existing one"),r=this.Auth,n=r===void 0?at.Auth:r,!n||typeof n.currentUserCredentials!="function")return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(t)&&this._isPastTTL()))return[3,6];ye.debug("ttl has passed but token is not yet expired"),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return i=u.sent(),[4,n.currentSession()];case 3:return o=u.sent(),a=o.refreshToken,s=new Promise(function(f,l){i.refreshSession(a,function(d,h){return d?l(d):f(h)})}),[4,s];case 4:return u.sent(),[3,6];case 5:return c=u.sent(),ye.debug("Error attempting to refreshing the session",c),[3,6];case 6:return[2,n.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(t){ye.debug("Getting federated credentials");var r=t.provider,n=t.user,i=t.token,o=t.identity_id,a=t.expires_at;a=new Date(a).getFullYear()===1970?a*1e3:a;var s=this;return ye.debug("checking if federated jwt token expired"),a>new Date().getTime()?(ye.debug("token not expired"),this._setCredentialsFromFederation({provider:r,token:i,user:n,identity_id:o,expires_at:a})):s._refreshHandlers[r]&&typeof s._refreshHandlers[r]=="function"?(ye.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[r],provider:r,user:n})):(ye.debug("no refresh handler for provider:",r),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(t){var r=this,n=t.refreshHandler,i=t.provider,o=t.user,a=10*1e3;return hE(n,[],a).then(function(s){return ye.debug("refresh federated token sucessfully",s),r._setCredentialsFromFederation({provider:i,token:s.token,user:o,identity_id:s.identity_id,expires_at:s.expires_at})}).catch(function(s){var c=typeof s=="string"&&s.toLowerCase().lastIndexOf("network error",s.length)===0;return c||r.clear(),ye.debug("refresh federated token failed",s),Promise.reject("refreshing federation token failed: "+s)})},e.prototype._isExpired=function(t){if(!t)return ye.debug("no credentials for expiration check"),!0;ye.debug("are these credentials expired?",t);var r=Date.now(),n=t.expiration;return n.getTime()<=r},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return xt(this,void 0,void 0,function(){var t,r,n,i,o,a,s,c,u,f,l=this;return Tt(this,function(d){switch(d.label){case 0:return ye.debug("setting credentials for guest"),t=this._config,r=t.identityPoolId,n=t.region,i=t.mandatorySignIn,i?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:r?n?(a=this,[4,this._getGuestIdentityId()]):(ye.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(ye.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return o=a._identityId=d.sent(),s=new Rc({region:n,customUserAgent:is()}),c=void 0,o?(u={identityId:o,client:s},c=bo(u)()):(f=function(){return xt(l,void 0,void 0,function(){var h,v,g;return Tt(this,function(_){switch(_.label){case 0:return[4,s.send(new Io({IdentityPoolId:r}))];case 1:return h=_.sent().IdentityId,this._identityId=h,v={client:s,identityId:h},g=bo(v),[2,g()]}})})},c=f().catch(function(h){return xt(l,void 0,void 0,function(){return Tt(this,function(v){throw h})})})),[2,this._loadCredentials(c,"guest",!1,null).then(function(h){return h}).catch(function(h){return xt(l,void 0,void 0,function(){var v,g=this;return Tt(this,function(_){switch(_.label){case 0:return h.name==="ResourceNotFoundException"&&h.message==="Identity '"+o+"' not found."?(ye.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]):[3,2];case 1:return _.sent(),v=function(){return xt(g,void 0,void 0,function(){var E,S,T;return Tt(this,function(R){switch(R.label){case 0:return[4,s.send(new Io({IdentityPoolId:r}))];case 1:return E=R.sent().IdentityId,this._identityId=E,S={client:s,identityId:E},T=bo(S),[2,T()]}})})},c=v().catch(function(E){return xt(g,void 0,void 0,function(){return Tt(this,function(S){throw E})})}),[2,this._loadCredentials(c,"guest",!1,null)];case 2:return[2,h]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(t){var r=t.provider,n=t.token,i=t.identity_id,o={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"},a=o[r]||r;if(!a)return Promise.reject("You must specify a federated provider");var s={};s[a]=n;var c=this._config,u=c.identityPoolId,f=c.region;if(!u)return ye.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!f)return ye.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=new Rc({region:f,customUserAgent:is()}),d=void 0;if(i){var h={identityId:i,logins:s,client:l};d=bo(h)()}else{var h={logins:s,identityPoolId:u,client:l};d=aM(h)()}return this._loadCredentials(d,"federated",!0,t)},e.prototype._setCredentialsFromSession=function(t){var r=this;ye.debug("set credentials from session");var n=t.getIdToken().getJwtToken(),i=this._config,o=i.region,a=i.userPoolId,s=i.identityPoolId;if(!s)return ye.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!o)return ye.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c="cognito-idp."+o+".amazonaws.com/"+a,u={};u[c]=n;var f=new Rc({region:o,customUserAgent:is()}),l=function(){return xt(r,void 0,void 0,function(){var h,v,g,_,E,S,T,R,P,U;return Tt(this,function(W){switch(W.label){case 0:return[4,this._getGuestIdentityId()];case 1:return h=W.sent(),h?[3,3]:[4,f.send(new Io({IdentityPoolId:s,Logins:u}))];case 2:g=W.sent().IdentityId,v=g,W.label=3;case 3:return[4,f.send(new ol({IdentityId:h||v,Logins:u}))];case 4:return _=W.sent(),E=_.Credentials,S=E.AccessKeyId,T=E.Expiration,R=E.SecretKey,P=E.SessionToken,U=_.IdentityId,this._identityId=U,h?(ye.debug("The guest identity "+h+" has been successfully linked to the logins"),h===U&&ye.debug("The guest identity "+h+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:W.sent(),W.label=6;case 6:return[2,{accessKeyId:S,secretAccessKey:R,sessionToken:P,expiration:T,identityId:U}]}})})},d=l().catch(function(h){return xt(r,void 0,void 0,function(){return Tt(this,function(v){throw h})})});return this._loadCredentials(d,"userPool",!0,null)},e.prototype._loadCredentials=function(t,r,n,i){var o=this,a=this;return new Promise(function(s,c){t.then(function(u){return xt(o,void 0,void 0,function(){var f,l,d,h,v;return Tt(this,function(g){switch(g.label){case 0:if(ye.debug("Load credentials successfully",u),this._identityId&&!u.identityId&&(u.identityId=this._identityId),a._credentials=u,a._credentials.authenticated=n,a._credentials_source=r,a._nextCredentialsRefresh=new Date().getTime()+uM,r==="federated"){f=Object.assign({id:this._credentials.identityId},i.user),l=i.provider,d=i.token,h=i.expires_at,v=i.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:l,token:d,user:f,expires_at:h,identity_id:v}))}catch(_){ye.debug("Failed to put federated info into auth storage",_)}}return r!=="guest"?[3,2]:[4,this._setGuestIdentityId(u.identityId)];case 1:g.sent(),g.label=2;case 2:return s(a._credentials),[2]}})})}).catch(function(u){if(u){ye.debug("Failed to load credentials",t),ye.debug("Error loading credentials",u),c(u);return}})})},e.prototype.set=function(t,r){return r==="session"?this._setCredentialsFromSession(t):r==="federation"?this._setCredentialsFromFederation(t):r==="guest"?this._setCredentialsForGuest():(ye.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return xt(this,void 0,void 0,function(){return Tt(this,function(t){return this._credentials=null,this._credentials_source=null,ye.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return xt(this,void 0,void 0,function(){var t,r;return Tt(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(t))];case 3:return r=n.sent(),ye.debug("Failed to get the cached guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(t){return xt(this,void 0,void 0,function(){var r,n;return Tt(this,function(i){switch(i.label){case 0:r=this._config.identityPoolId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(r),t),[3,4];case 3:return n=i.sent(),ye.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return xt(this,void 0,void 0,function(){var t;return Tt(this,function(r){return t=this._config.identityPoolId,ye.debug("removing "+this._getCognitoIdentityIdStorageKey(t)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(t)),[2]})})},e.prototype.shear=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e}(),ot=new fM(null);at.register(ot);var lM=function(){function e(){this._logger=new Se("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(t,r){var n=this;return t===void 0&&(t="/service-worker.js"),r===void 0&&(r="/"),this._logger.debug("registering "+t),this._logger.debug("registering service worker with scope "+r),new Promise(function(i,o){if(navigator&&"serviceWorker"in navigator)navigator.serviceWorker.register(t,{scope:r}).then(function(a){return a.installing?n._serviceWorker=a.installing:a.waiting?n._serviceWorker=a.waiting:a.active&&(n._serviceWorker=a.active),n._registration=a,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+a),i(a)}).catch(function(a){return n._logger.debug("Service Worker Registration Failed "+a),o(a)});else return o(new Error("Service Worker not available"))})},e.prototype.enablePush=function(t){var r=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=t,new Promise(function(n,i){if(Pn().isBrowser)r._registration.pushManager.getSubscription().then(function(o){if(o)r._subscription=o,r._logger.debug("User is subscribed to push: "+JSON.stringify(o)),n(o);else return r._logger.debug("User is NOT subscribed to push"),r._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r._urlB64ToUint8Array(t)}).then(function(a){r._subscription=a,r._logger.debug("User subscribed: "+JSON.stringify(a)),n(a)}).catch(function(a){r._logger.error(a)})});else return i(new Error("Service Worker not available"))})},e.prototype._urlB64ToUint8Array=function(t){for(var r="=".repeat((4-t.length%4)%4),n=(t+r).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),o=new Uint8Array(i.length),a=0;a<i.length;++a)o[a]=i.charCodeAt(a);return o},e.prototype.send=function(t){this._serviceWorker&&this._serviceWorker.postMessage(typeof t=="object"?JSON.stringify(t):t)},e.prototype._setupListeners=function(){var t=this;this._serviceWorker.addEventListener("statechange",function(r){var n=t._serviceWorker.state;t._logger.debug("ServiceWorker statechange: "+n),at.Analytics&&typeof at.Analytics.record=="function"&&at.Analytics.record({name:"ServiceWorker",attributes:{state:n}})}),this._serviceWorker.addEventListener("message",function(r){t._logger.debug("ServiceWorker message event: "+r)})},e}();/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var _C=pM,Ug=vM,dM=decodeURIComponent,hM=encodeURIComponent,Pa=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function pM(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},i=e.split(";"),o=n.decode||dM,a=0;a<i.length;a++){var s=i[a],c=s.indexOf("=");if(!(c<0)){var u=s.substring(0,c).trim();if(r[u]==null){var f=s.substring(c+1,s.length).trim();f[0]==='"'&&(f=f.slice(1,-1)),r[u]=gM(f,o)}}}return r}function vM(e,t,r){var n=r||{},i=n.encode||hM;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Pa.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!Pa.test(o))throw new TypeError("argument val is invalid");var a=e+"="+o;if(n.maxAge!=null){var s=n.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(n.domain){if(!Pa.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Pa.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var c=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function gM(e,t){try{return t(e)}catch{return e}}function mM(){return typeof document=="object"&&typeof document.cookie=="string"}function yM(e,t){return typeof e=="string"?_C(e,t):typeof e=="object"&&e!==null?e:{}}function wM(e,t){return typeof t=="undefined"&&(t=!e||e[0]!=="{"&&e[0]!=="["&&e[0]!=='"'),!t}function Bg(e,t){t===void 0&&(t={});var r=bM(e);if(wM(r,t.doNotParse))try{return JSON.parse(r)}catch{}return e}function bM(e){return e&&e[0]==="j"&&e[1]===":"?e.substr(2):e}var Kn=globalThis&&globalThis.__assign||function(){return Kn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kn.apply(this,arguments)},_M=function(){function e(t,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=yM(t,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=mM()}).catch(function(){})}return e.prototype._updateBrowserValues=function(t){!this.HAS_DOCUMENT_COOKIE||(this.cookies=_C(document.cookie,t))},e.prototype._emitChange=function(t){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](t)},e.prototype.get=function(t,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),Bg(this.cookies[t],r)},e.prototype.getAll=function(t,r){t===void 0&&(t={}),this._updateBrowserValues(r);var n={};for(var i in this.cookies)n[i]=Bg(this.cookies[i],t);return n},e.prototype.set=function(t,r,n){var i;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=Kn(Kn({},this.cookies),(i={},i[t]=r,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Ug(t,r,n)),this._emitChange({name:t,value:r,options:n})},e.prototype.remove=function(t,r){var n=r=Kn(Kn({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Kn({},this.cookies),delete this.cookies[t],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Ug(t,"",n)),this._emitChange({name:t,value:void 0,options:r})},e.prototype.addChangeListener=function(t){this.changeListeners.push(t)},e.prototype.removeChangeListener=function(t){var r=this.changeListeners.indexOf(t);r>=0&&this.changeListeners.splice(r,1)},e}(),Dc=_M,Fg=Pn().isBrowser,SM=function(){function e(t){t===void 0&&(t={}),this.cookies=new Dc,this.store=Fg?window.localStorage:Object.create(null),this.cookies=t.req?new Dc(t.req.headers.cookie):new Dc,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var t=this;Array.from(new Array(this.length)).map(function(r,n){return t.key(n)}).forEach(function(r){return t.removeItem(r)})},e.prototype.getItem=function(t){return this.getLocalItem(t)},e.prototype.getLocalItem=function(t){return Object.prototype.hasOwnProperty.call(this.store,t)?this.store[t]:null},e.prototype.getUniversalItem=function(t){return this.cookies.get(t)},e.prototype.key=function(t){return Object.keys(this.store)[t]},e.prototype.removeItem=function(t){this.removeLocalItem(t),this.removeUniversalItem(t)},e.prototype.removeLocalItem=function(t){delete this.store[t]},e.prototype.removeUniversalItem=function(t){this.cookies.remove(t,{path:"/"})},e.prototype.setItem=function(t,r){this.setLocalItem(t,r);var n=t.split(".").pop();switch(n){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":Fg?this.setUniversalItem(t,r):this.setLocalItem(t,r)}},e.prototype.setLocalItem=function(t,r){this.store[t]=r},e.prototype.setUniversalItem=function(t,r){this.cookies.set(t,r,{path:"/",sameSite:!0,secure:window.location.hostname!=="localhost"})},e}(),SC=typeof Symbol!="undefined"&&typeof Symbol.for=="function",EM=SC?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",EC=SC?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",CM="x-amz-user-agent",CC={userAgent:yr.userAgent},Js;(function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"})(Js||(Js={}));function Lc(e){var t=["provider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function AM(e){var t=["customProvider"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function xM(e){var t=["customState"];return e&&!!t.find(function(r){return e.hasOwnProperty(r)})}function Vn(e){return e.redirectSignIn!==void 0}var xe;(function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"})(xe||(xe={}));function TM(e){return!!e.username}var jg;(function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"})(jg||(jg={}));/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var IM=function(){function e(r){var n=r||{},i=n.ValidationData,o=n.Username,a=n.Password,s=n.AuthParameters,c=n.ClientMetadata;this.validationData=i||{},this.authParameters=s||{},this.clientMetadata=c||{},this.username=o,this.password=a}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Te={},Du={};Du.byteLength=PM;Du.toByteArray=RM;Du.fromByteArray=LM;var Ur=[],or=[],OM=typeof Uint8Array!="undefined"?Uint8Array:Array,Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var yi=0,kM=Uc.length;yi<kM;++yi)Ur[yi]=Uc[yi],or[Uc.charCodeAt(yi)]=yi;or["-".charCodeAt(0)]=62;or["_".charCodeAt(0)]=63;function AC(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function PM(e){var t=AC(e),r=t[0],n=t[1];return(r+n)*3/4-n}function NM(e,t,r){return(t+r)*3/4-r}function RM(e){var t,r=AC(e),n=r[0],i=r[1],o=new OM(NM(e,n,i)),a=0,s=i>0?n-4:n,c;for(c=0;c<s;c+=4)t=or[e.charCodeAt(c)]<<18|or[e.charCodeAt(c+1)]<<12|or[e.charCodeAt(c+2)]<<6|or[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=or[e.charCodeAt(c)]<<2|or[e.charCodeAt(c+1)]>>4,o[a++]=t&255),i===1&&(t=or[e.charCodeAt(c)]<<10|or[e.charCodeAt(c+1)]<<4|or[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function MM(e){return Ur[e>>18&63]+Ur[e>>12&63]+Ur[e>>6&63]+Ur[e&63]}function DM(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(MM(n));return i.join("")}function LM(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(DM(e,a,a+o>s?s:a+o));return n===1?(t=e[r-1],i.push(Ur[t>>2]+Ur[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ur[t>>10]+Ur[t>>4&63]+Ur[t<<2&63]+"=")),i.join("")}var xh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */xh.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,c=(1<<s)-1,u=c>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=o*256+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=a*256+e[t+l],l+=d,f-=8);if(o===0)o=1-u;else{if(o===c)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(h?-1:1)*a*Math.pow(2,o-n)};xh.write=function(e,t,r,n,i,o){var a,s,c,u=o*8-i-1,f=(1<<u)-1,l=f>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,v=n?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+l>=1?t+=d/c:t+=d*Math.pow(2,1-l),t*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,i),a=a+l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=s&255,h+=v,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=a&255,h+=v,a/=256,u-=8);e[r+h-v]|=g*128};var UM={}.toString,BM=Array.isArray||function(e){return UM.call(e)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(function(e){var t=Du,r=xh,n=BM;e.Buffer=s,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=$e.TYPED_ARRAY_SUPPORT!==void 0?$e.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o();function i(){try{var x=new Uint8Array(1);return x.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},x.foo()===42&&typeof x.subarray=="function"&&x.subarray(1,1).byteLength===0}catch{return!1}}function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(x,y){if(o()<y)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(x=new Uint8Array(y),x.__proto__=s.prototype):(x===null&&(x=new s(y)),x.length=y),x}function s(x,y,w){if(!s.TYPED_ARRAY_SUPPORT&&!(this instanceof s))return new s(x,y,w);if(typeof x=="number"){if(typeof y=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,x)}return c(this,x,y,w)}s.poolSize=8192,s._augment=function(x){return x.__proto__=s.prototype,x};function c(x,y,w,I){if(typeof y=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&y instanceof ArrayBuffer?v(x,y,w,I):typeof y=="string"?d(x,y,w):g(x,y)}s.from=function(x,y,w){return c(null,x,y,w)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0}));function u(x){if(typeof x!="number")throw new TypeError('"size" argument must be a number');if(x<0)throw new RangeError('"size" argument must not be negative')}function f(x,y,w,I){return u(y),y<=0?a(x,y):w!==void 0?typeof I=="string"?a(x,y).fill(w,I):a(x,y).fill(w):a(x,y)}s.alloc=function(x,y,w){return f(null,x,y,w)};function l(x,y){if(u(y),x=a(x,y<0?0:_(y)|0),!s.TYPED_ARRAY_SUPPORT)for(var w=0;w<y;++w)x[w]=0;return x}s.allocUnsafe=function(x){return l(null,x)},s.allocUnsafeSlow=function(x){return l(null,x)};function d(x,y,w){if((typeof w!="string"||w==="")&&(w="utf8"),!s.isEncoding(w))throw new TypeError('"encoding" must be a valid string encoding');var I=S(y,w)|0;x=a(x,I);var F=x.write(y,w);return F!==I&&(x=x.slice(0,F)),x}function h(x,y){var w=y.length<0?0:_(y.length)|0;x=a(x,w);for(var I=0;I<w;I+=1)x[I]=y[I]&255;return x}function v(x,y,w,I){if(y.byteLength,w<0||y.byteLength<w)throw new RangeError("'offset' is out of bounds");if(y.byteLength<w+(I||0))throw new RangeError("'length' is out of bounds");return w===void 0&&I===void 0?y=new Uint8Array(y):I===void 0?y=new Uint8Array(y,w):y=new Uint8Array(y,w,I),s.TYPED_ARRAY_SUPPORT?(x=y,x.__proto__=s.prototype):x=h(x,y),x}function g(x,y){if(s.isBuffer(y)){var w=_(y.length)|0;return x=a(x,w),x.length===0||y.copy(x,0,0,w),x}if(y){if(typeof ArrayBuffer!="undefined"&&y.buffer instanceof ArrayBuffer||"length"in y)return typeof y.length!="number"||lc(y.length)?a(x,0):h(x,y);if(y.type==="Buffer"&&n(y.data))return h(x,y.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(x){if(x>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return x|0}function E(x){return+x!=x&&(x=0),s.alloc(+x)}s.isBuffer=function(y){return!!(y!=null&&y._isBuffer)},s.compare=function(y,w){if(!s.isBuffer(y)||!s.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(y===w)return 0;for(var I=y.length,F=w.length,ee=0,O=Math.min(I,F);ee<O;++ee)if(y[ee]!==w[ee]){I=y[ee],F=w[ee];break}return I<F?-1:F<I?1:0},s.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(y,w){if(!n(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return s.alloc(0);var I;if(w===void 0)for(w=0,I=0;I<y.length;++I)w+=y[I].length;var F=s.allocUnsafe(w),ee=0;for(I=0;I<y.length;++I){var O=y[I];if(!s.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(F,ee),ee+=O.length}return F};function S(x,y){if(s.isBuffer(x))return x.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(x)||x instanceof ArrayBuffer))return x.byteLength;typeof x!="string"&&(x=""+x);var w=x.length;if(w===0)return 0;for(var I=!1;;)switch(y){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":case void 0:return Ve(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Zt(x).length;default:if(I)return Ve(x).length;y=(""+y).toLowerCase(),I=!0}}s.byteLength=S;function T(x,y,w){var I=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,y>>>=0,w<=y))return"";for(x||(x="utf8");;)switch(x){case"hex":return q(this,y,w);case"utf8":case"utf-8":return b(this,y,w);case"ascii":return z(this,y,w);case"latin1":case"binary":return $(this,y,w);case"base64":return m(this,y,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,y,w);default:if(I)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),I=!0}}s.prototype._isBuffer=!0;function R(x,y,w){var I=x[y];x[y]=x[w],x[w]=I}s.prototype.swap16=function(){var y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<y;w+=2)R(this,w,w+1);return this},s.prototype.swap32=function(){var y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<y;w+=4)R(this,w,w+3),R(this,w+1,w+2);return this},s.prototype.swap64=function(){var y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<y;w+=8)R(this,w,w+7),R(this,w+1,w+6),R(this,w+2,w+5),R(this,w+3,w+4);return this},s.prototype.toString=function(){var y=this.length|0;return y===0?"":arguments.length===0?b(this,0,y):T.apply(this,arguments)},s.prototype.equals=function(y){if(!s.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:s.compare(this,y)===0},s.prototype.inspect=function(){var y="",w=e.INSPECT_MAX_BYTES;return this.length>0&&(y=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(y+=" ... ")),"<Buffer "+y+">"},s.prototype.compare=function(y,w,I,F,ee){if(!s.isBuffer(y))throw new TypeError("Argument must be a Buffer");if(w===void 0&&(w=0),I===void 0&&(I=y?y.length:0),F===void 0&&(F=0),ee===void 0&&(ee=this.length),w<0||I>y.length||F<0||ee>this.length)throw new RangeError("out of range index");if(F>=ee&&w>=I)return 0;if(F>=ee)return-1;if(w>=I)return 1;if(w>>>=0,I>>>=0,F>>>=0,ee>>>=0,this===y)return 0;for(var O=ee-F,K=I-w,Y=Math.min(O,K),ie=this.slice(F,ee),oe=y.slice(w,I),ge=0;ge<Y;++ge)if(ie[ge]!==oe[ge]){O=ie[ge],K=oe[ge];break}return O<K?-1:K<O?1:0};function P(x,y,w,I,F){if(x.length===0)return-1;if(typeof w=="string"?(I=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,isNaN(w)&&(w=F?0:x.length-1),w<0&&(w=x.length+w),w>=x.length){if(F)return-1;w=x.length-1}else if(w<0)if(F)w=0;else return-1;if(typeof y=="string"&&(y=s.from(y,I)),s.isBuffer(y))return y.length===0?-1:U(x,y,w,I,F);if(typeof y=="number")return y=y&255,s.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(x,y,w):Uint8Array.prototype.lastIndexOf.call(x,y,w):U(x,[y],w,I,F);throw new TypeError("val must be string, number or Buffer")}function U(x,y,w,I,F){var ee=1,O=x.length,K=y.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(x.length<2||y.length<2)return-1;ee=2,O/=2,K/=2,w/=2}function Y(ve,fe){return ee===1?ve[fe]:ve.readUInt16BE(fe*ee)}var ie;if(F){var oe=-1;for(ie=w;ie<O;ie++)if(Y(x,ie)===Y(y,oe===-1?0:ie-oe)){if(oe===-1&&(oe=ie),ie-oe+1===K)return oe*ee}else oe!==-1&&(ie-=ie-oe),oe=-1}else for(w+K>O&&(w=O-K),ie=w;ie>=0;ie--){for(var ge=!0,pe=0;pe<K;pe++)if(Y(x,ie+pe)!==Y(y,pe)){ge=!1;break}if(ge)return ie}return-1}s.prototype.includes=function(y,w,I){return this.indexOf(y,w,I)!==-1},s.prototype.indexOf=function(y,w,I){return P(this,y,w,I,!0)},s.prototype.lastIndexOf=function(y,w,I){return P(this,y,w,I,!1)};function W(x,y,w,I){w=Number(w)||0;var F=x.length-w;I?(I=Number(I),I>F&&(I=F)):I=F;var ee=y.length;if(ee%2!==0)throw new TypeError("Invalid hex string");I>ee/2&&(I=ee/2);for(var O=0;O<I;++O){var K=parseInt(y.substr(O*2,2),16);if(isNaN(K))return O;x[w+O]=K}return O}function j(x,y,w,I){return Pr(Ve(y,x.length-w),x,w,I)}function te(x,y,w,I){return Pr(yt(y),x,w,I)}function k(x,y,w,I){return te(x,y,w,I)}function B(x,y,w,I){return Pr(Zt(y),x,w,I)}function A(x,y,w,I){return Pr(Lt(y,x.length-w),x,w,I)}s.prototype.write=function(y,w,I,F){if(w===void 0)F="utf8",I=this.length,w=0;else if(I===void 0&&typeof w=="string")F=w,I=this.length,w=0;else if(isFinite(w))w=w|0,isFinite(I)?(I=I|0,F===void 0&&(F="utf8")):(F=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-w;if((I===void 0||I>ee)&&(I=ee),y.length>0&&(I<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var O=!1;;)switch(F){case"hex":return W(this,y,w,I);case"utf8":case"utf-8":return j(this,y,w,I);case"ascii":return te(this,y,w,I);case"latin1":case"binary":return k(this,y,w,I);case"base64":return B(this,y,w,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,y,w,I);default:if(O)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),O=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(x,y,w){return y===0&&w===x.length?t.fromByteArray(x):t.fromByteArray(x.slice(y,w))}function b(x,y,w){w=Math.min(x.length,w);for(var I=[],F=y;F<w;){var ee=x[F],O=null,K=ee>239?4:ee>223?3:ee>191?2:1;if(F+K<=w){var Y,ie,oe,ge;switch(K){case 1:ee<128&&(O=ee);break;case 2:Y=x[F+1],(Y&192)===128&&(ge=(ee&31)<<6|Y&63,ge>127&&(O=ge));break;case 3:Y=x[F+1],ie=x[F+2],(Y&192)===128&&(ie&192)===128&&(ge=(ee&15)<<12|(Y&63)<<6|ie&63,ge>2047&&(ge<55296||ge>57343)&&(O=ge));break;case 4:Y=x[F+1],ie=x[F+2],oe=x[F+3],(Y&192)===128&&(ie&192)===128&&(oe&192)===128&&(ge=(ee&15)<<18|(Y&63)<<12|(ie&63)<<6|oe&63,ge>65535&&ge<1114112&&(O=ge))}}O===null?(O=65533,K=1):O>65535&&(O-=65536,I.push(O>>>10&1023|55296),O=56320|O&1023),I.push(O),F+=K}return M(I)}var C=4096;function M(x){var y=x.length;if(y<=C)return String.fromCharCode.apply(String,x);for(var w="",I=0;I<y;)w+=String.fromCharCode.apply(String,x.slice(I,I+=C));return w}function z(x,y,w){var I="";w=Math.min(x.length,w);for(var F=y;F<w;++F)I+=String.fromCharCode(x[F]&127);return I}function $(x,y,w){var I="";w=Math.min(x.length,w);for(var F=y;F<w;++F)I+=String.fromCharCode(x[F]);return I}function q(x,y,w){var I=x.length;(!y||y<0)&&(y=0),(!w||w<0||w>I)&&(w=I);for(var F="",ee=y;ee<w;++ee)F+=Le(x[ee]);return F}function H(x,y,w){for(var I=x.slice(y,w),F="",ee=0;ee<I.length;ee+=2)F+=String.fromCharCode(I[ee]+I[ee+1]*256);return F}s.prototype.slice=function(y,w){var I=this.length;y=~~y,w=w===void 0?I:~~w,y<0?(y+=I,y<0&&(y=0)):y>I&&(y=I),w<0?(w+=I,w<0&&(w=0)):w>I&&(w=I),w<y&&(w=y);var F;if(s.TYPED_ARRAY_SUPPORT)F=this.subarray(y,w),F.__proto__=s.prototype;else{var ee=w-y;F=new s(ee,void 0);for(var O=0;O<ee;++O)F[O]=this[O+y]}return F};function L(x,y,w){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+y>w)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUIntLE=function(y,w,I){y=y|0,w=w|0,I||L(y,w,this.length);for(var F=this[y],ee=1,O=0;++O<w&&(ee*=256);)F+=this[y+O]*ee;return F},s.prototype.readUIntBE=function(y,w,I){y=y|0,w=w|0,I||L(y,w,this.length);for(var F=this[y+--w],ee=1;w>0&&(ee*=256);)F+=this[y+--w]*ee;return F},s.prototype.readUInt8=function(y,w){return w||L(y,1,this.length),this[y]},s.prototype.readUInt16LE=function(y,w){return w||L(y,2,this.length),this[y]|this[y+1]<<8},s.prototype.readUInt16BE=function(y,w){return w||L(y,2,this.length),this[y]<<8|this[y+1]},s.prototype.readUInt32LE=function(y,w){return w||L(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},s.prototype.readUInt32BE=function(y,w){return w||L(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},s.prototype.readIntLE=function(y,w,I){y=y|0,w=w|0,I||L(y,w,this.length);for(var F=this[y],ee=1,O=0;++O<w&&(ee*=256);)F+=this[y+O]*ee;return ee*=128,F>=ee&&(F-=Math.pow(2,8*w)),F},s.prototype.readIntBE=function(y,w,I){y=y|0,w=w|0,I||L(y,w,this.length);for(var F=w,ee=1,O=this[y+--F];F>0&&(ee*=256);)O+=this[y+--F]*ee;return ee*=128,O>=ee&&(O-=Math.pow(2,8*w)),O},s.prototype.readInt8=function(y,w){return w||L(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},s.prototype.readInt16LE=function(y,w){w||L(y,2,this.length);var I=this[y]|this[y+1]<<8;return I&32768?I|4294901760:I},s.prototype.readInt16BE=function(y,w){w||L(y,2,this.length);var I=this[y+1]|this[y]<<8;return I&32768?I|4294901760:I},s.prototype.readInt32LE=function(y,w){return w||L(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},s.prototype.readInt32BE=function(y,w){return w||L(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},s.prototype.readFloatLE=function(y,w){return w||L(y,4,this.length),r.read(this,y,!0,23,4)},s.prototype.readFloatBE=function(y,w){return w||L(y,4,this.length),r.read(this,y,!1,23,4)},s.prototype.readDoubleLE=function(y,w){return w||L(y,8,this.length),r.read(this,y,!0,52,8)},s.prototype.readDoubleBE=function(y,w){return w||L(y,8,this.length),r.read(this,y,!1,52,8)};function V(x,y,w,I,F,ee){if(!s.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>F||y<ee)throw new RangeError('"value" argument is out of bounds');if(w+I>x.length)throw new RangeError("Index out of range")}s.prototype.writeUIntLE=function(y,w,I,F){if(y=+y,w=w|0,I=I|0,!F){var ee=Math.pow(2,8*I)-1;V(this,y,w,I,ee,0)}var O=1,K=0;for(this[w]=y&255;++K<I&&(O*=256);)this[w+K]=y/O&255;return w+I},s.prototype.writeUIntBE=function(y,w,I,F){if(y=+y,w=w|0,I=I|0,!F){var ee=Math.pow(2,8*I)-1;V(this,y,w,I,ee,0)}var O=I-1,K=1;for(this[w+O]=y&255;--O>=0&&(K*=256);)this[w+O]=y/K&255;return w+I},s.prototype.writeUInt8=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,1,255,0),s.TYPED_ARRAY_SUPPORT||(y=Math.floor(y)),this[w]=y&255,w+1};function Q(x,y,w,I){y<0&&(y=65535+y+1);for(var F=0,ee=Math.min(x.length-w,2);F<ee;++F)x[w+F]=(y&255<<8*(I?F:1-F))>>>(I?F:1-F)*8}s.prototype.writeUInt16LE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[w]=y&255,this[w+1]=y>>>8):Q(this,y,w,!0),w+2},s.prototype.writeUInt16BE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[w]=y>>>8,this[w+1]=y&255):Q(this,y,w,!1),w+2};function D(x,y,w,I){y<0&&(y=4294967295+y+1);for(var F=0,ee=Math.min(x.length-w,4);F<ee;++F)x[w+F]=y>>>(I?F:3-F)*8&255}s.prototype.writeUInt32LE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[w+3]=y>>>24,this[w+2]=y>>>16,this[w+1]=y>>>8,this[w]=y&255):D(this,y,w,!0),w+4},s.prototype.writeUInt32BE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255):D(this,y,w,!1),w+4},s.prototype.writeIntLE=function(y,w,I,F){if(y=+y,w=w|0,!F){var ee=Math.pow(2,8*I-1);V(this,y,w,I,ee-1,-ee)}var O=0,K=1,Y=0;for(this[w]=y&255;++O<I&&(K*=256);)y<0&&Y===0&&this[w+O-1]!==0&&(Y=1),this[w+O]=(y/K>>0)-Y&255;return w+I},s.prototype.writeIntBE=function(y,w,I,F){if(y=+y,w=w|0,!F){var ee=Math.pow(2,8*I-1);V(this,y,w,I,ee-1,-ee)}var O=I-1,K=1,Y=0;for(this[w+O]=y&255;--O>=0&&(K*=256);)y<0&&Y===0&&this[w+O+1]!==0&&(Y=1),this[w+O]=(y/K>>0)-Y&255;return w+I},s.prototype.writeInt8=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,1,127,-128),s.TYPED_ARRAY_SUPPORT||(y=Math.floor(y)),y<0&&(y=255+y+1),this[w]=y&255,w+1},s.prototype.writeInt16LE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[w]=y&255,this[w+1]=y>>>8):Q(this,y,w,!0),w+2},s.prototype.writeInt16BE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[w]=y>>>8,this[w+1]=y&255):Q(this,y,w,!1),w+2},s.prototype.writeInt32LE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[w]=y&255,this[w+1]=y>>>8,this[w+2]=y>>>16,this[w+3]=y>>>24):D(this,y,w,!0),w+4},s.prototype.writeInt32BE=function(y,w,I){return y=+y,w=w|0,I||V(this,y,w,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),s.TYPED_ARRAY_SUPPORT?(this[w]=y>>>24,this[w+1]=y>>>16,this[w+2]=y>>>8,this[w+3]=y&255):D(this,y,w,!1),w+4};function ce(x,y,w,I,F,ee){if(w+I>x.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function ae(x,y,w,I,F){return F||ce(x,y,w,4),r.write(x,y,w,I,23,4),w+4}s.prototype.writeFloatLE=function(y,w,I){return ae(this,y,w,!0,I)},s.prototype.writeFloatBE=function(y,w,I){return ae(this,y,w,!1,I)};function me(x,y,w,I,F){return F||ce(x,y,w,8),r.write(x,y,w,I,52,8),w+8}s.prototype.writeDoubleLE=function(y,w,I){return me(this,y,w,!0,I)},s.prototype.writeDoubleBE=function(y,w,I){return me(this,y,w,!1,I)},s.prototype.copy=function(y,w,I,F){if(I||(I=0),!F&&F!==0&&(F=this.length),w>=y.length&&(w=y.length),w||(w=0),F>0&&F<I&&(F=I),F===I||y.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("sourceStart out of bounds");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),y.length-w<F-I&&(F=y.length-w+I);var ee=F-I,O;if(this===y&&I<w&&w<F)for(O=ee-1;O>=0;--O)y[O+w]=this[O+I];else if(ee<1e3||!s.TYPED_ARRAY_SUPPORT)for(O=0;O<ee;++O)y[O+w]=this[O+I];else Uint8Array.prototype.set.call(y,this.subarray(I,I+ee),w);return ee},s.prototype.fill=function(y,w,I,F){if(typeof y=="string"){if(typeof w=="string"?(F=w,w=0,I=this.length):typeof I=="string"&&(F=I,I=this.length),y.length===1){var ee=y.charCodeAt(0);ee<256&&(y=ee)}if(F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!s.isEncoding(F))throw new TypeError("Unknown encoding: "+F)}else typeof y=="number"&&(y=y&255);if(w<0||this.length<w||this.length<I)throw new RangeError("Out of range index");if(I<=w)return this;w=w>>>0,I=I===void 0?this.length:I>>>0,y||(y=0);var O;if(typeof y=="number")for(O=w;O<I;++O)this[O]=y;else{var K=s.isBuffer(y)?y:Ve(new s(y,F).toString()),Y=K.length;for(O=0;O<I-w;++O)this[O+w]=K[O%Y]}return this};var de=/[^+\/0-9A-Za-z-_]/g;function Oe(x){if(x=At(x).replace(de,""),x.length<2)return"";for(;x.length%4!==0;)x=x+"=";return x}function At(x){return x.trim?x.trim():x.replace(/^\s+|\s+$/g,"")}function Le(x){return x<16?"0"+x.toString(16):x.toString(16)}function Ve(x,y){y=y||1/0;for(var w,I=x.length,F=null,ee=[],O=0;O<I;++O){if(w=x.charCodeAt(O),w>55295&&w<57344){if(!F){if(w>56319){(y-=3)>-1&&ee.push(239,191,189);continue}else if(O+1===I){(y-=3)>-1&&ee.push(239,191,189);continue}F=w;continue}if(w<56320){(y-=3)>-1&&ee.push(239,191,189),F=w;continue}w=(F-55296<<10|w-56320)+65536}else F&&(y-=3)>-1&&ee.push(239,191,189);if(F=null,w<128){if((y-=1)<0)break;ee.push(w)}else if(w<2048){if((y-=2)<0)break;ee.push(w>>6|192,w&63|128)}else if(w<65536){if((y-=3)<0)break;ee.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((y-=4)<0)break;ee.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return ee}function yt(x){for(var y=[],w=0;w<x.length;++w)y.push(x.charCodeAt(w)&255);return y}function Lt(x,y){for(var w,I,F,ee=[],O=0;O<x.length&&!((y-=2)<0);++O)w=x.charCodeAt(O),I=w>>8,F=w%256,ee.push(F),ee.push(I);return ee}function Zt(x){return t.toByteArray(Oe(x))}function Pr(x,y,w,I){for(var F=0;F<I&&!(F+w>=y.length||F>=x.length);++F)y[F+w]=x[F];return F}function lc(x){return x!==x}})(Te);var li={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($e,function(){var r=r||function(n,i){var o;if(typeof window!="undefined"&&window.crypto&&(o=window.crypto),typeof self!="undefined"&&self.crypto&&(o=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window!="undefined"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof $e!="undefined"&&$e.crypto&&(o=$e.crypto),!o&&typeof mk=="function")try{o=require("crypto")}catch{}var a=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function S(){}return function(T){var R;return S.prototype=T,R=new S,S.prototype=null,R}}(),c={},u=c.lib={},f=u.Base=function(){return{extend:function(S){var T=s(this);return S&&T.mixIn(S),(!T.hasOwnProperty("init")||this.init===T.init)&&(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var T in S)S.hasOwnProperty(T)&&(this[T]=S[T]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=f.extend({init:function(S,T){S=this.words=S||[],T!=i?this.sigBytes=T:this.sigBytes=S.length*4},toString:function(S){return(S||h).stringify(this)},concat:function(S){var T=this.words,R=S.words,P=this.sigBytes,U=S.sigBytes;if(this.clamp(),P%4)for(var W=0;W<U;W++){var j=R[W>>>2]>>>24-W%4*8&255;T[P+W>>>2]|=j<<24-(P+W)%4*8}else for(var te=0;te<U;te+=4)T[P+te>>>2]=R[te>>>2];return this.sigBytes+=U,this},clamp:function(){var S=this.words,T=this.sigBytes;S[T>>>2]&=4294967295<<32-T%4*8,S.length=n.ceil(T/4)},clone:function(){var S=f.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var T=[],R=0;R<S;R+=4)T.push(a());return new l.init(T,S)}}),d=c.enc={},h=d.Hex={stringify:function(S){for(var T=S.words,R=S.sigBytes,P=[],U=0;U<R;U++){var W=T[U>>>2]>>>24-U%4*8&255;P.push((W>>>4).toString(16)),P.push((W&15).toString(16))}return P.join("")},parse:function(S){for(var T=S.length,R=[],P=0;P<T;P+=2)R[P>>>3]|=parseInt(S.substr(P,2),16)<<24-P%8*4;return new l.init(R,T/2)}},v=d.Latin1={stringify:function(S){for(var T=S.words,R=S.sigBytes,P=[],U=0;U<R;U++){var W=T[U>>>2]>>>24-U%4*8&255;P.push(String.fromCharCode(W))}return P.join("")},parse:function(S){for(var T=S.length,R=[],P=0;P<T;P++)R[P>>>2]|=(S.charCodeAt(P)&255)<<24-P%4*8;return new l.init(R,T)}},g=d.Utf8={stringify:function(S){try{return decodeURIComponent(escape(v.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return v.parse(unescape(encodeURIComponent(S)))}},_=u.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=g.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var T,R=this._data,P=R.words,U=R.sigBytes,W=this.blockSize,j=W*4,te=U/j;S?te=n.ceil(te):te=n.max((te|0)-this._minBufferSize,0);var k=te*W,B=n.min(k*4,U);if(k){for(var A=0;A<k;A+=W)this._doProcessBlock(P,A);T=P.splice(0,k),R.sigBytes-=B}return new l.init(T,B)},clone:function(){var S=f.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});u.Hasher=_.extend({cfg:f.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var T=this._doFinalize();return T},blockSize:16,_createHelper:function(S){return function(T,R){return new S.init(R).finalize(T)}},_createHmacHelper:function(S){return function(T,R){return new E.HMAC.init(S,R).finalize(T)}}});var E=c.algo={};return c}(Math);return r})})(li);var En=li.exports,FM={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,o=i.WordArray,a=o.init,s=o.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,f=[],l=0;l<u;l++)f[l>>>2]|=c[l]<<24-l%4*8;a.call(this,f,u)}else a.apply(this,arguments)};s.prototype=o}}(),r.lib.WordArray})})(FM);var Th={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){return function(n){var i=r,o=i.lib,a=o.WordArray,s=o.Hasher,c=i.algo,u=[],f=[];(function(){function h(E){for(var S=n.sqrt(E),T=2;T<=S;T++)if(!(E%T))return!1;return!0}function v(E){return(E-(E|0))*4294967296|0}for(var g=2,_=0;_<64;)h(g)&&(_<8&&(u[_]=v(n.pow(g,1/2))),f[_]=v(n.pow(g,1/3)),_++),g++})();var l=[],d=c.SHA256=s.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(h,v){for(var g=this._hash.words,_=g[0],E=g[1],S=g[2],T=g[3],R=g[4],P=g[5],U=g[6],W=g[7],j=0;j<64;j++){if(j<16)l[j]=h[v+j]|0;else{var te=l[j-15],k=(te<<25|te>>>7)^(te<<14|te>>>18)^te>>>3,B=l[j-2],A=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;l[j]=k+l[j-7]+A+l[j-16]}var m=R&P^~R&U,b=_&E^_&S^E&S,C=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),M=(R<<26|R>>>6)^(R<<21|R>>>11)^(R<<7|R>>>25),z=W+M+m+f[j]+l[j],$=C+b;W=U,U=P,P=R,R=T+z|0,T=S,S=E,E=_,_=z+$|0}g[0]=g[0]+_|0,g[1]=g[1]+E|0,g[2]=g[2]+S|0,g[3]=g[3]+T|0,g[4]=g[4]+R|0,g[5]=g[5]+P|0,g[6]=g[6]+U|0,g[7]=g[7]+W|0},_doFinalize:function(){var h=this._data,v=h.words,g=this._nDataBytes*8,_=h.sigBytes*8;return v[_>>>5]|=128<<24-_%32,v[(_+64>>>9<<4)+14]=n.floor(g/4294967296),v[(_+64>>>9<<4)+15]=g,h.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var h=s.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=s._createHelper(d),i.HmacSHA256=s._createHmacHelper(d)}(Math),r.SHA256})})(Th);var xC=Th.exports,TC={exports:{}},IC={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){(function(){var n=r,i=n.lib,o=i.Base,a=n.enc,s=a.Utf8,c=n.algo;c.HMAC=o.extend({init:function(u,f){u=this._hasher=new u.init,typeof f=="string"&&(f=s.parse(f));var l=u.blockSize,d=l*4;f.sigBytes>d&&(f=u.finalize(f)),f.clamp();for(var h=this._oKey=f.clone(),v=this._iKey=f.clone(),g=h.words,_=v.words,E=0;E<l;E++)g[E]^=1549556828,_[E]^=909522486;h.sigBytes=v.sigBytes=d,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var f=this._hasher,l=f.finalize(u);f.reset();var d=f.finalize(this._oKey.clone().concat(l));return d}})})()})})(IC);(function(e,t){(function(r,n,i){e.exports=n(li.exports,Th.exports,IC.exports)})($e,function(r){return r.HmacSHA256})})(TC);var Ys=TC.exports,ur;typeof window!="undefined"&&window.crypto&&(ur=window.crypto);!ur&&typeof window!="undefined"&&window.msCrypto&&(ur=window.msCrypto);!ur&&typeof global!="undefined"&&global.crypto&&(ur=global.crypto);if(!ur&&typeof require=="function")try{ur=require("crypto")}catch{}function jM(){if(ur){if(typeof ur.getRandomValues=="function")try{return ur.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ur.randomBytes=="function")try{return ur.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function $M(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((o&15).toString(16))}return n.join("")}var zM=function(){function e(r,n){r=this.words=r||[],n!=null?this.sigBytes=n:this.sigBytes=r.length*4}var t=e.prototype;return t.random=function(n){for(var i=[],o=0;o<n;o+=4)i.push(jM());return new e(i,n)},t.toString=function(){return $M(this)},e}();function se(e,t){e!=null&&this.fromString(e,t)}function Et(){return new se(null)}var Cn,qM=0xdeadbeefcafe,$g=(qM&16777215)==15715070;function KM(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=a&67108863}return i}function HM(e,t,r,n,i,o){for(var a=t&32767,s=t>>15;--o>=0;){var c=this[e]&32767,u=this[e++]>>15,f=s*c+u*a;c=a*c+((f&32767)<<15)+r[n]+(i&1073741823),i=(c>>>30)+(f>>>15)+s*u+(i>>>30),r[n++]=c&1073741823}return i}function GM(e,t,r,n,i,o){for(var a=t&16383,s=t>>14;--o>=0;){var c=this[e]&16383,u=this[e++]>>14,f=s*c+u*a;c=a*c+((f&16383)<<14)+r[n]+i,i=(c>>28)+(f>>14)+s*u,r[n++]=c&268435455}return i}var zg=typeof navigator!="undefined";zg&&$g&&navigator.appName=="Microsoft Internet Explorer"?(se.prototype.am=HM,Cn=30):zg&&$g&&navigator.appName!="Netscape"?(se.prototype.am=KM,Cn=26):(se.prototype.am=GM,Cn=28);se.prototype.DB=Cn;se.prototype.DM=(1<<Cn)-1;se.prototype.DV=1<<Cn;var Ih=52;se.prototype.FV=Math.pow(2,Ih);se.prototype.F1=Ih-Cn;se.prototype.F2=2*Cn-Ih;var VM="0123456789abcdefghijklmnopqrstuvwxyz",Lu=new Array,eo,cr;eo="0".charCodeAt(0);for(cr=0;cr<=9;++cr)Lu[eo++]=cr;eo="a".charCodeAt(0);for(cr=10;cr<36;++cr)Lu[eo++]=cr;eo="A".charCodeAt(0);for(cr=10;cr<36;++cr)Lu[eo++]=cr;function qg(e){return VM.charAt(e)}function WM(e,t){var r=Lu[e.charCodeAt(t)];return r==null?-1:r}function JM(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function YM(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Oh(e){var t=Et();return t.fromInt(e),t}function XM(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=WM(e,n);if(a<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=r,o>=this.DB&&(o-=this.DB)}this.clamp(),i&&se.ZERO.subTo(this,this)}function QM(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function ZM(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var r=(1<<t)-1,n,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=qg(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=qg(n));return i?o:"0"}function eD(){var e=Et();return se.ZERO.subTo(this,e),e}function tD(){return this.s<0?this.negate():this}function rD(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0}function kh(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function nD(){return this.t<=0?0:this.DB*(this.t-1)+kh(this[this.t-1]^this.s&this.DM)}function iD(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s}function oD(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s}function aD(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()}function sD(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}function uD(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()}function cD(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&se.ZERO.subTo(t,t)}function fD(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()}function lD(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Et());var o=Et(),a=this.s,s=e.s,c=this.DB-kh(n[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,f=o[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/l,h=(1<<this.F1)/l,v=1<<this.F2,g=r.t,_=g-u,E=t==null?Et():t;for(o.dlShiftTo(_,E),r.compareTo(E)>=0&&(r[r.t++]=1,r.subTo(E,r)),se.ONE.dlShiftTo(u,E),E.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--_>=0;){var S=r[--g]==f?this.DM:Math.floor(r[g]*d+(r[g-1]+v)*h);if((r[g]+=o.am(0,S,r,_,0,u))<S)for(o.dlShiftTo(_,E),r.subTo(E,r);r[g]<--S;)r.subTo(E,r)}t!=null&&(r.drShiftTo(u,t),a!=s&&se.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&se.ZERO.subTo(r,r)}}}function dD(e){var t=Et();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(se.ZERO)>0&&e.subTo(t,t),t}function hD(){if(this.t<1)return 0;var e=this[0];if((e&1)==0)return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function pD(e){return this.compareTo(e)==0}function vD(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()}function gD(e){var t=Et();return this.addTo(e,t),t}function mD(e){var t=Et();return this.subTo(e,t),t}function yD(e){var t=Et();return this.multiplyTo(e,t),t}function wD(e){var t=Et();return this.divRemTo(e,t,null),t}function to(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function bD(e){var t=Et();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(se.ZERO)>0&&this.m.subTo(t,t),t}function _D(e){var t=Et();return e.copyTo(t),this.reduce(t),t}function SD(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function ED(e,t){e.squareTo(t),this.reduce(t)}function CD(e,t,r){e.multiplyTo(t,r),this.reduce(r)}to.prototype.convert=bD;to.prototype.revert=_D;to.prototype.reduce=SD;to.prototype.mulTo=CD;to.prototype.sqrTo=ED;function AD(e,t,r){var n=e.bitLength(),i,o=Oh(1),a=new to(t);if(n<=0)return o;n<18?i=1:n<48?i=3:n<144?i=4:n<768?i=5:i=6;var s=new Array,c=3,u=i-1,f=(1<<i)-1;if(s[1]=a.convert(this),i>1){var l=Et();for(a.sqrTo(s[1],l);c<=f;)s[c]=Et(),a.mulTo(l,s[c-2],s[c]),c+=2}var d=e.t-1,h,v=!0,g=Et(),_;for(n=kh(e[d])-1;d>=0;){for(n>=u?h=e[d]>>n-u&f:(h=(e[d]&(1<<n+1)-1)<<u-n,d>0&&(h|=e[d-1]>>this.DB+n-u)),c=i;(h&1)==0;)h>>=1,--c;if((n-=c)<0&&(n+=this.DB,--d),v)s[h].copyTo(o),v=!1;else{for(;c>1;)a.sqrTo(o,g),a.sqrTo(g,o),c-=2;c>0?a.sqrTo(o,g):(_=o,o=g,g=_),a.mulTo(g,s[h],o)}for(;d>=0&&(e[d]&1<<n)==0;)a.sqrTo(o,g),_=o,o=g,g=_,--n<0&&(n=this.DB-1,--d)}var E=a.revert(o);return r(null,E),E}se.prototype.copyTo=JM;se.prototype.fromInt=YM;se.prototype.fromString=XM;se.prototype.clamp=QM;se.prototype.dlShiftTo=iD;se.prototype.drShiftTo=oD;se.prototype.lShiftTo=aD;se.prototype.rShiftTo=sD;se.prototype.subTo=uD;se.prototype.multiplyTo=cD;se.prototype.squareTo=fD;se.prototype.divRemTo=lD;se.prototype.invDigit=hD;se.prototype.addTo=vD;se.prototype.toString=ZM;se.prototype.negate=eD;se.prototype.abs=tD;se.prototype.compareTo=rD;se.prototype.bitLength=nD;se.prototype.mod=dD;se.prototype.equals=pD;se.prototype.add=gD;se.prototype.subtract=mD;se.prototype.multiply=yD;se.prototype.divide=wD;se.prototype.modPow=AD;se.ZERO=Oh(0);se.ONE=Oh(1);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function Bc(e){return Te.Buffer.from(new zM().random(e).toString(),"hex")}var xD=/^[89a-f]/i,TD="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",ID="userAttributes.",wi=function(){function e(r){this.N=new se(TD,16),this.g=new se("2",16),this.k=new se(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=Te.Buffer.from("Caldera Derived Key","utf8"),this.poolName=r}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(n){var i=this;this.largeAValue?n(null,this.largeAValue):this.calculateA(this.smallAValue,function(o,a){o&&n(o,null),i.largeAValue=a,n(null,i.largeAValue)})},t.generateRandomSmallA=function(){var n=Bc(128).toString("hex"),i=new se(n,16);return i},t.generateRandomString=function(){return Bc(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(n,i,o){var a=this;this.randomPassword=this.generateRandomString();var s=""+n+i+":"+this.randomPassword,c=this.hash(s),u=Bc(16).toString("hex");this.SaltToHashDevices=this.padHex(new se(u,16)),this.g.modPow(new se(this.hexHash(this.SaltToHashDevices+c),16),this.N,function(f,l){f&&o(f,null),a.verifierDevices=a.padHex(l),o(null,null)})},t.calculateA=function(n,i){var o=this;this.g.modPow(n,this.N,function(a,s){a&&i(a,null),s.mod(o.N).equals(se.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,s)})},t.calculateU=function(n,i){this.UHexHash=this.hexHash(this.padHex(n)+this.padHex(i));var o=new se(this.UHexHash,16);return o},t.hash=function(n){var i=n instanceof Te.Buffer?En.lib.WordArray.create(n):n,o=xC(i).toString();return new Array(64-o.length).join("0")+o},t.hexHash=function(n){return this.hash(Te.Buffer.from(n,"hex"))},t.computehkdf=function(n,i){var o=En.lib.WordArray.create(Te.Buffer.concat([this.infoBits,Te.Buffer.from(String.fromCharCode(1),"utf8")])),a=n instanceof Te.Buffer?En.lib.WordArray.create(n):n,s=i instanceof Te.Buffer?En.lib.WordArray.create(i):i,c=Ys(a,s),u=Ys(o,c);return Te.Buffer.from(u.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(n,i,o,a,s){var c=this;if(o.mod(this.N).equals(se.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,o),this.UValue.equals(se.ZERO))throw new Error("U cannot be zero.");var u=""+this.poolName+n+":"+i,f=this.hash(u),l=new se(this.hexHash(this.padHex(a)+f),16);this.calculateS(l,o,function(d,h){d&&s(d,null);var v=c.computehkdf(Te.Buffer.from(c.padHex(h),"hex"),Te.Buffer.from(c.padHex(c.UValue),"hex"));s(null,v)})},t.calculateS=function(n,i,o){var a=this;this.g.modPow(n,this.N,function(s,c){s&&o(s,null);var u=i.subtract(a.k.multiply(c));u.modPow(a.smallAValue.add(a.UValue.multiply(n)),a.N,function(f,l){f&&o(f,null),o(null,l.mod(a.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return ID},t.padHex=function(n){if(!(n instanceof se))throw new Error("Not a BigInteger");var i=n.compareTo(se.ZERO)<0,o=n.abs().toString(16);if(o=o.length%2!==0?"0"+o:o,o=xD.test(o)?"00"+o:o,i){var a=o.split("").map(function(c){var u=~parseInt(c,16)&15;return"0123456789ABCDEF".charAt(u)}).join(""),s=new se(a,16).add(se.ONE);o=s.toString(16),o.toUpperCase().startsWith("FF8")&&(o=o.substring(2))}return o},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var OC=function(){function e(r){this.jwtToken=r||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var n=this.jwtToken.split(".")[1];try{return JSON.parse(Te.Buffer.from(n,"base64").toString("utf8"))}catch{return{}}},e}();function OD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,al(e,t)}function al(e,t){return al=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},al(e,t)}var sl=function(e){OD(t,e);function t(r){var n=r===void 0?{}:r,i=n.AccessToken;return e.call(this,i||"")||this}return t}(OC);function kD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ul(e,t)}function ul(e,t){return ul=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ul(e,t)}var cl=function(e){kD(t,e);function t(r){var n=r===void 0?{}:r,i=n.IdToken;return e.call(this,i||"")||this}return t}(OC);/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var fl=function(){function e(r){var n=r===void 0?{}:r,i=n.RefreshToken;this.token=i||""}var t=e.prototype;return t.getToken=function(){return this.token},e}(),kC={exports:{}};(function(e,t){(function(r,n){e.exports=n(li.exports)})($e,function(r){return function(){var n=r,i=n.lib,o=i.WordArray,a=n.enc;a.Base64={stringify:function(c){var u=c.words,f=c.sigBytes,l=this._map;c.clamp();for(var d=[],h=0;h<f;h+=3)for(var v=u[h>>>2]>>>24-h%4*8&255,g=u[h+1>>>2]>>>24-(h+1)%4*8&255,_=u[h+2>>>2]>>>24-(h+2)%4*8&255,E=v<<16|g<<8|_,S=0;S<4&&h+S*.75<f;S++)d.push(l.charAt(E>>>6*(3-S)&63));var T=l.charAt(64);if(T)for(;d.length%4;)d.push(T);return d.join("")},parse:function(c){var u=c.length,f=this._map,l=this._reverseMap;if(!l){l=this._reverseMap=[];for(var d=0;d<f.length;d++)l[f.charCodeAt(d)]=d}var h=f.charAt(64);if(h){var v=c.indexOf(h);v!==-1&&(u=v)}return s(c,u,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,u,f){for(var l=[],d=0,h=0;h<u;h++)if(h%4){var v=f[c.charCodeAt(h-1)]<<h%4*2,g=f[c.charCodeAt(h)]>>>6-h%4*2,_=v|g;l[d>>>2]|=_<<24-d%4*8,d++}return o.create(l,d)}}(),r.enc.Base64})})(kC);var ll=kC.exports;/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var dl=function(){function e(r){var n=r===void 0?{}:r,i=n.IdToken,o=n.RefreshToken,a=n.AccessToken,s=n.ClockDrift;if(a==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=o,this.accessToken=a,this.clockDrift=s===void 0?this.calculateClockDrift():s}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){var n=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return n-i},t.isValid=function(){var n=Math.floor(new Date/1e3),i=n-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var PD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ND=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Kg=function(){function e(){}var t=e.prototype;return t.getNowString=function(){var n=new Date,i=ND[n.getUTCDay()],o=PD[n.getUTCMonth()],a=n.getUTCDate(),s=n.getUTCHours();s<10&&(s="0"+s);var c=n.getUTCMinutes();c<10&&(c="0"+c);var u=n.getUTCSeconds();u<10&&(u="0"+u);var f=n.getUTCFullYear(),l=i+" "+o+" "+a+" "+s+":"+c+":"+u+" UTC "+f;return l},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Ni=function(){function e(r){var n=r===void 0?{}:r,i=n.Name,o=n.Value;this.Name=i||"",this.Value=o||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(n){return this.Value=n,this},t.getName=function(){return this.Name},t.setName=function(n){return this.Name=n,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var Un={},RD=function(){function e(){}return e.setItem=function(r,n){return Un[r]=n,Un[r]},e.getItem=function(r){return Object.prototype.hasOwnProperty.call(Un,r)?Un[r]:void 0},e.removeItem=function(r){return delete Un[r]},e.clear=function(){return Un={},Un},e}(),PC=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=RD}}var t=e.prototype;return t.getStorage=function(){return this.storageWindow},e}();/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var MD=typeof navigator!="undefined",Hg=MD?navigator.userAgent:"nodejs",hl=function(){function e(r){if(r==null||r.Username==null||r.Pool==null)throw new Error("Username and Pool information are required.");this.username=r.Username||"",this.pool=r.Pool,this.Session=null,this.client=r.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=r.Storage||new PC().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(n){this.clearCachedUserData(),this.signInUserSession=n,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(n){this.authenticationFlowType=n},t.initiateAuth=function(n,i){var o=this,a=n.getAuthParameters();a.USERNAME=this.username;var s=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),c={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:a,ClientMetadata:s};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(u,f){if(u)return i.onFailure(u);var l=f.ChallengeName,d=f.ChallengeParameters;return l==="CUSTOM_CHALLENGE"?(o.Session=f.Session,i.customChallenge(d)):(o.signInUserSession=o.getCognitoUserSession(f.AuthenticationResult),o.cacheTokens(),i.onSuccess(o.signInUserSession))})},t.authenticateUser=function(n,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(n,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(n,i):i.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(n,i){var o=this,a=new wi(this.pool.getUserPoolId().split("_")[1]),s=new Kg,c,u,f={};this.deviceKey!=null&&(f.DEVICE_KEY=this.deviceKey),f.USERNAME=this.username,a.getLargeAValue(function(l,d){l&&i.onFailure(l),f.SRP_A=d.toString(16),o.authenticationFlowType==="CUSTOM_AUTH"&&(f.CHALLENGE_NAME="SRP_A");var h=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),v={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:f,ClientMetadata:h};o.getUserContextData(o.username)&&(v.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",v,function(g,_){if(g)return i.onFailure(g);var E=_.ChallengeParameters;o.username=E.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",c=new se(E.SRP_B,16),u=new se(E.SALT,16),o.getCachedDeviceKeyAndPassword(),a.getPasswordAuthenticationKey(o.username,n.getPassword(),c,u,function(S,T){S&&i.onFailure(S);var R=s.getNowString(),P=En.lib.WordArray.create(Te.Buffer.concat([Te.Buffer.from(o.pool.getUserPoolId().split("_")[1],"utf8"),Te.Buffer.from(o.username,"utf8"),Te.Buffer.from(E.SECRET_BLOCK,"base64"),Te.Buffer.from(R,"utf8")])),U=En.lib.WordArray.create(T),W=ll.stringify(Ys(P,U)),j={};j.USERNAME=o.username,j.PASSWORD_CLAIM_SECRET_BLOCK=E.SECRET_BLOCK,j.TIMESTAMP=R,j.PASSWORD_CLAIM_SIGNATURE=W,o.deviceKey!=null&&(j.DEVICE_KEY=o.deviceKey);var te=function B(A,m){return o.client.request("RespondToAuthChallenge",A,function(b,C){return b&&b.code==="ResourceNotFoundException"&&b.message.toLowerCase().indexOf("device")!==-1?(j.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),B(A,m)):m(b,C)})},k={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:j,Session:_.Session,ClientMetadata:h};o.getUserContextData()&&(k.UserContextData=o.getUserContextData()),te(k,function(B,A){return B?i.onFailure(B):o.authenticateUserInternal(A,a,i)})})})})},t.authenticateUserPlainUsernamePassword=function(n,i){var o=this,a={};if(a.USERNAME=this.username,a.PASSWORD=n.getPassword(),!a.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var s=new wi(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var c=Object.keys(n.getValidationData()).length!==0?n.getValidationData():n.getClientMetadata(),u={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:a,ClientMetadata:c};this.getUserContextData(this.username)&&(u.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",u,function(f,l){return f?i.onFailure(f):o.authenticateUserInternal(l,s,i)})},t.authenticateUserInternal=function(n,i,o){var a=this,s=n.ChallengeName,c=n.ChallengeParameters;if(s==="SMS_MFA")return this.Session=n.Session,o.mfaRequired(s,c);if(s==="SELECT_MFA_TYPE")return this.Session=n.Session,o.selectMFAType(s,c);if(s==="MFA_SETUP")return this.Session=n.Session,o.mfaSetup(s,c);if(s==="SOFTWARE_TOKEN_MFA")return this.Session=n.Session,o.totpRequired(s,c);if(s==="CUSTOM_CHALLENGE")return this.Session=n.Session,o.customChallenge(c);if(s==="NEW_PASSWORD_REQUIRED"){this.Session=n.Session;var u=null,f=null,l=[],d=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(c&&(u=JSON.parse(n.ChallengeParameters.userAttributes),f=JSON.parse(n.ChallengeParameters.requiredAttributes)),f)for(var h=0;h<f.length;h++)l[h]=f[h].substr(d.length);return o.newPasswordRequired(u,l)}if(s==="DEVICE_SRP_AUTH"){this.Session=n.Session,this.getDeviceResponse(o);return}this.signInUserSession=this.getCognitoUserSession(n.AuthenticationResult),this.challengeName=s,this.cacheTokens();var v=n.AuthenticationResult.NewDeviceMetadata;if(v==null)return o.onSuccess(this.signInUserSession);i.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return o.onFailure(g);var _={Salt:Te.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Te.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=_.PasswordVerifier,a.deviceGroupKey=v.DeviceGroupKey,a.randomPassword=i.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:v.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:_,DeviceName:Hg},function(E,S){return E?o.onFailure(E):(a.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),S.UserConfirmationNecessary===!0?o.onSuccess(a.signInUserSession,S.UserConfirmationNecessary):o.onSuccess(a.signInUserSession))})})},t.completeNewPasswordChallenge=function(n,i,o,a){var s=this;if(!n)return o.onFailure(new Error("New password is required."));var c=new wi(this.pool.getUserPoolId().split("_")[1]),u=c.getNewPasswordRequiredChallengeUserAttributePrefix(),f={};i&&Object.keys(i).forEach(function(d){f[u+d]=i[d]}),f.NEW_PASSWORD=n,f.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:f,Session:this.Session,ClientMetadata:a};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(d,h){return d?o.onFailure(d):s.authenticateUserInternal(h,c,o)})},t.getDeviceResponse=function(n,i){var o=this,a=new wi(this.deviceGroupKey),s=new Kg,c={};c.USERNAME=this.username,c.DEVICE_KEY=this.deviceKey,a.getLargeAValue(function(u,f){u&&n.onFailure(u),c.SRP_A=f.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o.pool.getClientId(),ChallengeResponses:c,ClientMetadata:i,Session:o.Session};o.getUserContextData()&&(l.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",l,function(d,h){if(d)return n.onFailure(d);var v=h.ChallengeParameters,g=new se(v.SRP_B,16),_=new se(v.SALT,16);a.getPasswordAuthenticationKey(o.deviceKey,o.randomPassword,g,_,function(E,S){if(E)return n.onFailure(E);var T=s.getNowString(),R=En.lib.WordArray.create(Te.Buffer.concat([Te.Buffer.from(o.deviceGroupKey,"utf8"),Te.Buffer.from(o.deviceKey,"utf8"),Te.Buffer.from(v.SECRET_BLOCK,"base64"),Te.Buffer.from(T,"utf8")])),P=En.lib.WordArray.create(S),U=ll.stringify(Ys(R,P)),W={};W.USERNAME=o.username,W.PASSWORD_CLAIM_SECRET_BLOCK=v.SECRET_BLOCK,W.TIMESTAMP=T,W.PASSWORD_CLAIM_SIGNATURE=U,W.DEVICE_KEY=o.deviceKey;var j={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:W,Session:h.Session};o.getUserContextData()&&(j.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",j,function(te,k){return te?n.onFailure(te):(o.signInUserSession=o.getCognitoUserSession(k.AuthenticationResult),o.cacheTokens(),n.onSuccess(o.signInUserSession))})})})})},t.confirmRegistration=function(n,i,o,a){var s={ClientId:this.pool.getClientId(),ConfirmationCode:n,Username:this.username,ForceAliasCreation:i,ClientMetadata:a};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",s,function(c){return c?o(c,null):o(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(n,i,o){var a=this,s={};s.USERNAME=this.username,s.ANSWER=n;var c=new wi(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var u={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(f,l){return f?i.onFailure(f):a.authenticateUserInternal(l,c,i)})},t.sendMFACode=function(n,i,o,a){var s=this,c={};c.USERNAME=this.username,c.SMS_MFA_CODE=n;var u=o||"SMS_MFA";u==="SOFTWARE_TOKEN_MFA"&&(c.SOFTWARE_TOKEN_MFA_CODE=n),this.deviceKey!=null&&(c.DEVICE_KEY=this.deviceKey);var f={ChallengeName:u,ChallengeResponses:c,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:a};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(l,d){if(l)return i.onFailure(l);var h=d.ChallengeName;if(h==="DEVICE_SRP_AUTH"){s.getDeviceResponse(i);return}if(s.signInUserSession=s.getCognitoUserSession(d.AuthenticationResult),s.cacheTokens(),d.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(s.signInUserSession);var v=new wi(s.pool.getUserPoolId().split("_")[1]);v.generateHashDevice(d.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,d.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(g){if(g)return i.onFailure(g);var _={Salt:Te.Buffer.from(v.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Te.Buffer.from(v.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=_.PasswordVerifier,s.deviceGroupKey=d.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,s.randomPassword=v.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:d.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:_,DeviceName:Hg},function(E,S){return E?i.onFailure(E):(s.deviceKey=d.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),S.UserConfirmationNecessary===!0?i.onSuccess(s.signInUserSession,S.UserConfirmationNecessary):i.onSuccess(s.signInUserSession))})})})},t.changePassword=function(n,i,o,a){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return o(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:n,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:a},function(s){return s?o(s,null):o(null,"SUCCESS")})},t.enableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[],o={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(o),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?n(a,null):n(null,"SUCCESS")})},t.setUserMfaPreference=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:n,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?o(a,null):o(null,"SUCCESS")})},t.disableMFA=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n(o,null):n(null,"SUCCESS")})},t.deleteUser=function(n,i){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(a){return a?n(a,null):(o.clearCachedUser(),n(null,"SUCCESS"))})},t.updateAttributes=function(n,i,o){var a=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:n,ClientMetadata:o},function(s){return s?i(s,null):a.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){if(i)return n(i,null);for(var a=[],s=0;s<o.UserAttributes.length;s++){var c={Name:o.UserAttributes[s].Name,Value:o.UserAttributes[s].Value},u=new Ni(c);a.push(u)}return n(null,a)})},t.getMFAOptions=function(n){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return n(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){return i?n(i,null):n(null,o.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(n){var i=this;return n===void 0&&(n={}),new Promise(function(o){var a=i.signInUserSession.getRefreshToken();a&&a.getToken()?i.refreshSession(a,o,n.clientMetadata):o()})},t.getUserData=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),n(new Error("User is not authenticated"),null);var a=this.getUserDataFromCache();if(!a){this.fetchUserData().then(function(s){n(null,s)}).catch(n);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(s){return o.refreshSessionIfPossible(i).then(function(){return s})}).then(function(s){return n(null,s)}).catch(n);return}try{n(null,JSON.parse(a));return}catch(s){this.clearCachedUserData(),n(s,null);return}},t.getUserDataFromCache=function(){var n=this.storage.getItem(this.userDataKey);return n},t.isFetchUserDataAndTokenRequired=function(n){var i=n||{},o=i.bypassCache,a=o===void 0?!1:o;return a},t.fetchUserData=function(){var n=this;return this.createGetUserRequest().then(function(i){return n.cacheUserData(i),i})},t.deleteAttributes=function(n,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?i(a,null):o.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",o,function(a,s){return a?n(a,null):n(null,s)})},t.getSession=function(n,i){if(i===void 0&&(i={}),this.username==null)return n(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return n(null,this.signInUserSession);var o="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,a=o+".idToken",s=o+".accessToken",c=o+".refreshToken",u=o+".clockDrift";if(this.storage.getItem(a)){var f=new cl({IdToken:this.storage.getItem(a)}),l=new sl({AccessToken:this.storage.getItem(s)}),d=new fl({RefreshToken:this.storage.getItem(c)}),h=parseInt(this.storage.getItem(u),0)||0,v={IdToken:f,AccessToken:l,RefreshToken:d,ClockDrift:h},g=new dl(v);if(g.isValid())return this.signInUserSession=g,n(null,this.signInUserSession);if(!d.getToken())return n(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(d,n,i.clientMetadata)}else n(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(n,i,o){var a=this,s=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,c={};c.REFRESH_TOKEN=n.getToken();var u="CognitoIdentityServiceProvider."+this.pool.getClientId(),f=u+".LastAuthUser";if(this.storage.getItem(f)){this.username=this.storage.getItem(f);var l=u+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),c.DEVICE_KEY=this.deviceKey}var d={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:c,ClientMetadata:o};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",d,function(h,v){if(h)return h.code==="NotAuthorizedException"&&a.clearCachedUser(),s(h,null);if(v){var g=v.AuthenticationResult;return Object.prototype.hasOwnProperty.call(g,"RefreshToken")||(g.RefreshToken=n.getToken()),a.signInUserSession=a.getCognitoUserSession(g),a.cacheTokens(),s(null,a.signInUserSession)}})},t.cacheTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",a=n+"."+this.username+".refreshToken",s=n+"."+this.username+".clockDrift",c=n+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(a,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(s,""+this.signInUserSession.getClockDrift()),this.storage.setItem(c,this.username)},t.cacheUserData=function(n){this.storage.setItem(this.userDataKey,JSON.stringify(n))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",a=n+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(o,this.randomPassword),this.storage.setItem(a,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",a=n+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(o),this.deviceGroupKey=this.storage.getItem(a))},t.clearCachedDeviceKeyAndPassword=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=n+".deviceKey",o=n+".randomPasswordKey",a=n+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(a)},t.clearCachedTokens=function(){var n="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=n+"."+this.username+".idToken",o=n+"."+this.username+".accessToken",a=n+"."+this.username+".refreshToken",s=n+".LastAuthUser",c=n+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(a),this.storage.removeItem(s),this.storage.removeItem(c)},t.getCognitoUserSession=function(n){var i=new cl(n),o=new sl(n),a=new fl(n),s={IdToken:i,AccessToken:o,RefreshToken:a};return new dl(s)},t.forgotPassword=function(n,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",o,function(a,s){return a?n.onFailure(a):typeof n.inputVerificationCode=="function"?n.inputVerificationCode(s):n.onSuccess(s)})},t.confirmPassword=function(n,i,o,a){var s={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:n,Password:i,ClientMetadata:a};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",s,function(c){return c?o.onFailure(c):o.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:n,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(a,s){return a?i.onFailure(a):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(s):i.onSuccess("SUCCESS")})},t.verifyAttribute=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:n,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(a){return a?o.onFailure(a):o.onSuccess("SUCCESS")})},t.getDevice=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,o){return i?n.onFailure(i):n.onSuccess(o)})},t.forgetSpecificDevice=function(n,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:n},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},t.forgetDevice=function(n){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:n.onFailure,onSuccess:function(a){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),n.onSuccess(a)}})},t.setDeviceStatusRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(n){if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?n.onFailure(i):n.onSuccess("SUCCESS")})},t.listDevices=function(n,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));var a={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:n};i&&(a.PaginationToken=i),this.client.request("ListDevices",a,function(s,c){return s?o.onFailure(s):o.onSuccess(c)})},t.globalSignOut=function(n){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?n.onFailure(o):(i.clearCachedUser(),n.onSuccess("SUCCESS"))})},t.signOut=function(n){var i=this;if(!n||typeof n!="function"){this.cleanClientData();return}this.getSession(function(o,a){if(o)return n(o);i.revokeTokens(function(s){i.cleanClientData(),n(s)})})},t.revokeTokens=function(n){if(n===void 0&&(n=function(){}),typeof n!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession){var i=new Error("User is not authenticated");return n(i)}if(!this.signInUserSession.getAccessToken()){var o=new Error("No Access token available");return n(o)}var a=this.signInUserSession.getRefreshToken().getToken(),s=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(s)&&a)return this.revokeToken({token:a,callback:n});n()},t.isSessionRevocable=function(n){if(n&&typeof n.decodePayload=="function")try{var i=n.decodePayload(),o=i.origin_jti;return!!o}catch{}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(n){var i=n.token,o=n.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(a){if(a)return o(a);o()})},t.sendMFASelectionAnswer=function(n,i){var o=this,a={};a.USERNAME=this.username,a.ANSWER=n;var s={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(c,u){if(c)return i.onFailure(c);if(o.Session=u.Session,n==="SMS_MFA")return i.mfaRequired(u.ChallengeName,u.ChallengeParameters);if(n==="SOFTWARE_TOKEN_MFA")return i.totpRequired(u.ChallengeName,u.ChallengeParameters)})},t.getUserContextData=function(){var n=this.pool;return n.getUserContextData(this.username)},t.associateSoftwareToken=function(n){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,a){return o?n.onFailure(o):n.associateSecretCode(a.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(o,a){return o?n.onFailure(o):(i.Session=a.Session,n.associateSecretCode(a.SecretCode))})},t.verifySoftwareToken=function(n,i,o){var a=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:n,FriendlyDeviceName:i},function(s,c){return s?o.onFailure(s):o.onSuccess(c)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:n,FriendlyDeviceName:i},function(s,c){if(s)return o.onFailure(s);a.Session=c.Session;var u={};u.USERNAME=a.username;var f={ChallengeName:"MFA_SETUP",ClientId:a.pool.getClientId(),ChallengeResponses:u,Session:a.Session};a.getUserContextData()&&(f.UserContextData=a.getUserContextData()),a.client.request("RespondToAuthChallenge",f,function(l,d){return l?o.onFailure(l):(a.signInUserSession=a.getCognitoUserSession(d.AuthenticationResult),a.cacheTokens(),o.onSuccess(a.signInUserSession))})})},e}();function DD(e,t){return t=t||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},c=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:c,headers:{keys:function(){return o},entries:function(){return a},get:function(f){return s[f.toLowerCase()]},has:function(f){return f.toLowerCase()in s}}}};for(var u in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(f,l,d){o.push(l=l.toLowerCase()),a.push([l,d]),s[l]=s[l]?s[l]+","+d:d}),r(c())},i.onerror=n,i.withCredentials=t.credentials=="include",t.headers)i.setRequestHeader(u,t.headers[u]);i.send(t.body||null)})}var LD=Object.freeze(Object.defineProperty({__proto__:null,default:DD},Symbol.toStringTag,{value:"Module"})),Gg=yu(LD);self.fetch||(self.fetch=Gg.default||Gg);var UD="5.0.4";/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var pl="aws-amplify/"+UD,$n={userAgent:pl+" js",product:"",navigator:null,isReactNative:!1};if(typeof navigator!="undefined"&&navigator.product)switch($n.product=navigator.product||"",$n.navigator=navigator||null,navigator.product){case"ReactNative":$n.userAgent=pl+" react-native",$n.isReactNative=!0;break;default:$n.userAgent=pl+" js",$n.isReactNative=!1;break}var BD=function(){return $n.userAgent};function NC(){}NC.prototype.userAgent=BD();function FD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ko(e,t)}function vl(e){var t=typeof Map=="function"?new Map:void 0;return vl=function(n){if(n===null||!$D(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return ss(n,arguments,gl(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ko(i,n)},vl(e)}function ss(e,t,r){return jD()?ss=Reflect.construct:ss=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),u=new c;return a&&Ko(u,a.prototype),u},ss.apply(null,arguments)}function jD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $D(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ko(e,t){return Ko=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ko(e,t)}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},gl(e)}var zD=function(e){FD(t,e);function t(r,n,i,o){var a;return a=e.call(this,r)||this,a.code=n,a.name=i,a.statusCode=o,a}return t}(vl(Error)),qD=function(){function e(r,n,i){this.endpoint=n||"https://cognito-idp."+r+".amazonaws.com/";var o=i||{},a=o.credentials;this.fetchOptions=a?{credentials:a}:{}}var t=e.prototype;return t.promisifyRequest=function(n,i){var o=this;return new Promise(function(a,s){o.request(n,i,function(c,u){c?s(new zD(c.message,c.code,c.name,c.statusCode)):a(u)})})},t.requestWithRetry=function(n,i,o){var a=this,s=5*1e3;VD(function(c){return new Promise(function(u,f){a.request(n,c,function(l,d){l?f(l):u(d)})})},[i],s).then(function(c){return o(null,c)}).catch(function(c){return o(c)})},t.request=function(n,i,o){var a={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+n,"X-Amz-User-Agent":NC.prototype.userAgent},s=Object.assign({},this.fetchOptions,{headers:a,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(i)}),c;fetch(this.endpoint,s).then(function(u){return c=u,u},function(u){throw u instanceof TypeError?new Error("Network error"):u}).then(function(u){return u.json().catch(function(){return{}})}).then(function(u){if(c.ok)return o(null,u);var f=(u.__type||u.code).split("#").pop(),l=new Error(u.message||u.Message||null);return l.name=f,l.code=f,o(l)}).catch(function(u){if(c&&c.headers&&c.headers.get("x-amzn-errortype"))try{var f=c.headers.get("x-amzn-errortype").split(":")[0],l=new Error(c.status?c.status.toString():null);return l.code=f,l.name=f,l.statusCode=c.status,o(l)}catch{return o(u)}else u instanceof Error&&u.message==="Network error"&&(u.code="NetworkError");return o(u)})},e}(),Na={debug:function(){}},KD=function(t){var r="nonRetryable";return t&&t[r]};function RC(e,t,r,n){if(n===void 0&&(n=1),typeof e!="function")throw Error("functionToRetry must be a function");return Na.debug(e.name+" attempt #"+n+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(i){if(Na.debug("error on "+e.name,i),KD(i))throw Na.debug(e.name+" non retryable error",i),i;var o=r(n,t,i);if(Na.debug(e.name+" retrying in "+o+" ms"),o!==!1)return new Promise(function(a){return setTimeout(a,o)}).then(function(){return RC(e,t,r,n+1)});throw i})}function HD(e){var t=100,r=100;return function(n){var i=Math.pow(2,n)*t+r*Math.random();return i>e?!1:i}}var GD=5*60*1e3;function VD(e,t,r){return r===void 0&&(r=GD),RC(e,t,HD(r))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var WD=55,JD=function(){function e(r,n){var i=r||{},o=i.UserPoolId,a=i.ClientId,s=i.endpoint,c=i.fetchOptions,u=i.AdvancedSecurityDataCollectionFlag;if(!o||!a)throw new Error("Both UserPoolId and ClientId are required.");if(o.length>WD||!/^[\w-]+_[0-9a-zA-Z]+$/.test(o))throw new Error("Invalid UserPoolId format.");var f=o.split("_")[0];this.userPoolId=o,this.clientId=a,this.client=new qD(f,s,c),this.advancedSecurityDataCollectionFlag=u!==!1,this.storage=r.Storage||new PC().getStorage(),n&&(this.wrapRefreshSessionCallback=n)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(n,i,o,a,s,c){var u=this,f={ClientId:this.clientId,Username:n,Password:i,UserAttributes:o,ValidationData:a,ClientMetadata:c};this.getUserContextData(n)&&(f.UserContextData=this.getUserContextData(n)),this.client.request("SignUp",f,function(l,d){if(l)return s(l,null);var h={Username:n,Pool:u,Storage:u.storage},v={user:new hl(h),userConfirmed:d.UserConfirmed,userSub:d.UserSub,codeDeliveryDetails:d.CodeDeliveryDetails};return s(null,v)})},t.getCurrentUser=function(){var n="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(n);if(i){var o={Username:i,Pool:this,Storage:this.storage};return new hl(o)}return null},t.getUserContextData=function(n){if(typeof AmazonCognitoAdvancedSecurityData!="undefined"){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var o=i.getData(n,this.userPoolId,this.clientId);if(o){var a={EncodedData:o};return a}}return{}}},e}(),Ri={exports:{}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(r){var n;if(e.exports=r(),n=!0,!n){var i=window.Cookies,o=window.Cookies=r();o.noConflict=function(){return window.Cookies=i,o}}})(function(){function r(){for(var o=0,a={};o<arguments.length;o++){var s=arguments[o];for(var c in s)a[c]=s[c]}return a}function n(o){return o.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(o){function a(){}function s(u,f,l){if(typeof document!="undefined"){l=r({path:"/"},a.defaults,l),typeof l.expires=="number"&&(l.expires=new Date(new Date*1+l.expires*864e5)),l.expires=l.expires?l.expires.toUTCString():"";try{var d=JSON.stringify(f);/^[\{\[]/.test(d)&&(f=d)}catch{}f=o.write?o.write(f,u):encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var h="";for(var v in l)!l[v]||(h+="; "+v,l[v]!==!0&&(h+="="+l[v].split(";")[0]));return document.cookie=u+"="+f+h}}function c(u,f){if(typeof document!="undefined"){for(var l={},d=document.cookie?document.cookie.split("; "):[],h=0;h<d.length;h++){var v=d[h].split("="),g=v.slice(1).join("=");!f&&g.charAt(0)==='"'&&(g=g.slice(1,-1));try{var _=n(v[0]);if(g=(o.read||o)(g,_)||n(g),f)try{g=JSON.parse(g)}catch{}if(l[_]=g,u===_)break}catch{}}return u?l[u]:l}}return a.set=s,a.get=function(u){return c(u,!1)},a.getJSON=function(u){return c(u,!0)},a.remove=function(u,f){s(u,"",r(f,{expires:-1}))},a.defaults={},a.withConverter=i,a}return i(function(){})})})(Ri);var YD=function(){function e(r){if(r.domain)this.domain=r.domain;else throw new Error("The domain of cookieStorage can not be undefined.");if(r.path?this.path=r.path:this.path="/",Object.prototype.hasOwnProperty.call(r,"expires")?this.expires=r.expires:this.expires=365,Object.prototype.hasOwnProperty.call(r,"secure")?this.secure=r.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(r,"sameSite")){if(!["strict","lax","none"].includes(r.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(r.sameSite==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(n,i){var o={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(o.sameSite=this.sameSite),Ri.exports.set(n,i,o),Ri.exports.get(n)},t.getItem=function(n){return Ri.exports.get(n)},t.removeItem=function(n){var i={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(i.sameSite=this.sameSite),Ri.exports.remove(n,i)},t.clear=function(){for(var n=Ri.exports.get(),i=Object.keys(n).length,o=0;o<i;++o)this.removeItem(Object.keys(n)[o]);return{}},e}(),XD="_self",QD=function(e){var t=window.open(e,XD);return t?Promise.resolve(t):Promise.reject()},ZD=function(e){window.sessionStorage.setItem("oauth_state",e)},eL=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},tL=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},rL=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},_t=globalThis&&globalThis.__assign||function(){return _t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_t.apply(this,arguments)},Ra=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Ma=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},nL=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Fc=function(e,t,r){tn.dispatch("auth",{event:e,data:t,message:r},"Auth",nL)},bi=new Se("OAuth"),iL=function(){function e(t){var r=t.config,n=t.cognitoClientId,i=t.scopes,o=i===void 0?[]:i;if(this._urlOpener=r.urlOpener||QD,this._config=r,this._cognitoClientId=n,!this.isValidScopes(o))throw Error("scopes must be a String Array");this._scopes=o}return e.prototype.isValidScopes=function(t){return Array.isArray(t)&&t.every(function(r){return typeof r=="string"})},e.prototype.oauthSignIn=function(t,r,n,i,o,a){t===void 0&&(t="code"),o===void 0&&(o=Js.Cognito);var s=this._generateState(32),c=a?s+"-"+uP(a):s;ZD(c);var u=this._generateRandom(128);tL(u);var f=this._generateChallenge(u),l="S256",d=this._scopes.join(" "),h=Object.entries(_t(_t({redirect_uri:n,response_type:t,client_id:i,identity_provider:o,scope:d,state:c},t==="code"?{code_challenge:f}:{}),t==="code"?{code_challenge_method:l}:{})).map(function(g){var _=Bn(g,2),E=_[0],S=_[1];return encodeURIComponent(E)+"="+encodeURIComponent(S)}).join("&"),v="https://"+r+"/oauth2/authorize?"+h;bi.debug("Redirecting to "+v),this._urlOpener(v,n)},e.prototype._handleCodeFlow=function(t){return Ra(this,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,v,g;return Ma(this,function(_){switch(_.label){case 0:return r=(kt(t).query||"").split("&").map(function(E){return E.split("=")}).reduce(function(E,S){var T,R=Bn(S,2),P=R[0],U=R[1];return _t(_t({},E),(T={},T[P]=U,T))},{code:void 0}).code,n=kt(t).pathname||"/",i=kt(this._config.redirectSignIn).pathname||"/",!r||n!==i?[2]:(o="https://"+this._config.domain+"/oauth2/token",Fc("codeFlow",{},"Retrieving tokens from "+o),a=Vn(this._config)?this._cognitoClientId:this._config.clientID,s=Vn(this._config)?this._config.redirectSignIn:this._config.redirectUri,c=rL(),u=_t({grant_type:"authorization_code",code:r,client_id:a,redirect_uri:s},c?{code_verifier:c}:{}),bi.debug("Calling token endpoint: "+o+" with",u),f=Object.entries(u).map(function(E){var S=Bn(E,2),T=S[0],R=S[1];return encodeURIComponent(T)+"="+encodeURIComponent(R)}).join("&"),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f})]);case 1:return[4,_.sent().json()];case 2:if(l=_.sent(),d=l.access_token,h=l.refresh_token,v=l.id_token,g=l.error,g)throw new Error(g);return[2,{accessToken:d,refreshToken:h,idToken:v}]}})})},e.prototype._handleImplicitFlow=function(t){return Ra(this,void 0,void 0,function(){var r,n,i;return Ma(this,function(o){return r=(kt(t).hash||"#").substr(1).split("&").map(function(a){return a.split("=")}).reduce(function(a,s){var c,u=Bn(s,2),f=u[0],l=u[1];return _t(_t({},a),(c={},c[f]=l,c))},{id_token:void 0,access_token:void 0}),n=r.id_token,i=r.access_token,Fc("implicitFlow",{},"Got tokens from "+t),bi.debug("Retrieving implicit tokens from "+t+" with"),[2,{accessToken:i,idToken:n,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(t){return Ra(this,void 0,void 0,function(){var r,n,i,o,a,s,c;return Ma(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),r=t?_t(_t({},(kt(t).hash||"#").substr(1).split("&").map(function(f){return f.split("=")}).reduce(function(f,l){var d=Bn(l,2),h=d[0],v=d[1];return f[h]=v,f},{})),(kt(t).query||"").split("&").map(function(f){return f.split("=")}).reduce(function(f,l){var d=Bn(l,2),h=d[0],v=d[1];return f[h]=v,f},{})):{},n=r.error,i=r.error_description,n)throw new Error(i);return o=this._validateState(r),bi.debug("Starting "+this._config.responseType+" flow with "+t),this._config.responseType!=="code"?[3,2]:(a=[{}],[4,this._handleCodeFlow(t)]);case 1:return[2,_t.apply(void 0,[_t.apply(void 0,a.concat([u.sent()])),{state:o}])];case 2:return s=[{}],[4,this._handleImplicitFlow(t)];case 3:return[2,_t.apply(void 0,[_t.apply(void 0,s.concat([u.sent()])),{state:o}])];case 4:return[3,6];case 5:throw c=u.sent(),bi.error("Error handling auth response.",c),c;case 6:return[2]}})})},e.prototype._validateState=function(t){if(!!t){var r=eL(),n=t.state;if(r&&r!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return Ra(this,void 0,void 0,function(){var t,r,n;return Ma(this,function(i){return t="https://"+this._config.domain+"/logout?",r=Vn(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=Vn(this._config)?this._config.redirectSignOut:this._config.returnTo,t+=Object.entries({client_id:r,logout_uri:encodeURIComponent(n)}).map(function(o){var a=Bn(o,2),s=a[0],c=a[1];return s+"="+c}).join("&"),Fc("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+t),bi.debug("Signing out from "+t),[2,this._urlOpener(t,n)]})})},e.prototype._generateState=function(t){for(var r="",n=t,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)r+=i[Math.round(Math.random()*(i.length-1))];return r},e.prototype._generateChallenge=function(t){return this._base64URL(xC(t))},e.prototype._base64URL=function(t){return t.toString(ll).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=new Uint8Array(t);if(typeof window!="undefined"&&!!window.crypto)window.crypto.getRandomValues(n);else for(var i=0;i<t;i+=1)n[i]=Math.random()*r.length|0;return this._bufferToString(n)},e.prototype._bufferToString=function(t){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],i=0;i<t.byteLength;i+=1){var o=t[i]%r.length;n.push(r[o])}return n.join("")},e}(),oL=iL,aL=function(e){if(js.browserOrNode().isBrowser&&window.location){var t=window.location.href;e({url:t})}else if(!js.browserOrNode().isNode)throw new Error("Not supported")},pt;(function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"})(pt||(pt={}));var MC=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sL=new Se("AuthError"),dn=function(e){MC(t,e);function t(r){var n=this,i=cL[r],o=i.message,a=i.log;return n=e.call(this,o)||this,n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=a||o,sL.error(n.log),n}return t}(Error),uL=function(e){MC(t,e);function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return t}(dn),cL={noConfig:{message:pt.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:pt.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:pt.EMPTY_USERNAME},invalidUsername:{message:pt.INVALID_USERNAME},emptyPassword:{message:pt.EMPTY_PASSWORD},emptyCode:{message:pt.EMPTY_CODE},signUpError:{message:pt.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:pt.NO_MFA},invalidMFA:{message:pt.INVALID_MFA},emptyChallengeResponse:{message:pt.EMPTY_CHALLENGE},noUserSession:{message:pt.NO_USER_SESSION},deviceConfig:{message:pt.DEVICE_CONFIG},networkError:{message:pt.NETWORK_ERROR},default:{message:pt.DEFAULT_MSG}},Xs=globalThis&&globalThis.__assign||function(){return Xs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xs.apply(this,arguments)},Ne=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Re=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Vg=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},ne=new Se("AuthClass"),Wg="aws.cognito.signin.user.admin",fL=10*1e3,lL=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",Me=function(e,t,r){tn.dispatch("auth",{event:e,data:t,message:r},"Auth",lL)},dL=60,hL=function(){function e(t){var r=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=ot,this.wrapRefreshSessionCallback=function(n){var i=function(o,a){return a?Me("tokenRefresh",void 0,"New token retrieved"):Me("tokenRefresh_failure",o,"Failed to retrieve new token"),n(o,a)};return i},this.configure(t),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),tn.listen("auth",function(n){var i=n.payload,o=i.event;switch(o){case"signIn":r._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":r._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":r._storage.setItem("amplify-signin-with-hostedUI","true");break}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(t){var r=this;if(!t)return this._config||{};ne.debug("configure Auth");var n=Object.assign({},this._config,ph.parseMobilehubConfig(t).Auth,t);this._config=n;var i=this._config,o=i.userPoolId,a=i.userPoolWebClientId,s=i.cookieStorage,c=i.oauth,u=i.region,f=i.identityPoolId,l=i.mandatorySignIn,d=i.refreshHandlers,h=i.identityPoolRegion,v=i.clientMetadata,g=i.endpoint;if(!this._config.storage)s?this._storage=new YD(s):this._storage=t.ssr?new SM:new Nu().getStorage();else{if(!this._isValidAuthStorage(this._config.storage))throw ne.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}if(this._storageSync=Promise.resolve(),typeof this._storage.sync=="function"&&(this._storageSync=this._storage.sync()),o){var _={UserPoolId:o,ClientId:a,endpoint:g};_.Storage=this._storage,this.userPool=new JD(_,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:h||u,userPoolId:o,identityPoolId:f,refreshHandlers:d,storage:this._storage});var E=c?Vn(this._config.oauth)?c:c.awsCognito:void 0;if(E){var S=Object.assign({cognitoClientId:a,UserPoolId:o,domain:E.domain,scopes:E.scope,redirectSignIn:E.redirectSignIn,redirectSignOut:E.redirectSignOut,responseType:E.responseType,Storage:this._storage,urlOpener:E.urlOpener,clientMetadata:v},E.options);this._oAuthHandler=new oL({scopes:S.scopes,config:S,cognitoClientId:S.cognitoClientId});var T={};aL(function(R){var P=R.url;T[P]||(T[P]=!0,r._handleAuthResponse(P))})}return Me("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.userPool)return this.rejectNoUserPool();var o=null,a=null,s=[],c=null,u;if(t&&typeof t=="string"){o=t,a=n?n[0]:null;var f=n?n[1]:null,l=n?n[2]:null;f&&s.push(new Ni({Name:"email",Value:f})),l&&s.push(new Ni({Name:"phone_number",Value:l}))}else if(t&&typeof t=="object"){o=t.username,a=t.password,t&&t.clientMetadata?u=t.clientMetadata:this._config.clientMetadata&&(u=this._config.clientMetadata);var d=t.attributes;d&&Object.keys(d).map(function(v){s.push(new Ni({Name:v,Value:d[v]}))});var h=t.validationData;h&&(c=[],Object.keys(h).map(function(v){c.push(new Ni({Name:v,Value:h[v]}))}))}else return this.rejectAuthError(xe.SignUpError);return o?a?(ne.debug("signUp attrs:",s),ne.debug("signUp validation data:",c),new Promise(function(v,g){r.userPool.signUp(o,a,s,c,function(_,E){_?(Me("signUp_failure",_,o+" failed to signup"),g(_)):(Me("signUp",E,o+" has signed up successfully"),v(E))},u)})):this.rejectAuthError(xe.EmptyPassword):this.rejectAuthError(xe.EmptyUsername)},e.prototype.confirmSignUp=function(t,r,n){if(!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);if(!r)return this.rejectAuthError(xe.EmptyCode);var i=this.createCognitoUser(t),o=n&&typeof n.forceAliasCreation=="boolean"?n.forceAliasCreation:!0,a;return n&&n.clientMetadata?a=n.clientMetadata:this._config.clientMetadata&&(a=this._config.clientMetadata),new Promise(function(s,c){i.confirmRegistration(r,o,function(u,f){u?c(u):s(f)},a)})},e.prototype.resendSignUp=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.resendConfirmationCode(function(a,s){a?o(a):i(s)},r)})},e.prototype.signIn=function(t,r,n){if(n===void 0&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,a={};if(typeof t=="string")i=t,o=r;else if(TM(t))typeof r!="undefined"&&ne.warn("The password should be defined under the first parameter object!"),i=t.username,o=t.password,a=t.validationData;else return this.rejectAuthError(xe.InvalidUsername);if(!i)return this.rejectAuthError(xe.EmptyUsername);var s=new IM({Username:i,Password:o,ValidationData:a,ClientMetadata:n});return o?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(t,r,n){var i=this,o=this;return{onSuccess:function(a){return Ne(i,void 0,void 0,function(){var s,c,u,f;return Re(this,function(l){switch(l.label){case 0:ne.debug(a),delete t.challengeName,delete t.challengeParam,l.label=1;case 1:return l.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return l.sent(),[4,this.Credentials.set(a,"session")];case 3:return s=l.sent(),ne.debug("succeed to get cognito credentials",s),[3,9];case 4:return c=l.sent(),ne.debug("cannot get cognito credentials",c),[3,9];case 5:return l.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return u=l.sent(),o.user=u,Me("signIn",u,"A user "+t.getUsername()+" has been signed in"),r(u),[3,8];case 7:return f=l.sent(),ne.error("Failed to get the signed in user",f),n(f),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(a){ne.debug("signIn failure",a),Me("signIn_failure",a,t.getUsername()+" failed to signin"),n(a)},customChallenge:function(a){ne.debug("signIn custom challenge answer required"),t.challengeName="CUSTOM_CHALLENGE",t.challengeParam=a,r(t)},mfaRequired:function(a,s){ne.debug("signIn MFA required"),t.challengeName=a,t.challengeParam=s,r(t)},mfaSetup:function(a,s){ne.debug("signIn mfa setup",a),t.challengeName=a,t.challengeParam=s,r(t)},newPasswordRequired:function(a,s){ne.debug("signIn new password"),t.challengeName="NEW_PASSWORD_REQUIRED",t.challengeParam={userAttributes:a,requiredAttributes:s},r(t)},totpRequired:function(a,s){ne.debug("signIn totpRequired"),t.challengeName=a,t.challengeParam=s,r(t)},selectMFAType:function(a,s){ne.debug("signIn selectMFAType",a),t.challengeName=a,t.challengeParam=s,r(t)}}},e.prototype.signInWithPassword=function(t){var r=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(t.getUsername());return this.pendingSignIn=new Promise(function(i,o){n.authenticateUser(t,r.authCallbacks(n,function(a){r.pendingSignIn=null,i(a)},function(a){r.pendingSignIn=null,o(a)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(t){var r=this,n=this.createCognitoUser(t.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(i,o){n.initiateAuth(t,r.authCallbacks(n,i,o))})},e.prototype.getMFAOptions=function(t){return new Promise(function(r,n){t.getMFAOptions(function(i,o){if(i){ne.debug("get MFA Options failed",i),n(i);return}ne.debug("get MFA options success",o),r(o)})})},e.prototype.getPreferredMFA=function(t,r){var n=this,i=this;return new Promise(function(o,a){var s=n._config.clientMetadata,c=r?r.bypassCache:!1;t.getUserData(function(u,f){return Ne(n,void 0,void 0,function(){var l,d;return Re(this,function(h){switch(h.label){case 0:if(!u)return[3,5];if(ne.debug("getting preferred mfa failed",u),!this.isSessionInvalid(u))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return h.sent(),[3,4];case 3:return l=h.sent(),a(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+l.message)),[2];case 4:return a(u),[2];case 5:return d=i._getMfaTypeFromUserData(f),d?(o(d),[2]):(a("invalid MFA Type"),[2])}})})},{bypassCache:c,clientMetadata:s})})},e.prototype._getMfaTypeFromUserData=function(t){var r=null,n=t.PreferredMfaSetting;if(n)r=n;else{var i=t.UserMFASettingList;if(i)i.length===0?r="NOMFA":ne.debug("invalid case for getPreferredMFA",t);else{var o=t.MFAOptions;o?r="SMS_MFA":r="NOMFA"}}return r},e.prototype._getUserData=function(t,r){var n=this;return new Promise(function(i,o){t.getUserData(function(a,s){return Ne(n,void 0,void 0,function(){var c;return Re(this,function(u){switch(u.label){case 0:if(!a)return[3,5];if(ne.debug("getting user data failed",a),!this.isSessionInvalid(a))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return c=u.sent(),o(new Error("Session is invalid due to: "+a.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(a),[2];case 5:i(s),u.label=6;case 6:return[2]}})})},r)})},e.prototype.setPreferredMFA=function(t,r){return Ne(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f=this;return Re(this,function(l){switch(l.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(t,{bypassCache:!0,clientMetadata:n})];case 1:switch(i=l.sent(),o=null,a=null,s=r,s){case"TOTP":return[3,2];case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":return[3,3];case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return a={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return c=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if(u=l.sent(),u==="NOMFA")return[2,Promise.resolve("No change for mfa type")];if(u==="SMS_MFA")o={PreferredMfa:!1,Enabled:!1};else if(u==="SOFTWARE_TOKEN_MFA")a={PreferredMfa:!1,Enabled:!1};else return[2,this.rejectAuthError(xe.InvalidMFA)];return c&&c.length!==0&&c.forEach(function(d){d==="SMS_MFA"?o={PreferredMfa:!1,Enabled:!1}:d==="SOFTWARE_TOKEN_MFA"&&(a={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return ne.debug("no validmfa method provided"),[2,this.rejectAuthError(xe.NoMFA)];case 7:return[2,new Promise(function(d,h){t.setUserMfaPreference(o,a,function(v,g){if(v)return ne.debug("Set user mfa preference error",v),h(v);ne.debug("Set user mfa success",g),ne.debug("Caching the latest user data into local"),t.getUserData(function(_,E){return Ne(f,void 0,void 0,function(){var S;return Re(this,function(T){switch(T.label){case 0:if(!_)return[3,5];if(ne.debug("getting user data failed",_),!this.isSessionInvalid(_))return[3,4];T.label=1;case 1:return T.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return T.sent(),[3,4];case 3:return S=T.sent(),h(new Error("Session is invalid due to: "+_.message+" and failed to clean up invalid session: "+S.message)),[2];case 4:return[2,h(_)];case 5:return[2,d(g)]}})})},{bypassCache:!0,clientMetadata:n})})})]}})})},e.prototype.disableSMS=function(t){return new Promise(function(r,n){t.disableMFA(function(i,o){if(i){ne.debug("disable mfa failed",i),n(i);return}ne.debug("disable mfa succeed",o),r(o)})})},e.prototype.enableSMS=function(t){return new Promise(function(r,n){t.enableMFA(function(i,o){if(i){ne.debug("enable mfa failed",i),n(i);return}ne.debug("enable mfa succeed",o),r(o)})})},e.prototype.setupTOTP=function(t){return new Promise(function(r,n){t.associateSoftwareToken({onFailure:function(i){ne.debug("associateSoftwareToken failed",i),n(i)},associateSecretCode:function(i){ne.debug("associateSoftwareToken sucess",i),r(i)}})})},e.prototype.verifyTotpToken=function(t,r){return ne.debug("verification totp token",t,r),new Promise(function(n,i){t.verifySoftwareToken(r,"My TOTP device",{onFailure:function(o){ne.debug("verifyTotpToken failed",o),i(o)},onSuccess:function(o){Me("signIn",t,"A user "+t.getUsername()+" has been signed in"),ne.debug("verifyTotpToken success",o),n(o)}})})},e.prototype.confirmSignIn=function(t,r,n,i){var o=this;if(i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(xe.EmptyCode);var a=this;return new Promise(function(s,c){t.sendMFACode(r,{onSuccess:function(u){return Ne(o,void 0,void 0,function(){var f,l;return Re(this,function(d){switch(d.label){case 0:ne.debug(u),d.label=1;case 1:return d.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return d.sent(),[4,this.Credentials.set(u,"session")];case 3:return f=d.sent(),ne.debug("succeed to get cognito credentials",f),[3,6];case 4:return l=d.sent(),ne.debug("cannot get cognito credentials",l),[3,6];case 5:return a.user=t,Me("signIn",t,"A user "+t.getUsername()+" has been signed in"),s(t),[7];case 6:return[2]}})})},onFailure:function(u){ne.debug("confirm signIn failure",u),c(u)}},n,i)})},e.prototype.completeNewPassword=function(t,r,n,i){var o=this;if(n===void 0&&(n={}),i===void 0&&(i=this._config.clientMetadata),!r)return this.rejectAuthError(xe.EmptyPassword);var a=this;return new Promise(function(s,c){t.completeNewPasswordChallenge(r,n,{onSuccess:function(u){return Ne(o,void 0,void 0,function(){var f,l;return Re(this,function(d){switch(d.label){case 0:ne.debug(u),d.label=1;case 1:return d.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return d.sent(),[4,this.Credentials.set(u,"session")];case 3:return f=d.sent(),ne.debug("succeed to get cognito credentials",f),[3,6];case 4:return l=d.sent(),ne.debug("cannot get cognito credentials",l),[3,6];case 5:return a.user=t,Me("signIn",t,"A user "+t.getUsername()+" has been signed in"),s(t),[7];case 6:return[2]}})})},onFailure:function(u){ne.debug("completeNewPassword failure",u),Me("completeNewPassword_failure",u,o.user+" failed to complete the new password flow"),c(u)},mfaRequired:function(u,f){ne.debug("signIn MFA required"),t.challengeName=u,t.challengeParam=f,s(t)},mfaSetup:function(u,f){ne.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=f,s(t)},totpRequired:function(u,f){ne.debug("signIn mfa setup",u),t.challengeName=u,t.challengeParam=f,s(t)}},i)})},e.prototype.sendCustomChallengeAnswer=function(t,r,n){var i=this;return n===void 0&&(n=this._config.clientMetadata),this.userPool?r?new Promise(function(o,a){t.sendCustomChallengeAnswer(r,i.authCallbacks(t,o,a),n)}):this.rejectAuthError(xe.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(t,r){var n=this;return new Promise(function(i,o){n.userSession(t).then(function(a){t.deleteAttributes(r,function(s,c){return s?o(s):i(c)})})})},e.prototype.deleteUser=function(){return Ne(this,void 0,void 0,function(){var t,r,n=this;return Re(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._storageSync];case 1:return i.sent(),[3,3];case 2:throw t=i.sent(),ne.debug("Failed to sync cache info into memory",t),new Error(t);case 3:return r=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(o,a){return Ne(n,void 0,void 0,function(){var s,c=this;return Re(this,function(u){if(this.userPool)if(s=this.userPool.getCurrentUser(),s)s.getSession(function(f,l){return Ne(c,void 0,void 0,function(){var d,h=this;return Re(this,function(v){switch(v.label){case 0:if(!f)return[3,5];if(ne.debug("Failed to get the user session",f),!this.isSessionInvalid(f))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(s)];case 2:return v.sent(),[3,4];case 3:return d=v.sent(),a(new Error("Session is invalid due to: "+f.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return[2,a(f)];case 5:s.deleteUser(function(g,_){if(g)a(g);else{Me("userDeleted",_,"The authenticated user has been deleted."),s.signOut(),h.user=null;try{h.cleanCachedItems()}catch{ne.debug("failed to clear cached items")}r?h.oAuthSignOutRedirect(o,a):(Me("signOut",h.user,"A user has been signed out"),o(_))}}),v.label=6;case 6:return[2]}})})});else return ne.debug("Failed to get user from user pool"),[2,a(new Error("No current user."))];else ne.debug("no Congito User pool"),a(new Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(t,r,n){n===void 0&&(n=this._config.clientMetadata);var i=[],o=this;return new Promise(function(a,s){o.userSession(t).then(function(c){for(var u in r)if(u!=="sub"&&u.indexOf("_verified")<0){var f={Name:u,Value:r[u]};i.push(f)}t.updateAttributes(i,function(l,d){return l?s(l):a(d)},n)})})},e.prototype.userAttributes=function(t){var r=this;return new Promise(function(n,i){r.userSession(t).then(function(o){t.getUserAttributes(function(a,s){a?i(a):n(s)})})})},e.prototype.verifiedContact=function(t){var r=this;return this.userAttributes(t).then(function(n){var i=r.attributesToObject(n),o={},a={};return i.email&&(i.email_verified?a.email=i.email:o.email=i.email),i.phone_number&&(i.phone_number_verified?a.phone_number=i.phone_number:o.phone_number=i.phone_number),{verified:a,unverified:o}})},e.prototype.isErrorWithMessage=function(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"message")},e.prototype.isTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Access Token has been revoked"},e.prototype.isRefreshTokenRevokedError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has been revoked"},e.prototype.isUserDisabledError=function(t){return this.isErrorWithMessage(t)&&t.message==="User is disabled."},e.prototype.isUserDoesNotExistError=function(t){return this.isErrorWithMessage(t)&&t.message==="User does not exist."},e.prototype.isRefreshTokenExpiredError=function(t){return this.isErrorWithMessage(t)&&t.message==="Refresh Token has expired"},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true"},e.prototype.isSessionInvalid=function(t){return this.isUserDisabledError(t)||this.isUserDoesNotExistError(t)||this.isTokenRevokedError(t)||this.isRefreshTokenRevokedError(t)||this.isRefreshTokenExpiredError(t)},e.prototype.cleanUpInvalidSession=function(t){return Ne(this,void 0,void 0,function(){var r=this;return Re(this,function(n){switch(n.label){case 0:t.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),ne.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise(function(i,o){r.oAuthSignOutRedirect(i,o)})]:(Me("signOut",this.user,"A user has been signed out"),[2])}})})},e.prototype.currentUserPoolUser=function(t){var r=this;return this.userPool?new Promise(function(n,i){r._storageSync.then(function(){return Ne(r,void 0,void 0,function(){var o,a,s=this;return Re(this,function(c){switch(c.label){case 0:return this.isOAuthInProgress()?(ne.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(u){var f=setTimeout(function(){ne.debug("OAuth signIn in progress timeout"),tn.remove("auth",l),u()},fL);tn.listen("auth",l);function l(d){var h=d.payload,v=h.event;(v==="cognitoHostedUI"||v==="cognitoHostedUI_failure")&&(ne.debug("OAuth signIn resolved: "+v),clearTimeout(f),tn.remove("auth",l),u())}})]):[3,2];case 1:c.sent(),c.label=2;case 2:return o=this.userPool.getCurrentUser(),o?(a=this._config.clientMetadata,o.getSession(function(u,f){return Ne(s,void 0,void 0,function(){var l,d,h,v,g,_=this;return Re(this,function(E){switch(E.label){case 0:if(!u)return[3,5];if(ne.debug("Failed to get the user session",u),!this.isSessionInvalid(u))return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return E.sent(),[3,4];case 3:return l=E.sent(),i(new Error("Session is invalid due to: "+u.message+" and failed to clean up invalid session: "+l.message)),[2];case 4:return i(u),[2];case 5:return d=t?t.bypassCache:!1,d?[4,this.Credentials.clear()]:[3,7];case 6:E.sent(),E.label=7;case 7:if(h=this._config.clientMetadata,v=f.getAccessToken().decodePayload().scope,g=v===void 0?"":v,g.split(" ").includes(Wg))o.getUserData(function(S,T){return Ne(_,void 0,void 0,function(){var R,P,U,W,j,te,k;return Re(this,function(B){switch(B.label){case 0:if(!S)return[3,7];if(ne.debug("getting user data failed",S),!this.isSessionInvalid(S))return[3,5];B.label=1;case 1:return B.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(o)];case 2:return B.sent(),[3,4];case 3:return R=B.sent(),i(new Error("Session is invalid due to: "+S.message+" and failed to clean up invalid session: "+R.message)),[2];case 4:return i(S),[3,6];case 5:n(o),B.label=6;case 6:return[2];case 7:for(P=T.PreferredMfaSetting||"NOMFA",U=[],W=0;W<T.UserAttributes.length;W++)j={Name:T.UserAttributes[W].Name,Value:T.UserAttributes[W].Value},te=new Ni(j),U.push(te);return k=this.attributesToObject(U),Object.assign(o,{attributes:k,preferredMFA:P}),[2,n(o)]}})})},{bypassCache:d,clientMetadata:h});else return ne.debug("Unable to get the user data because the "+Wg+" is not in the scopes of the access token"),[2,n(o)];return[2]}})})},{clientMetadata:a}),[2]):(ne.debug("Failed to get user from user pool"),i("No current user"),[2])}})})}).catch(function(o){return ne.debug("Failed to sync cache info into memory",o),i(o)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(t){return Ne(this,void 0,void 0,function(){var r,n,i,o,a;return Re(this,function(s){switch(s.label){case 0:ne.debug("getting current authenticated user"),r=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),ne.debug("Failed to sync cache info into memory",n),n;case 4:try{i=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")),i&&(r=Xs(Xs({},i.user),{token:i.token}))}catch{ne.debug("cannot load federated user from auth storage")}return r?(this.user=r,ne.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:ne.debug("get current authenticated userpool user"),o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(t)];case 7:return o=s.sent(),[3,9];case 8:return a=s.sent(),a==="No userPool"&&ne.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ne.debug("The user is not authenticated by the error",a),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=o,[2,this.user]}})})},e.prototype.currentSession=function(){var t=this;return ne.debug("Getting current session"),this.userPool?new Promise(function(r,n){t.currentUserPoolUser().then(function(i){t.userSession(i).then(function(o){r(o)}).catch(function(o){ne.debug("Failed to get the current session",o),n(o)})}).catch(function(i){ne.debug("Failed to get the current user",i),n(i)})}):this.rejectNoUserPool()},e.prototype.userSession=function(t){var r=this;if(!t)return ne.debug("the user is null"),this.rejectAuthError(xe.NoUserSession);var n=this._config.clientMetadata;return new Promise(function(i,o){ne.debug("Getting the session from this user:",t),t.getSession(function(a,s){return Ne(r,void 0,void 0,function(){var c;return Re(this,function(u){switch(u.label){case 0:if(!a)return[3,5];if(ne.debug("Failed to get the session from user",t),!this.isSessionInvalid(a))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return u.sent(),[3,4];case 3:return c=u.sent(),o(new Error("Session is invalid due to: "+a.message+" and failed to clean up invalid session: "+c.message)),[2];case 4:return o(a),[2];case 5:return ne.debug("Succeed to get the user session",s),i(s),[2]}})})},{clientMetadata:n})})},e.prototype.currentUserCredentials=function(){return Ne(this,void 0,void 0,function(){var t,r,n=this;return Re(this,function(i){switch(i.label){case 0:ne.debug("Getting current user credentials"),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this._storageSync];case 2:return i.sent(),[3,4];case 3:throw t=i.sent(),ne.debug("Failed to sync cache info into memory",t),t;case 4:r=null;try{r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(o){ne.debug("failed to get or parse item aws-amplify-federatedInfo",o)}return r?[2,this.Credentials.refreshFederatedToken(r)]:[2,this.currentSession().then(function(o){return ne.debug("getting session success",o),n.Credentials.set(o,"session")}).catch(function(){return ne.debug("getting guest credentials"),n.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return ne.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(t,r,n){return n===void 0&&(n=this._config.clientMetadata),new Promise(function(i,o){t.getAttributeVerificationCode(r,{onSuccess:function(a){return i(a)},onFailure:function(a){return o(a)}},n)})},e.prototype.verifyUserAttributeSubmit=function(t,r,n){return n?new Promise(function(i,o){t.verifyAttribute(r,n,{onSuccess:function(a){i(a)},onFailure:function(a){o(a)}})}):this.rejectAuthError(xe.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttribute(n,t)})},e.prototype.verifyCurrentUserAttributeSubmit=function(t,r){var n=this;return n.currentUserPoolUser().then(function(i){return n.verifyUserAttributeSubmit(i,t,r)})},e.prototype.cognitoIdentitySignOut=function(t,r){return Ne(this,void 0,void 0,function(){var n,i,o=this;return Re(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this._storageSync];case 1:return a.sent(),[3,3];case 2:throw n=a.sent(),ne.debug("Failed to sync cache info into memory",n),n;case 3:return i=this._oAuthHandler&&this._storage.getItem("amplify-signin-with-hostedUI")==="true",[2,new Promise(function(s,c){if(t&&t.global){ne.debug("user global sign out",r);var u=o._config.clientMetadata;r.getSession(function(f,l){return Ne(o,void 0,void 0,function(){var d,h=this;return Re(this,function(v){switch(v.label){case 0:if(!f)return[3,5];if(ne.debug("failed to get the user session",f),!this.isSessionInvalid(f))return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return v.sent(),[3,4];case 3:return d=v.sent(),c(new Error("Session is invalid due to: "+f.message+" and failed to clean up invalid session: "+d.message)),[2];case 4:return[2,c(f)];case 5:return r.globalSignOut({onSuccess:function(g){if(ne.debug("global sign out success"),i)h.oAuthSignOutRedirect(s,c);else return s()},onFailure:function(g){return ne.debug("global sign out failed",g),c(g)}}),[2]}})})},{clientMetadata:u})}else ne.debug("user sign out",r),r.signOut(function(){if(i)o.oAuthSignOutRedirect(s,c);else return s()})})]}})})},e.prototype.oAuthSignOutRedirect=function(t,r){var n=js.browserOrNode().isBrowser;n?this.oAuthSignOutRedirectOrReject(r):this.oAuthSignOutAndResolve(t)},e.prototype.oAuthSignOutAndResolve=function(t){this._oAuthHandler.signOut(),t()},e.prototype.oAuthSignOutRedirectOrReject=function(t){this._oAuthHandler.signOut(),setTimeout(function(){return t(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(t){return Ne(this,void 0,void 0,function(){var r;return Re(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),ne.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(r=this.userPool.getCurrentUser(),r?[4,this.cognitoIdentitySignOut(t,r)]:[3,5]):[3,7];case 4:return n.sent(),[3,6];case 5:ne.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:ne.debug("no Cognito User pool"),n.label=8;case 8:return Me("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return Ne(this,void 0,void 0,function(){return Re(this,function(t){switch(t.label){case 0:return[4,this.Credentials.clear()];case 1:return t.sent(),[2]}})})},e.prototype.changePassword=function(t,r,n,i){var o=this;return i===void 0&&(i=this._config.clientMetadata),new Promise(function(a,s){o.userSession(t).then(function(c){t.changePassword(r,n,function(u,f){return u?(ne.debug("change password failure",u),s(u)):a(f)},i)})})},e.prototype.forgotPassword=function(t,r){if(r===void 0&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);var n=this.createCognitoUser(t);return new Promise(function(i,o){n.forgotPassword({onSuccess:function(){i()},onFailure:function(a){ne.debug("forgot password failure",a),Me("forgotPassword_failure",a,t+" forgotPassword failed"),o(a)},inputVerificationCode:function(a){Me("forgotPassword",n,t+" has initiated forgot password flow"),i(a)}},r)})},e.prototype.forgotPasswordSubmit=function(t,r,n,i){if(i===void 0&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(xe.EmptyUsername);if(!r)return this.rejectAuthError(xe.EmptyCode);if(!n)return this.rejectAuthError(xe.EmptyPassword);var o=this.createCognitoUser(t);return new Promise(function(a,s){o.confirmPassword(r,n,{onSuccess:function(c){Me("forgotPasswordSubmit",o,t+" forgotPasswordSubmit successful"),a(c)},onFailure:function(c){Me("forgotPasswordSubmit_failure",c,t+" forgotPasswordSubmit failed"),s(c)}},i)})},e.prototype.currentUserInfo=function(){return Ne(this,void 0,void 0,function(){var t,c,r,n,i,o,a,s,c;return Re(this,function(u){switch(u.label){case 0:return t=this.Credentials.getCredSource(),!t||t==="aws"||t==="userPool"?[4,this.currentUserPoolUser().catch(function(f){return ne.error(f)})]:[3,9];case 1:if(c=u.sent(),!c)return[2,null];u.label=2;case 2:return u.trys.push([2,8,,9]),[4,this.userAttributes(c)];case 3:r=u.sent(),n=this.attributesToObject(r),i=null,u.label=4;case 4:return u.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=u.sent(),[3,7];case 6:return o=u.sent(),ne.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return a={id:i?i.identityId:void 0,username:c.getUsername(),attributes:n},[2,a];case 8:return s=u.sent(),ne.error("currentUserInfo error",s),[2,{}];case 9:return t==="federated"?(c=this.user,[2,c||{}]):[2]}})})},e.prototype.federatedSignIn=function(t,r,n){return Ne(this,void 0,void 0,function(){var i,c,o,a,s,c,u,f,l,d,h,v;return Re(this,function(g){switch(g.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(typeof t=="undefined"&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Lc(t)||AM(t)||xM(t)||typeof t=="undefined"?(i=t||{provider:Js.Cognito},c=Lc(i)?i.provider:i.customProvider,o=(Lc(i),i.customState),this._config.userPoolId&&(a=Vn(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=Vn(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,a,c,o)),[3,4]):[3,1];case 1:c=t;try{u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user),u&&ne.warn("There is already a signed in user: "+u+` in your app.
																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.`)}catch{}return f=r.token,l=r.identity_id,d=r.expires_at,[4,this.Credentials.set({provider:c,token:f,identity_id:l,user:n,expires_at:d},"federation")];case 2:return h=g.sent(),[4,this.currentAuthenticatedUser()];case 3:return v=g.sent(),Me("signIn",v,"A user "+v.username+" has been signed in"),ne.debug("federated sign in credentials",h),[2,h];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(t){return Ne(this,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l,d,h,v,g;return Re(this,function(_){switch(_.label){case 0:if(this.oAuthFlowInProgress)return ne.debug("Skipping URL "+t+" current flow in progress"),[2];_.label=1;case 1:if(_.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Me("parsingCallbackUrl",{url:t},"The callback url is being parsed"),r=t||(js.browserOrNode().isBrowser?window.location.href:""),n=!!(kt(r).query||"").split("&").map(function(E){return E.split("=")}).find(function(E){var S=Vg(E,1),T=S[0];return T==="code"||T==="error"}),i=!!(kt(r).hash||"#").substr(1).split("&").map(function(E){return E.split("=")}).find(function(E){var S=Vg(E,1),T=S[0];return T==="access_token"||T==="error"}),!(n||i))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),_.label=2;case 2:return _.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(r)];case 3:return o=_.sent(),a=o.accessToken,s=o.idToken,c=o.refreshToken,u=o.state,f=new dl({IdToken:new cl({IdToken:s}),RefreshToken:new fl({RefreshToken:c}),AccessToken:new sl({AccessToken:a})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(f,"session")]:[3,5];case 4:l=_.sent(),ne.debug("AWS credentials",l),_.label=5;case 5:return d=/-/.test(u),h=this.createCognitoUser(f.getIdToken().decodePayload()["cognito:username"]),h.setSignInUserSession(f),window&&typeof window.history!="undefined"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Me("signIn",h,"A user "+h.getUsername()+" has been signed in"),Me("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),d&&(v=u.split("-").splice(1).join("-"),Me("customOAuthState",cP(v),"State for user "+h.getUsername())),[2,l];case 6:return g=_.sent(),ne.debug("Error in cognito hosted auth response",g),window&&typeof window.history!="undefined"&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Me("signIn_failure",g,"The OAuth response flow failed"),Me("cognitoHostedUI_failure",g,"A failure occurred when returning to the Cognito Hosted UI"),Me("customState_failure",g,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(t){return{accessKeyId:t.accessKeyId,sessionToken:t.sessionToken,secretAccessKey:t.secretAccessKey,identityId:t.identityId,authenticated:t.authenticated}},e.prototype.attributesToObject=function(t){var r=this,n={};return t&&t.map(function(i){i.Name==="email_verified"||i.Name==="phone_number_verified"?n[i.Name]=r.isTruthyString(i.Value)||i.Value===!0:n[i.Name]=i.Value}),n},e.prototype.isTruthyString=function(t){return typeof t.toLowerCase=="function"&&t.toLowerCase()==="true"},e.prototype.createCognitoUser=function(t){var r={Username:t,Pool:this.userPool};r.Storage=this._storage;var n=this._config.authenticationFlowType,i=new hl(r);return n&&i.setAuthenticationFlowType(n),i},e.prototype._isValidAuthStorage=function(t){return!!t&&typeof t.getItem=="function"&&typeof t.setItem=="function"&&typeof t.removeItem=="function"&&typeof t.clear=="function"},e.prototype.noUserPoolErrorHandler=function(t){return t&&(!t.userPoolId||!t.identityPoolId)?xe.MissingAuthConfig:xe.NoConfig},e.prototype.rejectAuthError=function(t){return Promise.reject(new dn(t))},e.prototype.rejectNoUserPool=function(){var t=this.noUserPoolErrorHandler(this._config);return Promise.reject(new uL(t))},e.prototype.rememberDevice=function(){return Ne(this,void 0,void 0,function(){var t,r;return Re(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),ne.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.setDeviceStatusRemembered({onSuccess:function(a){i(a)},onFailure:function(a){a.code==="InvalidParameterException"?o(new dn(xe.DeviceConfig)):a.code==="NetworkError"?o(new dn(xe.NetworkError)):o(a)}})})]}})})},e.prototype.forgetDevice=function(){return Ne(this,void 0,void 0,function(){var t,r;return Re(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:return r=n.sent(),ne.debug("The user is not authenticated by the error",r),[2,Promise.reject("The user is not authenticated")];case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){t.forgetDevice({onSuccess:function(a){i(a)},onFailure:function(a){a.code==="InvalidParameterException"?o(new dn(xe.DeviceConfig)):a.code==="NetworkError"?o(new dn(xe.NetworkError)):o(a)}})})]}})})},e.prototype.fetchDevices=function(){return Ne(this,void 0,void 0,function(){var t,r;return Re(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return t=n.sent(),[3,3];case 2:throw r=n.sent(),ne.debug("The user is not authenticated by the error",r),new Error("The user is not authenticated");case 3:return t.getCachedDeviceKeyAndPassword(),[2,new Promise(function(i,o){var a={onSuccess:function(s){var c=s.Devices.map(function(u){var f=u.DeviceAttributes.find(function(d){var h=d.Name;return h==="device_name"})||{},l={id:u.DeviceKey,name:f.Value};return l});i(c)},onFailure:function(s){s.code==="InvalidParameterException"?o(new dn(xe.DeviceConfig)):s.code==="NetworkError"?o(new dn(xe.NetworkError)):o(s)}};t.listDevices(dL,null,a)})]}})})},e}(),ai=new hL(null);at.register(ai);var mr={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:new Nu().getStorage()};function Jg(e){var t=0;t=e.length;for(var r=e.length;r>=0;r-=1){var n=e.charCodeAt(r);n>127&&n<=2047?t+=1:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&(r-=1)}return t}function Fi(){var e=new Date;return e.getTime()}function Da(e){return Number.isInteger?Number.isInteger(e):pL(e)}function pL(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}var Hr=new Se("StorageCache"),vL=function(){function e(t){this.config=Object.assign({},t),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){Da(this.config.capacityInBytes)||(Hr.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=mr.capacityInBytes),Da(this.config.itemMaxSize)||(Hr.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=mr.itemMaxSize),Da(this.config.defaultTTL)||(Hr.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=mr.defaultTTL),Da(this.config.defaultPriority)||(Hr.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=mr.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(Hr.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=mr.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(Hr.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=mr.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(Hr.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=mr.warningThreshold);var t=5*1024*1024;this.config.capacityInBytes>t&&(Hr.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=mr.capacityInBytes)},e.prototype.fillCacheItem=function(t,r,n){var i={key:t,data:r,timestamp:Fi(),visitedTime:Fi(),priority:n.priority,expires:n.expires,type:typeof r,byteSize:0};return i.byteSize=Jg(JSON.stringify(i)),i.byteSize=Jg(JSON.stringify(i)),i},e.prototype.configure=function(t){return t?(t.keyPrefix&&Hr.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,t,t.Cache),this.checkConfig(),this.config):this.config},e}(),gL=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt=new Se("Cache"),mL=function(e){gL(t,e);function t(r){var n=this,i=r?Object.assign({},mr,r):mr;return n=e.call(this,i)||this,n.config.storage=i.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return t.prototype._decreaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n-r).toString())},t.prototype._increaseCurSizeInBytes=function(r){var n=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(n+r).toString())},t.prototype._refreshItem=function(r,n){return r.visitedTime=Fi(),this.config.storage.setItem(n,JSON.stringify(r)),r},t.prototype._isExpired=function(r){var n=this.config.storage.getItem(r),i=JSON.parse(n);return Fi()>=i.expires},t.prototype._removeItem=function(r,n){var i=n||JSON.parse(this.config.storage.getItem(r)).byteSize;this._decreaseCurSizeInBytes(i),this.config.storage.removeItem(r)},t.prototype._setItem=function(r,n){this._increaseCurSizeInBytes(n.byteSize);try{this.config.storage.setItem(r,JSON.stringify(n))}catch(i){this._decreaseCurSizeInBytes(n.byteSize),wt.error("Failed to set item "+i)}},t.prototype._sizeToPop=function(r){var n=this.getCacheCurSize()+r-this.config.capacityInBytes,i=(1-this.config.warningThreshold)*this.config.capacityInBytes;return n>i?n:i},t.prototype._isCacheFull=function(r){return r+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var r=[],n=[],i=0;i<this.config.storage.length;i+=1)n.push(this.config.storage.key(i));for(var i=0;i<n.length;i+=1){var o=n[i];o.indexOf(this.config.keyPrefix)===0&&o!==this.cacheCurSizeKey&&(this._isExpired(o)?this._removeItem(o):r.push(o))}return r},t.prototype._popOutItems=function(r,n){for(var i=[],o=n,a=0;a<r.length;a+=1){var s=this.config.storage.getItem(r[a]);if(s!=null){var c=JSON.parse(s);i.push(c)}}i.sort(function(u,f){return u.priority>f.priority?-1:u.priority<f.priority?1:u.visitedTime<f.visitedTime?-1:1});for(var a=0;a<i.length;a+=1)if(this._removeItem(i[a].key,i[a].byteSize),o-=i[a].byteSize,o<=0)return},t.prototype.setItem=function(r,n,i){wt.log("Set item: key is "+r+", value is "+n+" with options: "+i);var o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey){wt.warn("Invalid key: should not be empty or 'CurSize'");return}if(typeof n=="undefined"){wt.warn("The value of item should not be undefined!");return}var a={priority:i&&i.priority!==void 0?i.priority:this.config.defaultPriority,expires:i&&i.expires!==void 0?i.expires:this.config.defaultTTL+Fi()};if(a.priority<1||a.priority>5){wt.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");return}var s=this.fillCacheItem(o,n,a);if(s.byteSize>this.config.itemMaxSize){wt.warn("Item with key: "+r+" you are trying to put into is too big!");return}try{var c=this.config.storage.getItem(o);if(c&&this._removeItem(o,JSON.parse(c).byteSize),this._isCacheFull(s.byteSize)){var u=this._findValidKeys();if(this._isCacheFull(s.byteSize)){var f=this._sizeToPop(s.byteSize);this._popOutItems(u,f)}}this._setItem(o,s)}catch(l){wt.warn("setItem failed! "+l)}},t.prototype.getItem=function(r,n){wt.log("Get item: key is "+r+" with options "+n);var i=null,o=this.config.keyPrefix+r;if(o===this.config.keyPrefix||o===this.cacheCurSizeKey)return wt.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(i=this.config.storage.getItem(o),i!=null)if(this._isExpired(o))this._removeItem(o,JSON.parse(i).byteSize),i=null;else{var a=JSON.parse(i);return a=this._refreshItem(a,o),a.data}if(n&&n.callback!==void 0){var s=n.callback();return s!==null&&this.setItem(r,s,n),s}return null}catch(c){return wt.warn("getItem failed! "+c),null}},t.prototype.removeItem=function(r){wt.log("Remove item: key is "+r);var n=this.config.keyPrefix+r;if(!(n===this.config.keyPrefix||n===this.cacheCurSizeKey))try{var i=this.config.storage.getItem(n);i&&this._removeItem(n,JSON.parse(i).byteSize)}catch(o){wt.warn("removeItem failed! "+o)}},t.prototype.clear=function(){wt.log("Clear Cache");for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&r.push(i)}try{for(var n=0;n<r.length;n+=1)this.config.storage.removeItem(r[n])}catch(o){wt.warn("clear failed! "+o)}},t.prototype.getAllKeys=function(){for(var r=[],n=0;n<this.config.storage.length;n+=1){var i=this.config.storage.key(n);i.indexOf(this.config.keyPrefix)===0&&i!==this.cacheCurSizeKey&&r.push(i.substring(this.config.keyPrefix.length))}return r},t.prototype.getCacheCurSize=function(){var r=this.config.storage.getItem(this.cacheCurSizeKey);return r||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),r="0"),Number(r)},t.prototype.createInstance=function(r){return(!r.keyPrefix||r.keyPrefix===mr.keyPrefix)&&(wt.error("invalid keyPrefix, setting keyPrefix with timeStamp"),r.keyPrefix=Fi.toString()),new t(r)},t}(vL),DC=new mL,Ho=DC;at.register(DC);var Uu={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.AwsCrc32=void 0;var Yg=N.exports,jc=ua,yL=Uu,wL=function(){function e(){this.crc32=new yL.Crc32}return e.prototype.update=function(t){(0,jc.isEmptyData)(t)||this.crc32.update((0,jc.convertToBuffer)(t))},e.prototype.digest=function(){return(0,Yg.__awaiter)(this,void 0,void 0,function(){return(0,Yg.__generator)(this,function(t){return[2,(0,jc.numToUint8)(this.crc32.digest())]})})},e}();Bu.AwsCrc32=wL;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=N.exports,r=ua;function n(c){return new i().update(c).digest()}e.crc32=n;var i=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var f,l;try{for(var d=(0,t.__values)(u),h=d.next();!h.done;h=d.next()){var v=h.value;this.checksum=this.checksum>>>8^a[(this.checksum^v)&255]}}catch(g){f={error:g}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(f)throw f.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();e.Crc32=i;var o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=(0,r.uint32ArrayFrom)(o),s=Bu;Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return s.AwsCrc32}})})(Uu);var $c=function(){function e(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var r=new Uint8Array(8),n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&Xg(r),new e(r)},e.prototype.valueOf=function(){var t=this.bytes.slice(0),r=t[0]&128;return r&&Xg(t),parseInt(Pt(t),16)*(r?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function Xg(e){for(var t=0;t<8;t++)e[t]^=255;for(var t=7;t>-1&&(e[t]++,e[t]===0);t--);}var bL=function(){function e(t,r){this.toUtf8=t,this.fromUtf8=r}return e.prototype.format=function(t){var r,n,i,o,a=[];try{for(var s=N.exports.__values(Object.keys(t)),c=s.next();!c.done;c=s.next()){var u=c.value,f=this.fromUtf8(u);a.push(Uint8Array.from([f.byteLength]),f,this.formatHeaderValue(t[u]))}}catch(_){r={error:_}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}var l=new Uint8Array(a.reduce(function(_,E){return _+E.byteLength},0)),d=0;try{for(var h=N.exports.__values(a),v=h.next();!v.done;v=h.next()){var g=v.value;l.set(g,d),d+=g.byteLength}}catch(_){i={error:_}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return l},e.prototype.formatHeaderValue=function(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":var r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":var i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":var o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);var a=new Uint8Array(o.buffer);return a.set(t.value,3),a;case"string":var s=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+s.byteLength));c.setUint8(0,7),c.setUint16(1,s.byteLength,!1);var u=new Uint8Array(c.buffer);return u.set(s,3),u;case"timestamp":var f=new Uint8Array(9);return f[0]=8,f.set($c.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!OL.test(t.value))throw new Error("Invalid UUID received: "+t.value);var l=new Uint8Array(17);return l[0]=9,l.set(Pk(t.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(t){for(var r={},n=0;n<t.byteLength;){var i=t.getUint8(n++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[o]={type:Zg,value:!0};break;case 1:r[o]={type:Zg,value:!1};break;case 2:r[o]={type:_L,value:t.getInt8(n++)};break;case 3:r[o]={type:SL,value:t.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:EL,value:t.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:CL,value:new $c(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:var a=t.getUint16(n,!1);n+=2,r[o]={type:AL,value:new Uint8Array(t.buffer,t.byteOffset+n,a)},n+=a;break;case 7:var s=t.getUint16(n,!1);n+=2,r[o]={type:xL,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s))},n+=s;break;case 8:r[o]={type:TL,value:new Date(new $c(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[o]={type:IL,value:Pt(c.subarray(0,4))+"-"+Pt(c.subarray(4,6))+"-"+Pt(c.subarray(6,8))+"-"+Pt(c.subarray(8,10))+"-"+Pt(c.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return r},e}(),Qg;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Qg||(Qg={}));var Zg="boolean",_L="byte",SL="short",EL="integer",CL="long",AL="binary",xL="string",TL="timestamp",IL="uuid",OL=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,LC=4,hn=LC*2,zn=4,kL=hn+zn*2;function PL(e){var t=e.byteLength,r=e.byteOffset,n=e.buffer;if(t<kL)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(n,r,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var a=i.getUint32(LC,!1),s=i.getUint32(hn,!1),c=i.getUint32(t-zn,!1),u=new Uu.Crc32().update(new Uint8Array(n,r,hn));if(s!==u.digest())throw new Error("The prelude checksum specified in the message ("+s+") does not match the calculated CRC32 checksum ("+u.digest()+")");if(u.update(new Uint8Array(n,r+hn,t-(hn+zn))),c!==u.digest())throw new Error("The message checksum ("+u.digest()+") did not match the expected value of "+c);return{headers:new DataView(n,r+hn+zn,a),body:new Uint8Array(n,r+hn+zn+a,o-a-(hn+zn+zn))}}var UC=function(){function e(t,r){this.headerMarshaller=new bL(t,r)}return e.prototype.marshall=function(t){var r=t.headers,n=t.body,i=this.headerMarshaller.format(r),o=i.byteLength+n.byteLength+16,a=new Uint8Array(o),s=new DataView(a.buffer,a.byteOffset,a.byteLength),c=new Uu.Crc32;return s.setUint32(0,o,!1),s.setUint32(4,i.byteLength,!1),s.setUint32(8,c.update(a.subarray(0,8)).digest(),!1),a.set(i,12),a.set(n,i.byteLength+12),s.setUint32(o-4,c.update(a.subarray(8,o-4)).digest(),!1),a},e.prototype.unmarshall=function(t){var r=PL(t),n=r.headers,i=r.body;return{headers:this.headerMarshaller.parse(n),body:i}},e.prototype.formatHeaders=function(t){return this.headerMarshaller.format(t)},e}();function NL(e){var t,r=0,n=0,i=null,o=null,a=function(c){if(typeof c!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+c);r=c,n=4,i=new Uint8Array(c);var u=new DataView(i.buffer);u.setUint32(0,c,!1)},s=function(){return N.exports.__asyncGenerator(this,arguments,function(){var c,u,f,l,d,h,v,g,_;return N.exports.__generator(this,function(E){switch(E.label){case 0:c=e[Symbol.asyncIterator](),E.label=1;case 1:return[4,N.exports.__await(c.next())];case 2:return u=E.sent(),f=u.value,l=u.done,l?r?[3,4]:[4,N.exports.__await(void 0)]:[3,10];case 3:return[2,E.sent()];case 4:return r!==n?[3,7]:[4,N.exports.__await(i)];case 5:return[4,E.sent()];case 6:return E.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,N.exports.__await(void 0)];case 9:return[2,E.sent()];case 10:d=f.length,h=0,E.label=11;case 11:if(!(h<d))return[3,15];if(!i){if(v=d-h,o||(o=new Uint8Array(4)),g=Math.min(4-n,v),o.set(f.slice(h,h+g),n),n+=g,h+=g,n<4)return[3,15];a(new DataView(o.buffer).getUint32(0,!1)),o=null}return _=Math.min(r-n,d-h),i.set(f.slice(h,h+_),n),n+=_,h+=_,r&&r===n?[4,N.exports.__await(i)]:[3,14];case 12:return[4,E.sent()];case 13:E.sent(),i=null,r=0,n=0,E.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}})})};return t={},t[Symbol.asyncIterator]=s,t}function RL(e,t){var r;return r={},r[Symbol.asyncIterator]=function(){return N.exports.__asyncGenerator(this,arguments,function(){var n,i,o,a,s,c,u,f,l,d,h,v,g,_,E,S,T;return N.exports.__generator(this,function(R){switch(R.label){case 0:R.trys.push([0,12,13,18]),n=N.exports.__asyncValues(e),R.label=1;case 1:return[4,N.exports.__await(n.next())];case 2:if(i=R.sent(),!!i.done)return[3,11];if(o=i.value,a=t.eventMarshaller.unmarshall(o),s=a.headers[":message-type"].value,s!=="error")return[3,3];throw c=new Error(a.headers[":error-message"].value||"UnknownError"),c.name=a.headers[":error-code"].value,c;case 3:return s!=="exception"?[3,5]:(u=a.headers[":exception-type"].value,f=(_={},_[u]=a,_),[4,N.exports.__await(t.deserializer(f))]);case 4:throw l=R.sent(),l.$unknown?(d=new Error(t.toUtf8(a.body)),d.name=u,d):l[u];case 5:return s!=="event"?[3,9]:(h=(E={},E[a.headers[":event-type"].value]=a,E),[4,N.exports.__await(t.deserializer(h))]);case 6:return v=R.sent(),v.$unknown?[3,10]:[4,N.exports.__await(v)];case 7:return[4,R.sent()];case 8:return R.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+a.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return g=R.sent(),S={error:g},[3,18];case 13:return R.trys.push([13,,16,17]),i&&!i.done&&(T=n.return)?[4,N.exports.__await(T.call(n))]:[3,15];case 14:R.sent(),R.label=15;case 15:return[3,17];case 16:if(S)throw S.error;return[7];case 17:return[7];case 18:return[2]}})})},r}var ML=function(){function e(t){var r=t.utf8Encoder,n=t.utf8Decoder;this.eventMarshaller=new UC(r,n),this.utfEncoder=r}return e.prototype.deserialize=function(t,r){var n=NL(t),i=RL(n,{eventMarshaller:this.eventMarshaller,deserializer:r,toUtf8:this.utfEncoder});return i},e.prototype.serialize=function(t,r){var n,i=this,o=function(){return N.exports.__asyncGenerator(this,arguments,function(){var a,s,c,u,f,l,d;return N.exports.__generator(this,function(h){switch(h.label){case 0:h.trys.push([0,7,8,13]),a=N.exports.__asyncValues(t),h.label=1;case 1:return[4,N.exports.__await(a.next())];case 2:return s=h.sent(),!s.done?(c=s.value,u=i.eventMarshaller.marshall(r(c)),[4,N.exports.__await(u)]):[3,6];case 3:return[4,h.sent()];case 4:h.sent(),h.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return f=h.sent(),l={error:f},[3,13];case 8:return h.trys.push([8,,11,12]),s&&!s.done&&(d=a.return)?[4,N.exports.__await(d.call(a))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,12];case 11:if(l)throw l.error;return[7];case 12:return[7];case 13:return[4,N.exports.__await(new Uint8Array(0))];case 14:return[4,h.sent()];case 15:return h.sent(),[2]}})})};return n={},n[Symbol.asyncIterator]=o,n},e}(),DL=function(e){var t;return t={},t[Symbol.asyncIterator]=function(){return N.exports.__asyncGenerator(this,arguments,function(){var r,n,i,o;return N.exports.__generator(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,N.exports.__await(r.read())];case 3:return n=a.sent(),i=n.done,o=n.value,i?[4,N.exports.__await(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,N.exports.__await(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})},t},LL=function(e){var t=e[Symbol.asyncIterator]();return new ReadableStream({pull:function(r){return N.exports.__awaiter(this,void 0,void 0,function(){var n,i,o;return N.exports.__generator(this,function(a){switch(a.label){case 0:return[4,t.next()];case 1:return n=a.sent(),i=n.done,o=n.value,i?[2,r.close()]:(r.enqueue(o),[2])}})})}})},UL=function(){function e(t){var r=t.utf8Encoder,n=t.utf8Decoder;this.eventMarshaller=new UC(r,n),this.universalMarshaller=new ML({utf8Decoder:n,utf8Encoder:r})}return e.prototype.deserialize=function(t,r){var n=BL(t)?DL(t):t;return this.universalMarshaller.deserialize(n,r)},e.prototype.serialize=function(t,r){var n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?LL(n):n},e}(),BL=function(e){return typeof ReadableStream=="function"&&e instanceof ReadableStream},FL=function(e){return new UL(e)},jL=function(e){return N.exports.__assign(N.exports.__assign({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})},ml=function(e,t){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ml(e,t)};function lr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ml(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var p=function(){return p=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},p.apply(this,arguments)};function we(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function be(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}const $L="@aws-sdk/client-s3",zL="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",qL="3.6.1",KL={clean:"yarn remove-definitions && yarn remove-dist && yarn remove-documentation","build-documentation":"yarn remove-documentation && typedoc ./",prepublishOnly:"yarn build",pretest:"yarn build:cjs","remove-definitions":"rimraf ./types","remove-dist":"rimraf ./dist","remove-documentation":"rimraf ./docs","test:unit":"mocha **/cjs/**/*.spec.js","test:e2e":"mocha **/cjs/**/*.ispec.js && karma start karma.conf.js",test:"yarn test:unit","build:cjs":"tsc -p tsconfig.json","build:es":"tsc -p tsconfig.es.json",build:"yarn build:cjs && yarn build:es",postbuild:"downlevel-dts types types/ts3.4"},HL="./dist/cjs/index.js",GL="./types/index.d.ts",VL="./dist/es/index.js",WL={"./runtimeConfig":"./runtimeConfig.browser"},JL=!1,YL={"@aws-crypto/sha256-browser":"^1.0.0","@aws-crypto/sha256-js":"^1.0.0","@aws-sdk/config-resolver":"3.6.1","@aws-sdk/credential-provider-node":"3.6.1","@aws-sdk/eventstream-serde-browser":"3.6.1","@aws-sdk/eventstream-serde-config-resolver":"3.6.1","@aws-sdk/eventstream-serde-node":"3.6.1","@aws-sdk/fetch-http-handler":"3.6.1","@aws-sdk/hash-blob-browser":"3.6.1","@aws-sdk/hash-node":"3.6.1","@aws-sdk/hash-stream-node":"3.6.1","@aws-sdk/invalid-dependency":"3.6.1","@aws-sdk/md5-js":"3.6.1","@aws-sdk/middleware-apply-body-checksum":"3.6.1","@aws-sdk/middleware-bucket-endpoint":"3.6.1","@aws-sdk/middleware-content-length":"3.6.1","@aws-sdk/middleware-expect-continue":"3.6.1","@aws-sdk/middleware-host-header":"3.6.1","@aws-sdk/middleware-location-constraint":"3.6.1","@aws-sdk/middleware-logger":"3.6.1","@aws-sdk/middleware-retry":"3.6.1","@aws-sdk/middleware-sdk-s3":"3.6.1","@aws-sdk/middleware-serde":"3.6.1","@aws-sdk/middleware-signing":"3.6.1","@aws-sdk/middleware-ssec":"3.6.1","@aws-sdk/middleware-stack":"3.6.1","@aws-sdk/middleware-user-agent":"3.6.1","@aws-sdk/node-config-provider":"3.6.1","@aws-sdk/node-http-handler":"3.6.1","@aws-sdk/protocol-http":"3.6.1","@aws-sdk/smithy-client":"3.6.1","@aws-sdk/types":"3.6.1","@aws-sdk/url-parser":"3.6.1","@aws-sdk/url-parser-native":"3.6.1","@aws-sdk/util-base64-browser":"3.6.1","@aws-sdk/util-base64-node":"3.6.1","@aws-sdk/util-body-length-browser":"3.6.1","@aws-sdk/util-body-length-node":"3.6.1","@aws-sdk/util-user-agent-browser":"3.6.1","@aws-sdk/util-user-agent-node":"3.6.1","@aws-sdk/util-utf8-browser":"3.6.1","@aws-sdk/util-utf8-node":"3.6.1","@aws-sdk/util-waiter":"3.6.1","@aws-sdk/xml-builder":"3.6.1","fast-xml-parser":"^3.16.0",tslib:"^2.0.0"},XL={"@aws-sdk/client-documentation-generator":"3.6.1","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^12.7.5","downlevel-dts":"0.7.0",jest:"^26.1.0",rimraf:"^3.0.0",typedoc:"^0.19.2",typescript:"~4.1.2"},QL={node:">=10.0.0"},ZL={"<4.0":{"types/*":["types/ts3.4/*"]}},eU={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},tU="Apache-2.0",rU="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",nU={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"};var iU={name:$L,description:zL,version:qL,scripts:KL,main:HL,types:GL,module:VL,browser:WL,"react-native":{"./runtimeConfig":"./runtimeConfig.native"},sideEffects:JL,dependencies:YL,devDependencies:XL,engines:QL,typesVersions:ZL,author:eU,license:tU,homepage:rU,repository:nU};function oU(e,t,r){return r===void 0&&(r=1024*1024),new Promise(function(n,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var a=e.size,s=0;function c(){if(s>=a){n();return}o.readAsArrayBuffer(e.slice(s,Math.min(a,s+r)))}o.addEventListener("load",function(u){var f=u.target.result;t(new Uint8Array(f)),s+=f.byteLength,c()}),c()})}var aU=function(t,r){return N.exports.__awaiter(this,void 0,void 0,function(){var n;return N.exports.__generator(this,function(i){switch(i.label){case 0:return n=new t,[4,oU(r,function(o){n.update(o)})];case 1:return i.sent(),[2,n.digest()]}})})},sn=64,sU=16,uU=[1732584193,4023233417,2562383102,271733878],cU=function(){function e(){this.state=Uint32Array.from(uU),this.buffer=new DataView(new ArrayBuffer(sn)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(!fU(t)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=lU(t),n=0,i=r.byteLength;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===sn&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return N.exports.__awaiter(this,void 0,void 0,function(){var t,r,n,i,o,s,s,a,s;return N.exports.__generator(this,function(c){if(!this.finished){if(t=this,r=t.buffer,n=t.bufferLength,i=t.bytesHashed,o=i*8,r.setUint8(this.bufferLength++,128),n%sn>=sn-8){for(s=this.bufferLength;s<sn;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<sn-8;s++)r.setUint8(s,0);r.setUint32(sn-8,o>>>0,!0),r.setUint32(sn-4,Math.floor(o/4294967296),!0),this.hashBuffer(),this.finished=!0}for(a=new DataView(new ArrayBuffer(sU)),s=0;s<4;s++)a.setUint32(s*4,this.state[s],!0);return[2,new Uint8Array(a.buffer,a.byteOffset,a.byteLength)]})})},e.prototype.hashBuffer=function(){var t=this,r=t.buffer,n=t.state,i=n[0],o=n[1],a=n[2],s=n[3];i=ut(i,o,a,s,r.getUint32(0,!0),7,3614090360),s=ut(s,i,o,a,r.getUint32(4,!0),12,3905402710),a=ut(a,s,i,o,r.getUint32(8,!0),17,606105819),o=ut(o,a,s,i,r.getUint32(12,!0),22,3250441966),i=ut(i,o,a,s,r.getUint32(16,!0),7,4118548399),s=ut(s,i,o,a,r.getUint32(20,!0),12,1200080426),a=ut(a,s,i,o,r.getUint32(24,!0),17,2821735955),o=ut(o,a,s,i,r.getUint32(28,!0),22,4249261313),i=ut(i,o,a,s,r.getUint32(32,!0),7,1770035416),s=ut(s,i,o,a,r.getUint32(36,!0),12,2336552879),a=ut(a,s,i,o,r.getUint32(40,!0),17,4294925233),o=ut(o,a,s,i,r.getUint32(44,!0),22,2304563134),i=ut(i,o,a,s,r.getUint32(48,!0),7,1804603682),s=ut(s,i,o,a,r.getUint32(52,!0),12,4254626195),a=ut(a,s,i,o,r.getUint32(56,!0),17,2792965006),o=ut(o,a,s,i,r.getUint32(60,!0),22,1236535329),i=ct(i,o,a,s,r.getUint32(4,!0),5,4129170786),s=ct(s,i,o,a,r.getUint32(24,!0),9,3225465664),a=ct(a,s,i,o,r.getUint32(44,!0),14,643717713),o=ct(o,a,s,i,r.getUint32(0,!0),20,3921069994),i=ct(i,o,a,s,r.getUint32(20,!0),5,3593408605),s=ct(s,i,o,a,r.getUint32(40,!0),9,38016083),a=ct(a,s,i,o,r.getUint32(60,!0),14,3634488961),o=ct(o,a,s,i,r.getUint32(16,!0),20,3889429448),i=ct(i,o,a,s,r.getUint32(36,!0),5,568446438),s=ct(s,i,o,a,r.getUint32(56,!0),9,3275163606),a=ct(a,s,i,o,r.getUint32(12,!0),14,4107603335),o=ct(o,a,s,i,r.getUint32(32,!0),20,1163531501),i=ct(i,o,a,s,r.getUint32(52,!0),5,2850285829),s=ct(s,i,o,a,r.getUint32(8,!0),9,4243563512),a=ct(a,s,i,o,r.getUint32(28,!0),14,1735328473),o=ct(o,a,s,i,r.getUint32(48,!0),20,2368359562),i=ft(i,o,a,s,r.getUint32(20,!0),4,4294588738),s=ft(s,i,o,a,r.getUint32(32,!0),11,2272392833),a=ft(a,s,i,o,r.getUint32(44,!0),16,1839030562),o=ft(o,a,s,i,r.getUint32(56,!0),23,4259657740),i=ft(i,o,a,s,r.getUint32(4,!0),4,2763975236),s=ft(s,i,o,a,r.getUint32(16,!0),11,1272893353),a=ft(a,s,i,o,r.getUint32(28,!0),16,4139469664),o=ft(o,a,s,i,r.getUint32(40,!0),23,3200236656),i=ft(i,o,a,s,r.getUint32(52,!0),4,681279174),s=ft(s,i,o,a,r.getUint32(0,!0),11,3936430074),a=ft(a,s,i,o,r.getUint32(12,!0),16,3572445317),o=ft(o,a,s,i,r.getUint32(24,!0),23,76029189),i=ft(i,o,a,s,r.getUint32(36,!0),4,3654602809),s=ft(s,i,o,a,r.getUint32(48,!0),11,3873151461),a=ft(a,s,i,o,r.getUint32(60,!0),16,530742520),o=ft(o,a,s,i,r.getUint32(8,!0),23,3299628645),i=lt(i,o,a,s,r.getUint32(0,!0),6,4096336452),s=lt(s,i,o,a,r.getUint32(28,!0),10,1126891415),a=lt(a,s,i,o,r.getUint32(56,!0),15,2878612391),o=lt(o,a,s,i,r.getUint32(20,!0),21,4237533241),i=lt(i,o,a,s,r.getUint32(48,!0),6,1700485571),s=lt(s,i,o,a,r.getUint32(12,!0),10,2399980690),a=lt(a,s,i,o,r.getUint32(40,!0),15,4293915773),o=lt(o,a,s,i,r.getUint32(4,!0),21,2240044497),i=lt(i,o,a,s,r.getUint32(32,!0),6,1873313359),s=lt(s,i,o,a,r.getUint32(60,!0),10,4264355552),a=lt(a,s,i,o,r.getUint32(24,!0),15,2734768916),o=lt(o,a,s,i,r.getUint32(52,!0),21,1309151649),i=lt(i,o,a,s,r.getUint32(16,!0),6,4149444226),s=lt(s,i,o,a,r.getUint32(44,!0),10,3174756917),a=lt(a,s,i,o,r.getUint32(8,!0),15,718787259),o=lt(o,a,s,i,r.getUint32(36,!0),21,3951481745),n[0]=i+n[0]&4294967295,n[1]=o+n[1]&4294967295,n[2]=a+n[2]&4294967295,n[3]=s+n[3]&4294967295},e}();function Fu(e,t,r,n,i,o){return t=(t+e&4294967295)+(n+o&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function ut(e,t,r,n,i,o,a){return Fu(t&r|~t&n,e,t,i,o,a)}function ct(e,t,r,n,i,o,a){return Fu(t&n|r&~n,e,t,i,o,a)}function ft(e,t,r,n,i,o,a){return Fu(t^r^n,e,t,i,o,a)}function lt(e,t,r,n,i,o,a){return Fu(r^(t|~n),e,t,i,o,a)}function fU(e){return typeof e=="string"?e.length===0:e.byteLength===0}function lU(e){return typeof e=="string"?Eu(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var em="s3.{region}.amazonaws.com",dU="s3.{region}.amazonaws.com.cn",hU="s3.{region}.c2s.ic.gov",pU="s3.{region}.sc2s.sgov.gov",vU="s3.{region}.amazonaws.com",gU=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),mU=new Set(["cn-north-1","cn-northwest-1"]),yU=new Set(["us-iso-east-1"]),wU=new Set(["us-isob-east-1"]),bU=new Set(["us-gov-east-1","us-gov-west-1"]),_U=function(e,t){var r=void 0;switch(e){case"af-south-1":r={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":r={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":r={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":r={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":r={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":r={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":r={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":r={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":r={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":r={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":r={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":r={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":r={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":r={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":r={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":r={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:gU.has(e)&&(r={hostname:em.replace("{region}",e),partition:"aws"}),mU.has(e)&&(r={hostname:dU.replace("{region}",e),partition:"aws-cn"}),yU.has(e)&&(r={hostname:hU.replace("{region}",e),partition:"aws-iso"}),wU.has(e)&&(r={hostname:pU.replace("{region}",e),partition:"aws-iso-b"}),bU.has(e)&&(r={hostname:vU.replace("{region}",e),partition:"aws-us-gov"}),r===void 0&&(r={hostname:em.replace("{region}",e),partition:"aws"})}return Promise.resolve(p({signingService:"s3"},r))},tm={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:_U,serviceId:"S3",signingEscapePath:!1,urlParser:HE,useArnRegion:!1},SU=p(p({},tm),{runtime:"browser",base64Decoder:Sh,base64Encoder:RE,bodyLengthChecker:zE,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:KE({serviceId:tm.serviceId,clientVersion:iU.version}),eventStreamSerdeProvider:FL,maxAttempts:Pu,md5:cU,region:DE("Region is missing"),requestHandler:new NE,sha256:vh.Sha256,streamCollector:ME,streamHasher:aU,utf8Decoder:Eu,utf8Encoder:mh}),BC=function(e){return typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6},EU=function(e){var t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");var r=N.exports.__read(t),n=r[1],i=r[2],o=r[3],a=r[4],s=r.slice(5);return{partition:n,service:i,region:o,accountId:a,resource:s.join(":")}},CU=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,AU=/(\d+\.){3}\d+/,xU=/\.\./,FC=/\./,TU=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,jC=/^s3(-external-1)?\.amazonaws\.com$/,yl="amazonaws.com",IU=function(e){return typeof e.bucketName=="string"},Qs=function(e){return Ph(e)?e.replace(/fips-|-fips/,""):e},OU=function(e){return CU.test(e)&&!AU.test(e)&&!xU.test(e)},$C=function(e){var t=e.match(TU);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},kU=function(e){return jC.test(e)?["us-east-1",yl]:$C(e)},PU=function(e){return jC.test(e)?[e.replace("."+yl,""),yl]:$C(e)},NU=function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")},RU=function(e){if(e!=="s3"&&e!=="s3-outposts")throw new Error("Expect 's3' or 's3-outposts' in ARN service component")},MU=function(e){if(e!=="s3")throw new Error("Expect 's3' in Accesspoint ARN service component")},DU=function(e){if(e!=="s3-outposts")throw new Error("Expect 's3-posts' in Outpost ARN service component")},LU=function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')},UU=function(e,t){if(e==="")throw new Error("ARN region is empty");if(!t.useArnRegion&&!rm(e,t.clientRegion)&&!rm(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&Ph(e))throw new Error("Endpoint does not support FIPS region")},Ph=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},rm=function(e,t){return e===t||Qs(e)===t||e===Qs(t)},BU=function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")},nm=function(e,t){if(t===void 0&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(t==null?void 0:t.tlsCompatible)&&FC.test(e))throw new Error("Invalid DNS label "+e)},FU=function(e){var t=e.includes(":")?":":"/",r=N.exports.__read(e.split(t)),n=r[0],i=r.slice(1);if(n==="accesspoint"){if(i.length!==1||i[0]==="")throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}else if(n==="outpost"){if(!i[0]||i[1]!=="accesspoint"||!i[2]||i.length!==3)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=N.exports.__read(i,3),a=o[0];o[1];var s=o[2];return{outpostId:a,accesspointName:s}}else throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")},jU=function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")},$U=function(e){if(Ph(e!=null?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)},im=function(e){var t=e.isCustomEndpoint;e.baseHostname;var r=e.dualstackEndpoint,n=e.accelerateEndpoint;if(t){if(r)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(n)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return IU(e)?qU(N.exports.__assign(N.exports.__assign({},e),{isCustomEndpoint:t})):zU(N.exports.__assign(N.exports.__assign({},e),{isCustomEndpoint:t}))},zU=function(e){var t=e.isCustomEndpoint,r=e.baseHostname,n=N.exports.__read(t?[e.clientRegion,r]:PU(r),2),i=n[0],o=n[1],a=e.pathStyleEndpoint,s=e.dualstackEndpoint,c=s===void 0?!1:s,u=e.accelerateEndpoint,f=u===void 0?!1:u,l=e.tlsCompatible,d=l===void 0?!0:l,h=e.useArnRegion,v=e.bucketName,g=e.clientPartition,_=g===void 0?"aws":g,E=e.clientSigningRegion,S=E===void 0?i:E;NU({pathStyleEndpoint:a,accelerateEndpoint:f,tlsCompatible:d});var T=v.service,R=v.partition,P=v.accountId,U=v.region,W=v.resource;RU(T),LU(R,{clientPartition:_}),BU(P),UU(U,{useArnRegion:h,clientRegion:i,clientSigningRegion:S});var j=FU(W),te=j.accesspointName,k=j.outpostId;nm(te+"-"+P,{tlsCompatible:d});var B=h?U:i,A=h?U:S;if(k){DU(T),nm(k,{tlsCompatible:d}),jU(c),$U(B);var m=te+"-"+P+"."+k;return{bucketEndpoint:!0,hostname:""+m+(t?"":".s3-outposts."+B)+"."+o,signingRegion:A,signingService:"s3-outposts"}}MU(T);var b=te+"-"+P;return{bucketEndpoint:!0,hostname:""+b+(t?"":".s3-accesspoint"+(c?".dualstack":"")+"."+B)+"."+o,signingRegion:A}},qU=function(e){var t=e.accelerateEndpoint,r=t===void 0?!1:t,n=e.clientRegion,i=e.baseHostname,o=e.bucketName,a=e.dualstackEndpoint,s=a===void 0?!1:a,c=e.pathStyleEndpoint,u=c===void 0?!1:c,f=e.tlsCompatible,l=f===void 0?!0:f,d=e.isCustomEndpoint,h=d===void 0?!1:d,v=N.exports.__read(h?[n,i]:kU(i),2),g=v[0],_=v[1];return u||!OU(o)||l&&FC.test(o)?{bucketEndpoint:!1,hostname:s?"s3.dualstack."+g+"."+_:i}:(r?i="s3-accelerate"+(s?".dualstack":"")+"."+_:s&&(i="s3.dualstack."+g+"."+_),{bucketEndpoint:!0,hostname:o+"."+i})},KU=function(e){return function(t,r){return function(n){return N.exports.__awaiter(void 0,void 0,void 0,function(){var i,o,a,s,E,c,u,f,l,d,h,v,R,P,g,_,E,S,T,R,P;return N.exports.__generator(this,function(U){switch(U.label){case 0:return i=n.input.Bucket,o=e.bucketEndpoint,a=n.request,Ge.isInstance(a)?e.bucketEndpoint?(a.hostname=i,[3,7]):[3,1]:[3,8];case 1:return BC(i)?(s=EU(i),c=Qs,[4,e.region()]):[3,5];case 2:return E=c.apply(void 0,[U.sent()]),[4,e.regionInfoProvider(E)];case 3:return u=U.sent()||{},f=u.partition,l=u.signingRegion,d=l===void 0?E:l,[4,e.useArnRegion()];case 4:return h=U.sent(),v=im({bucketName:s,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",useArnRegion:h,clientPartition:f,clientSigningRegion:d,clientRegion:E,isCustomEndpoint:e.isCustomEndpoint}),R=v.hostname,P=v.bucketEndpoint,g=v.signingRegion,_=v.signingService,g&&g!==d&&(r.signing_region=g),_&&_!=="s3"&&(r.signing_service=_),a.hostname=R,o=P,[3,7];case 5:return S=Qs,[4,e.region()];case 6:E=S.apply(void 0,[U.sent()]),T=im({bucketName:i,clientRegion:E,baseHostname:a.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:a.protocol==="https:",isCustomEndpoint:e.isCustomEndpoint}),R=T.hostname,P=T.bucketEndpoint,a.hostname=R,o=P,U.label=7;case 7:o&&(a.path=a.path.replace(/^(\/)?[^\/]+/,""),a.path===""&&(a.path="/")),U.label=8;case 8:return[2,t(N.exports.__assign(N.exports.__assign({},n),{request:a}))]}})})}}},HU={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Tr=function(e){return{applyToStack:function(t){t.addRelativeTo(KU(e),HU)}}};function GU(e){var t=e.bucketEndpoint,r=t===void 0?!1:t,n=e.forcePathStyle,i=n===void 0?!1:n,o=e.useAccelerateEndpoint,a=o===void 0?!1:o,s=e.useDualstackEndpoint,c=s===void 0?!1:s,u=e.useArnRegion,f=u===void 0?!1:u;return N.exports.__assign(N.exports.__assign({},e),{bucketEndpoint:r,forcePathStyle:i,useAccelerateEndpoint:a,useDualstackEndpoint:c,useArnRegion:typeof f=="function"?f:function(){return Promise.resolve(f)}})}function VU(e){var t=this;return function(r){return function(n){return N.exports.__awaiter(t,void 0,void 0,function(){var i;return N.exports.__generator(this,function(o){return i=n.request,Ge.isInstance(i)&&i.body&&e.runtime==="node"&&(i.headers=N.exports.__assign(N.exports.__assign({},i.headers),{Expect:"100-continue"})),[2,r(N.exports.__assign(N.exports.__assign({},n),{request:i}))]})})}}}var WU={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},JU=function(e){return{applyToStack:function(t){t.add(VU(e),WU)}}};function YU(){var e=this;return function(t){return function(r){return N.exports.__awaiter(e,void 0,void 0,function(){var n,i;return N.exports.__generator(this,function(o){if(n=r.input.Bucket,typeof n=="string"&&!BC(n)&&n.indexOf("/")>=0)throw i=new Error("Bucket name shouldn't contain '/', received '"+n+"'"),i.name="InvalidBucketName",i;return[2,t(N.exports.__assign({},r))]})})}}}var XU={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},QU=function(e){return{applyToStack:function(t){t.add(YU(),XU)}}},ZU=function(e){return function(t){return function(r){return N.exports.__awaiter(void 0,void 0,void 0,function(){var n,i;return N.exports.__generator(this,function(o){switch(o.label){case 0:return n=r.request,!Ge.isInstance(n)||e.isCustomEndpoint?[2,t(N.exports.__assign({},r))]:n.hostname!=="s3.amazonaws.com"?[3,1]:(n.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(n.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t(N.exports.__assign({},r))]}})})}}},e3={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},t3=function(e){return{applyToStack:function(t){t.add(ZU(e),e3)}}},r3=function(e){return function(t){return function(r){return N.exports.__awaiter(void 0,void 0,void 0,function(){var n,i,o,a,s,c,u;return N.exports.__generator(this,function(f){switch(f.label){case 0:return[4,t(r)];case 1:return n=f.sent(),i=n.response,jo.isInstance(i)?(o=i.statusCode,a=i.body,o<200&&o>=300?[2,n]:[4,zC(a,e)]):[2,n];case 2:return s=f.sent(),[4,n3(s,e)];case 3:if(c=f.sent(),s.length===0)throw u=new Error("S3 aborted request"),u.name="InternalError",u;return c&&c.match("<Error>")&&(i.statusCode=400),i.body=s,[2,n]}})})}}},zC=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},n3=function(e,t){return zC(e,t).then(function(r){return t.utf8Encoder(r)})},i3={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},qC=function(e){return{applyToStack:function(t){t.addRelativeTo(r3(e),i3)}}},o3=function(e){lr(t,e);function t(r){var n=this,i=p(p({},SU),r),o=VE(i),a=GE(o),s=oC(a),c=$E(s),u=c,f=GU(u),l=aC(f),d=jL(l);return n=e.call(this,d)||this,n.config=d,n.middlewareStack.use(PR(n.config)),n.middlewareStack.use(LE(n.config)),n.middlewareStack.use(WE(n.config)),n.middlewareStack.use(JE(n.config)),n.middlewareStack.use(YE(n.config)),n.middlewareStack.use(QU(n.config)),n.middlewareStack.use(t3(n.config)),n.middlewareStack.use(JU(n.config)),n.middlewareStack.use(sC(n.config)),n}return t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(uC),om;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(om||(om={}));var wl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wl||(wl={}));var bl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(bl||(bl={}));var am;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(am||(am={}));var sm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sm||(sm={}));var um;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(um||(um={}));var cm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cm||(cm={}));var fm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fm||(fm={}));var lm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lm||(lm={}));var dm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dm||(dm={}));var _l;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(_l||(_l={}));var hm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hm||(hm={}));var pm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(pm||(pm={}));var Sl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sl||(Sl={}));var vm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vm||(vm={}));var El;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(El||(El={}));var Cl;(function(e){e.filterSensitiveLog=function(t){return p(p(p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae}),t.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Ae})}})(Cl||(Cl={}));var gm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gm||(gm={}));var mm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(mm||(mm={}));var ym;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ym||(ym={}));var wm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wm||(wm={}));var bm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(bm||(bm={}));var _m;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_m||(_m={}));var Al;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(Al||(Al={}));var xl;(function(e){e.filterSensitiveLog=function(t){return p(p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(xl||(xl={}));var Sm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sm||(Sm={}));var Em;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Em||(Em={}));var Cm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Cm||(Cm={}));var Am;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Am||(Am={}));var xm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xm||(xm={}));var Tm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Tm||(Tm={}));var Im;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Im||(Im={}));var Om;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Om||(Om={}));var km;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(km||(km={}));var Pm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Pm||(Pm={}));var Nm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Nm||(Nm={}));var Rm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Rm||(Rm={}));var Mm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Mm||(Mm={}));var Tl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Tl||(Tl={}));var Il;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Il||(Il={}));var Dm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dm||(Dm={}));var Lm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lm||(Lm={}));var Um;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Um||(Um={}));var Bm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bm||(Bm={}));var Fm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fm||(Fm={}));var jm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jm||(jm={}));var $m;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($m||($m={}));var zm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zm||(zm={}));var qm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qm||(qm={}));var Km;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Km||(Km={}));var Hm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Hm||(Hm={}));var Gm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gm||(Gm={}));var Vm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vm||(Vm={}));var Vi;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vi||(Vi={}));var Ol;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ol||(Ol={}));var kl;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Vi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:Ol.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(kl||(kl={}));var Wm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wm||(Wm={}));var Jm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jm||(Jm={}));var Ym;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ym||(Ym={}));var Xm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xm||(Xm={}));var Go;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:kl.filterSensitiveLog(t.Filter)})}})(Go||(Go={}));var Qm;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.AnalyticsConfiguration&&{AnalyticsConfiguration:Go.filterSensitiveLog(t.AnalyticsConfiguration)})}})(Qm||(Qm={}));var Zm;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Zm||(Zm={}));var ey;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ey||(ey={}));var ty;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ty||(ty={}));var ry;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ry||(ry={}));var Pl;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.KMSMasterKeyID&&{KMSMasterKeyID:Ae})}})(Pl||(Pl={}));var Nl;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Pl.filterSensitiveLog(t.ApplyServerSideEncryptionByDefault)})}})(Nl||(Nl={}));var Zs;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return Nl.filterSensitiveLog(r)})})}})(Zs||(Zs={}));var ny;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Zs.filterSensitiveLog(t.ServerSideEncryptionConfiguration)})}})(ny||(ny={}));var iy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(iy||(iy={}));var oy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(oy||(oy={}));var ay;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ay||(ay={}));var sy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sy||(sy={}));var uy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(uy||(uy={}));var cy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cy||(cy={}));var fy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fy||(fy={}));var Rl;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.KeyId&&{KeyId:Ae})}})(Rl||(Rl={}));var ly;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ly||(ly={}));var Ml;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMS&&{SSEKMS:Rl.filterSensitiveLog(t.SSEKMS)})}})(Ml||(Ml={}));var Dl;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Encryption&&{Encryption:Ml.filterSensitiveLog(t.Encryption)})}})(Dl||(Dl={}));var Ll;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.S3BucketDestination&&{S3BucketDestination:Dl.filterSensitiveLog(t.S3BucketDestination)})}})(Ll||(Ll={}));var dy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dy||(dy={}));var hy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hy||(hy={}));var Vo;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Destination&&{Destination:Ll.filterSensitiveLog(t.Destination)})}})(Vo||(Vo={}));var py;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.InventoryConfiguration&&{InventoryConfiguration:Vo.filterSensitiveLog(t.InventoryConfiguration)})}})(py||(py={}));var vy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vy||(vy={}));var gy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gy||(gy={}));var Ul;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ul||(Ul={}));var Bl;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Vi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:Ul.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(Bl||(Bl={}));var my;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(my||(my={}));var yy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yy||(yy={}));var wy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(wy||(wy={}));var eu;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:Bl.filterSensitiveLog(t.Filter)})}})(eu||(eu={}));var by;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return eu.filterSensitiveLog(r)})})}})(by||(by={}));var _y;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_y||(_y={}));var Sy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sy||(Sy={}));var Ey;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ey||(Ey={}));var Cy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Cy||(Cy={}));var Ay;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ay||(Ay={}));var xy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xy||(xy={}));var Ty;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ty||(Ty={}));var Fl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fl||(Fl={}));var jl;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Vi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:Fl.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(jl||(jl={}));var Wo;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:jl.filterSensitiveLog(t.Filter)})}})(Wo||(Wo={}));var Iy;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.MetricsConfiguration&&{MetricsConfiguration:Wo.filterSensitiveLog(t.MetricsConfiguration)})}})(Iy||(Iy={}));var Oy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Oy||(Oy={}));var ky;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ky||(ky={}));var Py;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Py||(Py={}));var Ny;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ny||(Ny={}));var Ry;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ry||(Ry={}));var My;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(My||(My={}));var Dy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dy||(Dy={}));var Ly;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ly||(Ly={}));var Uy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Uy||(Uy={}));var By;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(By||(By={}));var Fy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fy||(Fy={}));var jy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jy||(jy={}));var $y;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($y||($y={}));var zy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zy||(zy={}));var qy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qy||(qy={}));var Ky;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ky||(Ky={}));var Hy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Hy||(Hy={}));var Gy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gy||(Gy={}));var Vy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vy||(Vy={}));var Wy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wy||(Wy={}));var Jy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jy||(Jy={}));var Yy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Yy||(Yy={}));var Xy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xy||(Xy={}));var Qy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Qy||(Qy={}));var Zy;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Zy||(Zy={}));var $l;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($l||($l={}));var zl;(function(e){e.visit=function(t,r){return t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Prefix!==void 0)return{Prefix:t.Prefix};if(t.Tag!==void 0)return{Tag:Vi.filterSensitiveLog(t.Tag)};if(t.And!==void 0)return{And:$l.filterSensitiveLog(t.And)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(zl||(zl={}));var e0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(e0||(e0={}));var t0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(t0||(t0={}));var r0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(r0||(r0={}));var ql;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Filter&&{Filter:zl.filterSensitiveLog(t.Filter)})}})(ql||(ql={}));var tu;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return ql.filterSensitiveLog(r)})})}})(tu||(tu={}));var n0;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ReplicationConfiguration&&{ReplicationConfiguration:tu.filterSensitiveLog(t.ReplicationConfiguration)})}})(n0||(n0={}));var i0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(i0||(i0={}));var o0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(o0||(o0={}));var a0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(a0||(a0={}));var s0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(s0||(s0={}));var u0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(u0||(u0={}));var c0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(c0||(c0={}));var f0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(f0||(f0={}));var l0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(l0||(l0={}));var d0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(d0||(d0={}));var h0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(h0||(h0={}));var p0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(p0||(p0={}));var v0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(v0||(v0={}));var g0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(g0||(g0={}));var m0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(m0||(m0={}));var y0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(y0||(y0={}));var Kl;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(Kl||(Kl={}));var Hl;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(Hl||(Hl={}));var w0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(w0||(w0={}));var b0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(b0||(b0={}));var _0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_0||(_0={}));var S0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(S0||(S0={}));var E0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(E0||(E0={}));var C0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(C0||(C0={}));var A0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(A0||(A0={}));var x0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(x0||(x0={}));var T0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(T0||(T0={}));var I0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(I0||(I0={}));var O0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(O0||(O0={}));var k0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(k0||(k0={}));var P0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(P0||(P0={}));var N0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(N0||(N0={}));var R0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(R0||(R0={}));var M0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(M0||(M0={}));var D0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(D0||(D0={}));var L0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(L0||(L0={}));var U0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(U0||(U0={}));var B0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(B0||(B0={}));var F0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(F0||(F0={}));var j0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(j0||(j0={}));var $0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($0||($0={}));var z0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(z0||(z0={}));var q0;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(q0||(q0={}));var K0;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(K0||(K0={}));var H0;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.AnalyticsConfigurationList&&{AnalyticsConfigurationList:t.AnalyticsConfigurationList.map(function(r){return Go.filterSensitiveLog(r)})})}})(H0||(H0={}));var G0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(G0||(G0={}));var V0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(V0||(V0={}));var W0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(W0||(W0={}));var J0;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.InventoryConfigurationList&&{InventoryConfigurationList:t.InventoryConfigurationList.map(function(r){return Vo.filterSensitiveLog(r)})})}})(J0||(J0={}));var Y0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Y0||(Y0={}));var X0;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.MetricsConfigurationList&&{MetricsConfigurationList:t.MetricsConfigurationList.map(function(r){return Wo.filterSensitiveLog(r)})})}})(X0||(X0={}));var Q0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Q0||(Q0={}));var Z0;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Z0||(Z0={}));var ew;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ew||(ew={}));var tw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(tw||(tw={}));var rw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(rw||(rw={}));var nw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(nw||(nw={}));var iw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(iw||(iw={}));var ow;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ow||(ow={}));var aw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(aw||(aw={}));var Gl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gl||(Gl={}));var Vl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vl||(Vl={}));var Wl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Wl||(Wl={}));var Jl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jl||(Jl={}));var sw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sw||(sw={}));var uw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(uw||(uw={}));var cw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cw||(cw={}));var fw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fw||(fw={}));var lw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lw||(lw={}));var Yl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Yl||(Yl={}));var Xl;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Xl||(Xl={}));var dw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(dw||(dw={}));var hw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hw||(hw={}));var pw;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.AnalyticsConfiguration&&{AnalyticsConfiguration:Go.filterSensitiveLog(t.AnalyticsConfiguration)})}})(pw||(pw={}));var vw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vw||(vw={}));var gw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gw||(gw={}));var mw;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Zs.filterSensitiveLog(t.ServerSideEncryptionConfiguration)})}})(mw||(mw={}));var yw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yw||(yw={}));var ww;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.InventoryConfiguration&&{InventoryConfiguration:Vo.filterSensitiveLog(t.InventoryConfiguration)})}})(ww||(ww={}));var Ql;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Rules&&{Rules:t.Rules.map(function(r){return eu.filterSensitiveLog(r)})})}})(Ql||(Ql={}));var bw;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.LifecycleConfiguration&&{LifecycleConfiguration:Ql.filterSensitiveLog(t.LifecycleConfiguration)})}})(bw||(bw={}));var _w;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_w||(_w={}));var Sw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sw||(Sw={}));var Ew;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.MetricsConfiguration&&{MetricsConfiguration:Wo.filterSensitiveLog(t.MetricsConfiguration)})}})(Ew||(Ew={}));var Cw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Cw||(Cw={}));var Aw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Aw||(Aw={}));var xw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xw||(xw={}));var Tw;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.ReplicationConfiguration&&{ReplicationConfiguration:tu.filterSensitiveLog(t.ReplicationConfiguration)})}})(Tw||(Tw={}));var Iw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Iw||(Iw={}));var Ow;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ow||(Ow={}));var kw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(kw||(kw={}));var Pw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Pw||(Pw={}));var Nw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Nw||(Nw={}));var Rw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Rw||(Rw={}));var Mw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Mw||(Mw={}));var Dw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Dw||(Dw={}));var Zl;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(Zl||(Zl={}));var ed;(function(e){e.filterSensitiveLog=function(t){return p(p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae}),t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ae})}})(ed||(ed={}));var Lw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Lw||(Lw={}));var Uw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Uw||(Uw={}));var Bw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Bw||(Bw={}));var Fw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Fw||(Fw={}));var jw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(jw||(jw={}));var $w;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})($w||($w={}));var zw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(zw||(zw={}));var qw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(qw||(qw={}));var Kw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Kw||(Kw={}));var Hw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Hw||(Hw={}));var Gw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Gw||(Gw={}));var Vw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Vw||(Vw={}));var Ww;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ww||(Ww={}));var Jw;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Jw||(Jw={}));var td;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.KMSKeyId&&{KMSKeyId:Ae})}})(td||(td={}));function a3(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var us=function(){function e(t,r){r===void 0&&(r=[]),this.name=t,this.children=r,this.attributes={}}return e.prototype.withName=function(t){return this.name=t,this},e.prototype.addAttribute=function(t,r){return this.attributes[t]=r,this},e.prototype.addChildNode=function(t){return this.children.push(t),this},e.prototype.removeAttribute=function(t){return delete this.attributes[t],this},e.prototype.toString=function(){var t,r,n=Boolean(this.children.length),i="<"+this.name,o=this.attributes;try{for(var a=N.exports.__values(Object.keys(o)),s=a.next();!s.done;s=a.next()){var c=s.value,u=o[c];typeof u!="undefined"&&u!==null&&(i+=" "+c+'="'+a3(""+u)+'"')}}catch(f){t={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i+=n?">"+this.children.map(function(f){return f.toString()}).join("")+"</"+this.name+">":"/>"},e}();function s3(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Yw=function(){function e(t){this.value=t}return e.prototype.toString=function(){return s3(""+this.value)},e}(),KC={},HC={},zr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),o=function(s,c){const u=[];let f=c.exec(s);for(;f;){const l=[];l.startIndex=c.lastIndex-f[0].length;const d=f.length;for(let h=0;h<d;h++)l.push(f[h]);u.push(l),f=c.exec(s)}return u},a=function(s){const c=i.exec(s);return!(c===null||typeof c=="undefined")};e.isExist=function(s){return typeof s!="undefined"},e.isEmptyObject=function(s){return Object.keys(s).length===0},e.merge=function(s,c,u){if(c){const f=Object.keys(c),l=f.length;for(let d=0;d<l;d++)u==="strict"?s[f[d]]=[c[f[d]]]:s[f[d]]=c[f[d]]}},e.getValue=function(s){return e.isExist(s)?s:""},e.buildOptions=function(s,c,u){let f={};if(!s)return c;for(let l=0;l<u.length;l++)s[u[l]]!==void 0?f[u[l]]=s[u[l]]:f[u[l]]=c[u[l]];return f},e.isTagNameInArrayMode=function(s,c,u){return c===!1?!1:c instanceof RegExp?c.test(s):typeof c=="function"?!!c(s,u):c==="strict"},e.isName=a,e.getAllMatches=o,e.nameRegexp=n})(zr);const Fn=zr,rd=function(e,t,r){const n={};if(!t.alwaysCreateTextNode&&(!e.child||Fn.isEmptyObject(e.child))&&(!e.attrsMap||Fn.isEmptyObject(e.attrsMap)))return Fn.isExist(e.val)?e.val:"";if(Fn.isExist(e.val)&&!(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar))){const o=Fn.isTagNameInArrayMode(e.tagname,t.arrayMode,r);n[t.textNodeName]=o?[e.val]:e.val}Fn.merge(n,e.attrsMap,t.arrayMode);const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const a=i[o];if(e.child[a]&&e.child[a].length>1){n[a]=[];for(let s in e.child[a])e.child[a].hasOwnProperty(s)&&n[a].push(rd(e.child[a][s],t,a))}else{const s=rd(e.child[a][0],t,a),c=t.arrayMode===!0&&typeof s=="object"||Fn.isTagNameInArrayMode(a,t.arrayMode,r);n[a]=c?[s]:s}}return n};HC.convertToJson=rd;var si={},u3=function(e,t,r){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=r,this.addChild=function(n){Array.isArray(this.child[n.tagname])?this.child[n.tagname].push(n):this.child[n.tagname]=[n]}};const c3=/^[-+]?0x[a-fA-F0-9]+$/,f3=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const l3={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function d3(e,t={}){if(t=Object.assign({},l3,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&c3.test(r))return Number.parseInt(r,16);{const n=f3.exec(r);if(n){const i=n[1],o=n[2];let a=h3(n[3]);const s=n[4]||n[6];if(!t.leadingZeros&&o.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!i&&r[1]!==".")return e;{const c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||s?t.eNotation?c:e:r.indexOf(".")!==-1?u==="0"&&a===""||u===a||i&&u==="-"+a?c:e:o?a===u||i+a===u?c:e:r===u||r===i+u?c:e}}else return e}}function h3(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var p3=d3;const Wn=zr,v3=zr.buildOptions,La=u3,g3=p3;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Wn.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const GC={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};si.defaultOptions=GC;const VC=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];si.props=VC;function Ua(e,t,r){return t&&(r.trimValues&&(t=t.trim()),t=r.tagValueProcessor(t,e),t=WC(t,r.parseNodeValue,r.numParseOptions)),t}function m3(e,t){if(t.ignoreNameSpace){const r=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(r[0]==="xmlns")return"";r.length===2&&(e=n+r[1])}return e}function WC(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:g3(e,r)}else return Wn.isExist(e)?e:""}const y3=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function Xw(e,t){if(!t.ignoreAttributes&&typeof e=="string"){e=e.replace(/\r?\n/g," ");const r=Wn.getAllMatches(e,y3),n=r.length,i={};for(let o=0;o<n;o++){const a=m3(r[o][1],t);a.length&&(r[o][4]!==void 0?(t.trimValues&&(r[o][4]=r[o][4].trim()),r[o][4]=t.attrValueProcessor(r[o][4],a),i[t.attributeNamePrefix+a]=WC(r[o][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+a]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const o={};return o[t.attrNodeName]=i,o}return i}}const w3=function(e,t){e=e.replace(/\r\n?/g,`
`),t=v3(t,GC,VC);const r=new La("!xml");let n=r,i="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const s=lo(e,">",o,"Closing Tag is not closed.");let c=e.substring(o+2,s).trim();if(t.ignoreNameSpace){const u=c.indexOf(":");u!==-1&&(c=c.substr(u+1))}n&&(n.val?n.val=Wn.getValue(n.val)+""+Ua(c,i,t):n.val=Ua(c,i,t)),t.stopNodes.length&&t.stopNodes.includes(n.tagname)&&(n.child=[],n.attrsMap==null&&(n.attrsMap={}),n.val=e.substr(n.startIndex+1,o-n.startIndex-1)),n=n.parent,i="",o=s}else if(e[o+1]==="?")o=lo(e,"?>",o,"Pi Tag is not closed.");else if(e.substr(o+1,3)==="!--")o=lo(e,"-->",o,"Comment is not closed.");else if(e.substr(o+1,2)==="!D"){const s=lo(e,">",o,"DOCTYPE is not closed.");e.substring(o,s).indexOf("[")>=0?o=e.indexOf("]>",o)+1:o=s}else if(e.substr(o+1,2)==="!["){const s=lo(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,s);if(i&&(n.val=Wn.getValue(n.val)+""+Ua(n.tagname,i,t),i=""),t.cdataTagName){const u=new La(t.cdataTagName,n,c);n.addChild(u),n.val=Wn.getValue(n.val)+t.cdataPositionChar,c&&(u.val=c)}else n.val=(n.val||"")+(c||"");o=s+2}else{const s=b3(e,o+1);let c=s.data;const u=s.index,f=c.indexOf(" ");let l=c,d=!0;if(f!==-1&&(l=c.substr(0,f).replace(/\s\s*$/,""),c=c.substr(f+1)),t.ignoreNameSpace){const h=l.indexOf(":");h!==-1&&(l=l.substr(h+1),d=l!==s.data.substr(h+1))}if(n&&i&&n.tagname!=="!xml"&&(n.val=Wn.getValue(n.val)+""+Ua(n.tagname,i,t)),c.length>0&&c.lastIndexOf("/")===c.length-1){l[l.length-1]==="/"?(l=l.substr(0,l.length-1),c=l):c=c.substr(0,c.length-1);const h=new La(l,n,"");l!==c&&(h.attrsMap=Xw(c,t)),n.addChild(h)}else{const h=new La(l,n);t.stopNodes.length&&t.stopNodes.includes(h.tagname)&&(h.startIndex=u),l!==c&&d&&(h.attrsMap=Xw(c,t)),n.addChild(h),n=h}i="",o=u}else i+=e[o];return r};function b3(e,t){let r,n="";for(let i=t;i<e.length;i++){let o=e[i];if(r)o===r&&(r="");else if(o==='"'||o==="'")r=o;else{if(o===">")return{data:n,index:i};o==="	"&&(o=" ")}n+=o}}function lo(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}si.getTraversalObj=w3;var JC={};const ju=zr,_3={allowBooleanAttributes:!1},S3=["allowBooleanAttributes"];JC.validate=function(e,t){t=ju.buildOptions(t,_3,S3);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=Qw(e,o),o.err)return o}else if(e[o]==="<"){let a=o;if(o++,e[o]==="!"){o=Zw(e,o);continue}else{let s=!1;e[o]==="/"&&(s=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!k3(c)){let l;return c.trim().length===0?l="Invalid space after '<'.":l="Tag '"+c+"' is an invalid name.",Xe("InvalidTag",l,$t(e,o))}const u=A3(e,o);if(u===!1)return Xe("InvalidAttr","Attributes for '"+c+"' have open quote.",$t(e,o));let f=u.value;if(o=u.index,f[f.length-1]==="/"){const l=o-f.length;f=f.substring(0,f.length-1);const d=eb(f,t);if(d===!0)n=!0;else return Xe(d.err.code,d.err.msg,$t(e,l+d.err.line))}else if(s)if(u.tagClosed){if(f.trim().length>0)return Xe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",$t(e,a));{const l=r.pop();if(c!==l.tagName){let d=$t(e,l.tagStartPos);return Xe("InvalidTag","Expected closing tag '"+l.tagName+"' (opened in line "+d.line+", col "+d.col+") instead of closing tag '"+c+"'.",$t(e,a))}r.length==0&&(i=!0)}}else return Xe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",$t(e,o));else{const l=eb(f,t);if(l!==!0)return Xe(l.err.code,l.err.msg,$t(e,o-f.length+l.err.line));if(i===!0)return Xe("InvalidXml","Multiple possible root nodes found.",$t(e,o));r.push({tagName:c,tagStartPos:a}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=Zw(e,o);continue}else if(e[o+1]==="?"){if(o=Qw(e,++o),o.err)return o}else break;else if(e[o]==="&"){const l=I3(e,o);if(l==-1)return Xe("InvalidChar","char '&' is not expected.",$t(e,o));o=l}e[o]==="<"&&o--}}else{if(e[o]===" "||e[o]==="	"||e[o]===`
`||e[o]==="\r")continue;return Xe("InvalidChar","char '"+e[o]+"' is not expected.",$t(e,o))}if(n){if(r.length==1)return Xe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",$t(e,r[0].tagStartPos));if(r.length>0)return Xe("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Xe("InvalidXml","Start tag expected.",1);return!0};function Qw(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return Xe("InvalidXml","XML declaration allowed only at the start of the document.",$t(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Zw(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const E3='"',C3="'";function A3(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===E3||e[t]===C3)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const x3=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function eb(e,t){const r=ju.getAllMatches(e,x3),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Xe("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",Ba(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return Xe("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",Ba(r[i]));const o=r[i][2];if(!O3(o))return Xe("InvalidAttr","Attribute '"+o+"' is an invalid name.",Ba(r[i]));if(!n.hasOwnProperty(o))n[o]=1;else return Xe("InvalidAttr","Attribute '"+o+"' is repeated.",Ba(r[i]))}return!0}function T3(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function I3(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,T3(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function Xe(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function O3(e){return ju.isName(e)}function k3(e){return ju.isName(e)}function $t(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ba(e){return e.startIndex+e[1].length}var YC={};const Nr=function(e){return String.fromCharCode(e)},Je={nilChar:Nr(176),missingChar:Nr(201),nilPremitive:Nr(175),missingPremitive:Nr(200),emptyChar:Nr(178),emptyValue:Nr(177),boundryChar:Nr(179),objStart:Nr(198),arrStart:Nr(204),arrayEnd:Nr(185)},P3=[Je.nilChar,Je.nilPremitive,Je.missingChar,Je.missingPremitive,Je.boundryChar,Je.emptyChar,Je.emptyValue,Je.arrayEnd,Je.objStart,Je.arrStart],_o=function(e,t,r){if(typeof t=="string")return e&&e[0]&&e[0].val!==void 0?zc(e[0].val):zc(e);{const n=N3(e);if(n===!0){let i="";if(Array.isArray(t)){i+=Je.arrStart;const o=t[0],a=e.length;if(typeof o=="string")for(let s=0;s<a;s++){const c=zc(e[s].val);i=qc(i,c)}else for(let s=0;s<a;s++){const c=_o(e[s],o,r);i=qc(i,c)}i+=Je.arrayEnd}else{i+=Je.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let a in o){const s=o[a];let c;!r.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?c=_o(e.attrsMap[s],t[s],r):s===r.textNodeName?c=_o(e.val,t[s],r):c=_o(e.child[s],t[s],r),i=qc(i,c)}}return i}else return n}},zc=function(e){switch(e){case void 0:return Je.missingPremitive;case null:return Je.nilPremitive;case"":return Je.emptyValue;default:return e}},qc=function(e,t){return!tb(t[0])&&!tb(e[e.length-1])&&(e+=Je.boundryChar),e+t},tb=function(e){return P3.indexOf(e)!==-1};function N3(e){return e===void 0?Je.missingChar:e===null?Je.nilChar:e.child&&Object.keys(e.child).length===0&&(!e.attrsMap||Object.keys(e.attrsMap).length===0)?Je.emptyChar:!0}const rb=si,R3=zr.buildOptions,M3=function(e,t,r){return r=R3(r,rb.defaultOptions,rb.props),_o(e,t,r)};YC.convert2nimn=M3;var XC={};const Fa=zr,D3=zr.buildOptions,nb=si,L3=function(e,t){return t=D3(t,nb.defaultOptions,nb.props),t.indentBy=t.indentBy||"",nd(e,t)},nd=function(e,t,r){let n="{";const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const a=i[o];if(e.child[a]&&e.child[a].length>1){n+='"'+a+'" : [ ';for(let s in e.child[a])n+=nd(e.child[a][s],t)+" , ";n=n.substr(0,n.length-1)+" ] "}else n+='"'+a+'" : '+nd(e.child[a][0],t)+" ,"}return Fa.merge(n,e.attrsMap),Fa.isEmptyObject(n)?Fa.isExist(e.val)?e.val:"":(Fa.isExist(e.val)&&(typeof e.val=="string"&&(e.val===""||e.val===t.cdataPositionChar)||(n+='"'+t.textNodeName+'" : '+U3(e.val))),n[n.length-1]===","&&(n=n.substr(0,n.length-2)),n+"}")};function U3(e){return e===!0||e===!1||!isNaN(e)?e:'"'+e+'"'}XC.convertToJsonString=L3;const B3=zr.buildOptions,F3={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},j3=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function Nh(e){this.options=B3(e,F3,j3),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=V3),this.options.cdataTagName?this.isCDATA=W3:this.isCDATA=function(){return!1},this.replaceCDATAstr=z3,this.replaceCDATAarr=q3,this.processTextOrObjNode=$3,this.options.format?(this.indentate=G3,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=H3,this.buildObjNode=K3):(this.buildTextNode=ob,this.buildObjNode=ib),this.buildTextValNode=ob,this.buildObjectNode=ib}Nh.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val};Nh.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(typeof e[i]!="undefined")if(e[i]===null)n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextNode(e[i],i,"",t);else if(typeof e[i]!="object"){const o=this.isAttribute(i);o?r+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?n+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(n+=this.options.tagValueProcessor(""+e[i])):n+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))n+=this.indentate(t),e[this.options.textNodeName]?n+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):n+=this.replaceCDATAarr("",e[i]);else{const o=e[i].length;for(let a=0;a<o;a++){const s=e[i][a];typeof s=="undefined"||(s===null?n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof s=="object"?n+=this.processTextOrObjNode(s,i,t):n+=this.buildTextNode(s,i,"",t))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const o=Object.keys(e[i]),a=o.length;for(let s=0;s<a;s++)r+=" "+o[s]+'="'+this.options.attrValueProcessor(""+e[i][o[s]])+'"'}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};function $3(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextNode(n.val,t,n.attrStr,r):this.buildObjNode(n.val,t,n.attrStr,r)}function z3(e,t){return e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e===""?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function q3(e,t){if(e=this.options.tagValueProcessor(""+e),this.options.cdataPositionChar===""||e==="")return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[r]+"]]>");return e+this.newLine}function ib(e,t,r,n){return r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+">"+e+"</"+t+this.tagEndChar:this.indentate(n)+"<"+t+r+this.tagEndChar+e+this.indentate(n)+"</"+t+this.tagEndChar}function K3(e,t,r,n){return e!==""?this.buildObjectNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function ob(e,t,r,n){return this.indentate(n)+"<"+t+r+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function H3(e,t,r,n){return e!==""?this.buildTextValNode(e,t,r,n):this.indentate(n)+"<"+t+r+"/"+this.tagEndChar}function G3(e){return this.options.indentBy.repeat(e)}function V3(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}function W3(e){return e===this.options.cdataTagName}var J3=Nh;(function(e){const t=HC,r=si,n=si,i=zr.buildOptions,o=JC;e.parse=function(a,s={},c){if(c){c===!0&&(c={});const l=o.validate(a,c);if(l!==!0)throw Error(l.err.msg)}s.parseTrueNumberOnly&&s.parseNodeValue!==!1&&!s.numParseOptions&&(s.numParseOptions={leadingZeros:!1});let u=i(s,n.defaultOptions,n.props);const f=r.getTraversalObj(a,u);return t.convertToJson(f,u)},e.convertTonimn=YC.convert2nimn,e.getTraversalObj=r.getTraversalObj,e.convertToJson=t.convertToJson,e.convertToJsonString=XC.convertToJsonString,e.validate=o.validate,e.j2xParser=J3,e.parseToNimn=function(a,s,c){return e.convertTonimn(e.getTraversalObj(a,c),s,c)}})(KC);var Y3=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ye(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p({"x-id":"AbortMultipartUpload"},e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"DELETE",headers:r,path:n,query:o,body:a})]}})})},X3=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l,d;return be(this,function(h){switch(h.label){case 0:if(r=p(p({"content-type":"application/xml"},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(v){return Ye(v)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p({},e.UploadId!==void 0&&{uploadId:e.UploadId}),e.MultipartUpload!==void 0&&(s=RB(e.MultipartUpload),a='<?xml version="1.0" encoding="UTF-8"?>',s.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),a+=s.toString()),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,f=c.protocol,l=f===void 0?"https":f,d=c.port,[2,new Ge({protocol:l,hostname:u,port:d,method:"POST",headers:r,path:n,query:o,body:a})]}})})},Q3=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p({},J(e.ACL)&&{"x-amz-acl":e.ACL}),J(e.CacheControl)&&{"cache-control":e.CacheControl}),J(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),J(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),J(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),J(e.ContentType)&&{"content-type":e.ContentType}),J(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),J(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),J(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":Qn(e.CopySourceIfModifiedSince).toString()}),J(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),J(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":Qn(e.CopySourceIfUnmodifiedSince).toString()}),J(e.Expires)&&{expires:Qn(e.Expires).toString()}),J(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),J(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),J(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),J(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),J(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),J(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),J(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),J(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),J(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),J(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),J(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),J(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),J(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),J(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.Tagging)&&{"x-amz-tagging":e.Tagging}),J(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),J(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),J(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),J(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(h,v){var g;return p(p({},h),(g={},g["x-amz-meta-"+v.toLowerCase()]=e.Metadata[v],g))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ye(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"PUT",headers:r,path:n,query:o,body:a})]}})})},Z3=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p({},J(e.ACL)&&{"x-amz-acl":e.ACL}),J(e.CacheControl)&&{"cache-control":e.CacheControl}),J(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),J(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),J(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),J(e.ContentType)&&{"content-type":e.ContentType}),J(e.Expires)&&{expires:Qn(e.Expires).toString()}),J(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),J(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),J(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),J(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),J(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),J(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),J(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),J(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),J(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.Tagging)&&{"x-amz-tagging":e.Tagging}),J(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),J(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),J(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(h,v){var g;return p(p({},h),(g={},g["x-amz-meta-"+v.toLowerCase()]=e.Metadata[v],g))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ye(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={uploads:""},[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"POST",headers:r,path:n,query:o,body:a})]}})})},eB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p(p(p({},J(e.MFA)&&{"x-amz-mfa":e.MFA}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ye(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p({"x-id":"DeleteObject"},e.VersionId!==void 0&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"DELETE",headers:r,path:n,query:o,body:a})]}})})},tB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p({},J(e.IfMatch)&&{"if-match":e.IfMatch}),J(e.IfModifiedSince)&&{"if-modified-since":Qn(e.IfModifiedSince).toString()}),J(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),J(e.IfUnmodifiedSince)&&{"if-unmodified-since":Qn(e.IfUnmodifiedSince).toString()}),J(e.Range)&&{range:e.Range}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ye(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p(p(p(p(p(p(p(p({"x-id":"GetObject"},e.ResponseCacheControl!==void 0&&{"response-cache-control":e.ResponseCacheControl}),e.ResponseContentDisposition!==void 0&&{"response-content-disposition":e.ResponseContentDisposition}),e.ResponseContentEncoding!==void 0&&{"response-content-encoding":e.ResponseContentEncoding}),e.ResponseContentLanguage!==void 0&&{"response-content-language":e.ResponseContentLanguage}),e.ResponseContentType!==void 0&&{"response-content-type":e.ResponseContentType}),e.ResponseExpires!==void 0&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),e.VersionId!==void 0&&{versionId:e.VersionId}),e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},rB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return o=p(p(p(p(p({},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.Marker!==void 0&&{marker:e.Marker}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},nB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");return o=p(p(p(p(p(p(p({"list-type":"2"},e.Delimiter!==void 0&&{delimiter:e.Delimiter}),e.EncodingType!==void 0&&{"encoding-type":e.EncodingType}),e.MaxKeys!==void 0&&{"max-keys":e.MaxKeys.toString()}),e.Prefix!==void 0&&{prefix:e.Prefix}),e.ContinuationToken!==void 0&&{"continuation-token":e.ContinuationToken}),e.FetchOwner!==void 0&&{"fetch-owner":e.FetchOwner.toString()}),e.StartAfter!==void 0&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},iB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:if(r=p(p({},J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(h){return Ye(h)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p(p(p({"x-id":"ListParts"},e.MaxParts!==void 0&&{"max-parts":e.MaxParts.toString()}),e.PartNumberMarker!==void 0&&{"part-number-marker":e.PartNumberMarker}),e.UploadId!==void 0&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=d.sent(),c=s.hostname,u=s.protocol,f=u===void 0?"https":u,l=s.port,[2,new Ge({protocol:f,hostname:c,port:l,method:"GET",headers:r,path:n,query:o,body:a})]}})})},oB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l,d;return be(this,function(h){switch(h.label){case 0:if(r=p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p(p({"content-type":"application/octet-stream"},J(e.ACL)&&{"x-amz-acl":e.ACL}),J(e.CacheControl)&&{"cache-control":e.CacheControl}),J(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),J(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),J(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),J(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),J(e.ContentMD5)&&{"content-md5":e.ContentMD5}),J(e.ContentType)&&{"content-type":e.ContentType}),J(e.Expires)&&{expires:Qn(e.Expires).toString()}),J(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),J(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),J(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),J(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),J(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),J(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),J(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),J(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),J(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.Tagging)&&{"x-amz-tagging":e.Tagging}),J(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),J(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),J(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),e.Metadata!==void 0&&Object.keys(e.Metadata).reduce(function(v,g){var _;return p(p({},v),(_={},_["x-amz-meta-"+g.toLowerCase()]=e.Metadata[g],_))},{})),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(v){return Ye(v)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o={"x-id":"PutObject"},e.Body!==void 0&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,f=c.protocol,l=f===void 0?"https":f,d=c.port,[2,new Ge({protocol:l,hostname:u,port:d,method:"PUT",headers:r,path:n,query:o,body:a})]}})})},aB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,i,o,a,s,c,u,f,l,d;return be(this,function(h){switch(h.label){case 0:if(r=p(p(p(p(p(p(p({"content-type":"application/octet-stream"},J(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),J(e.ContentMD5)&&{"content-md5":e.ContentMD5}),J(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),J(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),J(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),J(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),J(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),n="/{Bucket}/{Key+}",e.Bucket!==void 0){if(i=e.Bucket,i.length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");n=n.replace("{Bucket}",Ye(i))}else throw new Error("No value provided for input HTTP label: Bucket.");if(e.Key!==void 0){if(i=e.Key,i.length<=0)throw new Error("Empty value provided for input HTTP label: Key.");n=n.replace("{Key+}",i.split("/").map(function(v){return Ye(v)}).join("/"))}else throw new Error("No value provided for input HTTP label: Key.");return o=p(p({"x-id":"UploadPart"},e.PartNumber!==void 0&&{partNumber:e.PartNumber.toString()}),e.UploadId!==void 0&&{uploadId:e.UploadId}),e.Body!==void 0&&(s=e.Body,a=s),[4,t.endpoint()];case 1:return c=h.sent(),u=c.hostname,f=c.protocol,l=f===void 0?"https":f,d=c.port,[2,new Ge({protocol:l,hostname:u,port:d,method:"PUT",headers:r,path:n,query:o,body:a})]}})})},sB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,uB(e,t)]:(r={$metadata:_e(e),RequestCharged:void 0},e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ca(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},uB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[p({},e)],f={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Ir(e,r.body),a=o,a){case"NoSuchUpload":return[3,2];case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,PB(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},cB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,fB(e,t)]:(r={$metadata:_e(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,st(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.ETag!==void 0&&(r.ETag=n.ETag),n.Key!==void 0&&(r.Key=n.Key),n.Location!==void 0&&(r.Location=n.Location),[2,Promise.resolve(r)]}})})},fB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Ir(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=p(p({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},lB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,dB(e,t)]:(r={$metadata:_e(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-copy-source-version-id"]!==void 0&&(r.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,st(e.body,t)]);case 1:return n=i.sent(),r.CopyObjectResult=UB(n),[2,Promise.resolve(r)]}})})},dB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[p({},e)],f={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Ir(e,r.body),a=o,a){case"ObjectNotInActiveTierError":return[3,2];case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,NB(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},hB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,pB(e,t)]:(r={$metadata:_e(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,st(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.Key!==void 0&&(r.Key=n.Key),n.UploadId!==void 0&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},pB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Ir(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=p(p({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},vB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==204&&e.statusCode>=300?[2,gB(e,t)]:(r={$metadata:_e(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ca(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},gB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Ir(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=p(p({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},mB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){return e.statusCode!==200&&e.statusCode>=300?[2,yB(e,t)]:(r={$metadata:_e(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},e.headers["x-amz-delete-marker"]!==void 0&&(r.DeleteMarker=e.headers["x-amz-delete-marker"]==="true"),e.headers["accept-ranges"]!==void 0&&(r.AcceptRanges=e.headers["accept-ranges"]),e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers["x-amz-restore"]!==void 0&&(r.Restore=e.headers["x-amz-restore"]),e.headers["last-modified"]!==void 0&&(r.LastModified=new Date(e.headers["last-modified"])),e.headers["content-length"]!==void 0&&(r.ContentLength=parseInt(e.headers["content-length"],10)),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-missing-meta"]!==void 0&&(r.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["cache-control"]!==void 0&&(r.CacheControl=e.headers["cache-control"]),e.headers["content-disposition"]!==void 0&&(r.ContentDisposition=e.headers["content-disposition"]),e.headers["content-encoding"]!==void 0&&(r.ContentEncoding=e.headers["content-encoding"]),e.headers["content-language"]!==void 0&&(r.ContentLanguage=e.headers["content-language"]),e.headers["content-range"]!==void 0&&(r.ContentRange=e.headers["content-range"]),e.headers["content-type"]!==void 0&&(r.ContentType=e.headers["content-type"]),e.headers.expires!==void 0&&(r.Expires=new Date(e.headers.expires)),e.headers["x-amz-website-redirect-location"]!==void 0&&(r.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-storage-class"]!==void 0&&(r.StorageClass=e.headers["x-amz-storage-class"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),e.headers["x-amz-replication-status"]!==void 0&&(r.ReplicationStatus=e.headers["x-amz-replication-status"]),e.headers["x-amz-mp-parts-count"]!==void 0&&(r.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),e.headers["x-amz-tagging-count"]!==void 0&&(r.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),e.headers["x-amz-object-lock-mode"]!==void 0&&(r.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),e.headers["x-amz-object-lock-retain-until-date"]!==void 0&&(r.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),e.headers["x-amz-object-lock-legal-hold"]!==void 0&&(r.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach(function(o){r.Metadata===void 0&&(r.Metadata={}),o.startsWith("x-amz-meta-")&&(r.Metadata[o.substring(11)]=e.headers[o])}),n=e.body,r.Body=n,[2,Promise.resolve(r)])})})},yB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f,l;return be(this,function(d){switch(d.label){case 0:return n=[p({},e)],l={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(l.body=d.sent(),l)])),o="UnknownError",o=Ir(e,r.body),a=o,a){case"InvalidObjectState":return[3,2];case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":return[3,4];case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,OB(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,s.concat([d.sent()])),{name:o,$metadata:_e(e)}]),[3,7];case 4:return c=[{}],[4,kB(r)];case 5:return i=p.apply(void 0,[p.apply(void 0,c.concat([d.sent()])),{name:o,$metadata:_e(e)}]),[3,7];case 6:u=r.body,o=u.code||u.Code||o,i=p(p({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:_e(e)}),d.label=7;case 7:return f=i.message||i.Message||o,i.message=f,delete i.Message,[2,Promise.reject(Object.assign(new Error(f),i))]}})})},wB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,bB(e,t)]:(r={$metadata:_e(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,st(e.body,t)]);case 1:return n=i.sent(),n.CommonPrefixes===""&&(r.CommonPrefixes=[]),n.CommonPrefixes!==void 0&&(r.CommonPrefixes=ZC(qo(n.CommonPrefixes))),n.Contents===""&&(r.Contents=[]),n.Contents!==void 0&&(r.Contents=eA(qo(n.Contents))),n.Delimiter!==void 0&&(r.Delimiter=n.Delimiter),n.EncodingType!==void 0&&(r.EncodingType=n.EncodingType),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.Marker!==void 0&&(r.Marker=n.Marker),n.MaxKeys!==void 0&&(r.MaxKeys=parseInt(n.MaxKeys)),n.Name!==void 0&&(r.Name=n.Name),n.NextMarker!==void 0&&(r.NextMarker=n.NextMarker),n.Prefix!==void 0&&(r.Prefix=n.Prefix),[2,Promise.resolve(r)]}})})},bB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[p({},e)],f={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Ir(e,r.body),a=o,a){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,QC(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},_B=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,SB(e,t)]:(r={$metadata:_e(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,st(e.body,t)]);case 1:return n=i.sent(),n.CommonPrefixes===""&&(r.CommonPrefixes=[]),n.CommonPrefixes!==void 0&&(r.CommonPrefixes=ZC(qo(n.CommonPrefixes))),n.Contents===""&&(r.Contents=[]),n.Contents!==void 0&&(r.Contents=eA(qo(n.Contents))),n.ContinuationToken!==void 0&&(r.ContinuationToken=n.ContinuationToken),n.Delimiter!==void 0&&(r.Delimiter=n.Delimiter),n.EncodingType!==void 0&&(r.EncodingType=n.EncodingType),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.KeyCount!==void 0&&(r.KeyCount=parseInt(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=parseInt(n.MaxKeys)),n.Name!==void 0&&(r.Name=n.Name),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=n.NextContinuationToken),n.Prefix!==void 0&&(r.Prefix=n.Prefix),n.StartAfter!==void 0&&(r.StartAfter=n.StartAfter),[2,Promise.resolve(r)]}})})},SB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c,u,f;return be(this,function(l){switch(l.label){case 0:return n=[p({},e)],f={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(f.body=l.sent(),f)])),o="UnknownError",o=Ir(e,r.body),a=o,a){case"NoSuchBucket":return[3,2];case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,QC(r)];case 3:return i=p.apply(void 0,[p.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:_e(e)}]),[3,5];case 4:c=r.body,o=c.code||c.Code||o,i=p(p({},c),{name:""+o,message:c.message||c.Message||o,$fault:"client",$metadata:_e(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}})})},EB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){switch(i.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,CB(e,t)]:(r={$metadata:_e(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},e.headers["x-amz-abort-date"]!==void 0&&(r.AbortDate=new Date(e.headers["x-amz-abort-date"])),e.headers["x-amz-abort-rule-id"]!==void 0&&(r.AbortRuleId=e.headers["x-amz-abort-rule-id"]),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,st(e.body,t)]);case 1:return n=i.sent(),n.Bucket!==void 0&&(r.Bucket=n.Bucket),n.Initiator!==void 0&&(r.Initiator=BB(n.Initiator)),n.IsTruncated!==void 0&&(r.IsTruncated=n.IsTruncated=="true"),n.Key!==void 0&&(r.Key=n.Key),n.MaxParts!==void 0&&(r.MaxParts=parseInt(n.MaxParts)),n.NextPartNumberMarker!==void 0&&(r.NextPartNumberMarker=n.NextPartNumberMarker),n.Owner!==void 0&&(r.Owner=tA(n.Owner)),n.PartNumberMarker!==void 0&&(r.PartNumberMarker=n.PartNumberMarker),n.Part===""&&(r.Parts=[]),n.Part!==void 0&&(r.Parts=$B(qo(n.Part))),n.StorageClass!==void 0&&(r.StorageClass=n.StorageClass),n.UploadId!==void 0&&(r.UploadId=n.UploadId),[2,Promise.resolve(r)]}})})},CB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Ir(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=p(p({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},AB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,xB(e,t)]:(r={$metadata:_e(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},e.headers["x-amz-expiration"]!==void 0&&(r.Expiration=e.headers["x-amz-expiration"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers["x-amz-version-id"]!==void 0&&(r.VersionId=e.headers["x-amz-version-id"]),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-context"]!==void 0&&(r.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ca(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},xB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Ir(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=p(p({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},TB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){switch(n.label){case 0:return e.statusCode!==200&&e.statusCode>=300?[2,IB(e,t)]:(r={$metadata:_e(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},e.headers["x-amz-server-side-encryption"]!==void 0&&(r.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),e.headers.etag!==void 0&&(r.ETag=e.headers.etag),e.headers["x-amz-server-side-encryption-customer-algorithm"]!==void 0&&(r.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),e.headers["x-amz-server-side-encryption-customer-key-md5"]!==void 0&&(r.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),e.headers["x-amz-server-side-encryption-aws-kms-key-id"]!==void 0&&(r.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0&&(r.BucketKeyEnabled=e.headers["x-amz-server-side-encryption-bucket-key-enabled"]==="true"),e.headers["x-amz-request-charged"]!==void 0&&(r.RequestCharged=e.headers["x-amz-request-charged"]),[4,ca(e.body,t)]);case 1:return n.sent(),[2,Promise.resolve(r)]}})})},IB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n,i,o,a,s,c;return be(this,function(u){switch(u.label){case 0:return n=[p({},e)],c={},[4,st(e.body,t)];case 1:switch(r=p.apply(void 0,n.concat([(c.body=u.sent(),c)])),o="UnknownError",o=Ir(e,r.body),o){default:a=r.body,o=a.code||a.Code||o,i=p(p({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:_e(e)})}return s=i.message||i.Message||o,i.message=s,delete i.Message,[2,Promise.reject(Object.assign(new Error(s),i))]}})})},OB=function(e,t){return we(void 0,void 0,void 0,function(){var r,n;return be(this,function(i){return r={name:"InvalidObjectState",$fault:"client",$metadata:_e(e),AccessTier:void 0,StorageClass:void 0},n=e.body,n.AccessTier!==void 0&&(r.AccessTier=n.AccessTier),n.StorageClass!==void 0&&(r.StorageClass=n.StorageClass),[2,r]})})},QC=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"NoSuchBucket",$fault:"client",$metadata:_e(e)},[2,r]})})},kB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"NoSuchKey",$fault:"client",$metadata:_e(e)},[2,r]})})},PB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"NoSuchUpload",$fault:"client",$metadata:_e(e)},[2,r]})})},NB=function(e,t){return we(void 0,void 0,void 0,function(){var r;return be(this,function(n){return r={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:_e(e)},[2,r]})})},RB=function(e,t){var r=new us("CompletedMultipartUpload");if(e.Parts!==void 0&&e.Parts!==null){var n=DB(e.Parts);n.map(function(i){i=i.withName("Part"),r.addChildNode(i)})}return r},MB=function(e,t){var r=new us("CompletedPart");if(e.ETag!==void 0&&e.ETag!==null){var n=new us("ETag").addChildNode(new Yw(e.ETag)).withName("ETag");r.addChildNode(n)}if(e.PartNumber!==void 0&&e.PartNumber!==null){var n=new us("PartNumber").addChildNode(new Yw(String(e.PartNumber))).withName("PartNumber");r.addChildNode(n)}return r},DB=function(e,t){return e.filter(function(r){return r!=null}).map(function(r){if(r===null)return null;var n=MB(r);return n.withName("member")})},LB=function(e,t){var r={Prefix:void 0};return e.Prefix!==void 0&&(r.Prefix=e.Prefix),r},ZC=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:LB(r)})},UB=function(e,t){var r={ETag:void 0,LastModified:void 0};return e.ETag!==void 0&&(r.ETag=e.ETag),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),r},BB=function(e,t){var r={ID:void 0,DisplayName:void 0};return e.ID!==void 0&&(r.ID=e.ID),e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),r},FB=function(e,t){var r={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return e.Key!==void 0&&(r.Key=e.Key),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=e.StorageClass),e.Owner!==void 0&&(r.Owner=tA(e.Owner)),r},eA=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:FB(r)})},tA=function(e,t){var r={DisplayName:void 0,ID:void 0};return e.DisplayName!==void 0&&(r.DisplayName=e.DisplayName),e.ID!==void 0&&(r.ID=e.ID),r},jB=function(e,t){var r={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return e.PartNumber!==void 0&&(r.PartNumber=parseInt(e.PartNumber)),e.LastModified!==void 0&&(r.LastModified=new Date(e.LastModified)),e.ETag!==void 0&&(r.ETag=e.ETag),e.Size!==void 0&&(r.Size=parseInt(e.Size)),r},$B=function(e,t){return(e||[]).filter(function(r){return r!=null}).map(function(r){return r===null?null:jB(r)})},_e=function(e){var t;return{httpStatusCode:e.statusCode,requestId:(t=e.headers["x-amzn-requestid"])!==null&&t!==void 0?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ca=function(e,t){return e===void 0&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},zB=function(e,t){return ca(e,t).then(function(r){return t.utf8Encoder(r)})},J=function(e){return e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0)},qB=function(e){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")},st=function(e,t){return zB(e,t).then(function(r){if(r.length){var n=KC.parse(r,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(s,c){return qB(s)}}),i="#text",o=Object.keys(n)[0],a=n[o];return a[i]&&(a[o]=a[i],delete a[i]),cC(a)}return{}})},Ir=function(e,t){return t.Code!==void 0?t.Code:e.statusCode==404?"NotFound":""},rA=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="AbortMultipartUploadCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:bl.filterSensitiveLog,outputFilterSensitiveLog:wl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return Y3(r,n)},t.prototype.deserialize=function(r,n){return sB(r,n)},t}(Wt),nA=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(qC(n)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="CompleteMultipartUploadCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Sl.filterSensitiveLog,outputFilterSensitiveLog:_l.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return X3(r,n)},t.prototype.deserialize=function(r,n){return cB(r,n)},t}(Wt);function KB(e){var t=this;return function(r){return function(n){return N.exports.__awaiter(t,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d,h,v,g,_,E,S,T,R;return N.exports.__generator(this,function(P){switch(P.label){case 0:i=N.exports.__assign({},n.input),o=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],P.label=1;case 1:P.trys.push([1,6,7,8]),a=N.exports.__values(o),s=a.next(),P.label=2;case 2:return s.done?[3,5]:(c=s.value,u=i[c.target],u?(f=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):typeof u=="string"?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(f),d=new e.md5,d.update(f),h=[N.exports.__assign({},i)],R={},R[c.target]=l,v=c.hash,_=(g=e).base64Encoder,[4,d.digest()]):[3,4]);case 3:i=N.exports.__assign.apply(void 0,h.concat([(R[v]=_.apply(g,[P.sent()]),R)])),P.label=4;case 4:return s=a.next(),[3,2];case 5:return[3,8];case 6:return E=P.sent(),S={error:E},[3,8];case 7:try{s&&!s.done&&(T=a.return)&&T.call(a)}finally{if(S)throw S.error}return[7];case 8:return[2,r(N.exports.__assign(N.exports.__assign({},n),{input:i}))]}})})}}}var HB={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},fa=function(e){return{applyToStack:function(t){t.add(KB(e),HB)}}},GB=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(qC(n)),this.middlewareStack.use(fa(n)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="CopyObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Cl.filterSensitiveLog,outputFilterSensitiveLog:El.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return Q3(r,n)},t.prototype.deserialize=function(r,n){return lB(r,n)},t}(Wt),iA=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(fa(n)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="CreateMultipartUploadCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:xl.filterSensitiveLog,outputFilterSensitiveLog:Al.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return Z3(r,n)},t.prototype.deserialize=function(r,n){return hB(r,n)},t}(Wt),VB=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="DeleteObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Il.filterSensitiveLog,outputFilterSensitiveLog:Tl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return eB(r,n)},t.prototype.deserialize=function(r,n){return vB(r,n)},t}(Wt),ab=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(fa(n)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="GetObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Hl.filterSensitiveLog,outputFilterSensitiveLog:Kl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return tB(r,n)},t.prototype.deserialize=function(r,n){return mB(r,n)},t}(Wt),WB=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="ListObjectsCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Vl.filterSensitiveLog,outputFilterSensitiveLog:Gl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return rB(r,n)},t.prototype.deserialize=function(r,n){return wB(r,n)},t}(Wt),JB=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="ListObjectsV2Command",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Jl.filterSensitiveLog,outputFilterSensitiveLog:Wl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return nB(r,n)},t.prototype.deserialize=function(r,n){return _B(r,n)},t}(Wt),oA=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="ListPartsCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:Xl.filterSensitiveLog,outputFilterSensitiveLog:Yl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return iB(r,n)},t.prototype.deserialize=function(r,n){return EB(r,n)},t}(Wt),YB=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(fa(n)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="PutObjectCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:ed.filterSensitiveLog,outputFilterSensitiveLog:Zl.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return oB(r,n)},t.prototype.deserialize=function(r,n){return AB(r,n)},t}(Wt),sb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sb||(sb={}));var id;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Encryption&&{Encryption:td.filterSensitiveLog(t.Encryption)})}})(id||(id={}));var od;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.S3&&{S3:id.filterSensitiveLog(t.S3)})}})(od||(od={}));var ub;(function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"})(ub||(ub={}));var cb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cb||(cb={}));var fb;(function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"})(fb||(fb={}));var lb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(lb||(lb={}));var db;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(db||(db={}));var hb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(hb||(hb={}));var pb;(function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"})(pb||(pb={}));var vb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(vb||(vb={}));var gb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(gb||(gb={}));var mb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(mb||(mb={}));var yb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(yb||(yb={}));var wb;(function(e){e.SELECT="SELECT"})(wb||(wb={}));var ad;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.OutputLocation&&{OutputLocation:od.filterSensitiveLog(t.OutputLocation)})}})(ad||(ad={}));var bb;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.RestoreRequest&&{RestoreRequest:ad.filterSensitiveLog(t.RestoreRequest)})}})(bb||(bb={}));var sd;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(sd||(sd={}));var ud;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ud||(ud={}));var _b;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(_b||(_b={}));var cd;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(cd||(cd={}));var fd;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(fd||(fd={}));var Sb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Sb||(Sb={}));var ld;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(ld||(ld={}));var Eb;(function(e){e.visit=function(t,r){return t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])},e.filterSensitiveLog=function(t){var r;if(t.Records!==void 0)return{Records:fd.filterSensitiveLog(t.Records)};if(t.Stats!==void 0)return{Stats:ld.filterSensitiveLog(t.Stats)};if(t.Progress!==void 0)return{Progress:cd.filterSensitiveLog(t.Progress)};if(t.Cont!==void 0)return{Cont:sd.filterSensitiveLog(t.Cont)};if(t.End!==void 0)return{End:ud.filterSensitiveLog(t.End)};if(t.$unknown!==void 0)return r={},r[t.$unknown[0]]="UNKNOWN",r}})(Eb||(Eb={}));var Cb;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.Payload&&{Payload:"STREAMING_CONTENT"})}})(Cb||(Cb={}));var Ab;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ab||(Ab={}));var xb;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(xb||(xb={}));var Tb;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(Tb||(Tb={}));var dd;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(dd||(dd={}));var hd;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae})}})(hd||(hd={}));var Ib;(function(e){e.filterSensitiveLog=function(t){return p({},t)}})(Ib||(Ib={}));var Ob;(function(e){e.filterSensitiveLog=function(t){return p(p({},t),t.SSEKMSKeyId&&{SSEKMSKeyId:Ae})}})(Ob||(Ob={}));var kb;(function(e){e.filterSensitiveLog=function(t){return p(p(p({},t),t.SSECustomerKey&&{SSECustomerKey:Ae}),t.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:Ae})}})(kb||(kb={}));var aA=function(e){lr(t,e);function t(r){var n=e.call(this)||this;return n.input=r,n}return t.prototype.resolveMiddleware=function(r,n,i){this.middlewareStack.use(Jt(n,this.serialize,this.deserialize)),this.middlewareStack.use(fa(n)),this.middlewareStack.use(Tr(n));var o=r.concat(this.middlewareStack),a=n.logger,s="S3Client",c="UploadPartCommand",u={logger:a,clientName:s,commandName:c,inputFilterSensitiveLog:hd.filterSensitiveLog,outputFilterSensitiveLog:dd.filterSensitiveLog},f=n.requestHandler;return o.resolve(function(l){return f.handle(l.request,i||{})},u)},t.prototype.serialize=function(r,n){return aB(r,n)},t.prototype.deserialize=function(r,n){return TB(r,n)},t}(Wt);function XB(e){var t=e.port,r=e.query,n=e.protocol,i=e.path,o=e.hostname;n&&n.substr(-1)!==":"&&(n+=":"),t&&(o+=":"+t),i&&i.charAt(0)!=="/"&&(i="/"+i);var a=r?bh(r):"";return a&&a[0]!=="?"&&(a="?"+a),n+"//"+o+i+a}function QB(e,t){return N.exports.__awaiter(this,void 0,void 0,function(){var r,n,i,o=this;return N.exports.__generator(this,function(a){switch(a.label){case 0:return r=function(s){return function(c){return N.exports.__awaiter(o,void 0,void 0,function(){return N.exports.__generator(this,function(u){return[2,{output:{request:c.request},response:void 0}]})})}},n=e.middlewareStack.clone(),n.add(r,{step:"build",priority:"low"}),i=t.resolveMiddleware(n,e.config,void 0),[4,i(t).then(function(s){return s.output.request})];case 1:return[2,a.sent()]}})})}var ZB="UNSIGNED-PAYLOAD",eF="X-Amz-Content-Sha256",tF=function(){function e(t){var r=N.exports.__assign({service:t.signingName||t.service||"s3",uriEscapePath:t.uriEscapePath||!1},t);this.signer=new iC(r)}return e.prototype.presign=function(t,r){r===void 0&&(r={});var n=r.unsignableHeaders,i=n===void 0?new Set:n,o=r.unhoistableHeaders,a=o===void 0?new Set:o,s=N.exports.__rest(r,["unsignableHeaders","unhoistableHeaders"]);return N.exports.__awaiter(this,void 0,void 0,function(){return N.exports.__generator(this,function(c){return i.add("content-type"),Object.keys(t.headers).map(function(u){return u.toLowerCase()}).filter(function(u){return u.startsWith("x-amz-server-side-encryption")}).forEach(function(u){a.add(u)}),t.headers[eF]=ZB,t.headers.host||(t.headers.host=t.hostname),[2,this.signer.presign(t,N.exports.__assign({expiresIn:900,unsignableHeaders:i,unhoistableHeaders:a},s))]})})},e}(),Rh={exports:{}},sA=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},rF=sA,di=Object.prototype.toString;function Mh(e){return di.call(e)==="[object Array]"}function pd(e){return typeof e=="undefined"}function nF(e){return e!==null&&!pd(e)&&e.constructor!==null&&!pd(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function iF(e){return di.call(e)==="[object ArrayBuffer]"}function oF(e){return typeof FormData!="undefined"&&e instanceof FormData}function aF(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function sF(e){return typeof e=="string"}function uF(e){return typeof e=="number"}function uA(e){return e!==null&&typeof e=="object"}function cs(e){if(di.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function cF(e){return di.call(e)==="[object Date]"}function fF(e){return di.call(e)==="[object File]"}function lF(e){return di.call(e)==="[object Blob]"}function cA(e){return di.call(e)==="[object Function]"}function dF(e){return uA(e)&&cA(e.pipe)}function hF(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function pF(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function vF(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Dh(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Mh(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function vd(){var e={};function t(i,o){cs(e[o])&&cs(i)?e[o]=vd(e[o],i):cs(i)?e[o]=vd({},i):Mh(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)Dh(arguments[r],t);return e}function gF(e,t,r){return Dh(t,function(i,o){r&&typeof i=="function"?e[o]=rF(i,r):e[o]=i}),e}function mF(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Yt={isArray:Mh,isArrayBuffer:iF,isBuffer:nF,isFormData:oF,isArrayBufferView:aF,isString:sF,isNumber:uF,isObject:uA,isPlainObject:cs,isUndefined:pd,isDate:cF,isFile:fF,isBlob:lF,isFunction:cA,isStream:dF,isURLSearchParams:hF,isStandardBrowserEnv:vF,forEach:Dh,merge:vd,extend:gF,trim:pF,stripBOM:mF},_i=Yt;function Pb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var fA=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(_i.isURLSearchParams(r))i=r.toString();else{var o=[];_i.forEach(r,function(c,u){c===null||typeof c=="undefined"||(_i.isArray(c)?u=u+"[]":c=[c],_i.forEach(c,function(l){_i.isDate(l)?l=l.toISOString():_i.isObject(l)&&(l=JSON.stringify(l)),o.push(Pb(u)+"="+Pb(l))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},yF=Yt;function $u(){this.handlers=[]}$u.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};$u.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};$u.prototype.forEach=function(t){yF.forEach(this.handlers,function(n){n!==null&&t(n)})};var wF=$u,bF=Yt,_F=function(t,r){bF.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},lA=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},SF=lA,dA=function(t,r,n,i,o){var a=new Error(t);return SF(a,r,n,i,o)},EF=dA,CF=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(EF("Request failed with status code "+n.status,n.config,null,n.request,n))},ja=Yt,AF=ja.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var c=[];c.push(r+"="+encodeURIComponent(n)),ja.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),ja.isString(o)&&c.push("path="+o),ja.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),xF=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},TF=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},IF=xF,OF=TF,kF=function(t,r){return t&&!IF(r)?OF(t,r):r},Kc=Yt,PF=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],NF=function(t){var r={},n,i,o;return t&&Kc.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=Kc.trim(s.substr(0,o)).toLowerCase(),i=Kc.trim(s.substr(o+1)),n){if(r[n]&&PF.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Nb=Yt,RF=Nb.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=Nb.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),$a=Yt,MF=CF,DF=AF,LF=fA,UF=kF,BF=NF,FF=RF,Hc=dA,Rb=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType;$a.isFormData(o)&&delete a["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(u+":"+f)}var l=UF(t.baseURL,t.url);c.open(t.method.toUpperCase(),LF(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!!c){var v="getAllResponseHeaders"in c?BF(c.getAllResponseHeaders()):null,g=!s||s==="text"||s==="json"?c.responseText:c.response,_={data:g,status:c.status,statusText:c.statusText,headers:v,config:t,request:c};MF(n,i,_),c=null}}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){!c||(i(Hc("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(Hc("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),i(Hc(g,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},$a.isStandardBrowserEnv()){var h=(t.withCredentials||FF(l))&&t.xsrfCookieName?DF.read(t.xsrfCookieName):void 0;h&&(a[t.xsrfHeaderName]=h)}"setRequestHeader"in c&&$a.forEach(a,function(g,_){typeof o=="undefined"&&_.toLowerCase()==="content-type"?delete a[_]:c.setRequestHeader(_,g)}),$a.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(g){!c||(c.abort(),i(g),c=null)}),o||(o=null),c.send(o)})},Ze=Yt,Mb=_F,jF=lA,$F={"Content-Type":"application/x-www-form-urlencoded"};function Db(e,t){!Ze.isUndefined(e)&&Ze.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function zF(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Rb),e}function qF(e,t,r){if(Ze.isString(e))try{return(t||JSON.parse)(e),Ze.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var zu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:zF(),transformRequest:[function(t,r){return Mb(r,"Accept"),Mb(r,"Content-Type"),Ze.isFormData(t)||Ze.isArrayBuffer(t)||Ze.isBuffer(t)||Ze.isStream(t)||Ze.isFile(t)||Ze.isBlob(t)?t:Ze.isArrayBufferView(t)?t.buffer:Ze.isURLSearchParams(t)?(Db(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Ze.isObject(t)||r&&r["Content-Type"]==="application/json"?(Db(r,"application/json"),qF(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Ze.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?jF(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};zu.headers={common:{Accept:"application/json, text/plain, */*"}};Ze.forEach(["delete","get","head"],function(t){zu.headers[t]={}});Ze.forEach(["post","put","patch"],function(t){zu.headers[t]=Ze.merge($F)});var Lh=zu,KF=Yt,HF=Lh,GF=function(t,r,n){var i=this||HF;return KF.forEach(n,function(a){t=a.call(i,t,r)}),t},hA=function(t){return!!(t&&t.__CANCEL__)},Lb=Yt,Gc=GF,VF=hA,WF=Lh;function Vc(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var JF=function(t){Vc(t),t.headers=t.headers||{},t.data=Gc.call(t,t.data,t.headers,t.transformRequest),t.headers=Lb.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Lb.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||WF.adapter;return r(t).then(function(i){return Vc(t),i.data=Gc.call(t,i.data,i.headers,t.transformResponse),i},function(i){return VF(i)||(Vc(t),i&&i.response&&(i.response.data=Gc.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},dt=Yt,pA=function(t,r){r=r||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(d,h){return dt.isPlainObject(d)&&dt.isPlainObject(h)?dt.merge(d,h):dt.isPlainObject(h)?dt.merge({},h):dt.isArray(h)?h.slice():h}function u(d){dt.isUndefined(r[d])?dt.isUndefined(t[d])||(n[d]=c(void 0,t[d])):n[d]=c(t[d],r[d])}dt.forEach(i,function(h){dt.isUndefined(r[h])||(n[h]=c(void 0,r[h]))}),dt.forEach(o,u),dt.forEach(a,function(h){dt.isUndefined(r[h])?dt.isUndefined(t[h])||(n[h]=c(void 0,t[h])):n[h]=c(void 0,r[h])}),dt.forEach(s,function(h){h in r?n[h]=c(t[h],r[h]):h in t&&(n[h]=c(void 0,t[h]))});var f=i.concat(o).concat(a).concat(s),l=Object.keys(t).concat(Object.keys(r)).filter(function(h){return f.indexOf(h)===-1});return dt.forEach(l,u),n};const YF="axios",XF="0.21.4",QF="Promise based HTTP client for the browser and node.js",ZF="index.js",e4={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},t4={type:"git",url:"https://github.com/axios/axios.git"},r4=["xhr","http","ajax","promise","node"],n4="Matt Zabriskie",i4="MIT",o4={url:"https://github.com/axios/axios/issues"},a4="https://axios-http.com",s4={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},u4={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},c4="dist/axios.min.js",f4="dist/axios.min.js",l4="./index.d.ts",d4={"follow-redirects":"^1.14.0"},h4=[{path:"./dist/axios.min.js",threshold:"5kB"}];var p4={name:YF,version:XF,description:QF,main:ZF,scripts:e4,repository:t4,keywords:r4,author:n4,license:i4,bugs:o4,homepage:a4,devDependencies:s4,browser:u4,jsdelivr:c4,unpkg:f4,typings:l4,dependencies:d4,bundlesize:h4},vA=p4,Uh={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Uh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Ub={},v4=vA.version.split(".");function gA(e,t){for(var r=t?t.split("."):v4,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}Uh.transitional=function(t,r,n){var i=r&&gA(r);function o(a,s){return"[Axios v"+vA.version+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return function(a,s,c){if(t===!1)throw new Error(o(s," has been removed in "+r));return i&&!Ub[s]&&(Ub[s]=!0,console.warn(o(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,c):!0}};function g4(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=s===void 0||a(s,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var m4={isOlderVersion:gA,assertOptions:g4,validators:Uh},mA=Yt,y4=fA,Bb=wF,Fb=JF,qu=pA,yA=m4,Si=yA.validators;function la(e){this.defaults=e,this.interceptors={request:new Bb,response:new Bb}}la.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=qu(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&yA.assertOptions(r,{silentJSONParsing:Si.transitional(Si.boolean,"1.0.0"),forcedJSONParsing:Si.transitional(Si.boolean,"1.0.0"),clarifyTimeoutError:Si.transitional(Si.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var a;if(!i){var s=[Fb,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var c=t;n.length;){var u=n.shift(),f=n.shift();try{c=u(c)}catch(l){f(l);break}}try{a=Fb(c)}catch(l){return Promise.reject(l)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};la.prototype.getUri=function(t){return t=qu(this.defaults,t),y4(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};mA.forEach(["delete","get","head","options"],function(t){la.prototype[t]=function(r,n){return this.request(qu(n||{},{method:t,url:r,data:(n||{}).data}))}});mA.forEach(["post","put","patch"],function(t){la.prototype[t]=function(r,n,i){return this.request(qu(i||{},{method:t,url:r,data:n}))}});var w4=la;function Bh(e){this.message=e}Bh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Bh.prototype.__CANCEL__=!0;var wA=Bh,b4=wA;function ru(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;e(function(i){r.reason||(r.reason=new b4(i),t(r.reason))})}ru.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ru.source=function(){var t,r=new ru(function(i){t=i});return{token:r,cancel:t}};var _4=ru,S4=function(t){return function(n){return t.apply(null,n)}},E4=function(t){return typeof t=="object"&&t.isAxiosError===!0},jb=Yt,C4=sA,fs=w4,A4=pA,x4=Lh;function bA(e){var t=new fs(e),r=C4(fs.prototype.request,t);return jb.extend(r,fs.prototype,t),jb.extend(r,t),r}var Er=bA(x4);Er.Axios=fs;Er.create=function(t){return bA(A4(Er.defaults,t))};Er.Cancel=wA;Er.CancelToken=_4;Er.isCancel=hA;Er.all=function(t){return Promise.all(t)};Er.spread=S4;Er.isAxiosError=E4;Rh.exports=Er;Rh.exports.default=Er;var An=Rh.exports,Jr;(function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"})(Jr||(Jr={}));var $b;(function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"})($b||($b={}));var Jo;(function(e){e.UPLOAD_PAUSED_MESSAGE="paused"})(Jo||(Jo={}));var T4=globalThis&&globalThis.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},I4=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Wc=new Se("axios-http-handler"),Oo="sendUploadProgress",nu="sendDownloadProgress";function O4(e){return typeof Blob!="undefined"&&e instanceof Blob}function k4(e){return typeof e!="undefined"&&Object.prototype.hasOwnProperty.call(e,"response")&&typeof e.response!="undefined"&&Object.prototype.hasOwnProperty.call(e.response,"status")&&typeof e.response.status=="number"}var zb=function(e,t){var r,n;try{for(var i=T4(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=I4(o.value,2),s=a[0],c=a[1];s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=c,delete e[s])}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},P4=[function(e,t){return O4(e)?(zb(t,"Content-Type"),zb(t,"Accept"),e):An.defaults.transformRequest[0].call(null,e,t)}],N4=function(){function e(t,r,n){t===void 0&&(t={}),this.httpOptions=t,this.emitter=r,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(t,r){var n=this.httpOptions.requestTimeout,i=r.emitter||this.emitter,o=t.path;if(t.query){var a=bh(t.query);a&&(o+="?"+a)}var s=t.port,c=t.protocol+"//"+t.hostname+(s?":"+s:"")+o,u={};u.url=c,u.method=t.method,u.headers=t.headers,delete u.headers.host,t.body?u.data=t.body:u.headers[Object.keys(u.headers).find(function(l){return l.toLowerCase()==="content-type"})]&&(u.data=null),i&&(u.onUploadProgress=function(l){i.emit(Oo,l),Wc.debug(l)},u.onDownloadProgress=function(l){i.emit(nu,l),Wc.debug(l)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),r.cancelTokenSource&&(u.cancelToken=r.cancelTokenSource.token),u.responseType="blob",yr.isReactNative&&(u.transformRequest=P4);var f=[An.request(u).then(function(l){return{response:new jo({headers:l.headers,statusCode:l.status,body:l.data})}}).catch(function(l){var d,h;if(l.message!==Jo.UPLOAD_PAUSED_MESSAGE&&Wc.error(l.message),An.isCancel(l)||!k4(l))throw l;return{response:new jo({statusCode:l.response.status,body:(d=l.response)===null||d===void 0?void 0:d.data,headers:(h=l.response)===null||h===void 0?void 0:h.headers})}}),R4(n)];return Promise.race(f)},e}();function R4(e){return e===void 0&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var n=new Error("Request did not complete within "+e+" ms");n.name="TimeoutError",r(n)},e)})}var M4=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",_A="contentLengthMiddleware",D4="http://localhost:20005",So="__uploadInProgress",L4=function(e){if(typeof e=="string")return e.length;if(F4(e))return e.byteLength;if(B4(e))return e.size;throw new Error("Cannot determine byte length of "+e)},Ut=function(e,t,r,n,i){if(e){var o={attrs:r};n&&(o.metrics=n),tn.dispatch("storage",{event:t,data:o,message:i},"Storage",M4)}},U4=function(e){return typeof e!="undefined"&&e instanceof File},B4=function(e){return typeof e!="undefined"&&e instanceof Blob},F4=function(e){return typeof e!="undefined"&&e instanceof ArrayBuffer},Wi=globalThis&&globalThis.__assign||function(){return Wi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Wi.apply(this,arguments)},Fh=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},jh=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qb=new Se("S3ClientUtils"),Kb={accessKeyId:"",secretAccessKey:""},SA=function(e){var t=e.credentials,r=e.level,n=e.customPrefix,i=e.identityId,o=n||{},a=i||t.identityId,s=(o.private!==void 0?o.private:"private/")+a+"/",c=(o.protected!==void 0?o.protected:"protected/")+a+"/",u=o.public!==void 0?o.public:"public/";switch(r){case"private":return s;case"protected":return c;default:return u}},EA=function(e,t){return function(r,n){return function(i){return Fh(void 0,void 0,void 0,function(){var o,a,s,c,u;return jh(this,function(f){switch(f.label){case 0:return[4,ot.get()];case 1:return o=f.sent(),a=ot.shear(o),s=SA(Wi(Wi({},e),{credentials:a})),c=Object.assign({},i.input),Object.prototype.hasOwnProperty.call(i.input,"Key")?(c.Key=s+t,i.input=c):Object.prototype.hasOwnProperty.call(i.input,"Prefix")&&(c.Prefix=s+t,i.input=c),u=r(i),[2,u]}})})}}},j4=function(e){return e.ServerTime&&typeof e.Code=="string"&&e.Code==="RequestTimeTooSkewed"},CA=function(e){return function(t,r){return function(n){return Fh(void 0,void 0,void 0,function(){var i,o;return jh(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,a.sent()];case 2:throw i=a.sent(),j4(i)&&(o=new Date(i.ServerTime),e.systemClockOffset=o.getTime()-Date.now()),i;case 3:return[2]}})})}}},AA={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},xA={step:"initialize",name:"addPrefixMiddleware"},$4=function(){return Fh(void 0,void 0,void 0,function(){var e,t,r;return jh(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ot.get()];case 1:return e=n.sent(),e?(t=ot.shear(e),qb.debug("credentials provider get credentials",t),[2,t]):[2,Kb];case 2:return r=n.sent(),qb.warn("credentials provider error",r),[2,Kb];case 3:return[2]}})})},TA=function(e,t){var r=e.region,n=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,a={};i&&(a={endpoint:D4,tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var s=new o3(Wi(Wi({region:r,credentials:$4,customUserAgent:is()},a),{requestHandler:new N4({},t,n),useAccelerateEndpoint:o}));return s.middlewareStack.remove(_A),s},Yo={exports:{}},Ki=typeof Reflect=="object"?Reflect:null,Hb=Ki&&typeof Ki.apply=="function"?Ki.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},ls;Ki&&typeof Ki.ownKeys=="function"?ls=Ki.ownKeys:Object.getOwnPropertySymbols?ls=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ls=function(t){return Object.getOwnPropertyNames(t)};function z4(e){console&&console.warn&&console.warn(e)}var IA=Number.isNaN||function(t){return t!==t};function ke(){ke.init.call(this)}Yo.exports=ke;Yo.exports.once=G4;ke.EventEmitter=ke;ke.prototype._events=void 0;ke.prototype._eventsCount=0;ke.prototype._maxListeners=void 0;var Gb=10;function Ku(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ke,"defaultMaxListeners",{enumerable:!0,get:function(){return Gb},set:function(e){if(typeof e!="number"||e<0||IA(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Gb=e}});ke.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ke.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||IA(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function OA(e){return e._maxListeners===void 0?ke.defaultMaxListeners:e._maxListeners}ke.prototype.getMaxListeners=function(){return OA(this)};ke.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")Hb(c,this,r);else for(var u=c.length,f=MA(c,u),n=0;n<u;++n)Hb(f[n],this,r);return!0};function kA(e,t,r,n){var i,o,a;if(Ku(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),a===void 0)a=o[t]=r,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=OA(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,z4(s)}return e}ke.prototype.addListener=function(t,r){return kA(this,t,r,!1)};ke.prototype.on=ke.prototype.addListener;ke.prototype.prependListener=function(t,r){return kA(this,t,r,!0)};function q4(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function PA(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=q4.bind(n);return i.listener=r,n.wrapFn=i,i}ke.prototype.once=function(t,r){return Ku(r),this.on(t,PA(this,t,r)),this};ke.prototype.prependOnceListener=function(t,r){return Ku(r),this.prependListener(t,PA(this,t,r)),this};ke.prototype.removeListener=function(t,r){var n,i,o,a,s;if(Ku(r),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():K4(n,o),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,s||r)}return this};ke.prototype.off=ke.prototype.removeListener;ke.prototype.removeAllListeners=function(t){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(t,r[i]);return this};function NA(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?H4(i):MA(i,i.length)}ke.prototype.listeners=function(t){return NA(this,t,!0)};ke.prototype.rawListeners=function(t){return NA(this,t,!1)};ke.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):RA.call(e,t)};ke.prototype.listenerCount=RA;function RA(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ke.prototype.eventNames=function(){return this._eventsCount>0?ls(this._events):[]};function MA(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function K4(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function H4(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function G4(e,t){return new Promise(function(r,n){function i(a){e.removeListener(t,o),n(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}DA(e,t,o,{once:!0}),t!=="error"&&V4(e,i,{once:!0})})}function V4(e,t,r){typeof e.on=="function"&&DA(e,"error",t,r)}function DA(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var ko=globalThis&&globalThis.__assign||function(){return ko=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ko.apply(this,arguments)},un=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},cn=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Jc=new Se("AWSS3ProviderManagedUpload"),W4=function(){function e(t,r,n){this.minPartSize=5*1024*1024,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=t,this.opts=r,this.emitter=n,this.s3client=this._createNewS3Client(r,n)}return e.prototype.upload=function(){return un(this,void 0,void 0,function(){var t,r,n,i,o,a,s=this;return cn(this,function(c){switch(c.label){case 0:return t=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return t.body=c.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,r=new YB(this.params),[2,this.s3client.send(r)]):[3,2];case 2:return[4,this.createMultiPartUpload()];case 3:n=c.sent(),i=Math.ceil(this.totalBytesToUpload/this.minPartSize),o=this.createParts(),a=0,c.label=4;case 4:return a<i?[4,this.checkIfUploadCancelled(n)]:[3,9];case 5:return c.sent(),[4,this.uploadParts(n,o.slice(a,a+this.queueSize))];case 6:return c.sent(),[4,this.checkIfUploadCancelled(n)];case 7:c.sent(),c.label=8;case 8:return a+=this.queueSize,[3,4];case 9:return o.map(function(u){s.removeEventListener(u)}),[4,this.finishMultiPartUpload(n)];case 10:return[2,c.sent()]}})})},e.prototype.createParts=function(){for(var t=[],r=0;r<this.totalBytesToUpload;){var n=Math.min(r+this.minPartSize,this.totalBytesToUpload);t.push({bodyPart:this.body.slice(r,n),partNumber:t.length+1,emitter:new Yo.exports.EventEmitter,_lastUploadedBytes:0}),r+=this.minPartSize}return t},e.prototype.createMultiPartUpload=function(){return un(this,void 0,void 0,function(){var t,r;return cn(this,function(n){switch(n.label){case 0:return t=new iA(this.params),[4,this.s3client.send(t)];case 1:return r=n.sent(),Jc.debug(r.UploadId),[2,r.UploadId]}})})},e.prototype.uploadParts=function(t,r){return un(this,void 0,void 0,function(){var n,i,o,a=this;return cn(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(r.map(function(c){return un(a,void 0,void 0,function(){var u,f,l,d,h,v,g,_;return cn(this,function(E){switch(E.label){case 0:return this.setupEventListener(c),u={emitter:c.emitter},f=this.params,l=f.Key,d=f.Bucket,h=f.SSECustomerAlgorithm,v=f.SSECustomerKey,g=f.SSECustomerKeyMD5,[4,this.s3client.send(new aA(ko(ko(ko({PartNumber:c.partNumber,Body:c.bodyPart,UploadId:t,Key:l,Bucket:d},h&&{SSECustomerAlgorithm:h}),v&&{SSECustomerKey:v}),g&&{SSECustomerKeyMD5:g})),u)];case 1:return _=E.sent(),[2,_]}})})}))];case 1:for(n=s.sent(),i=0;i<n.length;i++)this.completedParts.push({PartNumber:r[i].partNumber,ETag:n[i].ETag});return[3,3];case 2:return o=s.sent(),Jc.error("error happened while uploading a part. Cancelling the multipart upload",o),this.cancelUpload(),[2];case 3:return[2]}})})},e.prototype.finishMultiPartUpload=function(t){return un(this,void 0,void 0,function(){var r,n,i,o;return cn(this,function(a){switch(a.label){case 0:r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t,MultipartUpload:{Parts:this.completedParts}},n=new nA(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return i=a.sent(),[2,i.Key];case 3:return o=a.sent(),Jc.error("error happened while finishing the upload. Cancelling the multipart upload",o),this.cancelUpload(),[2];case 4:return[2]}})})},e.prototype.checkIfUploadCancelled=function(t){return un(this,void 0,void 0,function(){var r,n;return cn(this,function(i){switch(i.label){case 0:if(!this.cancel)return[3,5];r="Upload was cancelled.",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.cleanup(t)];case 2:return i.sent(),[3,4];case 3:return n=i.sent(),r+=" "+n.message,[3,4];case 4:throw new Error(r);case 5:return[2]}})})},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(t){return un(this,void 0,void 0,function(){var r,n;return cn(this,function(i){switch(i.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,r={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t},[4,this.s3client.send(new rA(r))];case 1:return i.sent(),[4,this.s3client.send(new oA(r))];case 2:if(n=i.sent(),n&&n.Parts&&n.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}})})},e.prototype.removeEventListener=function(t){t.emitter.removeAllListeners(Oo),t.emitter.removeAllListeners(nu)},e.prototype.setupEventListener=function(t){var r=this;t.emitter.on(Oo,function(n){r.progressChanged(t.partNumber,n.loaded-t._lastUploadedBytes),t._lastUploadedBytes=n.loaded})},e.prototype.progressChanged=function(t,r){this.bytesUploaded+=r,this.emitter.emit(Oo,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:t,key:this.params.Key})},e.prototype.byteLength=function(t){if(t==null)return 0;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.path!="string")throw new Error("Cannot determine length of "+t)},e.prototype.validateAndSanitizeBody=function(t){return un(this,void 0,void 0,function(){return cn(this,function(r){return this.isGenericObject(t)?[2,JSON.stringify(t)]:[2,t]})})},e.prototype.isGenericObject=function(t){if(t!==null&&typeof t=="object")try{return!(this.byteLength(t)>=0)}catch{return!0}return!1},e.prototype._createNewS3Client=function(t,r){var n=TA(t,r);return n.middlewareStack.add(EA(this.opts,this.params.Key),xA),n.middlewareStack.add(CA(n.config),AA),n},e}(),Bt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Ft=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},J4=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Y4=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(J4(arguments[t]));return e},It=new Se("AWSS3UploadTask"),Ke;(function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"})(Ke||(Ke={}));var wr;(function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"})(wr||(wr={}));var Vb=1e4,X4=5*1024*1024,Q4=4;function Z4(e,t){return e.PartNumber-t.PartNumber}var LA=function(){function e(t){var r=t.s3Client,n=t.file,i=t.emitter,o=t.storage,a=t.params,s=t.level,c=t.prefixPromise;this.partSize=X4,this.queueSize=Q4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=Ke.INIT,this.prefixPromise=c,this.s3client=r,this.s3client.middlewareStack.remove(_A),this.storage=o,this.storageSync=Promise.resolve(),typeof this.storage.sync=="function"&&(this.storageSync=this.storage.sync()),this.params=a,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=i,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(wr.ERROR,function(){})}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===Ke.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(t){var r=t.key,n=t.bucket;return Bt(this,void 0,void 0,function(){var i,o,a,s,c;return Ft(this,function(u){switch(u.label){case 0:return[4,this.s3client.send(new JB({Bucket:n,Prefix:r}))];case 1:return i=u.sent(),o=i.Contents,a=o===void 0?[]:o,[4,this.prefixPromise];case 2:return s=u.sent(),c=a.find(function(f){return f.Key===""+s+r}),[2,c]}})})},e.prototype._getFileId=function(t){return U4(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,t,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,t,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return Bt(this,void 0,void 0,function(){var t,r,n;return Ft(this,function(i){switch(i.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return t=i.sent(),Object.keys(t).length===0||!Object.prototype.hasOwnProperty.call(t,this.fileId)?[2,{parts:[],uploadId:null}]:(r=t[this.fileId],r.lastTouched=Date.now(),this.storage.setItem(So,JSON.stringify(t)),[4,this.s3client.send(new oA({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:r.uploadId}))]);case 2:return n=i.sent(),[2,{parts:n.Parts||[],uploadId:r.uploadId}]}})})},e.prototype._emitEvent=function(t,r){this.emitter.emit(t,r)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>Vb)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is "+Vb+".")},e.prototype._listCachedUploadTasks=function(){return Bt(this,void 0,void 0,function(){var t;return Ft(this,function(r){switch(r.label){case 0:return[4,this.storageSync];case 1:return r.sent(),t=this.storage.getItem(So)||"{}",[2,JSON.parse(t)]}})})},e.prototype._cache=function(t){return Bt(this,void 0,void 0,function(){var r;return Ft(this,function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return r=n.sent(),r[this.fileId]=t,this.storage.setItem(So,JSON.stringify(r)),[2]}})})},e.prototype._isCached=function(){return Bt(this,void 0,void 0,function(){var t,r;return Ft(this,function(n){switch(n.label){case 0:return r=(t=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,r.apply(t,[n.sent(),this.fileId])]}})})},e.prototype._removeFromCache=function(){return Bt(this,void 0,void 0,function(){var t;return Ft(this,function(r){switch(r.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return t=r.sent(),delete t[this.fileId],this.storage.setItem(So,JSON.stringify(t)),[2]}})})},e.prototype._onPartUploadCompletion=function(t){var r=t.eTag,n=t.partNumber,i=t.chunk;return Bt(this,void 0,void 0,function(){return Ft(this,function(o){return this.completedParts.push({ETag:r,PartNumber:n}),this.bytesUploaded+=L4(i),this._emitEvent(wr.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter(function(a){return a.uploadPartInput.PartNumber!==n}),this.queued.length&&this.state!==Ke.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]})})},e.prototype._completeUpload=function(){return Bt(this,void 0,void 0,function(){var t;return Ft(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.s3client.send(new nA({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(Z4)}}))];case 1:return r.sent(),this._verifyFileSize(),this._emitEvent(wr.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=Ke.COMPLETED,[3,3];case 2:return t=r.sent(),It.error("error completing upload",t),this._emitEvent(wr.ERROR,t),[3,3];case 3:return[2]}})})},e.prototype._makeUploadPartRequest=function(t,r){return Bt(this,void 0,void 0,function(){var n,i;return Ft(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.s3client.send(new aA(t),{cancelTokenSource:r})];case 1:return n=o.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:t.PartNumber,chunk:t.Body})];case 2:return o.sent(),[3,4];case 3:return i=o.sent(),this.state===Ke.PAUSED?It.log("upload paused"):this.state===Ke.CANCELLED?It.log("upload aborted"):It.error("error starting next part of upload: ",i),!An.isCancel(i)&&i.message!==Jo.UPLOAD_PAUSED_MESSAGE&&(this._emitEvent(wr.ERROR,i),this.pause()),[3,4];case 4:return[2]}})})},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==Ke.PAUSED){var t=An.CancelToken.source(),r=this.queued.shift();this.inProgress.push({uploadPartInput:r,s3Request:this._makeUploadPartRequest(r,t),cancel:t.cancel})}},e.prototype._verifyFileSize=function(){return Bt(this,void 0,void 0,function(){var t,r;return Ft(this,function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(t=n.sent(),r=Boolean(t&&t.Size===this.file.size),!r)throw new Error("File size does not match between local file and file on s3");return[2,r]}})})},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var t=this.file.size,r=[],n=0;n<t;){var i=Math.min(n+this.partSize,t);r.push({Body:this.file.slice(n,i),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:r.length+1,UploadId:this.uploadId}),n+=this.partSize}return r},e.prototype._initCachedUploadParts=function(t){this.bytesUploaded+=t.reduce(function(n,i){return n+i.Size},0);var r=new Set(t.map(function(n){return n.PartNumber}));this.queued=this.queued.filter(function(n){return!r.has(n.PartNumber)}),this.completedParts=t.map(function(n){return{PartNumber:n.PartNumber,ETag:n.ETag}}),this._emitEvent(wr.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Bt(this,void 0,void 0,function(){var t;return Ft(this,function(r){switch(r.label){case 0:return[4,this.s3client.send(new iA(this.params))];case 1:return t=r.sent(),this._cache({uploadId:t.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,t.UploadId]}})})},e.prototype._initializeUploadTask=function(){return Bt(this,void 0,void 0,function(){var t,r,n,n,i;return Ft(this,function(o){switch(o.label){case 0:this.state=Ke.IN_PROGRESS,o.label=1;case 1:return o.trys.push([1,7,,8]),[4,this._isCached()];case 2:return o.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return t=o.sent(),r=t.parts,n=t.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(r),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=o.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),o.label=6;case 6:return[3,8];case 7:return i=o.sent(),An.isCancel(i)||It.error("Error initializing the upload task",i),[3,8];case 8:return[2]}})})},e.prototype.resume=function(){this.state===Ke.CANCELLED?It.warn("This task has already been cancelled"):this.state===Ke.COMPLETED?It.warn("This task has already been completed"):this.state===Ke.IN_PROGRESS?It.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=Ke.IN_PROGRESS;for(var t=0;t<this.queueSize;t++)this._startNextPart()},e.prototype._cancel=function(){return Bt(this,void 0,void 0,function(){var t;return Ft(this,function(r){switch(r.label){case 0:return this.state!==Ke.CANCELLED?[3,1]:(It.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==Ke.COMPLETED?[3,2]:(It.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=Ke.CANCELLED,r.label=3;case 3:return r.trys.push([3,6,,7]),[4,this.s3client.send(new rA({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return r.sent(),[4,this._removeFromCache()];case 5:return r.sent(),[2,!0];case 6:return t=r.sent(),It.error("Error cancelling upload task",t),[2,!1];case 7:return[2]}})})},e.prototype.pause=function(){var t;this.state===Ke.CANCELLED?It.warn("This task has already been cancelled"):this.state===Ke.COMPLETED?It.warn("This task has already been completed"):this.state===Ke.PAUSED&&It.warn("This task is already paused"),this.state=Ke.PAUSED;var r=this.inProgress.splice(0,this.inProgress.length);r.forEach(function(n){n.cancel(Jo.UPLOAD_PAUSED_MESSAGE)}),(t=this.queued).unshift.apply(t,Y4(r.map(function(n){return n.uploadPartInput})))},e}(),Rr=globalThis&&globalThis.__assign||function(){return Rr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rr.apply(this,arguments)},ho=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},po=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},We=new Se("AWSS3Provider"),Wb="public",e6=900,t6=function(){function e(t){var r=this;this._config=t||{},this._storage=new Nu().getStorage(),tn.listen("auth",function(n){var i=n.payload;(i.event==="signOut"||i.event==="signIn")&&r._storage.removeItem(So)}),We.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(t){if(We.debug("configure Storage",t),!t)return this._config;var r=ph.parseMobilehubConfig(t);return this._config=Object.assign({},this._config,r.Storage),this._config.bucket||We.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(t,r){var n=t.s3Client,i=t.emitter,o=t.key,a=t.file,s=t.params,c=r.progressCallback,u=r.completeCallback,f=r.errorCallback,l=r.track,d=l===void 0?!1:l;if(!(a instanceof Blob))throw new Error(Jr.INVALID_BLOB);i.on(wr.UPLOAD_PROGRESS,function(g){c&&(typeof c=="function"?c(g):We.warn("progressCallback should be a function, not a "+typeof c))}),i.on(wr.UPLOAD_COMPLETE,function(g){u&&(typeof u=="function"?u(g):We.warn("completeCallback should be a function, not a "+typeof u))}),i.on(wr.ERROR,function(g){f&&(typeof f=="function"?f(g):We.warn("errorCallback should be a function, not a "+typeof f))});var h=ot.get().then(function(g){var _=ot.shear(g);return SA(Rr(Rr({},r),{credentials:_}))}),v=new LA({s3Client:n,file:a,emitter:i,level:r.level,storage:this._storage,params:s,prefixPromise:h});return Ut(d,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+o),v.resume(),v},e.prototype.copy=function(t,r,n){return ho(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d,h,v,g,_,E,S,T,R,P,U,W,j,te,k,B,A,m;return po(this,function(b){switch(b.label){case 0:return[4,this._ensureCredentials()];case 1:if(i=b.sent(),!i||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);if(o=Object.assign({},this._config,n),a=o.acl,s=o.bucket,c=o.cacheControl,u=o.expires,f=o.track,l=o.serverSideEncryption,d=o.SSECustomerAlgorithm,h=o.SSECustomerKey,v=o.SSECustomerKeyMD5,g=o.SSEKMSKeyId,_=t.level,E=_===void 0?Wb:_,S=t.identityId,T=t.key,R=r.level,P=R===void 0?Wb:R,U=r.key,!T||typeof T!="string")throw new Error(Jr.NO_SRC_KEY);if(!U||typeof U!="string")throw new Error(Jr.NO_DEST_KEY);E!=="protected"&&S&&We.warn(`You may copy files from another user if the source level is "protected", currently it's `+E),W=this._prefix(Rr(Rr(Rr({},o),{level:E}),S&&{identityId:S})),j=this._prefix(Rr(Rr({},o),{level:P})),te=s+"/"+W+T,k=""+j+U,We.debug("copying "+te+" to "+k),B={Bucket:s,CopySource:te,Key:k,MetadataDirective:"COPY"},c&&(B.CacheControl=c),u&&(B.Expires=u),l&&(B.ServerSideEncryption=l),d&&(B.SSECustomerAlgorithm=d),h&&(B.SSECustomerKey=h),v&&(B.SSECustomerKeyMD5=v),g&&(B.SSEKMSKeyId=g),a&&(B.ACL=a),A=this._createNewS3Client(o),b.label=2;case 2:return b.trys.push([2,4,,5]),[4,A.send(new GB(B))];case 3:return b.sent(),Ut(f,"copy",{method:"copy",result:"success"},null,"Copy success from "+T+" to "+U),[2,{key:U}];case 4:throw m=b.sent(),Ut(f,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+T+" to "+U),m;case 5:return[2]}})})},e.prototype.get=function(t,r){return ho(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,v,g,_,E,S,T,R,P,U,W,j,te,k,B,A,m,b;return po(this,function(C){switch(C.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=C.sent(),!n||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);if(i=Object.assign({},this._config,r),o=i.bucket,a=i.download,s=i.cacheControl,c=i.contentDisposition,u=i.contentEncoding,f=i.contentLanguage,l=i.contentType,d=i.expires,h=i.track,v=i.SSECustomerAlgorithm,g=i.SSECustomerKey,_=i.SSECustomerKeyMD5,E=i.progressCallback,S=this._prefix(i),T=S+t,R=new Yo.exports.EventEmitter,P=this._createNewS3Client(i,R),We.debug("get "+t+" from "+T),U={Bucket:o,Key:T},s&&(U.ResponseCacheControl=s),c&&(U.ResponseContentDisposition=c),u&&(U.ResponseContentEncoding=u),f&&(U.ResponseContentLanguage=f),l&&(U.ResponseContentType=l),v&&(U.SSECustomerAlgorithm=v),g&&(U.SSECustomerKey=g),_&&(U.SSECustomerKeyMD5=_),a!==!0)return[3,5];W=new ab(U),C.label=2;case 2:return C.trys.push([2,4,,5]),E&&(typeof E=="function"?R.on(nu,function(M){E(M)}):We.warn("progressCallback should be a function, not a "+typeof E)),[4,P.send(W)];case 3:return j=C.sent(),R.removeAllListeners(nu),Ut(h,"download",{method:"get",result:"success"},{fileSize:Number(j.Body.size||j.Body.length)},"Download success for "+t),[2,j];case 4:throw te=C.sent(),Ut(h,"download",{method:"get",result:"failed"},null,"Download failed with "+te.message),te;case 5:return C.trys.push([5,8,,9]),k=new tF(Rr({},P.config)),[4,QB(P,new ab(U))];case 6:return B=C.sent(),m=XB,[4,k.presign(B,{expiresIn:d||e6})];case 7:return A=m.apply(void 0,[C.sent()]),Ut(h,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+A),[2,A];case 8:throw b=C.sent(),We.warn("get signed url error",b),Ut(h,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+t),b;case 9:return[2]}})})},e.prototype.put=function(t,r,n){var i=Object.assign({},this._config,n),o=i.bucket,a=i.track,s=i.progressCallback,c=i.level,u=i.resumable,f=i.contentType,l=i.contentDisposition,d=i.contentEncoding,h=i.cacheControl,v=i.expires,g=i.metadata,_=i.tagging,E=i.acl,S=i.serverSideEncryption,T=i.SSECustomerAlgorithm,R=i.SSECustomerKey,P=i.SSECustomerKeyMD5,U=i.SSEKMSKeyId,W=f||"binary/octet-stream",j={Bucket:o,Key:t,Body:r,ContentType:W};h&&(j.CacheControl=h),l&&(j.ContentDisposition=l),d&&(j.ContentEncoding=d),v&&(j.Expires=v),g&&(j.Metadata=g),_&&(j.Tagging=_),S&&(j.ServerSideEncryption=S),T&&(j.SSECustomerAlgorithm=T),R&&(j.SSECustomerKey=R),P&&(j.SSECustomerKeyMD5=P),U&&(j.SSEKMSKeyId=U);var te=new Yo.exports.EventEmitter,k=new W4(j,i,te);if(E&&(j.ACL=E),u===!0){var B=this._createNewS3Client(i);B.middlewareStack.add(EA(i,t),xA);var A={bucket:o,key:t,s3Client:B,file:r,emitter:te,accessLevel:c,params:j};return this.startResumableUpload(A,n)}try{return s&&(typeof s=="function"?te.on(Oo,function(m){s(m)}):We.warn("progressCallback should be a function, not a "+typeof s)),k.upload().then(function(m){return We.debug("upload result",m),Ut(a,"upload",{method:"put",result:"success"},null,"Upload success for "+t),{key:t}})}catch(m){throw We.warn("error uploading",m),Ut(a,"upload",{method:"put",result:"failed"},null,"Error uploading "+t),m}},e.prototype.remove=function(t,r){return ho(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h;return po(this,function(v){switch(v.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=v.sent(),!n||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);i=Object.assign({},this._config,r),o=i.bucket,a=i.track,s=this._prefix(i),c=s+t,u=this._createNewS3Client(i),We.debug("remove "+t+" from "+c),f={Bucket:o,Key:c},l=new VB(f),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,u.send(l)];case 3:return d=v.sent(),Ut(a,"delete",{method:"remove",result:"success"},null,"Deleted "+t+" successfully"),[2,d];case 4:throw h=v.sent(),Ut(a,"delete",{method:"remove",result:"failed"},null,"Deletion of "+t+" failed with "+h),h;case 5:return[2]}})})},e.prototype.list=function(t,r){return ho(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h,v,g;return po(this,function(_){switch(_.label){case 0:return[4,this._ensureCredentials()];case 1:if(n=_.sent(),!n||!this._isWithCredentials(this._config))throw new Error(Jr.NO_CREDENTIALS);i=Object.assign({},this._config,r),o=i.bucket,a=i.track,s=i.maxKeys,c=this._prefix(i),u=c+t,f=this._createNewS3Client(i),We.debug("list "+t+" from "+u),l={Bucket:o,Prefix:u,MaxKeys:s},d=new WB(l),_.label=2;case 2:return _.trys.push([2,4,,5]),[4,f.send(d)];case 3:return h=_.sent(),v=[],h&&h.Contents&&(v=h.Contents.map(function(E){return{key:E.Key.substr(c.length),eTag:E.ETag,lastModified:E.LastModified,size:E.Size}})),Ut(a,"list",{method:"list",result:"success"},null,v.length+" items returned from list operation"),We.debug("list",v),[2,v];case 4:throw g=_.sent(),We.warn("list error",g),Ut(a,"list",{method:"list",result:"failed"},null,"Listing items failed: "+g.message),g;case 5:return[2]}})})},e.prototype._ensureCredentials=function(){return ho(this,void 0,void 0,function(){var t,r,n;return po(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,ot.get()];case 1:return t=i.sent(),t?(r=ot.shear(t),We.debug("set credentials for storage",r),this._config.credentials=r,[2,!0]):[2,!1];case 2:return n=i.sent(),We.warn("ensure credentials error",n),[2,!1];case 3:return[2]}})})},e.prototype._isWithCredentials=function(t){return typeof t=="object"&&t.hasOwnProperty("credentials")},e.prototype._prefix=function(t){var r=t.credentials,n=t.level,i=t.customPrefix||{},o=t.identityId||r.identityId,a=(i.private!==void 0?i.private:"private/")+o+"/",s=(i.protected!==void 0?i.protected:"protected/")+o+"/",c=i.public!==void 0?i.public:"public/";switch(n){case"private":return a;case"protected":return s;default:return c}},e.prototype._createNewS3Client=function(t,r){var n=TA(t,r);return n.middlewareStack.add(CA(n.config),AA),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mr.apply(this,arguments)},r6=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Gr=new Se("StorageClass"),fn="AWSS3",Jb=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,Gr.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(t){if(t&&t.getCategory()==="Storage"){this._pluggables.push(t);var r={};return r=t.configure(this._config[t.getProviderName()]),r}},e.prototype.getPluggable=function(t){var r=this._pluggables.find(function(n){return n.getProviderName()===t});return r===void 0?(Gr.debug("No plugin found with providerName",t),null):r},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.configure=function(t){var r=this;if(Gr.debug("configure Storage"),!t)return this._config;var n=ph.parseMobilehubConfig(t),i=Object.keys(n.Storage),o=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],a=function(c){return o.some(function(u){return u===c})},s=function(c){return c.find(function(u){return a(u)})};return i&&s(i)&&!n.Storage[fn]&&(n.Storage[fn]={}),Object.entries(n.Storage).map(function(c){var u=r6(c,2),f=u[0],l=u[1];f&&a(f)&&l!==void 0&&(n.Storage[fn][f]=l,delete n.Storage[f])}),Object.keys(n.Storage).forEach(function(c){typeof n.Storage[c]!="string"&&(r._config[c]=Mr(Mr({},r._config[c]),n.Storage[c]))}),this._pluggables.forEach(function(c){c.configure(r._config[c.getProviderName()])}),this._pluggables.length===0&&this.addPluggable(new t6),this._config},e.prototype.getCancellableTokenSource=function(){return An.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenSourceMap.set(t,r)},e.prototype.isUploadTask=function(t){return typeof t!="undefined"&&typeof t.pause=="function"&&typeof t.resume=="function"},e.prototype.cancel=function(t,r){if(t instanceof LA)return t._cancel();var n=this._cancelTokenSourceMap.get(t);n?n.cancel(r):Gr.debug("The request does not map to any cancel token")},e.prototype.copy=function(t,r,n){var i=(n==null?void 0:n.provider)||fn,o=this._pluggables.find(function(c){return c.getProviderName()===i});if(o===void 0)return Gr.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource();if(typeof o.copy!="function")return Promise.reject(".copy is not implemented on provider "+o.getProviderName());var s=o.copy(t,r,Mr(Mr({},n),{cancelTokenSource:a}));return this.updateRequestToBeCancellable(s,a),s},e.prototype.get=function(t,r){var n=(r==null?void 0:r.provider)||fn,i=this._pluggables.find(function(s){return s.getProviderName()===n});if(i===void 0)return Gr.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),a=i.get(t,Mr(Mr({},r),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(a,o),a},e.prototype.isCancelError=function(t){return An.isCancel(t)},e.prototype.put=function(t,r,n){var i=(n==null?void 0:n.provider)||fn,o=this._pluggables.find(function(c){return c.getProviderName()===i});if(o===void 0)return Gr.debug("No plugin found with providerName",i),Promise.reject("No plugin found in Storage for the provider");var a=this.getCancellableTokenSource(),s=o.put(t,r,Mr(Mr({},n),{cancelTokenSource:a}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,a),s},e.prototype.remove=function(t,r){var n=(r==null?void 0:r.provider)||fn,i=this._pluggables.find(function(o){return o.getProviderName()===n});return i===void 0?(Gr.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):i.remove(t,r)},e.prototype.list=function(t,r){var n=(r==null?void 0:r.provider)||fn,i=this._pluggables.find(function(o){return o.getProviderName()===n});return i===void 0?(Gr.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):i.list(t,r)},e}(),Po=globalThis&&globalThis.__assign||function(){return Po=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Po.apply(this,arguments)},Yc=new Se("Storage"),Vr=null,n6=function(){if(Vr)return Vr;Yc.debug("Create Storage Instance, debug"),Vr=new Jb,Vr.vault=new Jb;var e=Vr.configure;return Vr.configure=function(t){Yc.debug("storage configure called");var r=Po({},e.call(Vr,t));Object.keys(r).forEach(function(n){typeof r[n]!="string"&&(r[n]=Po(Po({},r[n]),{level:"private"}))}),Yc.debug("storage vault configure called"),Vr.vault.configure(r)},Vr},i6=n6();at.register(i6);var $h={exports:{}},UA=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},o6=UA,hi=Object.prototype.toString;function zh(e){return hi.call(e)==="[object Array]"}function gd(e){return typeof e=="undefined"}function a6(e){return e!==null&&!gd(e)&&e.constructor!==null&&!gd(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function s6(e){return hi.call(e)==="[object ArrayBuffer]"}function u6(e){return typeof FormData!="undefined"&&e instanceof FormData}function c6(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function f6(e){return typeof e=="string"}function l6(e){return typeof e=="number"}function BA(e){return e!==null&&typeof e=="object"}function ds(e){if(hi.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function d6(e){return hi.call(e)==="[object Date]"}function h6(e){return hi.call(e)==="[object File]"}function p6(e){return hi.call(e)==="[object Blob]"}function FA(e){return hi.call(e)==="[object Function]"}function v6(e){return BA(e)&&FA(e.pipe)}function g6(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function m6(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function y6(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function qh(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),zh(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function md(){var e={};function t(i,o){ds(e[o])&&ds(i)?e[o]=md(e[o],i):ds(i)?e[o]=md({},i):zh(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)qh(arguments[r],t);return e}function w6(e,t,r){return qh(t,function(i,o){r&&typeof i=="function"?e[o]=o6(i,r):e[o]=i}),e}function b6(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Xt={isArray:zh,isArrayBuffer:s6,isBuffer:a6,isFormData:u6,isArrayBufferView:c6,isString:f6,isNumber:l6,isObject:BA,isPlainObject:ds,isUndefined:gd,isDate:d6,isFile:h6,isBlob:p6,isFunction:FA,isStream:v6,isURLSearchParams:g6,isStandardBrowserEnv:y6,forEach:qh,merge:md,extend:w6,trim:m6,stripBOM:b6},Ei=Xt;function Yb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var jA=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Ei.isURLSearchParams(r))i=r.toString();else{var o=[];Ei.forEach(r,function(c,u){c===null||typeof c=="undefined"||(Ei.isArray(c)?u=u+"[]":c=[c],Ei.forEach(c,function(l){Ei.isDate(l)?l=l.toISOString():Ei.isObject(l)&&(l=JSON.stringify(l)),o.push(Yb(u)+"="+Yb(l))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},_6=Xt;function Hu(){this.handlers=[]}Hu.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Hu.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Hu.prototype.forEach=function(t){_6.forEach(this.handlers,function(n){n!==null&&t(n)})};var S6=Hu,E6=Xt,C6=function(t,r){E6.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},$A=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t},A6=$A,zA=function(t,r,n,i,o){var a=new Error(t);return A6(a,r,n,i,o)},x6=zA,T6=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(x6("Request failed with status code "+n.status,n.config,null,n.request,n))},za=Xt,I6=za.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var c=[];c.push(r+"="+encodeURIComponent(n)),za.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),za.isString(o)&&c.push("path="+o),za.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),O6=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},k6=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},P6=O6,N6=k6,R6=function(t,r){return t&&!P6(r)?N6(t,r):r},Xc=Xt,M6=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],D6=function(t){var r={},n,i,o;return t&&Xc.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=Xc.trim(s.substr(0,o)).toLowerCase(),i=Xc.trim(s.substr(o+1)),n){if(r[n]&&M6.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Xb=Xt,L6=Xb.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=Xb.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),qa=Xt,U6=T6,B6=I6,F6=jA,j6=R6,$6=D6,z6=L6,Qc=zA,Qb=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType;qa.isFormData(o)&&delete a["Content-Type"];var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(u+":"+f)}var l=j6(t.baseURL,t.url);c.open(t.method.toUpperCase(),F6(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!!c){var v="getAllResponseHeaders"in c?$6(c.getAllResponseHeaders()):null,g=!s||s==="text"||s==="json"?c.responseText:c.response,_={data:g,status:c.status,statusText:c.statusText,headers:v,config:t,request:c};U6(n,i,_),c=null}}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){!c||(i(Qc("Request aborted",t,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(Qc("Network Error",t,null,c)),c=null},c.ontimeout=function(){var g="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),i(Qc(g,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},qa.isStandardBrowserEnv()){var h=(t.withCredentials||z6(l))&&t.xsrfCookieName?B6.read(t.xsrfCookieName):void 0;h&&(a[t.xsrfHeaderName]=h)}"setRequestHeader"in c&&qa.forEach(a,function(g,_){typeof o=="undefined"&&_.toLowerCase()==="content-type"?delete a[_]:c.setRequestHeader(_,g)}),qa.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(g){!c||(c.abort(),i(g),c=null)}),o||(o=null),c.send(o)})},et=Xt,Zb=C6,q6=$A,K6={"Content-Type":"application/x-www-form-urlencoded"};function e_(e,t){!et.isUndefined(e)&&et.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function H6(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Qb),e}function G6(e,t,r){if(et.isString(e))try{return(t||JSON.parse)(e),et.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Gu={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:H6(),transformRequest:[function(t,r){return Zb(r,"Accept"),Zb(r,"Content-Type"),et.isFormData(t)||et.isArrayBuffer(t)||et.isBuffer(t)||et.isStream(t)||et.isFile(t)||et.isBlob(t)?t:et.isArrayBufferView(t)?t.buffer:et.isURLSearchParams(t)?(e_(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):et.isObject(t)||r&&r["Content-Type"]==="application/json"?(e_(r,"application/json"),G6(t)):t}],transformResponse:[function(t){var r=this.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&et.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?q6(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};Gu.headers={common:{Accept:"application/json, text/plain, */*"}};et.forEach(["delete","get","head"],function(t){Gu.headers[t]={}});et.forEach(["post","put","patch"],function(t){Gu.headers[t]=et.merge(K6)});var Kh=Gu,V6=Xt,W6=Kh,J6=function(t,r,n){var i=this||W6;return V6.forEach(n,function(a){t=a.call(i,t,r)}),t},qA=function(t){return!!(t&&t.__CANCEL__)},t_=Xt,Zc=J6,Y6=qA,X6=Kh;function ef(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Q6=function(t){ef(t),t.headers=t.headers||{},t.data=Zc.call(t,t.data,t.headers,t.transformRequest),t.headers=t_.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),t_.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||X6.adapter;return r(t).then(function(i){return ef(t),i.data=Zc.call(t,i.data,i.headers,t.transformResponse),i},function(i){return Y6(i)||(ef(t),i&&i.response&&(i.response.data=Zc.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},ht=Xt,KA=function(t,r){r=r||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(d,h){return ht.isPlainObject(d)&&ht.isPlainObject(h)?ht.merge(d,h):ht.isPlainObject(h)?ht.merge({},h):ht.isArray(h)?h.slice():h}function u(d){ht.isUndefined(r[d])?ht.isUndefined(t[d])||(n[d]=c(void 0,t[d])):n[d]=c(t[d],r[d])}ht.forEach(i,function(h){ht.isUndefined(r[h])||(n[h]=c(void 0,r[h]))}),ht.forEach(o,u),ht.forEach(a,function(h){ht.isUndefined(r[h])?ht.isUndefined(t[h])||(n[h]=c(void 0,t[h])):n[h]=c(void 0,r[h])}),ht.forEach(s,function(h){h in r?n[h]=c(t[h],r[h]):h in t&&(n[h]=c(void 0,t[h]))});var f=i.concat(o).concat(a).concat(s),l=Object.keys(t).concat(Object.keys(r)).filter(function(h){return f.indexOf(h)===-1});return ht.forEach(l,u),n};const Z6="axios",ej="0.21.4",tj="Promise based HTTP client for the browser and node.js",rj="index.js",nj={test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},ij={type:"git",url:"https://github.com/axios/axios.git"},oj=["xhr","http","ajax","promise","node"],aj="Matt Zabriskie",sj="MIT",uj={url:"https://github.com/axios/axios/issues"},cj="https://axios-http.com",fj={coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},lj={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},dj="dist/axios.min.js",hj="dist/axios.min.js",pj="./index.d.ts",vj={"follow-redirects":"^1.14.0"},gj=[{path:"./dist/axios.min.js",threshold:"5kB"}];var mj={name:Z6,version:ej,description:tj,main:rj,scripts:nj,repository:ij,keywords:oj,author:aj,license:sj,bugs:uj,homepage:cj,devDependencies:fj,browser:lj,jsdelivr:dj,unpkg:hj,typings:pj,dependencies:vj,bundlesize:gj},HA=mj,Hh={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Hh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var r_={},yj=HA.version.split(".");function GA(e,t){for(var r=t?t.split("."):yj,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}Hh.transitional=function(t,r,n){var i=r&&GA(r);function o(a,s){return"[Axios v"+HA.version+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return function(a,s,c){if(t===!1)throw new Error(o(s," has been removed in "+r));return i&&!r_[s]&&(r_[s]=!0,console.warn(o(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,s,c):!0}};function wj(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=s===void 0||a(s,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var bj={isOlderVersion:GA,assertOptions:wj,validators:Hh},VA=Xt,_j=jA,n_=S6,i_=Q6,Vu=KA,WA=bj,Ci=WA.validators;function da(e){this.defaults=e,this.interceptors={request:new n_,response:new n_}}da.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Vu(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&WA.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean,"1.0.0"),forcedJSONParsing:Ci.transitional(Ci.boolean,"1.0.0"),clarifyTimeoutError:Ci.transitional(Ci.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(t)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var a;if(!i){var s=[i_,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var c=t;n.length;){var u=n.shift(),f=n.shift();try{c=u(c)}catch(l){f(l);break}}try{a=i_(c)}catch(l){return Promise.reject(l)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};da.prototype.getUri=function(t){return t=Vu(this.defaults,t),_j(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};VA.forEach(["delete","get","head","options"],function(t){da.prototype[t]=function(r,n){return this.request(Vu(n||{},{method:t,url:r,data:(n||{}).data}))}});VA.forEach(["post","put","patch"],function(t){da.prototype[t]=function(r,n,i){return this.request(Vu(i||{},{method:t,url:r,data:n}))}});var Sj=da;function Gh(e){this.message=e}Gh.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Gh.prototype.__CANCEL__=!0;var JA=Gh,Ej=JA;function iu(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;e(function(i){r.reason||(r.reason=new Ej(i),t(r.reason))})}iu.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};iu.source=function(){var t,r=new iu(function(i){t=i});return{token:r,cancel:t}};var Cj=iu,Aj=function(t){return function(n){return t.apply(null,n)}},xj=function(t){return typeof t=="object"&&t.isAxiosError===!0},o_=Xt,Tj=UA,hs=Sj,Ij=KA,Oj=Kh;function YA(e){var t=new hs(e),r=Tj(hs.prototype.request,t);return o_.extend(r,hs.prototype,t),o_.extend(r,t),r}var Cr=YA(Oj);Cr.Axios=hs;Cr.create=function(t){return YA(Ij(Cr.defaults,t))};Cr.Cancel=JA;Cr.CancelToken=Cj;Cr.isCancel=qA;Cr.all=function(t){return Promise.all(t)};Cr.spread=Aj;Cr.isAxiosError=xj;$h.exports=Cr;$h.exports.default=Cr;var Ka=$h.exports,Dr=globalThis&&globalThis.__assign||function(){return Dr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Dr.apply(this,arguments)},kj=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Pj=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},a_=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Ai=new Se("RestClient"),XA=function(){function e(t){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=ot,this._options=t,Ai.debug("API Options",this._options),this._cancelTokenMap==null&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(t,r,n){return kj(this,void 0,void 0,function(){var i,o,a,s,c,u,f,l,d,h,v,g,_,E,S=this;return Pj(this,function(T){switch(T.label){case 0:return Ai.debug(r,t),a="us-east-1",s="execute-api",c=void 0,typeof t=="string"?(i=this._parseUrl(t),o=t):(o=t.endpoint,c=t.custom_header,a=t.region,s=t.service,i=this._parseUrl(t.endpoint)),u={method:r,url:o,host:i.host,path:i.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},f={},yr.isReactNative&&(l=yr.userAgent||"aws-amplify/0.1.x",f={"User-Agent":l}),d=Object.assign({},n),h=d.response,d.body&&(typeof FormData=="function"&&d.body instanceof FormData?(f["Content-Type"]="multipart/form-data",u.data=d.body):(f["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(d.body))),d.responseType&&(u.responseType=d.responseType),d.withCredentials&&(u.withCredentials=d.withCredentials),d.timeout&&(u.timeout=d.timeout),d.cancellableToken&&(u.cancelToken=d.cancellableToken.token),u.signerServiceInfo=d.signerServiceInfo,typeof c!="function"?[3,2]:[4,c()];case 1:return g=T.sent(),[3,3];case 2:g=void 0,T.label=3;case 3:return v=g,u.headers=Dr(Dr(Dr({},f),v),d.headers),_=kt(o,!0,!0),E=a_(_,["search"]),u.url=os(Dr(Dr({},E),{query:Dr(Dr({},E.query),d.queryStringParameters||{})})),typeof u.headers.Authorization!="undefined"?(u.headers=Object.keys(u.headers).reduce(function(R,P){return u.headers[P]&&(R[P]=u.headers[P]),R},{}),[2,this._request(u,h)]):[2,this.Credentials.get().then(function(R){return S._signed(Dr({},u),R,h,{region:a,service:s}).catch(function(P){if(sr.isClockSkewError(P)){var U=P.response.headers,W=U&&(U.date||U.Date),j=new Date(W),te=sr.getDateFromHeaderString(u.headers["x-amz-date"]);if(sr.isClockSkewed(j))return sr.setClockOffset(j.getTime()-te.getTime()),S.ajax(t,r,n)}throw P})},function(R){return Ai.debug("No credentials available, the request will be unsigned"),S._request(u,h)})]}})})},e.prototype.get=function(t,r){return this.ajax(t,"GET",r)},e.prototype.put=function(t,r){return this.ajax(t,"PUT",r)},e.prototype.patch=function(t,r){return this.ajax(t,"PATCH",r)},e.prototype.post=function(t,r){return this.ajax(t,"POST",r)},e.prototype.del=function(t,r){return this.ajax(t,"DELETE",r)},e.prototype.head=function(t,r){return this.ajax(t,"HEAD",r)},e.prototype.cancel=function(t,r){var n=this._cancelTokenMap.get(t);return n&&n.cancel(r),!0},e.prototype.isCancel=function(t){return Ka.isCancel(t)},e.prototype.getCancellableToken=function(){return Ka.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(t,r){this._cancelTokenMap.set(t,r)},e.prototype.endpoint=function(t){var r=this,n=this._options.endpoints,i="";return Array.isArray(n)&&n.forEach(function(o){o.name===t&&(i=o.endpoint,typeof o.region=="string"?r._region=o.region:typeof r._options.region=="string"&&(r._region=r._options.region),typeof o.service=="string"?r._service=o.service||"execute-api":r._service="execute-api",typeof o.custom_header=="function"?r._custom_header=o.custom_header:r._custom_header=void 0)}),i},e.prototype._signed=function(t,r,n,i){var o=i.service,a=i.region,s=t.signerServiceInfo,c=a_(t,["signerServiceInfo"]),u=a||this._region||this._options.region,f=o||this._service||this._options.service,l={secret_key:r.secretAccessKey,access_key:r.accessKeyId,session_token:r.sessionToken},d={region:u,service:f},h=Object.assign(d,s),v=bE.sign(c,l,h);return v.data&&(v.body=v.data),Ai.debug("Signed Request: ",v),delete v.headers.host,Ka(v).then(function(g){return n?g:g.data}).catch(function(g){throw Ai.debug(g),g})},e.prototype._request=function(t,r){return r===void 0&&(r=!1),Ka(t).then(function(n){return r?n:n.data}).catch(function(n){throw Ai.debug(n),n})},e.prototype._parseUrl=function(t){var r=t.split("/");return{host:r[2],path:"/"+r.slice(3).join("/")}},e}(),ou=globalThis&&globalThis.__assign||function(){return ou=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ou.apply(this,arguments)},Nj=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Rj=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Mj=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},Ha=new Se("RestAPI"),QA=function(){function e(t){this._api=null,this.Credentials=ot,this._options=t,Ha.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,i=n===void 0?{}:n,o=Mj(r,["API"]),a=ou(ou({},o),i);if(Ha.debug("configure Rest API",{opt:a}),a.aws_project_region){if(a.aws_cloud_logic_custom){var s=a.aws_cloud_logic_custom;a.endpoints=typeof s=="string"?JSON.parse(s):s}a=Object.assign({},a,{region:a.aws_project_region,header:{}})}return Array.isArray(a.endpoints)?a.endpoints.forEach(function(c){typeof c.custom_header!="undefined"&&typeof c.custom_header!="function"&&(Ha.warn("Rest API "+c.name+", custom_header should be a function"),c.custom_header=void 0)}):this._options&&Array.isArray(this._options.endpoints)?a.endpoints=this._options.endpoints:a.endpoints=[],this._options=Object.assign({},this._options,a),this.createInstance(),this._options},e.prototype.createInstance=function(){return Ha.debug("create Rest API instance"),this._api=new XA(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.get(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.post=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.post(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.put=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.put(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.patch=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.patch(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.del=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.del(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.head=function(t,r,n){try{var i=this.getEndpointInfo(t,r),o=this._api.getCancellableToken(),a=Object.assign({},n);a.cancellableToken=o;var s=this._api.head(i,a);return this._api.updateRequestToBeCancellable(s,o),s}catch(c){return Promise.reject(c.message)}},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype.endpoint=function(t){return Nj(this,void 0,void 0,function(){return Rj(this,function(r){return[2,this._api.endpoint(t)]})})},e.prototype.getEndpointInfo=function(t,r){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var i=n.find(function(a){return a.name===t});if(!i)throw new Error("API "+t+" does not exist");var o={endpoint:i.endpoint+r};return typeof i.region=="string"?o.region=i.region:typeof this._options.region=="string"&&(o.region=this._options.region),typeof i.service=="string"?o.service=i.service||"execute-api":o.service="execute-api",typeof i.custom_header=="function"?o.custom_header=i.custom_header:o.custom_header=void 0,o},e}(),Dj=new QA(null);at.register(Dj);function ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ps=function(r){return typeof r}:ps=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ps(e)}function Lj(e){return ps(e)=="object"&&e!==null}var ZA=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function yd(e,t){for(var r=/\r\n|[\n\r]/g,n=1,i=t+1,o;(o=r.exec(e.body))&&o.index<t;)n+=1,i=t+1-(o.index+o[0].length);return{line:n,column:i}}function Uj(e){return ex(e.source,yd(e.source,e.start))}function ex(e,t){var r=e.locationOffset.column-1,n=vs(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=t.line===1?r:0,c=t.column+s,u="".concat(e.name,":").concat(a,":").concat(c,`
`),f=n.split(/\r\n|[\n\r]/g),l=f[i];if(l.length>120){for(var d=Math.floor(c/80),h=c%80,v=[],g=0;g<l.length;g+=80)v.push(l.slice(g,g+80));return u+s_([["".concat(a),v[0]]].concat(v.slice(1,d+1).map(function(_){return["",_]}),[[" ",vs(h-1)+"^"],["",v[d+1]]]))}return u+s_([["".concat(a-1),f[i-1]],["".concat(a),l],["",vs(c-1)+"^"],["".concat(a+1),f[i+1]]])}function s_(e){var t=e.filter(function(n){n[0];var i=n[1];return i!==void 0}),r=Math.max.apply(Math,t.map(function(n){var i=n[0];return i.length}));return t.map(function(n){var i=n[0],o=n[1];return Bj(r,i)+(o?" | "+o:" |")}).join(`
`)}function vs(e){return Array(e+1).join(" ")}function Bj(e,t){return vs(e-t.length)+t}function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(r){return typeof r}:gs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gs(e)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){jj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zj(e,t,r){return t&&c_(e.prototype,t),r&&c_(e,r),e}function qj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xo(e,t)}function Kj(e){var t=rx();return function(){var n=Qo(e),i;if(t){var o=Qo(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return tx(this,i)}}function tx(e,t){return t&&(gs(t)==="object"||typeof t=="function")?t:Eo(e)}function Eo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wd(e){var t=typeof Map=="function"?new Map:void 0;return wd=function(n){if(n===null||!Hj(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return ms(n,arguments,Qo(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Xo(i,n)},wd(e)}function ms(e,t,r){return rx()?ms=Reflect.construct:ms=function(i,o,a){var s=[null];s.push.apply(s,o);var c=Function.bind.apply(i,s),u=new c;return a&&Xo(u,a.prototype),u},ms.apply(null,arguments)}function rx(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Hj(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Xo(e,t){return Xo=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Xo(e,t)}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Qo(e)}var Qr=function(e){qj(r,e);var t=Kj(r);function r(n,i,o,a,s,c,u){var f,l,d,h;$j(this,r),h=t.call(this,n),h.name="GraphQLError",h.originalError=c!=null?c:void 0,h.nodes=f_(Array.isArray(i)?i:i?[i]:void 0);for(var v=[],g=0,_=(E=h.nodes)!==null&&E!==void 0?E:[];g<_.length;g++){var E,S=_[g],T=S.loc;T!=null&&v.push(T)}v=f_(v),h.source=o!=null?o:(f=v)===null||f===void 0?void 0:f[0].source,h.positions=a!=null?a:(l=v)===null||l===void 0?void 0:l.map(function(P){return P.start}),h.locations=a&&o?a.map(function(P){return yd(o,P)}):(d=v)===null||d===void 0?void 0:d.map(function(P){return yd(P.source,P.start)}),h.path=s!=null?s:void 0;var R=c==null?void 0:c.extensions;return u==null&&Lj(R)?h.extensions=Fj({},R):h.extensions=u!=null?u:{},Object.defineProperties(Eo(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(Eo(h),"stack",{value:c.stack,writable:!0,configurable:!0}),tx(h)):(Error.captureStackTrace?Error.captureStackTrace(Eo(h),r):Object.defineProperty(Eo(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return zj(r,[{key:"toString",value:function(){return Gj(this)}},{key:ZA,get:function(){return"Object"}}]),r}(wd(Error));function f_(e){return e===void 0||e.length===0?void 0:e}function Gj(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];i.loc&&(t+=`

`+Uj(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+=`

`+ex(e.source,s)}return t}function Kt(e,t,r){return new Qr("Syntax Error: ".concat(r),void 0,e,[t])}var le=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});function Vj(e,t){var r=Boolean(e);if(!r)throw new Error(t!=null?t:"Unexpected invariant triggered.")}var Wj=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,bd=Wj;function nx(e){var t=e.prototype.toJSON;typeof t=="function"||Vj(0),e.prototype.inspect=t,bd&&(e.prototype[bd]=t)}var ix=function(){function e(r,n,i){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=i}var t=e.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},e}();nx(ix);var je=function(){function e(r,n,i,o,a,s,c){this.kind=r,this.start=n,this.end=i,this.line=o,this.column=a,this.value=c,this.prev=s,this.next=null}var t=e.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();nx(je);function l_(e){return e!=null&&typeof e.kind=="string"}var Z=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function ys(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(r){return typeof r}:ys=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ys(e)}var Jj=10,ox=2;function ax(e){return Wu(e,[])}function Wu(e,t){switch(ys(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return e===null?"null":Yj(e,t);default:return String(e)}}function Yj(e,t){if(t.indexOf(e)!==-1)return"[Circular]";var r=[].concat(t,[e]),n=Zj(e);if(n!==void 0){var i=n.call(e);if(i!==e)return typeof i=="string"?i:Wu(i,r)}else if(Array.isArray(e))return Qj(e,r);return Xj(e,r)}function Xj(e,t){var r=Object.keys(e);if(r.length===0)return"{}";if(t.length>ox)return"["+e$(e)+"]";var n=r.map(function(i){var o=Wu(e[i],t);return i+": "+o});return"{ "+n.join(", ")+" }"}function Qj(e,t){if(e.length===0)return"[]";if(t.length>ox)return"[Array]";for(var r=Math.min(Jj,e.length),n=e.length-r,i=[],o=0;o<r;++o)i.push(Wu(e[o],t));return n===1?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items")),"["+i.join(", ")+"]"}function Zj(e){var t=e[String(bd)];if(typeof t=="function")return t;if(typeof e.inspect=="function")return e.inspect}function e$(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){var r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}function tf(e,t){var r=Boolean(e);if(!r)throw new Error(t)}var t$=function(t,r){return t instanceof r};function d_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r$(e,t,r){return t&&d_(e.prototype,t),r&&d_(e,r),e}var sx=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||tf(0,"Body must be a string. Received: ".concat(ax(t),".")),this.body=t,this.name=r,this.locationOffset=n,this.locationOffset.line>0||tf(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||tf(0,"column in locationOffset is 1-indexed and must be positive.")}return r$(e,[{key:ZA,get:function(){return"Source"}}]),e}();function n$(e){return t$(e,sx)}var i$=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function o$(e){var t=e.split(/\r\n|[\n\r]/g),r=a$(e);if(r!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var i=0;i<t.length&&h_(t[i]);)++i;for(var o=t.length;o>i&&h_(t[o-1]);)--o;return t.slice(i,o).join(`
`)}function h_(e){for(var t=0;t<e.length;++t)if(e[t]!==" "&&e[t]!=="	")return!1;return!0}function a$(e){for(var t,r=!0,n=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:e.charCodeAt(a+1)===10&&++a;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(o===null||i<o)&&(o=i),n=!1}return(t=o)!==null&&t!==void 0?t:0}function s$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=e.indexOf(`
`)===-1,i=e[0]===" "||e[0]==="	",o=e[e.length-1]==='"',a=e[e.length-1]==="\\",s=!n||o||a||r,c="";return s&&!(n&&i)&&(c+=`
`+t),c+=t?e.replace(/\n/g,`
`+t):e,s&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var u$=function(){function e(r){var n=new je(Z.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==Z.EOF)do{var i;n=(i=n.next)!==null&&i!==void 0?i:n.next=f$(this,n)}while(n.kind===Z.COMMENT);return n},e}();function c$(e){return e===Z.BANG||e===Z.DOLLAR||e===Z.AMP||e===Z.PAREN_L||e===Z.PAREN_R||e===Z.SPREAD||e===Z.COLON||e===Z.EQUALS||e===Z.AT||e===Z.BRACKET_L||e===Z.BRACKET_R||e===Z.BRACE_L||e===Z.PIPE||e===Z.BRACE_R}function ui(e){return isNaN(e)?Z.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function f$(e,t){for(var r=e.source,n=r.body,i=n.length,o=t.end;o<i;){var a=n.charCodeAt(o),s=e.line,c=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:n.charCodeAt(o+1)===10?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new je(Z.BANG,o,o+1,s,c,t);case 35:return d$(r,o,s,c,t);case 36:return new je(Z.DOLLAR,o,o+1,s,c,t);case 38:return new je(Z.AMP,o,o+1,s,c,t);case 40:return new je(Z.PAREN_L,o,o+1,s,c,t);case 41:return new je(Z.PAREN_R,o,o+1,s,c,t);case 46:if(n.charCodeAt(o+1)===46&&n.charCodeAt(o+2)===46)return new je(Z.SPREAD,o,o+3,s,c,t);break;case 58:return new je(Z.COLON,o,o+1,s,c,t);case 61:return new je(Z.EQUALS,o,o+1,s,c,t);case 64:return new je(Z.AT,o,o+1,s,c,t);case 91:return new je(Z.BRACKET_L,o,o+1,s,c,t);case 93:return new je(Z.BRACKET_R,o,o+1,s,c,t);case 123:return new je(Z.BRACE_L,o,o+1,s,c,t);case 124:return new je(Z.PIPE,o,o+1,s,c,t);case 125:return new je(Z.BRACE_R,o,o+1,s,c,t);case 34:return n.charCodeAt(o+1)===34&&n.charCodeAt(o+2)===34?v$(r,o,s,c,t,e):p$(r,o,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return h$(r,o,a,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return m$(r,o,s,c,t)}throw Kt(r,o,l$(a))}var u=e.line,f=1+o-e.lineStart;return new je(Z.EOF,i,i,u,f,t)}function l$(e){return e<32&&e!==9&&e!==10&&e!==13?"Cannot contain the invalid character ".concat(ui(e),"."):e===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(ui(e),".")}function d$(e,t,r,n,i){var o=e.body,a,s=t;do a=o.charCodeAt(++s);while(!isNaN(a)&&(a>31||a===9));return new je(Z.COMMENT,t,s,r,n,i,o.slice(t+1,s))}function h$(e,t,r,n,i,o){var a=e.body,s=r,c=t,u=!1;if(s===45&&(s=a.charCodeAt(++c)),s===48){if(s=a.charCodeAt(++c),s>=48&&s<=57)throw Kt(e,c,"Invalid number, unexpected digit after 0: ".concat(ui(s),"."))}else c=rf(e,c,s),s=a.charCodeAt(c);if(s===46&&(u=!0,s=a.charCodeAt(++c),c=rf(e,c,s),s=a.charCodeAt(c)),(s===69||s===101)&&(u=!0,s=a.charCodeAt(++c),(s===43||s===45)&&(s=a.charCodeAt(++c)),c=rf(e,c,s),s=a.charCodeAt(c)),s===46||y$(s))throw Kt(e,c,"Invalid number, expected digit but got: ".concat(ui(s),"."));return new je(u?Z.FLOAT:Z.INT,t,c,n,i,o,a.slice(t,c))}function rf(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do o=n.charCodeAt(++i);while(o>=48&&o<=57);return i}throw Kt(e,i,"Invalid number, expected digit but got: ".concat(ui(o),"."))}function p$(e,t,r,n,i){for(var o=e.body,a=t+1,s=a,c=0,u="";a<o.length&&!isNaN(c=o.charCodeAt(a))&&c!==10&&c!==13;){if(c===34)return u+=o.slice(s,a),new je(Z.STRING,t,a+1,r,n,i,u);if(c<32&&c!==9)throw Kt(e,a,"Invalid character within String: ".concat(ui(c),"."));if(++a,c===92){switch(u+=o.slice(s,a-1),c=o.charCodeAt(a),c){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var f=g$(o.charCodeAt(a+1),o.charCodeAt(a+2),o.charCodeAt(a+3),o.charCodeAt(a+4));if(f<0){var l=o.slice(a+1,a+5);throw Kt(e,a,"Invalid character escape sequence: \\u".concat(l,"."))}u+=String.fromCharCode(f),a+=4;break}default:throw Kt(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++a,s=a}}throw Kt(e,a,"Unterminated string.")}function v$(e,t,r,n,i,o){for(var a=e.body,s=t+3,c=s,u=0,f="";s<a.length&&!isNaN(u=a.charCodeAt(s));){if(u===34&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34)return f+=a.slice(c,s),new je(Z.BLOCK_STRING,t,s+3,r,n,i,o$(f));if(u<32&&u!==9&&u!==10&&u!==13)throw Kt(e,s,"Invalid character within String: ".concat(ui(u),"."));u===10?(++s,++o.line,o.lineStart=s):u===13?(a.charCodeAt(s+1)===10?s+=2:++s,++o.line,o.lineStart=s):u===92&&a.charCodeAt(s+1)===34&&a.charCodeAt(s+2)===34&&a.charCodeAt(s+3)===34?(f+=a.slice(c,s)+'"""',s+=4,c=s):++s}throw Kt(e,s,"Unterminated string.")}function g$(e,t,r,n){return Ga(e)<<12|Ga(t)<<8|Ga(r)<<4|Ga(n)}function Ga(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function m$(e,t,r,n,i){for(var o=e.body,a=o.length,s=t+1,c=0;s!==a&&!isNaN(c=o.charCodeAt(s))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new je(Z.NAME,t,s,r,n,i,o.slice(t,s))}function y$(e){return e===95||e>=65&&e<=90||e>=97&&e<=122}function nf(e,t){var r=new w$(e,t);return r.parseDocument()}var w$=function(){function e(r,n){var i=n$(r)?r:new sx(r);this._lexer=new u$(i),this._options=n}var t=e.prototype;return t.parseName=function(){var n=this.expectToken(Z.NAME);return{kind:le.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:le.DOCUMENT,definitions:this.many(Z.SOF,this.parseDefinition,Z.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(Z.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Z.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Z.BRACE_L))return{kind:le.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var i=this.parseOperationType(),o;return this.peek(Z.NAME)&&(o=this.parseName()),{kind:le.OPERATION_DEFINITION,operation:i,name:o,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(Z.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(Z.PAREN_L,this.parseVariableDefinition,Z.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:le.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Z.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Z.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Z.DOLLAR),{kind:le.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:le.SELECTION_SET,selections:this.many(Z.BRACE_L,this.parseSelection,Z.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(Z.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,i=this.parseName(),o,a;return this.expectOptionalToken(Z.COLON)?(o=i,a=this.parseName()):a=i,{kind:le.FIELD,alias:o,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Z.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var i=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Z.PAREN_L,i,Z.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,i=this.parseName();return this.expectToken(Z.COLON),{kind:le.ARGUMENT,name:i,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:le.ARGUMENT,name:this.parseName(),value:(this.expectToken(Z.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(Z.SPREAD);var i=this.expectOptionalKeyword("on");return!i&&this.peek(Z.NAME)?{kind:le.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:le.INLINE_FRAGMENT,typeCondition:i?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,i=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:le.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}:{kind:le.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(i)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var i=this._lexer.token;switch(i.kind){case Z.BRACKET_L:return this.parseList(n);case Z.BRACE_L:return this.parseObject(n);case Z.INT:return this._lexer.advance(),{kind:le.INT,value:i.value,loc:this.loc(i)};case Z.FLOAT:return this._lexer.advance(),{kind:le.FLOAT,value:i.value,loc:this.loc(i)};case Z.STRING:case Z.BLOCK_STRING:return this.parseStringLiteral();case Z.NAME:switch(this._lexer.advance(),i.value){case"true":return{kind:le.BOOLEAN,value:!0,loc:this.loc(i)};case"false":return{kind:le.BOOLEAN,value:!1,loc:this.loc(i)};case"null":return{kind:le.NULL,loc:this.loc(i)};default:return{kind:le.ENUM,value:i.value,loc:this.loc(i)}}case Z.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:le.STRING,value:n.value,block:n.kind===Z.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var i=this,o=this._lexer.token,a=function(){return i.parseValueLiteral(n)};return{kind:le.LIST,values:this.any(Z.BRACKET_L,a,Z.BRACKET_R),loc:this.loc(o)}},t.parseObject=function(n){var i=this,o=this._lexer.token,a=function(){return i.parseObjectField(n)};return{kind:le.OBJECT,fields:this.any(Z.BRACE_L,a,Z.BRACE_R),loc:this.loc(o)}},t.parseObjectField=function(n){var i=this._lexer.token,o=this.parseName();return this.expectToken(Z.COLON),{kind:le.OBJECT_FIELD,name:o,value:this.parseValueLiteral(n),loc:this.loc(i)}},t.parseDirectives=function(n){for(var i=[];this.peek(Z.AT);)i.push(this.parseDirective(n));return i},t.parseDirective=function(n){var i=this._lexer.token;return this.expectToken(Z.AT),{kind:le.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(i)}},t.parseTypeReference=function(){var n=this._lexer.token,i;return this.expectOptionalToken(Z.BRACKET_L)?(i=this.parseTypeReference(),this.expectToken(Z.BRACKET_R),i={kind:le.LIST_TYPE,type:i,loc:this.loc(n)}):i=this.parseNamedType(),this.expectOptionalToken(Z.BANG)?{kind:le.NON_NULL_TYPE,type:i,loc:this.loc(n)}:i},t.parseNamedType=function(){var n=this._lexer.token;return{kind:le.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Z.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(Z.STRING)||this.peek(Z.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("schema");var o=this.parseDirectives(!0),a=this.many(Z.BRACE_L,this.parseOperationTypeDefinition,Z.BRACE_R);return{kind:le.SCHEMA_DEFINITION,description:i,directives:o,operationTypes:a,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,i=this.parseOperationType();this.expectToken(Z.COLON);var o=this.parseNamedType();return{kind:le.OPERATION_TYPE_DEFINITION,operation:i,type:o,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("scalar");var o=this.parseName(),a=this.parseDirectives(!0);return{kind:le.SCALAR_TYPE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("type");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:le.OBJECT_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:c,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var i=[];this.expectOptionalToken(Z.AMP);do i.push(this.parseNamedType());while(this.expectOptionalToken(Z.AMP)||this.peek(Z.NAME));return i}return this.delimitedMany(Z.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Z.BRACE_L)&&this._lexer.lookahead().kind===Z.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Z.BRACE_L,this.parseFieldDefinition,Z.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseArgumentDefs();this.expectToken(Z.COLON);var s=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:le.FIELD_DEFINITION,description:i,name:o,arguments:a,type:s,directives:c,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(Z.PAREN_L,this.parseInputValueDef,Z.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName();this.expectToken(Z.COLON);var a=this.parseTypeReference(),s;this.expectOptionalToken(Z.EQUALS)&&(s=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:le.INPUT_VALUE_DEFINITION,description:i,name:o,type:a,defaultValue:s,directives:c,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("interface");var o=this.parseName(),a=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:le.INTERFACE_TYPE_DEFINITION,description:i,name:o,interfaces:a,directives:s,fields:c,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("union");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:le.UNION_TYPE_DEFINITION,description:i,name:o,directives:a,types:s,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Z.EQUALS)?this.delimitedMany(Z.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("enum");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:le.ENUM_TYPE_DEFINITION,description:i,name:o,directives:a,values:s,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Z.BRACE_L,this.parseEnumValueDefinition,Z.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,i=this.parseDescription(),o=this.parseName(),a=this.parseDirectives(!0);return{kind:le.ENUM_VALUE_DEFINITION,description:i,name:o,directives:a,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("input");var o=this.parseName(),a=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:le.INPUT_OBJECT_TYPE_DEFINITION,description:i,name:o,directives:a,fields:s,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Z.BRACE_L,this.parseInputValueDef,Z.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Z.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var i=this.parseDirectives(!0),o=this.optionalMany(Z.BRACE_L,this.parseOperationTypeDefinition,Z.BRACE_R);if(i.length===0&&o.length===0)throw this.unexpected();return{kind:le.SCHEMA_EXTENSION,directives:i,operationTypes:o,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var i=this.parseName(),o=this.parseDirectives(!0);if(o.length===0)throw this.unexpected();return{kind:le.SCALAR_TYPE_EXTENSION,name:i,directives:o,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:le.OBJECT_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var i=this.parseName(),o=this.parseImplementsInterfaces(),a=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(o.length===0&&a.length===0&&s.length===0)throw this.unexpected();return{kind:le.INTERFACE_TYPE_EXTENSION,name:i,interfaces:o,directives:a,fields:s,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseUnionMemberTypes();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:le.UNION_TYPE_EXTENSION,name:i,directives:o,types:a,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseEnumValuesDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:le.ENUM_TYPE_EXTENSION,name:i,directives:o,values:a,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var i=this.parseName(),o=this.parseDirectives(!0),a=this.parseInputFieldsDefinition();if(o.length===0&&a.length===0)throw this.unexpected();return{kind:le.INPUT_OBJECT_TYPE_EXTENSION,name:i,directives:o,fields:a,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,i=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Z.AT);var o=this.parseName(),a=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:le.DIRECTIVE_DEFINITION,description:i,name:o,arguments:a,repeatable:s,locations:c,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Z.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,i=this.parseName();if(i$[i.value]!==void 0)return i;throw this.unexpected(n)},t.loc=function(n){var i;if(((i=this._options)===null||i===void 0?void 0:i.noLocation)!==!0)return new ix(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i;throw Kt(this._lexer.source,i.start,"Expected ".concat(ux(n),", found ").concat(of(i),"."))},t.expectOptionalToken=function(n){var i=this._lexer.token;if(i.kind===n)return this._lexer.advance(),i},t.expectKeyword=function(n){var i=this._lexer.token;if(i.kind===Z.NAME&&i.value===n)this._lexer.advance();else throw Kt(this._lexer.source,i.start,'Expected "'.concat(n,'", found ').concat(of(i),"."))},t.expectOptionalKeyword=function(n){var i=this._lexer.token;return i.kind===Z.NAME&&i.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var i=n!=null?n:this._lexer.token;return Kt(this._lexer.source,i.start,"Unexpected ".concat(of(i),"."))},t.any=function(n,i,o){this.expectToken(n);for(var a=[];!this.expectOptionalToken(o);)a.push(i.call(this));return a},t.optionalMany=function(n,i,o){if(this.expectOptionalToken(n)){var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a}return[]},t.many=function(n,i,o){this.expectToken(n);var a=[];do a.push(i.call(this));while(!this.expectOptionalToken(o));return a},t.delimitedMany=function(n,i){this.expectOptionalToken(n);var o=[];do o.push(i.call(this));while(this.expectOptionalToken(n));return o},e}();function of(e){var t=e.value;return ux(e.kind)+(t!=null?' "'.concat(t,'"'):"")}function ux(e){return c$(e)?'"'.concat(e,'"'):e}var b$={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},_$=Object.freeze({});function S$(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b$,n=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],c=void 0,u=void 0,f=void 0,l=[],d=[],h=e;do{a++;var v=a===o.length,g=v&&s.length!==0;if(v){if(u=d.length===0?void 0:l[l.length-1],c=f,f=d.pop(),g){if(i)c=c.slice();else{for(var _={},E=0,S=Object.keys(c);E<S.length;E++){var T=S[E];_[T]=c[T]}c=_}for(var R=0,P=0;P<s.length;P++){var U=s[P][0],W=s[P][1];i&&(U-=R),i&&W===null?(c.splice(U,1),R++):c[U]=W}}a=n.index,o=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(u=f?i?a:o[a]:void 0,c=f?f[u]:h,c==null)continue;f&&l.push(u)}var j=void 0;if(!Array.isArray(c)){if(!l_(c))throw new Error("Invalid AST Node: ".concat(ax(c),"."));var te=E$(t,c.kind,v);if(te){if(j=te.call(t,c,u,f,l,d),j===_$)break;if(j===!1){if(!v){l.pop();continue}}else if(j!==void 0&&(s.push([u,j]),!v))if(l_(j))c=j;else{l.pop();continue}}}if(j===void 0&&g&&s.push([u,c]),v)l.pop();else{var k;n={inArray:i,index:a,keys:o,edits:s,prev:n},i=Array.isArray(c),o=i?c:(k=r[c.kind])!==null&&k!==void 0?k:[],a=-1,s=[],f&&d.push(f),f=c}}while(n!==void 0);return s.length!==0&&(h=s[s.length-1][1]),h}function E$(e,t,r){var n=e[t];if(n){if(!r&&typeof n=="function")return n;var i=r?n.leave:n.enter;if(typeof i=="function")return i}else{var o=r?e.leave:e.enter;if(o){if(typeof o=="function")return o;var a=o[t];if(typeof a=="function")return a}}}function af(e){return S$(e,{leave:A$})}var C$=80,A$={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return ue(t.definitions,`

`)+`
`},OperationDefinition:function(t){var r=t.operation,n=t.name,i=Fe("(",ue(t.variableDefinitions,", "),")"),o=ue(t.directives," "),a=t.selectionSet;return!n&&!o&&!i&&r==="query"?a:ue([r,ue([n,i]),o,a]," ")},VariableDefinition:function(t){var r=t.variable,n=t.type,i=t.defaultValue,o=t.directives;return r+": "+n+Fe(" = ",i)+Fe(" ",ue(o," "))},SelectionSet:function(t){var r=t.selections;return hr(r)},Field:function(t){var r=t.alias,n=t.name,i=t.arguments,o=t.directives,a=t.selectionSet,s=Fe("",r,": ")+n,c=s+Fe("(",ue(i,", "),")");return c.length>C$&&(c=s+Fe(`(
`,ws(ue(i,`
`)),`
)`)),ue([c,ue(o," "),a]," ")},Argument:function(t){var r=t.name,n=t.value;return r+": "+n},FragmentSpread:function(t){var r=t.name,n=t.directives;return"..."+r+Fe(" ",ue(n," "))},InlineFragment:function(t){var r=t.typeCondition,n=t.directives,i=t.selectionSet;return ue(["...",Fe("on ",r),ue(n," "),i]," ")},FragmentDefinition:function(t){var r=t.name,n=t.typeCondition,i=t.variableDefinitions,o=t.directives,a=t.selectionSet;return"fragment ".concat(r).concat(Fe("(",ue(i,", "),")")," ")+"on ".concat(n," ").concat(Fe("",ue(o," ")," "))+a},IntValue:function(t){var r=t.value;return r},FloatValue:function(t){var r=t.value;return r},StringValue:function(t,r){var n=t.value,i=t.block;return i?s$(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var r=t.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var r=t.value;return r},ListValue:function(t){var r=t.values;return"["+ue(r,", ")+"]"},ObjectValue:function(t){var r=t.fields;return"{"+ue(r,", ")+"}"},ObjectField:function(t){var r=t.name,n=t.value;return r+": "+n},Directive:function(t){var r=t.name,n=t.arguments;return"@"+r+Fe("(",ue(n,", "),")")},NamedType:function(t){var r=t.name;return r},ListType:function(t){var r=t.type;return"["+r+"]"},NonNullType:function(t){var r=t.type;return r+"!"},SchemaDefinition:dr(function(e){var t=e.directives,r=e.operationTypes;return ue(["schema",ue(t," "),hr(r)]," ")}),OperationTypeDefinition:function(t){var r=t.operation,n=t.type;return r+": "+n},ScalarTypeDefinition:dr(function(e){var t=e.name,r=e.directives;return ue(["scalar",t,ue(r," ")]," ")}),ObjectTypeDefinition:dr(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ue(["type",t,Fe("implements ",ue(r," & ")),ue(n," "),hr(i)]," ")}),FieldDefinition:dr(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(p_(r)?Fe(`(
`,ws(ue(r,`
`)),`
)`):Fe("(",ue(r,", "),")"))+": "+n+Fe(" ",ue(i," "))}),InputValueDefinition:dr(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return ue([t+": "+r,Fe("= ",n),ue(i," ")]," ")}),InterfaceTypeDefinition:dr(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ue(["interface",t,Fe("implements ",ue(r," & ")),ue(n," "),hr(i)]," ")}),UnionTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.types;return ue(["union",t,ue(r," "),n&&n.length!==0?"= "+ue(n," | "):""]," ")}),EnumTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.values;return ue(["enum",t,ue(r," "),hr(n)]," ")}),EnumValueDefinition:dr(function(e){var t=e.name,r=e.directives;return ue([t,ue(r," ")]," ")}),InputObjectTypeDefinition:dr(function(e){var t=e.name,r=e.directives,n=e.fields;return ue(["input",t,ue(r," "),hr(n)]," ")}),DirectiveDefinition:dr(function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+(p_(r)?Fe(`(
`,ws(ue(r,`
`)),`
)`):Fe("(",ue(r,", "),")"))+(n?" repeatable":"")+" on "+ue(i," | ")}),SchemaExtension:function(t){var r=t.directives,n=t.operationTypes;return ue(["extend schema",ue(r," "),hr(n)]," ")},ScalarTypeExtension:function(t){var r=t.name,n=t.directives;return ue(["extend scalar",r,ue(n," ")]," ")},ObjectTypeExtension:function(t){var r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return ue(["extend type",r,Fe("implements ",ue(n," & ")),ue(i," "),hr(o)]," ")},InterfaceTypeExtension:function(t){var r=t.name,n=t.interfaces,i=t.directives,o=t.fields;return ue(["extend interface",r,Fe("implements ",ue(n," & ")),ue(i," "),hr(o)]," ")},UnionTypeExtension:function(t){var r=t.name,n=t.directives,i=t.types;return ue(["extend union",r,ue(n," "),i&&i.length!==0?"= "+ue(i," | "):""]," ")},EnumTypeExtension:function(t){var r=t.name,n=t.directives,i=t.values;return ue(["extend enum",r,ue(n," "),hr(i)]," ")},InputObjectTypeExtension:function(t){var r=t.name,n=t.directives,i=t.fields;return ue(["extend input",r,ue(n," "),hr(i)]," ")}};function dr(e){return function(t){return ue([t.description,e(t)],`
`)}}function ue(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=e==null?void 0:e.filter(function(n){return n}).join(r))!==null&&t!==void 0?t:""}function hr(e){return Fe(`{
`,ws(ue(e,`
`)),`
}`)}function Fe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?e+t+r:""}function ws(e){return Fe("  ",e.replace(/\n/g,`
  `))}function x$(e){return e.indexOf(`
`)!==-1}function p_(e){return e!=null&&e.some(x$)}var No=globalThis&&globalThis.__assign||function(){return No=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},No.apply(this,arguments)},T$=new Se("AbstractPubSubProvider"),cx=function(){function e(t){t===void 0&&(t={}),this._config=t}return e.prototype.configure=function(t){return t===void 0&&(t={}),this._config=No(No({},t),this._config),T$.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return No({},this._config)},enumerable:!0,configurable:!0}),e}(),fx={exports:{}};(function(e,t){(function(n,i){e.exports=i()})($e,function(){var n=function(i){var o="@VERSION@-@BUILDLEVEL@",a=i.localStorage||function(){var m={};return{setItem:function(b,C){m[b]=C},getItem:function(b){return m[b]},removeItem:function(b){delete m[b]}}}(),s={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},c=function(m,b){for(var C in m)if(m.hasOwnProperty(C))if(b.hasOwnProperty(C)){if(typeof m[C]!==b[C])throw new Error(d(f.INVALID_TYPE,[typeof m[C],C]))}else{var M="Unknown property, "+C+". Valid properties are:";for(var z in b)b.hasOwnProperty(z)&&(M=M+" "+z);throw new Error(M)}},u=function(m,b){return function(){return m.apply(b,arguments)}},f={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},l={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},d=function(m,b){var C=m.text;if(b){for(var M,z,$=0;$<b.length;$++)if(M="{"+$+"}",z=C.indexOf(M),z>0){var q=C.substring(0,z),H=C.substring(z+M.length);C=q+b[$]+H}}return C},h=[0,6,77,81,73,115,100,112,3],v=[0,4,77,81,84,84,4],g=function(m,b){this.type=m;for(var C in b)b.hasOwnProperty(C)&&(this[C]=b[C])};g.prototype.encode=function(){var m=(this.type&15)<<4,b=0,C=[],M=0,z;switch(this.messageIdentifier!==void 0&&(b+=2),this.type){case s.CONNECT:switch(this.mqttVersion){case 3:b+=h.length+3;break;case 4:b+=v.length+3;break}b+=P(this.clientId)+2,this.willMessage!==void 0&&(b+=P(this.willMessage.destinationName)+2,z=this.willMessage.payloadBytes,z instanceof Uint8Array||(z=new Uint8Array(q)),b+=z.byteLength+2),this.userName!==void 0&&(b+=P(this.userName)+2),this.password!==void 0&&(b+=P(this.password)+2);break;case s.SUBSCRIBE:m|=2;for(var $=0;$<this.topics.length;$++)C[$]=P(this.topics[$]),b+=C[$]+2;b+=this.requestedQos.length;break;case s.UNSUBSCRIBE:m|=2;for(var $=0;$<this.topics.length;$++)C[$]=P(this.topics[$]),b+=C[$]+2;break;case s.PUBREL:m|=2;break;case s.PUBLISH:this.payloadMessage.duplicate&&(m|=8),m=m|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(m|=1),M=P(this.payloadMessage.destinationName),b+=M+2;var q=this.payloadMessage.payloadBytes;b+=q.byteLength,q instanceof ArrayBuffer?q=new Uint8Array(q):q instanceof Uint8Array||(q=new Uint8Array(q.buffer));break}var H=R(b),L=H.length+1,V=new ArrayBuffer(b+L),Q=new Uint8Array(V);if(Q[0]=m,Q.set(H,1),this.type==s.PUBLISH)L=S(this.payloadMessage.destinationName,M,Q,L);else if(this.type==s.CONNECT){switch(this.mqttVersion){case 3:Q.set(h,L),L+=h.length;break;case 4:Q.set(v,L),L+=v.length;break}var D=0;this.cleanSession&&(D=2),this.willMessage!==void 0&&(D|=4,D|=this.willMessage.qos<<3,this.willMessage.retained&&(D|=32)),this.userName!==void 0&&(D|=128),this.password!==void 0&&(D|=64),Q[L++]=D,L=E(this.keepAliveInterval,Q,L)}switch(this.messageIdentifier!==void 0&&(L=E(this.messageIdentifier,Q,L)),this.type){case s.CONNECT:L=S(this.clientId,P(this.clientId),Q,L),this.willMessage!==void 0&&(L=S(this.willMessage.destinationName,P(this.willMessage.destinationName),Q,L),L=E(z.byteLength,Q,L),Q.set(z,L),L+=z.byteLength),this.userName!==void 0&&(L=S(this.userName,P(this.userName),Q,L)),this.password!==void 0&&(L=S(this.password,P(this.password),Q,L));break;case s.PUBLISH:Q.set(q,L);break;case s.SUBSCRIBE:for(var $=0;$<this.topics.length;$++)L=S(this.topics[$],C[$],Q,L),Q[L++]=this.requestedQos[$];break;case s.UNSUBSCRIBE:for(var $=0;$<this.topics.length;$++)L=S(this.topics[$],C[$],Q,L);break}return V};function _(m,b){var C=b,M=m[b],z=M>>4,$=M&=15;b+=1;var q,H=0,L=1;do{if(b==m.length)return[null,C];q=m[b++],H+=(q&127)*L,L*=128}while((q&128)!==0);var V=b+H;if(V>m.length)return[null,C];var Q=new g(z);switch(z){case s.CONNACK:var D=m[b++];D&1&&(Q.sessionPresent=!0),Q.returnCode=m[b++];break;case s.PUBLISH:var ce=$>>1&3,ae=T(m,b);b+=2;var me=W(m,b,ae);b+=ae,ce>0&&(Q.messageIdentifier=T(m,b),b+=2);var de=new A(m.subarray(b,V));($&1)==1&&(de.retained=!0),($&8)==8&&(de.duplicate=!0),de.qos=ce,de.destinationName=me,Q.payloadMessage=de;break;case s.PUBACK:case s.PUBREC:case s.PUBREL:case s.PUBCOMP:case s.UNSUBACK:Q.messageIdentifier=T(m,b);break;case s.SUBACK:Q.messageIdentifier=T(m,b),b+=2,Q.returnCode=m.subarray(b,V);break}return[Q,V]}function E(m,b,C){return b[C++]=m>>8,b[C++]=m%256,C}function S(m,b,C,M){return M=E(b,C,M),U(m,C,M),M+b}function T(m,b){return 256*m[b]+m[b+1]}function R(m){var b=new Array(1),C=0;do{var M=m%128;m=m>>7,m>0&&(M|=128),b[C++]=M}while(m>0&&C<4);return b}function P(m){for(var b=0,C=0;C<m.length;C++){var M=m.charCodeAt(C);M>2047?(55296<=M&&M<=56319&&(C++,b++),b+=3):M>127?b+=2:b++}return b}function U(m,b,C){for(var M=C,z=0;z<m.length;z++){var $=m.charCodeAt(z);if(55296<=$&&$<=56319){var q=m.charCodeAt(++z);if(isNaN(q))throw new Error(d(f.MALFORMED_UNICODE,[$,q]));$=($-55296<<10)+(q-56320)+65536}$<=127?b[M++]=$:$<=2047?(b[M++]=$>>6&31|192,b[M++]=$&63|128):$<=65535?(b[M++]=$>>12&15|224,b[M++]=$>>6&63|128,b[M++]=$&63|128):(b[M++]=$>>18&7|240,b[M++]=$>>12&63|128,b[M++]=$>>6&63|128,b[M++]=$&63|128)}return b}function W(m,b,C){for(var M="",z,$=b;$<b+C;){var q=m[$++];if(q<128)z=q;else{var H=m[$++]-128;if(H<0)throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),""]));if(q<224)z=64*(q-192)+H;else{var L=m[$++]-128;if(L<0)throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),L.toString(16)]));if(q<240)z=4096*(q-224)+64*H+L;else{var V=m[$++]-128;if(V<0)throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),L.toString(16),V.toString(16)]));if(q<248)z=262144*(q-240)+4096*H+64*L+V;else throw new Error(d(f.MALFORMED_UTF,[q.toString(16),H.toString(16),L.toString(16),V.toString(16)]))}}}z>65535&&(z-=65536,M+=String.fromCharCode(55296+(z>>10)),z=56320+(z&1023)),M+=String.fromCharCode(z)}return M}var j=function(m,b){this._client=m,this._keepAliveInterval=b*1e3,this.isReset=!1;var C=new g(s.PINGREQ).encode(),M=function($){return function(){return z.apply($)}},z=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(C),this.timeout=setTimeout(M(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(f.PING_TIMEOUT.code,d(f.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(M(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},te=function(m,b,C,M){b||(b=30);var z=function($,q,H){return function(){return $.apply(q,H)}};this.timeout=setTimeout(z(C,m,M),b*1e3),this.cancel=function(){clearTimeout(this.timeout)}},k=function(m,b,C,M,z){if(!("WebSocket"in i&&i.WebSocket!==null))throw new Error(d(f.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in i&&i.ArrayBuffer!==null))throw new Error(d(f.UNSUPPORTED,["ArrayBuffer"]));this._trace("Paho.Client",m,b,C,M,z),this.host=b,this.port=C,this.path=M,this.uri=m,this.clientId=z,this._wsuri=null,this._localKey=b+":"+C+(M!="/mqtt"?":"+M:"")+":"+z+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0;for(var $ in a)($.indexOf("Sent:"+this._localKey)===0||$.indexOf("Received:"+this._localKey)===0)&&this.restore($)};k.prototype.host=null,k.prototype.port=null,k.prototype.path=null,k.prototype.uri=null,k.prototype.clientId=null,k.prototype.socket=null,k.prototype.connected=!1,k.prototype.maxMessageIdentifier=65536,k.prototype.connectOptions=null,k.prototype.hostIndex=null,k.prototype.onConnected=null,k.prototype.onConnectionLost=null,k.prototype.onMessageDelivered=null,k.prototype.onMessageArrived=null,k.prototype.traceFunction=null,k.prototype._msg_queue=null,k.prototype._buffered_msg_queue=null,k.prototype._connectTimeout=null,k.prototype.sendPinger=null,k.prototype.receivePinger=null,k.prototype._reconnectInterval=1,k.prototype._reconnecting=!1,k.prototype._reconnectTimeout=null,k.prototype.disconnectedPublishing=!1,k.prototype.disconnectedBufferSize=5e3,k.prototype.receiveBuffer=null,k.prototype._traceBuffer=null,k.prototype._MAX_TRACE_ENTRIES=100,k.prototype.connect=function(m){var b=this._traceMask(m,"password");if(this._trace("Client.connect",b,this.socket,this.connected),this.connected)throw new Error(d(f.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(d(f.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=m,this._reconnectInterval=1,this._reconnecting=!1,m.uris?(this.hostIndex=0,this._doConnect(m.uris[0])):this._doConnect(this.uri)},k.prototype.subscribe=function(m,b){if(this._trace("Client.subscribe",m,b),!this.connected)throw new Error(d(f.INVALID_STATE,["not connected"]));var C=new g(s.SUBSCRIBE);C.topics=m.constructor===Array?m:[m],b.qos===void 0&&(b.qos=0),C.requestedQos=[];for(var M=0;M<C.topics.length;M++)C.requestedQos[M]=b.qos;b.onSuccess&&(C.onSuccess=function(z){b.onSuccess({invocationContext:b.invocationContext,grantedQos:z})}),b.onFailure&&(C.onFailure=function(z){b.onFailure({invocationContext:b.invocationContext,errorCode:z,errorMessage:d(z)})}),b.timeout&&(C.timeOut=new te(this,b.timeout,b.onFailure,[{invocationContext:b.invocationContext,errorCode:f.SUBSCRIBE_TIMEOUT.code,errorMessage:d(f.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(C),this._schedule_message(C)},k.prototype.unsubscribe=function(m,b){if(this._trace("Client.unsubscribe",m,b),!this.connected)throw new Error(d(f.INVALID_STATE,["not connected"]));var C=new g(s.UNSUBSCRIBE);C.topics=m.constructor===Array?m:[m],b.onSuccess&&(C.callback=function(){b.onSuccess({invocationContext:b.invocationContext})}),b.timeout&&(C.timeOut=new te(this,b.timeout,b.onFailure,[{invocationContext:b.invocationContext,errorCode:f.UNSUBSCRIBE_TIMEOUT.code,errorMessage:d(f.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(C),this._schedule_message(C)},k.prototype.send=function(m){this._trace("Client.send",m);var b=new g(s.PUBLISH);if(b.payloadMessage=m,this.connected)m.qos>0?this._requires_ack(b):this.onMessageDelivered&&(this._notify_msg_sent[b]=this.onMessageDelivered(b.payloadMessage)),this._schedule_message(b);else if(this._reconnecting&&this.disconnectedPublishing){var C=Object.keys(this._sentMessages).length+this._buffered_msg_queue.length;if(C>this.disconnectedBufferSize)throw new Error(d(f.BUFFER_FULL,[this.disconnectedBufferSize]));m.qos>0?this._requires_ack(b):(b.sequence=++this._sequence,this._buffered_msg_queue.unshift(b))}else throw new Error(d(f.INVALID_STATE,["not connected"]))},k.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(d(f.INVALID_STATE,["not connecting or connected"]));var m=new g(s.DISCONNECT);this._notify_msg_sent[m]=u(this._disconnected,this),this._schedule_message(m)},k.prototype.getTraceLog=function(){if(this._traceBuffer!==null){this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length);for(var m in this._sentMessages)this._trace("_sentMessages ",m,this._sentMessages[m]);for(var m in this._receivedMessages)this._trace("_receivedMessages ",m,this._receivedMessages[m]);return this._traceBuffer}},k.prototype.startTrace=function(){this._traceBuffer===null&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,o)},k.prototype.stopTrace=function(){delete this._traceBuffer},k.prototype._doConnect=function(m){if(this.connectOptions.useSSL){var b=m.split(":");b[0]="wss",m=b.join(":")}this._wsuri=m,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(m,["mqttv3.1"]):this.socket=new WebSocket(m,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=u(this._on_socket_open,this),this.socket.onmessage=u(this._on_socket_message,this),this.socket.onerror=u(this._on_socket_error,this),this.socket.onclose=u(this._on_socket_close,this),this.sendPinger=new j(this,this.connectOptions.keepAliveInterval),this.receivePinger=new j(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new te(this,this.connectOptions.timeout,this._disconnected,[f.CONNECT_TIMEOUT.code,d(f.CONNECT_TIMEOUT)])},k.prototype._schedule_message=function(m){this._msg_queue.unshift(m),this.connected&&this._process_queue()},k.prototype.store=function(m,b){var C={type:b.type,messageIdentifier:b.messageIdentifier,version:1};switch(b.type){case s.PUBLISH:b.pubRecReceived&&(C.pubRecReceived=!0),C.payloadMessage={};for(var M="",z=b.payloadMessage.payloadBytes,$=0;$<z.length;$++)z[$]<=15?M=M+"0"+z[$].toString(16):M=M+z[$].toString(16);C.payloadMessage.payloadHex=M,C.payloadMessage.qos=b.payloadMessage.qos,C.payloadMessage.destinationName=b.payloadMessage.destinationName,b.payloadMessage.duplicate&&(C.payloadMessage.duplicate=!0),b.payloadMessage.retained&&(C.payloadMessage.retained=!0),m.indexOf("Sent:")===0&&(b.sequence===void 0&&(b.sequence=++this._sequence),C.sequence=b.sequence);break;default:throw Error(d(f.INVALID_STORED_DATA,[m+this._localKey+b.messageIdentifier,C]))}a.setItem(m+this._localKey+b.messageIdentifier,JSON.stringify(C))},k.prototype.restore=function(m){var b=a.getItem(m),C=JSON.parse(b),M=new g(C.type,C);switch(C.type){case s.PUBLISH:for(var z=C.payloadMessage.payloadHex,$=new ArrayBuffer(z.length/2),q=new Uint8Array($),H=0;z.length>=2;){var L=parseInt(z.substring(0,2),16);z=z.substring(2,z.length),q[H++]=L}var V=new A(q);V.qos=C.payloadMessage.qos,V.destinationName=C.payloadMessage.destinationName,C.payloadMessage.duplicate&&(V.duplicate=!0),C.payloadMessage.retained&&(V.retained=!0),M.payloadMessage=V;break;default:throw Error(d(f.INVALID_STORED_DATA,[m,b]))}m.indexOf("Sent:"+this._localKey)===0?(M.payloadMessage.duplicate=!0,this._sentMessages[M.messageIdentifier]=M):m.indexOf("Received:"+this._localKey)===0&&(this._receivedMessages[M.messageIdentifier]=M)},k.prototype._process_queue=function(){for(var m=null;m=this._msg_queue.pop();)this._socket_send(m),this._notify_msg_sent[m]&&(this._notify_msg_sent[m](),delete this._notify_msg_sent[m])},k.prototype._requires_ack=function(m){var b=Object.keys(this._sentMessages).length;if(b>this.maxMessageIdentifier)throw Error("Too many messages:"+b);for(;this._sentMessages[this._message_identifier]!==void 0;)this._message_identifier++;m.messageIdentifier=this._message_identifier,this._sentMessages[m.messageIdentifier]=m,m.type===s.PUBLISH&&this.store("Sent:",m),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},k.prototype._on_socket_open=function(){var m=new g(s.CONNECT,this.connectOptions);m.clientId=this.clientId,this._socket_send(m)},k.prototype._on_socket_message=function(m){this._trace("Client._on_socket_message",m.data);for(var b=this._deframeMessages(m.data),C=0;C<b.length;C+=1)this._handleMessage(b[C])},k.prototype._deframeMessages=function(m){var b=new Uint8Array(m),C=[];if(this.receiveBuffer){var M=new Uint8Array(this.receiveBuffer.length+b.length);M.set(this.receiveBuffer),M.set(b,this.receiveBuffer.length),b=M,delete this.receiveBuffer}try{for(var z=0;z<b.length;){var $=_(b,z),q=$[0];if(z=$[1],q!==null)C.push(q);else break}z<b.length&&(this.receiveBuffer=b.subarray(z))}catch(L){var H=L.hasOwnProperty("stack")=="undefined"?L.stack.toString():"No Error Stack Available";this._disconnected(f.INTERNAL_ERROR.code,d(f.INTERNAL_ERROR,[L.message,H]));return}return C},k.prototype._handleMessage=function(m){this._trace("Client._handleMessage",m);try{switch(m.type){case s.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var b in this._sentMessages){var D=this._sentMessages[b];a.removeItem("Sent:"+this._localKey+D.messageIdentifier)}this._sentMessages={};for(var b in this._receivedMessages){var V=this._receivedMessages[b];a.removeItem("Received:"+this._localKey+V.messageIdentifier)}this._receivedMessages={}}if(m.returnCode===0)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(f.CONNACK_RETURNCODE.code,d(f.CONNACK_RETURNCODE,[m.returnCode,l[m.returnCode]]));break}var z=[];for(var C in this._sentMessages)this._sentMessages.hasOwnProperty(C)&&z.push(this._sentMessages[C]);if(this._buffered_msg_queue.length>0)for(var M=null;M=this._buffered_msg_queue.pop();)z.push(M),this.onMessageDelivered&&(this._notify_msg_sent[M]=this.onMessageDelivered(M.payloadMessage));for(var z=z.sort(function(ae,me){return ae.sequence-me.sequence}),$=0,q=z.length;$<q;$++){var D=z[$];if(D.type==s.PUBLISH&&D.pubRecReceived){var H=new g(s.PUBREL,{messageIdentifier:D.messageIdentifier});this._schedule_message(H)}else this._schedule_message(D)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var L=!1;this._reconnecting&&(L=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(L,this._wsuri),this._process_queue();break;case s.PUBLISH:this._receivePublish(m);break;case s.PUBACK:var D=this._sentMessages[m.messageIdentifier];D&&(delete this._sentMessages[m.messageIdentifier],a.removeItem("Sent:"+this._localKey+m.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(D.payloadMessage));break;case s.PUBREC:var D=this._sentMessages[m.messageIdentifier];if(D){D.pubRecReceived=!0;var H=new g(s.PUBREL,{messageIdentifier:m.messageIdentifier});this.store("Sent:",D),this._schedule_message(H)}break;case s.PUBREL:var V=this._receivedMessages[m.messageIdentifier];a.removeItem("Received:"+this._localKey+m.messageIdentifier),V&&(this._receiveMessage(V),delete this._receivedMessages[m.messageIdentifier]);var Q=new g(s.PUBCOMP,{messageIdentifier:m.messageIdentifier});this._schedule_message(Q);break;case s.PUBCOMP:var D=this._sentMessages[m.messageIdentifier];delete this._sentMessages[m.messageIdentifier],a.removeItem("Sent:"+this._localKey+m.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(D.payloadMessage);break;case s.SUBACK:var D=this._sentMessages[m.messageIdentifier];D&&(D.timeOut&&D.timeOut.cancel(),m.returnCode[0]===128?D.onFailure&&D.onFailure(m.returnCode):D.onSuccess&&D.onSuccess(m.returnCode),delete this._sentMessages[m.messageIdentifier]);break;case s.UNSUBACK:var D=this._sentMessages[m.messageIdentifier];D&&(D.timeOut&&D.timeOut.cancel(),D.callback&&D.callback(),delete this._sentMessages[m.messageIdentifier]);break;case s.PINGRESP:this.sendPinger.reset();break;case s.DISCONNECT:this._disconnected(f.INVALID_MQTT_MESSAGE_TYPE.code,d(f.INVALID_MQTT_MESSAGE_TYPE,[m.type]));break;default:this._disconnected(f.INVALID_MQTT_MESSAGE_TYPE.code,d(f.INVALID_MQTT_MESSAGE_TYPE,[m.type]))}}catch(ae){var ce=ae.hasOwnProperty("stack")=="undefined"?ae.stack.toString():"No Error Stack Available";this._disconnected(f.INTERNAL_ERROR.code,d(f.INTERNAL_ERROR,[ae.message,ce]));return}},k.prototype._on_socket_error=function(m){this._reconnecting||this._disconnected(f.SOCKET_ERROR.code,d(f.SOCKET_ERROR,[m.data]))},k.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(f.SOCKET_CLOSE.code,d(f.SOCKET_CLOSE))},k.prototype._socket_send=function(m){if(m.type==1){var b=this._traceMask(m,"password");this._trace("Client._socket_send",b)}else this._trace("Client._socket_send",m);this.socket.send(m.encode()),this.sendPinger.reset()},k.prototype._receivePublish=function(m){switch(m.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(m);break;case 1:var b=new g(s.PUBACK,{messageIdentifier:m.messageIdentifier});this._schedule_message(b),this._receiveMessage(m);break;case 2:this._receivedMessages[m.messageIdentifier]=m,this.store("Received:",m);var C=new g(s.PUBREC,{messageIdentifier:m.messageIdentifier});this._schedule_message(C);break;default:throw Error("Invaild qos="+m.payloadMessage.qos)}},k.prototype._receiveMessage=function(m){this.onMessageArrived&&this.onMessageArrived(m.payloadMessage)},k.prototype._connected=function(m,b){this.onConnected&&this.onConnected(m,b)},k.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=this._reconnectInterval*2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},k.prototype._disconnected=function(m,b){if(this._trace("Client._disconnected",m,b),m!==void 0&&this._reconnecting){this._reconnectTimeout=new te(this,this._reconnectInterval,this._reconnect);return}if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,this.socket.readyState===1&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(m===void 0&&(m=f.OK.code,b=d(f.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:m,errorMessage:b,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),m!==f.OK.code&&this.connectOptions.reconnect){this._reconnectInterval=1,this._reconnect();return}}else this.connectOptions.mqttVersion===4&&this.connectOptions.mqttVersionExplicit===!1?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:m,errorMessage:b})},k.prototype._trace=function(){if(this.traceFunction){var m=Array.prototype.slice.call(arguments);for(var b in m)typeof m[b]!="undefined"&&m.splice(b,1,JSON.stringify(m[b]));var C=m.join("");this.traceFunction({severity:"Debug",message:C})}if(this._traceBuffer!==null)for(var b=0,M=arguments.length;b<M;b++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),b===0?this._traceBuffer.push(arguments[b]):typeof arguments[b]=="undefined"?this._traceBuffer.push(arguments[b]):this._traceBuffer.push("  "+JSON.stringify(arguments[b]))},k.prototype._traceMask=function(m,b){var C={};for(var M in m)m.hasOwnProperty(M)&&(M==b?C[M]="******":C[M]=m[M]);return C};var B=function(m,b,C,M){var z;if(typeof m!="string")throw new Error(d(f.INVALID_TYPE,[typeof m,"host"]));if(arguments.length==2){M=b,z=m;var $=z.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if($)m=$[4]||$[2],b=parseInt($[7]),C=$[8];else throw new Error(d(f.INVALID_ARGUMENT,[m,"host"]))}else{if(arguments.length==3&&(M=C,C="/mqtt"),typeof b!="number"||b<0)throw new Error(d(f.INVALID_TYPE,[typeof b,"port"]));if(typeof C!="string")throw new Error(d(f.INVALID_TYPE,[typeof C,"path"]));var q=m.indexOf(":")!==-1&&m.slice(0,1)!=="["&&m.slice(-1)!=="]";z="ws://"+(q?"["+m+"]":m)+":"+b+C}for(var H=0,L=0;L<M.length;L++){var V=M.charCodeAt(L);55296<=V&&V<=56319&&L++,H++}if(typeof M!="string"||H>65535)throw new Error(d(f.INVALID_ARGUMENT,[M,"clientId"]));var Q=new k(z,m,b,C,M);Object.defineProperties(this,{host:{get:function(){return m},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},port:{get:function(){return b},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},path:{get:function(){return C},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},uri:{get:function(){return z},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return Q.clientId},set:function(){throw new Error(d(f.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return Q.onConnected},set:function(D){if(typeof D=="function")Q.onConnected=D;else throw new Error(d(f.INVALID_TYPE,[typeof D,"onConnected"]))}},disconnectedPublishing:{get:function(){return Q.disconnectedPublishing},set:function(D){Q.disconnectedPublishing=D}},disconnectedBufferSize:{get:function(){return Q.disconnectedBufferSize},set:function(D){Q.disconnectedBufferSize=D}},onConnectionLost:{get:function(){return Q.onConnectionLost},set:function(D){if(typeof D=="function")Q.onConnectionLost=D;else throw new Error(d(f.INVALID_TYPE,[typeof D,"onConnectionLost"]))}},onMessageDelivered:{get:function(){return Q.onMessageDelivered},set:function(D){if(typeof D=="function")Q.onMessageDelivered=D;else throw new Error(d(f.INVALID_TYPE,[typeof D,"onMessageDelivered"]))}},onMessageArrived:{get:function(){return Q.onMessageArrived},set:function(D){if(typeof D=="function")Q.onMessageArrived=D;else throw new Error(d(f.INVALID_TYPE,[typeof D,"onMessageArrived"]))}},trace:{get:function(){return Q.traceFunction},set:function(D){if(typeof D=="function")Q.traceFunction=D;else throw new Error(d(f.INVALID_TYPE,[typeof D,"onTrace"]))}}}),this.connect=function(D){if(D=D||{},c(D,{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),D.keepAliveInterval===void 0&&(D.keepAliveInterval=60),D.mqttVersion>4||D.mqttVersion<3)throw new Error(d(f.INVALID_ARGUMENT,[D.mqttVersion,"connectOptions.mqttVersion"]));if(D.mqttVersion===void 0?(D.mqttVersionExplicit=!1,D.mqttVersion=4):D.mqttVersionExplicit=!0,D.password!==void 0&&D.userName===void 0)throw new Error(d(f.INVALID_ARGUMENT,[D.password,"connectOptions.password"]));if(D.willMessage){if(!(D.willMessage instanceof A))throw new Error(d(f.INVALID_TYPE,[D.willMessage,"connectOptions.willMessage"]));if(D.willMessage.stringPayload=null,typeof D.willMessage.destinationName=="undefined")throw new Error(d(f.INVALID_TYPE,[typeof D.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(typeof D.cleanSession=="undefined"&&(D.cleanSession=!0),D.hosts){if(!(D.hosts instanceof Array))throw new Error(d(f.INVALID_ARGUMENT,[D.hosts,"connectOptions.hosts"]));if(D.hosts.length<1)throw new Error(d(f.INVALID_ARGUMENT,[D.hosts,"connectOptions.hosts"]));for(var ce=!1,ae=0;ae<D.hosts.length;ae++){if(typeof D.hosts[ae]!="string")throw new Error(d(f.INVALID_TYPE,[typeof D.hosts[ae],"connectOptions.hosts["+ae+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(D.hosts[ae])){if(ae===0)ce=!0;else if(!ce)throw new Error(d(f.INVALID_ARGUMENT,[D.hosts[ae],"connectOptions.hosts["+ae+"]"]))}else if(ce)throw new Error(d(f.INVALID_ARGUMENT,[D.hosts[ae],"connectOptions.hosts["+ae+"]"]))}if(ce)D.uris=D.hosts;else{if(!D.ports)throw new Error(d(f.INVALID_ARGUMENT,[D.ports,"connectOptions.ports"]));if(!(D.ports instanceof Array))throw new Error(d(f.INVALID_ARGUMENT,[D.ports,"connectOptions.ports"]));if(D.hosts.length!==D.ports.length)throw new Error(d(f.INVALID_ARGUMENT,[D.ports,"connectOptions.ports"]));D.uris=[];for(var ae=0;ae<D.hosts.length;ae++){if(typeof D.ports[ae]!="number"||D.ports[ae]<0)throw new Error(d(f.INVALID_TYPE,[typeof D.ports[ae],"connectOptions.ports["+ae+"]"]));var me=D.hosts[ae],de=D.ports[ae],Oe=me.indexOf(":")!==-1;z="ws://"+(Oe?"["+me+"]":me)+":"+de+C,D.uris.push(z)}}}Q.connect(D)},this.subscribe=function(D,ce){if(typeof D!="string"&&D.constructor!==Array)throw new Error("Invalid argument:"+D);if(ce=ce||{},c(ce,{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),ce.timeout&&!ce.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(typeof ce.qos!="undefined"&&!(ce.qos===0||ce.qos===1||ce.qos===2))throw new Error(d(f.INVALID_ARGUMENT,[ce.qos,"subscribeOptions.qos"]));Q.subscribe(D,ce)},this.unsubscribe=function(D,ce){if(typeof D!="string"&&D.constructor!==Array)throw new Error("Invalid argument:"+D);if(ce=ce||{},c(ce,{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),ce.timeout&&!ce.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");Q.unsubscribe(D,ce)},this.send=function(D,ce,ae,me){var de;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(D instanceof A)&&typeof D!="string")throw new Error("Invalid argument:"+typeof D);if(de=D,typeof de.destinationName=="undefined")throw new Error(d(f.INVALID_ARGUMENT,[de.destinationName,"Message.destinationName"]));Q.send(de)}else de=new A(ce),de.destinationName=D,arguments.length>=3&&(de.qos=ae),arguments.length>=4&&(de.retained=me),Q.send(de)},this.publish=function(D,ce,ae,me){var de;if(arguments.length===0)throw new Error("Invalid argument.length");if(arguments.length==1){if(!(D instanceof A)&&typeof D!="string")throw new Error("Invalid argument:"+typeof D);if(de=D,typeof de.destinationName=="undefined")throw new Error(d(f.INVALID_ARGUMENT,[de.destinationName,"Message.destinationName"]));Q.send(de)}else de=new A(ce),de.destinationName=D,arguments.length>=3&&(de.qos=ae),arguments.length>=4&&(de.retained=me),Q.send(de)},this.disconnect=function(){Q.disconnect()},this.getTraceLog=function(){return Q.getTraceLog()},this.startTrace=function(){Q.startTrace()},this.stopTrace=function(){Q.stopTrace()},this.isConnected=function(){return Q.connected}},A=function(m){var b;if(typeof m=="string"||m instanceof ArrayBuffer||ArrayBuffer.isView(m)&&!(m instanceof DataView))b=m;else throw d(f.INVALID_ARGUMENT,[m,"newPayload"]);var C,M=0,z=!1,$=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return typeof b=="string"?b:W(b,0,b.length)}},payloadBytes:{enumerable:!0,get:function(){if(typeof b=="string"){var q=new ArrayBuffer(P(b)),H=new Uint8Array(q);return U(b,H,0),H}else return b}},destinationName:{enumerable:!0,get:function(){return C},set:function(q){if(typeof q=="string")C=q;else throw new Error(d(f.INVALID_ARGUMENT,[q,"newDestinationName"]))}},qos:{enumerable:!0,get:function(){return M},set:function(q){if(q===0||q===1||q===2)M=q;else throw new Error("Invalid argument:"+q)}},retained:{enumerable:!0,get:function(){return z},set:function(q){if(typeof q=="boolean")z=q;else throw new Error(d(f.INVALID_ARGUMENT,[q,"newRetained"]))}},topic:{enumerable:!0,get:function(){return C},set:function(q){C=q}},duplicate:{enumerable:!0,get:function(){return $},set:function(q){$=q}}})};return{Client:B,Message:A}}(typeof $e!="undefined"?$e:typeof self!="undefined"?self:typeof window!="undefined"?window:{});return n})})(fx);var I$=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gn=globalThis&&globalThis.__assign||function(){return gn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},gn.apply(this,arguments)},Mi=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Di=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},v_=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},xi=new Se("MqttOverWSProvider");function O$(e,t){for(var r=e.split("/"),n=r.length,i=t.split("/"),o=0;o<n;++o){var a=r[o],s=i[o];if(a==="#")return i.length>=n;if(a!=="+"&&a!==s)return!1}return n===i.length}var k$=function(){function e(){this.promises=new Map}return e.prototype.get=function(t,r){return Mi(this,void 0,void 0,function(){var n,i;return Di(this,function(o){return n=this.promises.get(t),n?[2,n]:r?(i=r(t),this.promises.set(t,i),[2,i]):[2,void 0]})})},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(t){this.promises.delete(t)},e}(),g_=typeof Symbol!="undefined"?Symbol("topic"):"@@topic",P$=function(e){I$(t,e);function t(r){r===void 0&&(r={});var n=e.call(this,gn(gn({},r),{clientId:r.clientId||Ch.v4()}))||this;return n._clientsQueue=new k$,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(r){return typeof r=="object"&&r[g_]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(r){var n=this,i=r.clientId,o=r.errorCode,a=v_(r,["clientId","errorCode"]);if(o!==0){xi.warn(i,JSON.stringify(gn({errorCode:o},a),null,2));var s=[];if(!i)return;var c=this._clientIdObservers.get(i);if(!c)return;c.forEach(function(u){u.error("Disconnected, error code: "+o),n._topicObservers.forEach(function(f,l){f.delete(u),f.size===0&&s.push(l)})}),this._clientIdObservers.delete(i),s.forEach(function(u){n._topicObservers.delete(u)})}},t.prototype.newClient=function(r){var n=r.url,i=r.clientId;return Mi(this,void 0,void 0,function(){var o,a=this;return Di(this,function(s){switch(s.label){case 0:return xi.debug("Creating new MQTT client",i),o=new fx.exports.Client(n,i),o.onMessageArrived=function(c){var u=c.destinationName,f=c.payloadString;a._onMessage(u,f)},o.onConnectionLost=function(c){var u=c.errorCode,f=v_(c,["errorCode"]);a.onDisconnect(gn({clientId:i,errorCode:u},f))},[4,new Promise(function(c,u){o.connect({useSSL:a.isSSLEnabled,mqttVersion:3,onSuccess:function(){return c(o)},onFailure:u})})];case 1:return s.sent(),[2,o]}})})},t.prototype.connect=function(r,n){return n===void 0&&(n={}),Mi(this,void 0,void 0,function(){var i=this;return Di(this,function(o){switch(o.label){case 0:return[4,this.clientsQueue.get(r,function(a){return i.newClient(gn(gn({},n),{clientId:a}))})];case 1:return[2,o.sent()]}})})},t.prototype.disconnect=function(r){return Mi(this,void 0,void 0,function(){var n;return Di(this,function(i){switch(i.label){case 0:return[4,this.clientsQueue.get(r)];case 1:return n=i.sent(),n&&n.isConnected()&&n.disconnect(),this.clientsQueue.remove(r),[2]}})})},t.prototype.publish=function(r,n){return Mi(this,void 0,void 0,function(){var i,o,a,s;return Di(this,function(c){switch(c.label){case 0:return i=[].concat(r),o=JSON.stringify(n),[4,this.endpoint];case 1:return a=c.sent(),[4,this.connect(this.clientId,{url:a})];case 2:return s=c.sent(),xi.debug("Publishing to topic(s)",i.join(","),o),i.forEach(function(u){return s.send(u,o)}),[2]}})})},t.prototype._onMessage=function(r,n){try{var i=[];this._topicObservers.forEach(function(a,s){O$(s,r)&&i.push(a)});var o=JSON.parse(n);typeof o=="object"&&(o[g_]=r),i.forEach(function(a){a.forEach(function(s){return s.next(o)})})}catch(a){xi.warn("Error handling message",a,n)}},t.prototype.subscribe=function(r,n){var i=this;n===void 0&&(n={});var o=[].concat(r);return xi.debug("Subscribing to topic(s)",o.join(",")),new Fo(function(a){o.forEach(function(l){var d=i._topicObservers.get(l);d||(d=new Set,i._topicObservers.set(l,d)),d.add(a)});var s,c=n.clientId,u=c===void 0?i.clientId:c,f=i._clientIdObservers.get(u);return f||(f=new Set),f.add(a),i._clientIdObservers.set(u,f),function(){return Mi(i,void 0,void 0,function(){var l,d,h,v;return Di(this,function(g){switch(g.label){case 0:return l=n.url,l!==void 0?[3,2]:[4,this.endpoint];case 1:return h=g.sent(),[3,3];case 2:h=l,g.label=3;case 3:d=h,g.label=4;case 4:return g.trys.push([4,6,,7]),[4,this.connect(u,{url:d})];case 5:return s=g.sent(),o.forEach(function(_){s.subscribe(_)}),[3,7];case 6:return v=g.sent(),a.error(v),[3,7];case 7:return[2]}})})}(),function(){var l,d;return xi.debug("Unsubscribing from topic(s)",o.join(",")),s&&((l=i._clientIdObservers.get(u))===null||l===void 0||l.delete(a),((d=i._clientIdObservers.get(u))===null||d===void 0?void 0:d.size)===0&&(i.disconnect(u),i._clientIdObservers.delete(u)),o.forEach(function(h){var v=i._topicObservers.get(h)||new Set;v.delete(a),v.size===0&&(i._topicObservers.delete(h),s.isConnected()&&s.unsubscribe(h))})),null}})},t}(cx),N$=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Va=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Wa=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},R$=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},pn=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},M$=globalThis&&globalThis.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pn(arguments[t]));return e},m_=new Se("AWSAppSyncProvider"),D$=function(e){N$(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._topicClient=new Map,r._topicAlias=new Map,r}return Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(r,n,i){return Va(this,void 0,void 0,function(){return Wa(this,function(o){throw new Error("Operation not supported")})})},t.prototype._cleanUp=function(r){var n=this,i=Array.from(this._topicClient.entries()).filter(function(o){var a=pn(o,2),s=a[1];return s.clientId===r}).map(function(o){var a=pn(o,1),s=a[0];return s});i.forEach(function(o){return n._cleanUpForTopic(o)})},t.prototype._cleanUpForTopic=function(r){this._topicClient.delete(r),this._topicAlias.delete(r)},t.prototype.onDisconnect=function(r){var n=this,i=r.clientId,o=r.errorCode,a=R$(r,["clientId","errorCode"]);if(o!==0){var s=Array.from(this._topicClient.entries()).filter(function(c){var u=pn(c,2),f=u[1];return f.clientId===i}).map(function(c){var u=pn(c,1),f=u[0];return f});s.forEach(function(c){n._topicObservers.has(c)&&(n._topicObservers.get(c).forEach(function(u){u.closed||u.error(a)}),n._topicObservers.delete(c))}),this._cleanUp(i)}},t.prototype.disconnect=function(r){return Va(this,void 0,void 0,function(){return Wa(this,function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(r,function(){return null})];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,r)];case 2:return n.sent(),this._cleanUp(r),[2]}})})},t.prototype.subscribe=function(r,n){var i=this;n===void 0&&(n={});var o=new Fo(function(a){var s=[].concat(r);return m_.debug("Subscribing to topic(s)",s.join(",")),function(){return Va(i,void 0,void 0,function(){var c,u,f,l,d,h=this;return Wa(this,function(v){switch(v.label){case 0:return s.forEach(function(g){h._topicObservers.has(g)||h._topicObservers.set(g,new Set),h._topicObservers.get(g).add(a)}),c=n.mqttConnections,u=c===void 0?[]:c,f=n.newSubscriptions,l=Object.entries(f).map(function(g){var _=pn(g,2),E=_[0],S=_[1];return[S.topic,E]}),this._topicAlias=new Map(M$(Array.from(this._topicAlias.entries()),l)),d=Object.entries(s.reduce(function(g,_){var E=u.find(function(R){return R.topics.indexOf(_)>-1});if(E){var S=E.client,T=E.url;g[S]||(g[S]={url:T,topics:new Set}),g[S].topics.add(_)}return g},{})),[4,Promise.all(d.map(function(g){var _=pn(g,2),E=_[0],S=_[1],T=S.url,R=S.topics;return Va(h,void 0,void 0,function(){var P,U,W=this;return Wa(this,function(j){switch(j.label){case 0:P=null,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,this.connect(E,{clientId:E,url:T})];case 2:return P=j.sent(),[3,4];case 3:return U=j.sent(),a.error({message:"Failed to connect",error:U}),a.complete(),[2,void 0];case 4:return R.forEach(function(te){P.isConnected()&&(P.subscribe(te),W._topicClient.set(te,P))}),[2,P]}})})}))];case 1:return v.sent(),[2]}})})}(),function(){m_.debug("Unsubscribing from topic(s)",s.join(",")),s.forEach(function(c){var u=i._topicClient.get(c);u&&u.isConnected()&&(u.unsubscribe(c),i._topicClient.delete(c),Array.from(i._topicClient.values()).some(function(f){return f===u})||i.disconnect(u.clientId)),i._topicObservers.delete(c)})}});return Fo.from(o).map(function(a){var s=i.getTopicForValue(a),c=i._topicAlias.get(s);return a.data=Object.entries(a.data).reduce(function(u,f){var l=pn(f,2),d=l[0],h=l[1];return u[c||d]=h,u},{}),a})},t}(P$),L$=5e3,U$=[400,401,403],vr;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"})(vr||(vr={}));var mn;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(mn||(mn={}));var ir;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(ir||(ir={}));var B$=typeof Symbol!="undefined"&&typeof Symbol.for=="function"?Symbol.for("amplify_default"):"@@amplify_default",F$={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},y_=15e3,j$=15e3,w_=5*60*1e3,$$=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ot=globalThis&&globalThis.__assign||function(){return Ot=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ot.apply(this,arguments)},rr=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},nr=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},z$=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Be=new Se("AWSAppSyncRealTimeProvider"),q$=function(e,t,r){tn.dispatch("api",{event:e,data:t,message:r},"PubSub",B$)},K$=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,H$="/realtime",G$=function(e){$$(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.socketStatus=ir.CLOSED,r.keepAliveTimeout=w_,r.subscriptionObserverMap=new Map,r.promiseArray=[],r}return t.prototype.getNewWebSocket=function(r,n){return new WebSocket(r,n)},t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(r,n,i){return rr(this,void 0,void 0,function(){return nr(this,function(o){throw new Error("Operation not supported")})})},t.prototype.isCustomDomain=function(r){return r.match(K$)===null},t.prototype.subscribe=function(r,n){var i=this,o=n==null?void 0:n.appSyncGraphqlEndpoint;return new Fo(function(a){if(!n||!o)a.error({errors:[Ot({},new Qr("Subscribe only available for AWS AppSync endpoint"))]}),a.complete();else{var s=Ch.v4();return i._startSubscriptionWithAWSAppSyncRealTime({options:n,observer:a,subscriptionId:s}).catch(function(c){a.error({errors:[Ot({},new Qr(Yr.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+c))]}),a.complete()}),function(){return rr(i,void 0,void 0,function(){var c,u;return nr(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(s)];case 1:if(f.sent(),c=(this.subscriptionObserverMap.get(s)||{}).subscriptionState,!c)return[2];if(c===mn.CONNECTED)this._sendUnsubscriptionMessage(s);else throw new Error("Subscription never connected");return[3,4];case 2:return u=f.sent(),Be.debug("Error while unsubscribing "+u),[3,4];case 3:return this._removeSubscriptionObserver(s),[7];case 4:return[2]}})})}}})},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(r){var n=r.options,i=r.observer,o=r.subscriptionId,a,s;return rr(this,void 0,void 0,function(){var c,u,f,l,d,h,v,g,_,E,S,T,R,P,U,W,j,te,k,B,A,m,b,C,M,z=this;return nr(this,function($){switch($.label){case 0:return c=n.appSyncGraphqlEndpoint,u=n.authenticationType,f=n.query,l=n.variables,d=n.apiKey,h=n.region,v=n.graphql_headers,g=v===void 0?function(){return{}}:v,_=n.additionalHeaders,E=_===void 0?{}:_,S=mn.PENDING,T={query:f,variables:l},this.subscriptionObserverMap.set(o,{observer:i,query:f!=null?f:"",variables:l!=null?l:{},subscriptionState:S,startAckTimeoutId:void 0}),R=JSON.stringify(T),U=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:d,appSyncGraphqlEndpoint:c,authenticationType:u,payload:R,canonicalUri:"",region:h,additionalHeaders:E})];case 1:return W=[Ot.apply(void 0,U.concat([$.sent()]))],[4,g()];case 2:P=Ot.apply(void 0,[Ot.apply(void 0,[Ot.apply(void 0,W.concat([$.sent()])),E]),(M={},M[CM]=CC.userAgent,M)]),j={id:o,payload:{data:R,extensions:{authorization:Ot({},P)}},type:vr.GQL_START},te=JSON.stringify(j),$.label=3;case 3:return $.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:d,appSyncGraphqlEndpoint:c,authenticationType:u,region:h,additionalHeaders:E})];case 4:return $.sent(),[3,6];case 5:return k=$.sent(),Be.debug({err:k}),B=(a=k.message)!==null&&a!==void 0?a:"",i.error({errors:[Ot({},new Qr(Yr.CONNECTION_FAILED+": "+B))]}),i.complete(),A=(this.subscriptionObserverMap.get(o)||{}).subscriptionFailedCallback,typeof A=="function"&&A(),[2];case 6:return m=(s=this.subscriptionObserverMap.get(o))!==null&&s!==void 0?s:{},b=m.subscriptionFailedCallback,C=m.subscriptionReadyCallback,this.subscriptionObserverMap.set(o,{observer:i,subscriptionState:S,query:f!=null?f:"",variables:l!=null?l:{},subscriptionReadyCallback:C,subscriptionFailedCallback:b,startAckTimeoutId:setTimeout(function(){z._timeoutStartSubscriptionAck.call(z,o)},j$)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(te),[2]}})})},t.prototype._waitForSubscriptionToBeConnected=function(r){return rr(this,void 0,void 0,function(){var n,i,o=this;return nr(this,function(a){return n=this.subscriptionObserverMap.get(r),n&&(i=n.subscriptionState,i===mn.PENDING)?[2,new Promise(function(s,c){var u=n.observer,f=n.subscriptionState,l=n.variables,d=n.query;o.subscriptionObserverMap.set(r,{observer:u,subscriptionState:f,variables:l,query:d,subscriptionReadyCallback:s,subscriptionFailedCallback:c})})]:[2]})})},t.prototype._sendUnsubscriptionMessage=function(r){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===ir.READY){var n={id:r,type:vr.GQL_STOP},i=JSON.stringify(n);this.awsRealTimeSocket.send(i)}}catch(o){Be.debug({err:o})}},t.prototype._removeSubscriptionObserver=function(r){this.subscriptionObserverMap.delete(r),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=ir.CLOSED;return}if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{Be.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId);var r=this.awsRealTimeSocket;r.onclose=null,r.onerror=null,r.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=ir.CLOSED}}},t.prototype._handleIncomingSubscriptionMessage=function(r){Be.debug("subscription message from AWS AppSync RealTime: "+r.data);var n=JSON.parse(r.data),i=n.id,o=i===void 0?"":i,a=n.payload,s=n.type,c=this.subscriptionObserverMap.get(o)||{},u=c.observer,f=u===void 0?null:u,l=c.query,d=l===void 0?"":l,h=c.variables,v=h===void 0?{}:h,g=c.startAckTimeoutId,_=c.subscriptionReadyCallback,E=c.subscriptionFailedCallback;if(Be.debug({id:o,observer:f,query:d,variables:v}),s===vr.GQL_DATA&&a&&a.data){f?f.next(a):Be.debug("observer not found for id: "+o);return}if(s===vr.GQL_START_ACK){Be.debug("subscription ready for "+JSON.stringify({query:d,variables:v})),typeof _=="function"&&_(),g&&clearTimeout(g),q$(Yr.SUBSCRIPTION_ACK,{query:d,variables:v},"Connection established for subscription");var S=mn.CONNECTED;f&&this.subscriptionObserverMap.set(o,{observer:f,query:d,variables:v,startAckTimeoutId:void 0,subscriptionState:S,subscriptionReadyCallback:_,subscriptionFailedCallback:E});return}if(s===vr.GQL_CONNECTION_KEEP_ALIVE){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,Yr.TIMEOUT_DISCONNECT),this.keepAliveTimeout);return}if(s===vr.GQL_ERROR){var S=mn.FAILED;f&&(this.subscriptionObserverMap.set(o,{observer:f,query:d,variables:v,startAckTimeoutId:g,subscriptionReadyCallback:_,subscriptionFailedCallback:E,subscriptionState:S}),f.error({errors:[Ot({},new Qr(Yr.CONNECTION_FAILED+": "+JSON.stringify(a)))]}),g&&clearTimeout(g),f.complete(),typeof E=="function"&&E())}},t.prototype._errorDisconnect=function(r){Be.debug("Disconnect error: "+r),this.subscriptionObserverMap.forEach(function(n){var i=n.observer;i&&!i.closed&&i.error({errors:[Ot({},new Qr(r))]})}),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=ir.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(r){var n=this.subscriptionObserverMap.get(r);if(n){var i=n.observer,o=n.query,a=n.variables;if(!i)return;this.subscriptionObserverMap.set(r,{observer:i,query:o,variables:a,subscriptionState:mn.FAILED}),i&&!i.closed&&(i.error({errors:[Ot({},new Qr("Subscription timeout "+JSON.stringify({query:o,variables:a})))]}),i.complete()),Be.debug("timeoutStartSubscription",JSON.stringify({query:o,variables:a}))}},t.prototype._initializeWebSocketConnection=function(r){var n=this,i=r.appSyncGraphqlEndpoint,o=r.authenticationType,a=r.apiKey,s=r.region,c=r.additionalHeaders;if(this.socketStatus!==ir.READY)return new Promise(function(u,f){return rr(n,void 0,void 0,function(){var l,d,h,v,g,_,E,S,T,R;return nr(this,function(P){switch(P.label){case 0:if(this.promiseArray.push({res:u,rej:f}),this.socketStatus!==ir.CLOSED)return[3,5];P.label=1;case 1:return P.trys.push([1,4,,5]),this.socketStatus=ir.CONNECTING,l="{}",v=(h=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:o,payload:l,canonicalUri:"/connect",apiKey:a,appSyncGraphqlEndpoint:i,region:s,additionalHeaders:c})];case 2:return d=v.apply(h,[P.sent()]),g=Te.Buffer.from(d).toString("base64"),_=Te.Buffer.from(l).toString("base64"),E=i!=null?i:"",this.isCustomDomain(E)?E=E.concat(H$):E=E.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),S=this.isSSLEnabled?"wss://":"ws://",E=E.replace("https://",S).replace("http://",S),T=E+"?header="+g+"&payload="+_,[4,this._initializeRetryableHandshake(T)];case 3:return P.sent(),this.promiseArray.forEach(function(U){var W=U.res;Be.debug("Notifying connection successful"),W()}),this.socketStatus=ir.READY,this.promiseArray=[],[3,5];case 4:return R=P.sent(),this.promiseArray.forEach(function(U){var W=U.rej;return W(R)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=ir.CLOSED,[3,5];case 5:return[2]}})})})},t.prototype._initializeRetryableHandshake=function(r){return rr(this,void 0,void 0,function(){return nr(this,function(n){switch(n.label){case 0:return Be.debug("Initializaling retryable Handshake"),[4,hE(this._initializeHandshake.bind(this),[r],L$)];case 1:return n.sent(),[2]}})})},t.prototype._initializeHandshake=function(r){return rr(this,void 0,void 0,function(){var n,i,o,a,s=this;return nr(this,function(c){switch(c.label){case 0:Be.debug("Initializing handshake "+r),c.label=1;case 1:return c.trys.push([1,4,,5]),[4,function(){return new Promise(function(u,f){var l=s.getNewWebSocket(r,"graphql-ws");l.onerror=function(){Be.debug("WebSocket connection error")},l.onclose=function(){f(new Error("Connection handshake error"))},l.onopen=function(){return s.awsRealTimeSocket=l,u()}})}()];case 2:return c.sent(),[4,function(){return new Promise(function(u,f){if(s.awsRealTimeSocket){var l=!1;s.awsRealTimeSocket.onerror=function(v){Be.debug("WebSocket error "+JSON.stringify(v))},s.awsRealTimeSocket.onclose=function(v){Be.debug("WebSocket closed "+v.reason),f(new Error(JSON.stringify(v)))},s.awsRealTimeSocket.onmessage=function(v){Be.debug("subscription message from AWS AppSyncRealTime: "+v.data+" ");var g=JSON.parse(v.data),_=g.type,E=g.payload,S=(E===void 0?{}:E).connectionTimeoutMs,T=S===void 0?w_:S;if(_===vr.GQL_CONNECTION_ACK){l=!0,s.awsRealTimeSocket&&(s.keepAliveTimeout=T,s.awsRealTimeSocket.onmessage=s._handleIncomingSubscriptionMessage.bind(s),s.awsRealTimeSocket.onerror=function(m){Be.debug(m),s._errorDisconnect(Yr.CONNECTION_CLOSED)},s.awsRealTimeSocket.onclose=function(m){Be.debug("WebSocket closed "+m.reason),s._errorDisconnect(Yr.CONNECTION_CLOSED)}),u("Cool, connected to AWS AppSyncRealTime");return}if(_===vr.GQL_CONNECTION_ERROR){var R=g.payload,P=(R===void 0?{}:R).errors,U=z$(P===void 0?[]:P,1),W=U[0],j=W===void 0?{}:W,te=j.errorType,k=te===void 0?"":te,B=j.errorCode,A=B===void 0?0:B;f({errorType:k,errorCode:A})}};var d={type:vr.GQL_CONNECTION_INIT};s.awsRealTimeSocket.send(JSON.stringify(d)),setTimeout(h.bind(s,l),y_)}function h(v){v||f(new Error("Connection timeout: ack from AWSRealTime was not received on "+y_+" ms"))}})}()];case 3:return c.sent(),[3,5];case 4:throw n=c.sent(),i=n,o=i.errorType,a=i.errorCode,U$.includes(a)?new Sn(o):o?new Error(o):n;case 5:return[2]}})})},t.prototype._awsRealTimeHeaderBasedAuth=function(r){var n=r.authenticationType,i=r.payload,o=r.canonicalUri,a=r.appSyncGraphqlEndpoint,s=r.apiKey,c=r.region,u=r.additionalHeaders;return rr(this,void 0,void 0,function(){var f,l,d,h;return nr(this,function(v){switch(v.label){case 0:return f={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},!n||!f[n]?(Be.debug("Authentication type "+n+" not supported"),[2,""]):[3,1];case 1:return l=f[n],d=kt(a!=null?a:"").host,Be.debug("Authenticating with "+n),[4,l({payload:i,canonicalUri:o,appSyncGraphqlEndpoint:a,apiKey:s,region:c,host:d,additionalHeaders:u})];case 2:return h=v.sent(),[2,h]}})})},t.prototype._awsRealTimeCUPHeader=function(r){var n=r.host;return rr(this,void 0,void 0,function(){var i;return nr(this,function(o){switch(o.label){case 0:return[4,ai.currentSession()];case 1:return i=o.sent(),[2,{Authorization:i.getAccessToken().getJwtToken(),host:n}]}})})},t.prototype._awsRealTimeOPENIDHeader=function(r){var n=r.host;return rr(this,void 0,void 0,function(){var i,o,a;return nr(this,function(s){switch(s.label){case 0:return[4,Ho.getItem("federatedInfo")];case 1:return o=s.sent(),o?(i=o.token,[3,4]):[3,2];case 2:return[4,ai.currentAuthenticatedUser()];case 3:a=s.sent(),a&&(i=a.token),s.label=4;case 4:if(!i)throw new Error("No federated jwt");return[2,{Authorization:i,host:n}]}})})},t.prototype._awsRealTimeApiKeyHeader=function(r){var n=r.apiKey,i=r.host;return rr(this,void 0,void 0,function(){var o,a;return nr(this,function(s){return o=new Date,a=o.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:i,"x-amz-date":a,"x-api-key":n}]})})},t.prototype._awsRealTimeIAMHeader=function(r){var n=r.payload,i=r.canonicalUri,o=r.appSyncGraphqlEndpoint,a=r.region;return rr(this,void 0,void 0,function(){var s,c,u,f,l;return nr(this,function(d){switch(d.label){case 0:return s={region:a,service:"appsync"},[4,this._ensureCredentials()];case 1:if(c=d.sent(),!c)throw new Error("No credentials");return[4,ot.get().then(function(h){var v=h,g=v.secretAccessKey,_=v.accessKeyId,E=v.sessionToken;return{secret_key:g,access_key:_,session_token:E}})];case 2:return u=d.sent(),f={url:""+o+i,data:n,method:"POST",headers:Ot({},F$)},l=bE.sign(f,u,s),[2,l.headers]}})})},t.prototype._customAuthHeader=function(r){var n=r.host,i=r.additionalHeaders;if(!i||!i.Authorization)throw new Error("No auth token specified");return{Authorization:i.Authorization,host:n}},t.prototype._ensureCredentials=function(){return ot.get().then(function(r){if(!r)return!1;var n=ot.shear(r);return Be.debug("set credentials for AWSAppSyncRealTimeProvider",n),!0}).catch(function(r){return Be.warn("ensure credentials error",r),!1})},t}(cx),b_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},__=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},V$=Pn().isNode,sf=new Se("PubSub"),W$=function(){function e(t){this._options=t!=null?t:{},sf.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new D$(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new G$(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(t){var r=this,n=t?t.PubSub||t:{};return sf.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map(function(i){return i.configure(r._options)}),this._options},e.prototype.addPluggable=function(t){return b_(this,void 0,void 0,function(){var r;return __(this,function(n){return t&&t.getCategory()==="PubSub"?(this._pluggables.push(t),r=t.configure(this._options),[2,r]):[2]})})},e.prototype.removePluggable=function(t){this._pluggables=this._pluggables.filter(function(r){return r.getProviderName()!==t})},e.prototype.getProviderByName=function(t){return t===EM?this.awsAppSyncProvider:t===EC?this.awsAppSyncRealTimeProvider:this._pluggables.find(function(r){return r.getProviderName()===t})},e.prototype.getProviders=function(t){t===void 0&&(t={});var r=t.provider;if(!r)return this._pluggables;var n=this.getProviderByName(r);if(!n)throw new Error("Could not find provider named "+r);return[n]},e.prototype.publish=function(t,r,n){return b_(this,void 0,void 0,function(){return __(this,function(i){return[2,Promise.all(this.getProviders(n).map(function(o){return o.publish(t,r,n)}))]})})},e.prototype.subscribe=function(t,r){if(V$&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");sf.debug("subscribe options",r);var n=this.getProviders(r);return new Fo(function(i){var o=n.map(function(s){return{provider:s,observable:s.subscribe(t,r)}}),a=o.map(function(s){var c=s.provider,u=s.observable;return u.subscribe({start:console.error,next:function(f){return i.next({provider:c,value:f})},error:function(f){return i.error({provider:c,error:f})}})});return function(){return a.forEach(function(s){return s.unsubscribe()})}})},e}(),lx=new W$;at.register(lx);var Yr;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(Yr||(Yr={}));var uf=lx,yn;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})(yn||(yn={}));var Xr=globalThis&&globalThis.__assign||function(){return Xr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xr.apply(this,arguments)},S_=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},E_=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},J$=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},C_=globalThis&&globalThis.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Y$="x-amz-user-agent",jn=new Se("GraphQLAPI"),dx=function(){function e(t){this._api=null,this.Auth=ai,this.Cache=Ho,this.Credentials=ot,this._options=t,jn.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(t){var r=t||{},n=r.API,i=n===void 0?{}:n,o=J$(r,["API"]),a=Xr(Xr({},o),i);return jn.debug("configure GraphQL API",{opt:a}),a.aws_project_region&&(a=Object.assign({},a,{region:a.aws_project_region,header:{}})),typeof a.graphql_headers!="undefined"&&typeof a.graphql_headers!="function"&&(jn.warn("graphql_headers should be a function"),a.graphql_headers=void 0),this._options=Object.assign({},this._options,a),this.createInstance(),this._options},e.prototype.createInstance=function(){return jn.debug("create Rest instance"),this._options?(this._api=new XA(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(t,r){return r===void 0&&(r={}),S_(this,void 0,void 0,function(){var n,i,o,a,s,c,u,f,l,d,h;return E_(this,function(v){switch(v.label){case 0:switch(n=this._options,i=n.aws_appsync_authenticationType,o=n.aws_appsync_apiKey,a=t||i||"AWS_IAM",s={},c=a,c){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!o)throw new Error(yn.NO_API_KEY);return s={Authorization:null,"X-Api-Key":o},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(u=v.sent(),!u)throw new Error(yn.NO_CREDENTIALS);return[3,17];case 4:return v.trys.push([4,9,,10]),f=void 0,[4,Ho.getItem("federatedInfo")];case 5:return l=v.sent(),l?(f=l.token,[3,8]):[3,6];case 6:return[4,ai.currentAuthenticatedUser()];case 7:d=v.sent(),d&&(f=d.token),v.label=8;case 8:if(!f)throw new Error(yn.NO_FEDERATED_JWT);return s={Authorization:f},[3,10];case 9:throw v.sent(),new Error(yn.NO_CURRENT_USER);case 10:return[3,17];case 11:return v.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return h=v.sent(),s={Authorization:h.getAccessToken().getJwtToken()},[3,14];case 13:throw v.sent(),new Error(yn.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!r.Authorization)throw new Error(yn.NO_AUTH_TOKEN);return s={Authorization:r.Authorization},[3,17];case 16:return s={Authorization:null},[3,17];case 17:return[2,s]}})})},e.prototype.getGraphqlOperationType=function(t){var r=nf(t),n=r.definitions,i=C_(n,1),o=i[0].operation;return o},e.prototype.graphql=function(t,r){var n=t.query,i=t.variables,o=i===void 0?{}:i,a=t.authMode,s=t.authToken,c=nf(typeof n=="string"?n:af(n)),u=C_(c.definitions.filter(function(E){return E.kind==="OperationDefinition"}),1),f=u[0],l=f===void 0?{}:f,d=l.operation,h=r||{};switch(s&&(h.Authorization=s),d){case"query":case"mutation":var v=this._api.getCancellableToken(),g={cancellableToken:v},_=this._graphql({query:c,variables:o,authMode:a},h,g);return this._api.updateRequestToBeCancellable(_,v),_;case"subscription":return this._graphqlSubscribe({query:c,variables:o,authMode:a},h);default:throw new Error("invalid operation type: "+d)}},e.prototype._graphql=function(t,r,n){var i=t.query,o=t.variables,a=t.authMode;return r===void 0&&(r={}),n===void 0&&(n={}),S_(this,void 0,void 0,function(){var s,c,u,f,l,d,h,v,g,_,E,S,T,R,P,U,W,j,te,k,B,A;return E_(this,function(m){switch(m.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:m.sent(),m.label=2;case 2:return s=this._options,c=s.aws_appsync_region,u=s.aws_appsync_graphqlEndpoint,f=s.graphql_headers,l=f===void 0?function(){return{}}:f,d=s.graphql_endpoint,h=s.graphql_endpoint_iam_region,g=[{}],_=!d,_?[4,this._headerBasedAuth(a,r)]:[3,4];case 3:_=m.sent(),m.label=4;case 4:return E=[Xr.apply(void 0,g.concat([_]))],S=d,S?h?[4,this._headerBasedAuth(a,r)]:[3,6]:[3,8];case 5:return T=m.sent(),[3,7];case 6:T={Authorization:null},m.label=7;case 7:S=T,m.label=8;case 8:return R=[Xr.apply(void 0,E.concat([S]))],[4,l({query:i,variables:o})];case 9:if(v=Xr.apply(void 0,[Xr.apply(void 0,[Xr.apply(void 0,R.concat([m.sent()])),r]),!d&&(A={},A[Y$]=CC.userAgent,A)]),P={query:af(i),variables:o},U=Object.assign({headers:v,body:P,signerServiceInfo:{service:d?"execute-api":"appsync",region:d?h:c}},n),W=d||u,!W)throw j=new Qr("No graphql endpoint provided."),{data:{},errors:[j]};m.label=10;case 10:return m.trys.push([10,12,,13]),[4,this._api.post(W,U)];case 11:return te=m.sent(),[3,13];case 12:if(k=m.sent(),this._api.isCancel(k))throw k;return te={data:{},errors:[new Qr(k.message,null,null,null,null,k)]},[3,13];case 13:if(B=te.errors,B&&B.length)throw te;return[2,te]}})})},e.prototype.isCancel=function(t){return this._api.isCancel(t)},e.prototype.cancel=function(t,r){return this._api.cancel(t,r)},e.prototype._graphqlSubscribe=function(t,r){var n=t.query,i=t.variables,o=t.authMode,a=t.authToken;r===void 0&&(r={});var s=this._options,c=s.aws_appsync_region,u=s.aws_appsync_graphqlEndpoint,f=s.aws_appsync_authenticationType,l=s.aws_appsync_apiKey,d=s.graphql_headers,h=d===void 0?function(){return{}}:d,v=o||f||"AWS_IAM";if(uf&&typeof uf.subscribe=="function")return uf.subscribe("",{provider:EC,appSyncGraphqlEndpoint:u,authenticationType:v,apiKey:l,query:af(n),region:c,variables:i,graphql_headers:h,additionalHeaders:r,authToken:a});throw jn.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var t=this;return this.Credentials.get().then(function(r){if(!r)return!1;var n=t.Credentials.shear(r);return jn.debug("set credentials for api",n),!0}).catch(function(r){return jn.warn("ensure credentials error",r),!1})},e}(),X$=new dx(null);at.register(X$);var au=globalThis&&globalThis.__assign||function(){return au=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},au.apply(this,arguments)},Q$=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},Z$=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},e8=new Se("API"),t8=function(){function e(t){this.Auth=ai,this.Cache=Ho,this.Credentials=ot,this._options=t,this._restApi=new QA(t),this._graphqlApi=new dx(t),e8.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(t){this._options=Object.assign({},this._options,t),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var r=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return au(au({},r),n)},e.prototype.get=function(t,r,n){return this._restApi.get(t,r,n)},e.prototype.post=function(t,r,n){return this._restApi.post(t,r,n)},e.prototype.put=function(t,r,n){return this._restApi.put(t,r,n)},e.prototype.patch=function(t,r,n){return this._restApi.patch(t,r,n)},e.prototype.del=function(t,r,n){return this._restApi.del(t,r,n)},e.prototype.head=function(t,r,n){return this._restApi.head(t,r,n)},e.prototype.isCancel=function(t){return this._restApi.isCancel(t)},e.prototype.cancel=function(t,r){return this._restApi.cancel(t,r)},e.prototype.endpoint=function(t){return Q$(this,void 0,void 0,function(){return Z$(this,function(r){return[2,this._restApi.endpoint(t)]})})},e.prototype.getGraphqlOperationType=function(t){return this._graphqlApi.getGraphqlOperationType(t)},e.prototype.graphql=function(t,r){return this._graphqlApi.graphql(t,r)},e}(),r8=new t8(null);at.register(r8);var n8={exports:{}};(function(e,t){(function(r,n){e.exports=n()})($e,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var a=n[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=n,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var c in o)i.d(s,c,function(u){return o[u]}.bind(null,c));return s},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=0)}([function(r,n,i){function o(a){for(var s in a)n.hasOwnProperty(s)||(n[s]=a[s])}Object.defineProperty(n,"__esModule",{value:!0}),o(i(1)),o(i(2)),o(i(3)),o(i(4)),o(i(5)),o(i(6)),o(i(7)),o(i(8)),o(i(9)),o(i(10)),o(i(11)),o(i(12)),o(i(13))},function(r,n,i){r.exports={a:"Anchor__a___1_Iz8"}},function(r,n,i){r.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(r,n,i){r.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(r,n,i){r.exports={hint:"Hint__hint___2XngB"}},function(r,n,i){r.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(r,n,i){r.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(r,n,i){r.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(r,n,i){r.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(r,n,i){r.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(r,n,i){r.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(r,n,i){r.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(r,n,i){r.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(r,n,i){r.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])})})(n8);at.Auth=ai;at.Cache=Ho;at.ServiceWorker=lM;var Gq=at;/*!
  * vue-router v3.5.3
  * (c) 2021 Evan You
  * @license MIT
  */function br(e,t){for(var r in t)e[r]=t[r];return e}var i8=/[!'()*]/g,o8=function(e){return"%"+e.charCodeAt(0).toString(16)},a8=/%2C/g,Ti=function(e){return encodeURIComponent(e).replace(i8,o8).replace(a8,",")};function _d(e){try{return decodeURIComponent(e)}catch{}return e}function s8(e,t,r){t===void 0&&(t={});var n=r||u8,i;try{i=n(e||"")}catch{i={}}for(var o in t){var a=t[o];i[o]=Array.isArray(a)?a.map(A_):A_(a)}return i}var A_=function(e){return e==null||typeof e=="object"?e:String(e)};function u8(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e&&e.split("&").forEach(function(r){var n=r.replace(/\+/g," ").split("="),i=_d(n.shift()),o=n.length>0?_d(n.join("=")):null;t[i]===void 0?t[i]=o:Array.isArray(t[i])?t[i].push(o):t[i]=[t[i],o]}),t}function c8(e){var t=e?Object.keys(e).map(function(r){var n=e[r];if(n===void 0)return"";if(n===null)return Ti(r);if(Array.isArray(n)){var i=[];return n.forEach(function(o){o!==void 0&&(o===null?i.push(Ti(r)):i.push(Ti(r)+"="+Ti(o)))}),i.join("&")}return Ti(r)+"="+Ti(n)}).filter(function(r){return r.length>0}).join("&"):null;return t?"?"+t:""}var su=/\/?$/;function uu(e,t,r,n){var i=n&&n.options.stringifyQuery,o=t.query||{};try{o=Sd(o)}catch{}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:x_(t,i),matched:e?f8(e):[]};return r&&(a.redirectedFrom=x_(r,i)),Object.freeze(a)}function Sd(e){if(Array.isArray(e))return e.map(Sd);if(e&&typeof e=="object"){var t={};for(var r in e)t[r]=Sd(e[r]);return t}else return e}var Rn=uu(null,{path:"/"});function f8(e){for(var t=[];e;)t.unshift(e),e=e.parent;return t}function x_(e,t){var r=e.path,n=e.query;n===void 0&&(n={});var i=e.hash;i===void 0&&(i="");var o=t||c8;return(r||"/")+o(n)+i}function hx(e,t,r){return t===Rn?e===t:t?e.path&&t.path?e.path.replace(su,"")===t.path.replace(su,"")&&(r||e.hash===t.hash&&bs(e.query,t.query)):e.name&&t.name?e.name===t.name&&(r||e.hash===t.hash&&bs(e.query,t.query)&&bs(e.params,t.params)):!1:!1}function bs(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!e||!t)return e===t;var r=Object.keys(e).sort(),n=Object.keys(t).sort();return r.length!==n.length?!1:r.every(function(i,o){var a=e[i],s=n[o];if(s!==i)return!1;var c=t[i];return a==null||c==null?a===c:typeof a=="object"&&typeof c=="object"?bs(a,c):String(a)===String(c)})}function l8(e,t){return e.path.replace(su,"/").indexOf(t.path.replace(su,"/"))===0&&(!t.hash||e.hash===t.hash)&&d8(e.query,t.query)}function d8(e,t){for(var r in t)if(!(r in e))return!1;return!0}function px(e){for(var t=0;t<e.matched.length;t++){var r=e.matched[t];for(var n in r.instances){var i=r.instances[n],o=r.enteredCbs[n];if(!(!i||!o)){delete r.enteredCbs[n];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var h8={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,r){var n=r.props,i=r.children,o=r.parent,a=r.data;a.routerView=!0;for(var s=o.$createElement,c=n.name,u=o.$route,f=o._routerViewCache||(o._routerViewCache={}),l=0,d=!1;o&&o._routerRoot!==o;){var h=o.$vnode?o.$vnode.data:{};h.routerView&&l++,h.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=l,d){var v=f[c],g=v&&v.component;return g?(v.configProps&&T_(g,a,v.route,v.configProps),s(g,a,i)):s()}var _=u.matched[l],E=_&&_.components[c];if(!_||!E)return f[c]=null,s();f[c]={component:E},a.registerRouteInstance=function(T,R){var P=_.instances[c];(R&&P!==T||!R&&P===T)&&(_.instances[c]=R)},(a.hook||(a.hook={})).prepatch=function(T,R){_.instances[c]=R.componentInstance},a.hook.init=function(T){T.data.keepAlive&&T.componentInstance&&T.componentInstance!==_.instances[c]&&(_.instances[c]=T.componentInstance),px(u)};var S=_.props&&_.props[c];return S&&(br(f[c],{route:u,configProps:S}),T_(E,a,u,S)),s(E,a,i)}};function T_(e,t,r,n){var i=t.props=p8(r,n);if(i){i=t.props=br({},i);var o=t.attrs=t.attrs||{};for(var a in i)(!e.props||!(a in e.props))&&(o[a]=i[a],delete i[a])}}function p8(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0}}function vx(e,t,r){var n=e.charAt(0);if(n==="/")return e;if(n==="?"||n==="#")return t+e;var i=t.split("/");(!r||!i[i.length-1])&&i.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];s===".."?i.pop():s!=="."&&i.push(s)}return i[0]!==""&&i.unshift(""),i.join("/")}function v8(e){var t="",r="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var i=e.indexOf("?");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{path:e,query:r,hash:t}}function xn(e){return e.replace(/\/+/g,"/")}var cu=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},ro=yx,g8=Vh,m8=_8,y8=gx,w8=mx,b8=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Vh(e,t){for(var r=[],n=0,i=0,o="",a=t&&t.delimiter||"/",s;(s=b8.exec(e))!=null;){var c=s[0],u=s[1],f=s.index;if(o+=e.slice(i,f),i=f+c.length,u){o+=u[1];continue}var l=e[i],d=s[2],h=s[3],v=s[4],g=s[5],_=s[6],E=s[7];o&&(r.push(o),o="");var S=d!=null&&l!=null&&l!==d,T=_==="+"||_==="*",R=_==="?"||_==="*",P=s[2]||a,U=v||g;r.push({name:h||n++,prefix:d||"",delimiter:P,optional:R,repeat:T,partial:S,asterisk:!!E,pattern:U?C8(U):E?".*":"[^"+_s(P)+"]+?"})}return i<e.length&&(o+=e.substr(i)),o&&r.push(o),r}function _8(e,t){return gx(Vh(e,t),t)}function S8(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function E8(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function gx(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)typeof e[n]=="object"&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",Jh(t)));return function(i,o){for(var a="",s=i||{},c=o||{},u=c.pretty?S8:encodeURIComponent,f=0;f<e.length;f++){var l=e[f];if(typeof l=="string"){a+=l;continue}var d=s[l.name],h;if(d==null)if(l.optional){l.partial&&(a+=l.prefix);continue}else throw new TypeError('Expected "'+l.name+'" to be defined');if(cu(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(d.length===0){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var v=0;v<d.length;v++){if(h=u(d[v]),!r[f].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(v===0?l.prefix:l.delimiter)+h}continue}if(h=l.asterisk?E8(d):u(d),!r[f].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');a+=l.prefix+h}return a}}function _s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function C8(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Wh(e,t){return e.keys=t,e}function Jh(e){return e&&e.sensitive?"":"i"}function A8(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Wh(e,t)}function x8(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(yx(e[i],t,r).source);var o=new RegExp("(?:"+n.join("|")+")",Jh(r));return Wh(o,t)}function T8(e,t,r){return mx(Vh(e,r),t,r)}function mx(e,t,r){cu(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,i=r.end!==!1,o="",a=0;a<e.length;a++){var s=e[a];if(typeof s=="string")o+=_s(s);else{var c=_s(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+c+u+")*"),s.optional?s.partial?u=c+"("+u+")?":u="(?:"+c+"("+u+"))?":u=c+"("+u+")",o+=u}}var f=_s(r.delimiter||"/"),l=o.slice(-f.length)===f;return n||(o=(l?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),i?o+="$":o+=n&&l?"":"(?="+f+"|$)",Wh(new RegExp("^"+o,Jh(r)),t)}function yx(e,t,r){return cu(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?A8(e,t):cu(e)?x8(e,t,r):T8(e,t,r)}ro.parse=g8;ro.compile=m8;ro.tokensToFunction=y8;ro.tokensToRegExp=w8;var I_=Object.create(null);function Ss(e,t,r){t=t||{};try{var n=I_[e]||(I_[e]=ro.compile(e));return typeof t.pathMatch=="string"&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch{return""}finally{delete t[0]}}function Yh(e,t,r,n){var i=typeof e=="string"?{path:e}:e;if(i._normalized)return i;if(i.name){i=br({},e);var o=i.params;return o&&typeof o=="object"&&(i.params=br({},o)),i}if(!i.path&&i.params&&t){i=br({},i),i._normalized=!0;var a=br(br({},t.params),i.params);if(t.name)i.name=t.name,i.params=a;else if(t.matched.length){var s=t.matched[t.matched.length-1].path;i.path=Ss(s,a,"path "+t.path)}return i}var c=v8(i.path||""),u=t&&t.path||"/",f=c.path?vx(c.path,u,r||i.append):u,l=s8(c.query,i.query,n&&n.options.parseQuery),d=i.hash||c.hash;return d&&d.charAt(0)!=="#"&&(d="#"+d),{_normalized:!0,path:f,query:l,hash:d}}var I8=[String,Object],O8=[String,Array],O_=function(){},k8={name:"RouterLink",props:{to:{type:I8,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:O8,default:"click"}},render:function(t){var r=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),a=o.location,s=o.route,c=o.href,u={},f=n.options.linkActiveClass,l=n.options.linkExactActiveClass,d=f==null?"router-link-active":f,h=l==null?"router-link-exact-active":l,v=this.activeClass==null?d:this.activeClass,g=this.exactActiveClass==null?h:this.exactActiveClass,_=s.redirectedFrom?uu(null,Yh(s.redirectedFrom),null,n):s;u[g]=hx(i,_,this.exactPath),u[v]=this.exact||this.exactPath?u[g]:l8(i,_);var E=u[g]?this.ariaCurrentValue:null,S=function(A){k_(A)&&(r.replace?n.replace(a,O_):n.push(a,O_))},T={click:k_};Array.isArray(this.event)?this.event.forEach(function(A){T[A]=S}):T[this.event]=S;var R={class:u},P=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:S,isActive:u[v],isExactActive:u[g]});if(P){if(P.length===1)return P[0];if(P.length>1||!P.length)return P.length===0?t():t("span",{},P)}if(this.tag==="a")R.on=T,R.attrs={href:c,"aria-current":E};else{var U=wx(this.$slots.default);if(U){U.isStatic=!1;var W=U.data=br({},U.data);W.on=W.on||{};for(var j in W.on){var te=W.on[j];j in T&&(W.on[j]=Array.isArray(te)?te:[te])}for(var k in T)k in W.on?W.on[k].push(T[k]):W.on[k]=S;var B=U.data.attrs=br({},U.data.attrs);B.href=c,B["aria-current"]=E}else R.on=T}return t(this.tag,R,this.$slots.default)}};function k_(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function wx(e){if(e){for(var t,r=0;r<e.length;r++)if(t=e[r],t.tag==="a"||t.children&&(t=wx(t.children)))return t}}var fu;function Ed(e){if(!(Ed.installed&&fu===e)){Ed.installed=!0,fu=e;var t=function(i){return i!==void 0},r=function(i,o){var a=i.$options._parentVnode;t(a)&&t(a=a.data)&&t(a=a.registerRouteInstance)&&a(i,o)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",h8),e.component("RouterLink",k8);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var ha=typeof window!="undefined";function Ja(e,t,r,n,i){var o=t||[],a=r||Object.create(null),s=n||Object.create(null);e.forEach(function(f){Cd(o,a,s,f,i)});for(var c=0,u=o.length;c<u;c++)o[c]==="*"&&(o.push(o.splice(c,1)[0]),u--,c--);return{pathList:o,pathMap:a,nameMap:s}}function Cd(e,t,r,n,i,o){var a=n.path,s=n.name,c=n.pathToRegexpOptions||{},u=N8(a,i,c.strict);typeof n.caseSensitive=="boolean"&&(c.sensitive=n.caseSensitive);var f={path:u,regex:P8(u,c),components:n.components||{default:n.component},alias:n.alias?typeof n.alias=="string"?[n.alias]:n.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:n.props==null?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(g){var _=o?xn(o+"/"+g.path):void 0;Cd(e,t,r,g,f,_)}),t[f.path]||(e.push(f.path),t[f.path]=f),n.alias!==void 0)for(var l=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<l.length;++d){var h=l[d],v={path:h,children:n.children};Cd(e,t,r,v,i,f.path||"/")}s&&(r[s]||(r[s]=f))}function P8(e,t){var r=ro(e,[],t);return r}function N8(e,t,r){return r||(e=e.replace(/\/$/,"")),e[0]==="/"||t==null?e:xn(t.path+"/"+e)}function R8(e,t){var r=Ja(e),n=r.pathList,i=r.pathMap,o=r.nameMap;function a(h){Ja(h,n,i,o)}function s(h,v){var g=typeof h!="object"?o[h]:void 0;Ja([v||h],n,i,o,g),g&&g.alias.length&&Ja(g.alias.map(function(_){return{path:_,children:[v]}}),n,i,o,g)}function c(){return n.map(function(h){return i[h]})}function u(h,v,g){var _=Yh(h,v,!1,t),E=_.name;if(E){var S=o[E];if(!S)return d(null,_);var T=S.regex.keys.filter(function(j){return!j.optional}).map(function(j){return j.name});if(typeof _.params!="object"&&(_.params={}),v&&typeof v.params=="object")for(var R in v.params)!(R in _.params)&&T.indexOf(R)>-1&&(_.params[R]=v.params[R]);return _.path=Ss(S.path,_.params),d(S,_,g)}else if(_.path){_.params={};for(var P=0;P<n.length;P++){var U=n[P],W=i[U];if(M8(W.regex,_.path,_.params))return d(W,_,g)}}return d(null,_)}function f(h,v){var g=h.redirect,_=typeof g=="function"?g(uu(h,v,null,t)):g;if(typeof _=="string"&&(_={path:_}),!_||typeof _!="object")return d(null,v);var E=_,S=E.name,T=E.path,R=v.query,P=v.hash,U=v.params;if(R=E.hasOwnProperty("query")?E.query:R,P=E.hasOwnProperty("hash")?E.hash:P,U=E.hasOwnProperty("params")?E.params:U,S)return o[S],u({_normalized:!0,name:S,query:R,hash:P,params:U},void 0,v);if(T){var W=D8(T,h),j=Ss(W,U);return u({_normalized:!0,path:j,query:R,hash:P},void 0,v)}else return d(null,v)}function l(h,v,g){var _=Ss(g,v.params),E=u({_normalized:!0,path:_});if(E){var S=E.matched,T=S[S.length-1];return v.params=E.params,d(T,v)}return d(null,v)}function d(h,v,g){return h&&h.redirect?f(h,g||v):h&&h.matchAs?l(h,v,h.matchAs):uu(h,v,g,t)}return{match:u,addRoute:s,getRoutes:c,addRoutes:a}}function M8(e,t,r){var n=t.match(e);if(n){if(!r)return!0}else return!1;for(var i=1,o=n.length;i<o;++i){var a=e.keys[i-1];a&&(r[a.name||"pathMatch"]=typeof n[i]=="string"?_d(n[i]):n[i])}return!0}function D8(e,t){return vx(e,t.parent?t.parent.path:"/",!0)}var L8=ha&&window.performance&&window.performance.now?window.performance:Date;function bx(){return L8.now().toFixed(3)}var _x=bx();function Ju(){return _x}function Sx(e){return _x=e}var Ex=Object.create(null);function Cx(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),r=br({},window.history.state);return r.key=Ju(),window.history.replaceState(r,"",t),window.addEventListener("popstate",P_),function(){window.removeEventListener("popstate",P_)}}function Tn(e,t,r,n){if(!!e.app){var i=e.options.scrollBehavior;!i||e.app.$nextTick(function(){var o=U8(),a=i.call(e,t,r,n?o:null);!a||(typeof a.then=="function"?a.then(function(s){M_(s,o)}).catch(function(s){}):M_(a,o))})}}function Ax(){var e=Ju();e&&(Ex[e]={x:window.pageXOffset,y:window.pageYOffset})}function P_(e){Ax(),e.state&&e.state.key&&Sx(e.state.key)}function U8(){var e=Ju();if(e)return Ex[e]}function B8(e,t){var r=document.documentElement,n=r.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}function N_(e){return Ji(e.x)||Ji(e.y)}function R_(e){return{x:Ji(e.x)?e.x:window.pageXOffset,y:Ji(e.y)?e.y:window.pageYOffset}}function F8(e){return{x:Ji(e.x)?e.x:0,y:Ji(e.y)?e.y:0}}function Ji(e){return typeof e=="number"}var j8=/^#\d/;function M_(e,t){var r=typeof e=="object";if(r&&typeof e.selector=="string"){var n=j8.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(n){var i=e.offset&&typeof e.offset=="object"?e.offset:{};i=F8(i),t=B8(n,i)}else N_(e)&&(t=R_(e))}else r&&N_(e)&&(t=R_(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var In=ha&&function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&typeof window.history.pushState=="function"}();function lu(e,t){Ax();var r=window.history;try{if(t){var n=br({},r.state);n.key=Ju(),r.replaceState(n,"",e)}else r.pushState({key:Sx(bx())},"",e)}catch{window.location[t?"replace":"assign"](e)}}function Ad(e){lu(e,!0)}function D_(e,t,r){var n=function(i){i>=e.length?r():e[i]?t(e[i],function(){n(i+1)}):n(i+1)};n(0)}var pi={redirected:2,aborted:4,cancelled:8,duplicated:16};function $8(e,t){return Yu(e,t,pi.redirected,'Redirected when going from "'+e.fullPath+'" to "'+H8(t)+'" via a navigation guard.')}function z8(e,t){var r=Yu(e,t,pi.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return r.name="NavigationDuplicated",r}function L_(e,t){return Yu(e,t,pi.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function q8(e,t){return Yu(e,t,pi.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Yu(e,t,r,n){var i=new Error(n);return i._isRouter=!0,i.from=e,i.to=t,i.type=r,i}var K8=["params","query","hash"];function H8(e){if(typeof e=="string")return e;if("path"in e)return e.path;var t={};return K8.forEach(function(r){r in e&&(t[r]=e[r])}),JSON.stringify(t,null,2)}function du(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function Xu(e,t){return du(e)&&e._isRouter&&(t==null||e.type===t)}function G8(e){return function(t,r,n){var i=!1,o=0,a=null;xx(e,function(s,c,u,f){if(typeof s=="function"&&s.cid===void 0){i=!0,o++;var l=U_(function(g){W8(g)&&(g=g.default),s.resolved=typeof g=="function"?g:fu.extend(g),u.components[f]=g,o--,o<=0&&n()}),d=U_(function(g){var _="Failed to resolve async component "+f+": "+g;a||(a=du(g)?g:new Error(_),n(a))}),h;try{h=s(l,d)}catch(g){d(g)}if(h)if(typeof h.then=="function")h.then(l,d);else{var v=h.component;v&&typeof v.then=="function"&&v.then(l,d)}}}),i||n()}}function xx(e,t){return Tx(e.map(function(r){return Object.keys(r.components).map(function(n){return t(r.components[n],r.instances[n],r,n)})}))}function Tx(e){return Array.prototype.concat.apply([],e)}var V8=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";function W8(e){return e.__esModule||V8&&e[Symbol.toStringTag]==="Module"}function U_(e){var t=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!t)return t=!0,e.apply(this,r)}}var Or=function(t,r){this.router=t,this.base=J8(r),this.current=Rn,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};Or.prototype.listen=function(t){this.cb=t};Or.prototype.onReady=function(t,r){this.ready?t():(this.readyCbs.push(t),r&&this.readyErrorCbs.push(r))};Or.prototype.onError=function(t){this.errorCbs.push(t)};Or.prototype.transitionTo=function(t,r,n){var i=this,o;try{o=this.router.match(t,this.current)}catch(s){throw this.errorCbs.forEach(function(c){c(s)}),s}var a=this.current;this.confirmTransition(o,function(){i.updateRoute(o),r&&r(o),i.ensureURL(),i.router.afterHooks.forEach(function(s){s&&s(o,a)}),i.ready||(i.ready=!0,i.readyCbs.forEach(function(s){s(o)}))},function(s){n&&n(s),s&&!i.ready&&(!Xu(s,pi.redirected)||a!==Rn)&&(i.ready=!0,i.readyErrorCbs.forEach(function(c){c(s)}))})};Or.prototype.confirmTransition=function(t,r,n){var i=this,o=this.current;this.pending=t;var a=function(g){!Xu(g)&&du(g)&&(i.errorCbs.length?i.errorCbs.forEach(function(_){_(g)}):console.error(g)),n&&n(g)},s=t.matched.length-1,c=o.matched.length-1;if(hx(t,o)&&s===c&&t.matched[s]===o.matched[c])return this.ensureURL(),t.hash&&Tn(this.router,o,t,!1),a(z8(o,t));var u=Y8(this.current.matched,t.matched),f=u.updated,l=u.deactivated,d=u.activated,h=[].concat(Q8(l),this.router.beforeHooks,Z8(f),d.map(function(g){return g.beforeEnter}),G8(d)),v=function(g,_){if(i.pending!==t)return a(L_(o,t));try{g(t,o,function(E){E===!1?(i.ensureURL(!0),a(q8(o,t))):du(E)?(i.ensureURL(!0),a(E)):typeof E=="string"||typeof E=="object"&&(typeof E.path=="string"||typeof E.name=="string")?(a($8(o,t)),typeof E=="object"&&E.replace?i.replace(E):i.push(E)):_(E)})}catch(E){a(E)}};D_(h,v,function(){var g=ez(d),_=g.concat(i.router.resolveHooks);D_(_,v,function(){if(i.pending!==t)return a(L_(o,t));i.pending=null,r(t),i.router.app&&i.router.app.$nextTick(function(){px(t)})})})};Or.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)};Or.prototype.setupListeners=function(){};Or.prototype.teardown=function(){this.listeners.forEach(function(t){t()}),this.listeners=[],this.current=Rn,this.pending=null};function J8(e){if(!e)if(ha){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return e.charAt(0)!=="/"&&(e="/"+e),e.replace(/\/$/,"")}function Y8(e,t){var r,n=Math.max(e.length,t.length);for(r=0;r<n&&e[r]===t[r];r++);return{updated:t.slice(0,r),activated:t.slice(r),deactivated:e.slice(r)}}function Xh(e,t,r,n){var i=xx(e,function(o,a,s,c){var u=X8(o,t);if(u)return Array.isArray(u)?u.map(function(f){return r(f,a,s,c)}):r(u,a,s,c)});return Tx(n?i.reverse():i)}function X8(e,t){return typeof e!="function"&&(e=fu.extend(e)),e.options[t]}function Q8(e){return Xh(e,"beforeRouteLeave",Ix,!0)}function Z8(e){return Xh(e,"beforeRouteUpdate",Ix)}function Ix(e,t){if(t)return function(){return e.apply(t,arguments)}}function ez(e){return Xh(e,"beforeRouteEnter",function(t,r,n,i){return tz(t,n,i)})}function tz(e,t,r){return function(i,o,a){return e(i,o,function(s){typeof s=="function"&&(t.enteredCbs[r]||(t.enteredCbs[r]=[]),t.enteredCbs[r].push(s)),a(s)})}}var Ox=function(e){function t(r,n){e.call(this,r,n),this._startLocation=Co(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var i=this.router,o=i.options.scrollBehavior,a=In&&o;a&&this.listeners.push(Cx());var s=function(){var c=n.current,u=Co(n.base);n.current===Rn&&u===n._startLocation||n.transitionTo(u,function(f){a&&Tn(i,f,c,!0)})};window.addEventListener("popstate",s),this.listeners.push(function(){window.removeEventListener("popstate",s)})}},t.prototype.go=function(n){window.history.go(n)},t.prototype.push=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){lu(xn(a.base+u.fullPath)),Tn(a.router,u,c,!1),i&&i(u)},o)},t.prototype.replace=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){Ad(xn(a.base+u.fullPath)),Tn(a.router,u,c,!1),i&&i(u)},o)},t.prototype.ensureURL=function(n){if(Co(this.base)!==this.current.fullPath){var i=xn(this.base+this.current.fullPath);n?lu(i):Ad(i)}},t.prototype.getCurrentLocation=function(){return Co(this.base)},t}(Or);function Co(e){var t=window.location.pathname,r=t.toLowerCase(),n=e.toLowerCase();return e&&(r===n||r.indexOf(xn(n+"/"))===0)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var kx=function(e){function t(r,n,i){e.call(this,r,n),!(i&&rz(this.base))&&B_()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var i=this.router,o=i.options.scrollBehavior,a=In&&o;a&&this.listeners.push(Cx());var s=function(){var u=n.current;!B_()||n.transitionTo(Es(),function(f){a&&Tn(n.router,f,u,!0),In||Cs(f.fullPath)})},c=In?"popstate":"hashchange";window.addEventListener(c,s),this.listeners.push(function(){window.removeEventListener(c,s)})}},t.prototype.push=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){F_(u.fullPath),Tn(a.router,u,c,!1),i&&i(u)},o)},t.prototype.replace=function(n,i,o){var a=this,s=this,c=s.current;this.transitionTo(n,function(u){Cs(u.fullPath),Tn(a.router,u,c,!1),i&&i(u)},o)},t.prototype.go=function(n){window.history.go(n)},t.prototype.ensureURL=function(n){var i=this.current.fullPath;Es()!==i&&(n?F_(i):Cs(i))},t.prototype.getCurrentLocation=function(){return Es()},t}(Or);function rz(e){var t=Co(e);if(!/^\/#/.test(t))return window.location.replace(xn(e+"/#"+t)),!0}function B_(){var e=Es();return e.charAt(0)==="/"?!0:(Cs("/"+e),!1)}function Es(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function xd(e){var t=window.location.href,r=t.indexOf("#"),n=r>=0?t.slice(0,r):t;return n+"#"+e}function F_(e){In?lu(xd(e)):window.location.hash=e}function Cs(e){In?Ad(xd(e)):window.location.replace(xd(e))}var nz=function(e){function t(r,n){e.call(this,r,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(n,i,o){var a=this;this.transitionTo(n,function(s){a.stack=a.stack.slice(0,a.index+1).concat(s),a.index++,i&&i(s)},o)},t.prototype.replace=function(n,i,o){var a=this;this.transitionTo(n,function(s){a.stack=a.stack.slice(0,a.index).concat(s),i&&i(s)},o)},t.prototype.go=function(n){var i=this,o=this.index+n;if(!(o<0||o>=this.stack.length)){var a=this.stack[o];this.confirmTransition(a,function(){var s=i.current;i.index=o,i.updateRoute(a),i.router.afterHooks.forEach(function(c){c&&c(a,s)})},function(s){Xu(s,pi.duplicated)&&(i.index=o)})}},t.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Or),Ue=function(t){t===void 0&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=R8(t.routes||[],this);var r=t.mode||"hash";switch(this.fallback=r==="history"&&!In&&t.fallback!==!1,this.fallback&&(r="hash"),ha||(r="abstract"),this.mode=r,r){case"history":this.history=new Ox(this,t.base);break;case"hash":this.history=new kx(this,t.base,this.fallback);break;case"abstract":this.history=new nz(this,t.base);break}},Px={currentRoute:{configurable:!0}};Ue.prototype.match=function(t,r,n){return this.matcher.match(t,r,n)};Px.currentRoute.get=function(){return this.history&&this.history.current};Ue.prototype.init=function(t){var r=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var a=r.apps.indexOf(t);a>-1&&r.apps.splice(a,1),r.app===t&&(r.app=r.apps[0]||null),r.app||r.history.teardown()}),!this.app){this.app=t;var n=this.history;if(n instanceof Ox||n instanceof kx){var i=function(a){var s=n.current,c=r.options.scrollBehavior,u=In&&c;u&&"fullPath"in a&&Tn(r,a,s,!1)},o=function(a){n.setupListeners(),i(a)};n.transitionTo(n.getCurrentLocation(),o,o)}n.listen(function(a){r.apps.forEach(function(s){s._route=a})})}};Ue.prototype.beforeEach=function(t){return Qh(this.beforeHooks,t)};Ue.prototype.beforeResolve=function(t){return Qh(this.resolveHooks,t)};Ue.prototype.afterEach=function(t){return Qh(this.afterHooks,t)};Ue.prototype.onReady=function(t,r){this.history.onReady(t,r)};Ue.prototype.onError=function(t){this.history.onError(t)};Ue.prototype.push=function(t,r,n){var i=this;if(!r&&!n&&typeof Promise!="undefined")return new Promise(function(o,a){i.history.push(t,o,a)});this.history.push(t,r,n)};Ue.prototype.replace=function(t,r,n){var i=this;if(!r&&!n&&typeof Promise!="undefined")return new Promise(function(o,a){i.history.replace(t,o,a)});this.history.replace(t,r,n)};Ue.prototype.go=function(t){this.history.go(t)};Ue.prototype.back=function(){this.go(-1)};Ue.prototype.forward=function(){this.go(1)};Ue.prototype.getMatchedComponents=function(t){var r=t?t.matched?t:this.resolve(t).route:this.currentRoute;return r?[].concat.apply([],r.matched.map(function(n){return Object.keys(n.components).map(function(i){return n.components[i]})})):[]};Ue.prototype.resolve=function(t,r,n){r=r||this.history.current;var i=Yh(t,r,n,this),o=this.match(i,r),a=o.redirectedFrom||o.fullPath,s=this.history.base,c=iz(s,a,this.mode);return{location:i,route:o,href:c,normalizedTo:i,resolved:o}};Ue.prototype.getRoutes=function(){return this.matcher.getRoutes()};Ue.prototype.addRoute=function(t,r){this.matcher.addRoute(t,r),this.history.current!==Rn&&this.history.transitionTo(this.history.getCurrentLocation())};Ue.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Rn&&this.history.transitionTo(this.history.getCurrentLocation())};Object.defineProperties(Ue.prototype,Px);function Qh(e,t){return e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function iz(e,t,r){var n=r==="hash"?"#"+t:t;return e?xn(e+"/"+n):n}Ue.install=Ed;Ue.version="3.5.3";Ue.isNavigationFailure=Xu;Ue.NavigationFailureType=pi;Ue.START_LOCATION=Rn;ha&&window.Vue&&window.Vue.use(Ue);var Vq=Ue;/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var j_;(function(e){(function(t){var r=typeof $e=="object"?$e:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(e);typeof r.Reflect=="undefined"?r.Reflect=e:n=i(r.Reflect,n),t(n);function i(o,a){return function(s,c){typeof o[s]!="function"&&Object.defineProperty(o,s,{configurable:!0,writable:!0,value:c}),a&&a(s,c)}}})(function(t){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",o=n&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return ee(Object.create(null))}:s?function(){return ee({__proto__:null})}:function(){return ee({})},has:c?function(O,K){return r.call(O,K)}:function(O,K){return K in O},get:c?function(O,K){return r.call(O,K)?O[K]:void 0}:function(O,K){return O[K]}},f=Object.getPrototypeOf(Function),l=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!l&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:w(),h=!l&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:I(),v=!l&&typeof WeakMap=="function"?WeakMap:F(),g=new v;function _(O,K,Y,ie){if(L(Y)){if(!At(O))throw new TypeError;if(!Ve(K))throw new TypeError;return k(O,K)}else{if(!At(O))throw new TypeError;if(!D(K))throw new TypeError;if(!D(ie)&&!L(ie)&&!V(ie))throw new TypeError;return V(ie)&&(ie=void 0),Y=Oe(Y),B(O,K,Y,ie)}}t("decorate",_);function E(O,K){function Y(ie,oe){if(!D(ie))throw new TypeError;if(!L(oe)&&!yt(oe))throw new TypeError;z(O,K,ie,oe)}return Y}t("metadata",E);function S(O,K,Y,ie){if(!D(Y))throw new TypeError;return L(ie)||(ie=Oe(ie)),z(O,K,Y,ie)}t("defineMetadata",S);function T(O,K,Y){if(!D(K))throw new TypeError;return L(Y)||(Y=Oe(Y)),m(O,K,Y)}t("hasMetadata",T);function R(O,K,Y){if(!D(K))throw new TypeError;return L(Y)||(Y=Oe(Y)),b(O,K,Y)}t("hasOwnMetadata",R);function P(O,K,Y){if(!D(K))throw new TypeError;return L(Y)||(Y=Oe(Y)),C(O,K,Y)}t("getMetadata",P);function U(O,K,Y){if(!D(K))throw new TypeError;return L(Y)||(Y=Oe(Y)),M(O,K,Y)}t("getOwnMetadata",U);function W(O,K){if(!D(O))throw new TypeError;return L(K)||(K=Oe(K)),$(O,K)}t("getMetadataKeys",W);function j(O,K){if(!D(O))throw new TypeError;return L(K)||(K=Oe(K)),q(O,K)}t("getOwnMetadataKeys",j);function te(O,K,Y){if(!D(K))throw new TypeError;L(Y)||(Y=Oe(Y));var ie=A(K,Y,!1);if(L(ie)||!ie.delete(O))return!1;if(ie.size>0)return!0;var oe=g.get(K);return oe.delete(Y),oe.size>0||g.delete(K),!0}t("deleteMetadata",te);function k(O,K){for(var Y=O.length-1;Y>=0;--Y){var ie=O[Y],oe=ie(K);if(!L(oe)&&!V(oe)){if(!Ve(oe))throw new TypeError;K=oe}}return K}function B(O,K,Y,ie){for(var oe=O.length-1;oe>=0;--oe){var ge=O[oe],pe=ge(K,Y,ie);if(!L(pe)&&!V(pe)){if(!D(pe))throw new TypeError;ie=pe}}return ie}function A(O,K,Y){var ie=g.get(O);if(L(ie)){if(!Y)return;ie=new d,g.set(O,ie)}var oe=ie.get(K);if(L(oe)){if(!Y)return;oe=new d,ie.set(K,oe)}return oe}function m(O,K,Y){var ie=b(O,K,Y);if(ie)return!0;var oe=y(K);return V(oe)?!1:m(O,oe,Y)}function b(O,K,Y){var ie=A(K,Y,!1);return L(ie)?!1:me(ie.has(O))}function C(O,K,Y){var ie=b(O,K,Y);if(ie)return M(O,K,Y);var oe=y(K);if(!V(oe))return C(O,oe,Y)}function M(O,K,Y){var ie=A(K,Y,!1);if(!L(ie))return ie.get(O)}function z(O,K,Y,ie){var oe=A(Y,ie,!0);oe.set(O,K)}function $(O,K){var Y=q(O,K),ie=y(O);if(ie===null)return Y;var oe=$(ie,K);if(oe.length<=0)return Y;if(Y.length<=0)return oe;for(var ge=new h,pe=[],ve=0,fe=Y;ve<fe.length;ve++){var Ee=fe[ve],Ce=ge.has(Ee);Ce||(ge.add(Ee),pe.push(Ee))}for(var on=0,fp=oe;on<fp.length;on++){var Ee=fp[on],Ce=ge.has(Ee);Ce||(ge.add(Ee),pe.push(Ee))}return pe}function q(O,K){var Y=[],ie=A(O,K,!1);if(L(ie))return Y;for(var oe=ie.keys(),ge=Zt(oe),pe=0;;){var ve=lc(ge);if(!ve)return Y.length=pe,Y;var fe=Pr(ve);try{Y[pe]=fe}catch(Ee){try{x(ge)}finally{throw Ee}}pe++}}function H(O){if(O===null)return 1;switch(typeof O){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return O===null?1:6;default:return 6}}function L(O){return O===void 0}function V(O){return O===null}function Q(O){return typeof O=="symbol"}function D(O){return typeof O=="object"?O!==null:typeof O=="function"}function ce(O,K){switch(H(O)){case 0:return O;case 1:return O;case 2:return O;case 3:return O;case 4:return O;case 5:return O}var Y=K===3?"string":K===5?"number":"default",ie=Lt(O,i);if(ie!==void 0){var oe=ie.call(O,Y);if(D(oe))throw new TypeError;return oe}return ae(O,Y==="default"?"number":Y)}function ae(O,K){if(K==="string"){var Y=O.toString;if(Le(Y)){var ie=Y.call(O);if(!D(ie))return ie}var oe=O.valueOf;if(Le(oe)){var ie=oe.call(O);if(!D(ie))return ie}}else{var oe=O.valueOf;if(Le(oe)){var ie=oe.call(O);if(!D(ie))return ie}var ge=O.toString;if(Le(ge)){var ie=ge.call(O);if(!D(ie))return ie}}throw new TypeError}function me(O){return!!O}function de(O){return""+O}function Oe(O){var K=ce(O,3);return Q(K)?K:de(K)}function At(O){return Array.isArray?Array.isArray(O):O instanceof Object?O instanceof Array:Object.prototype.toString.call(O)==="[object Array]"}function Le(O){return typeof O=="function"}function Ve(O){return typeof O=="function"}function yt(O){switch(H(O)){case 3:return!0;case 4:return!0;default:return!1}}function Lt(O,K){var Y=O[K];if(Y!=null){if(!Le(Y))throw new TypeError;return Y}}function Zt(O){var K=Lt(O,o);if(!Le(K))throw new TypeError;var Y=K.call(O);if(!D(Y))throw new TypeError;return Y}function Pr(O){return O.value}function lc(O){var K=O.next();return K.done?!1:K}function x(O){var K=O.return;K&&K.call(O)}function y(O){var K=Object.getPrototypeOf(O);if(typeof O!="function"||O===f||K!==f)return K;var Y=O.prototype,ie=Y&&Object.getPrototypeOf(Y);if(ie==null||ie===Object.prototype)return K;var oe=ie.constructor;return typeof oe!="function"||oe===O?K:oe}function w(){var O={},K=[],Y=function(){function pe(ve,fe,Ee){this._index=0,this._keys=ve,this._values=fe,this._selector=Ee}return pe.prototype["@@iterator"]=function(){return this},pe.prototype[o]=function(){return this},pe.prototype.next=function(){var ve=this._index;if(ve>=0&&ve<this._keys.length){var fe=this._selector(this._keys[ve],this._values[ve]);return ve+1>=this._keys.length?(this._index=-1,this._keys=K,this._values=K):this._index++,{value:fe,done:!1}}return{value:void 0,done:!0}},pe.prototype.throw=function(ve){throw this._index>=0&&(this._index=-1,this._keys=K,this._values=K),ve},pe.prototype.return=function(ve){return this._index>=0&&(this._index=-1,this._keys=K,this._values=K),{value:ve,done:!0}},pe}();return function(){function pe(){this._keys=[],this._values=[],this._cacheKey=O,this._cacheIndex=-2}return Object.defineProperty(pe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),pe.prototype.has=function(ve){return this._find(ve,!1)>=0},pe.prototype.get=function(ve){var fe=this._find(ve,!1);return fe>=0?this._values[fe]:void 0},pe.prototype.set=function(ve,fe){var Ee=this._find(ve,!0);return this._values[Ee]=fe,this},pe.prototype.delete=function(ve){var fe=this._find(ve,!1);if(fe>=0){for(var Ee=this._keys.length,Ce=fe+1;Ce<Ee;Ce++)this._keys[Ce-1]=this._keys[Ce],this._values[Ce-1]=this._values[Ce];return this._keys.length--,this._values.length--,ve===this._cacheKey&&(this._cacheKey=O,this._cacheIndex=-2),!0}return!1},pe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=O,this._cacheIndex=-2},pe.prototype.keys=function(){return new Y(this._keys,this._values,ie)},pe.prototype.values=function(){return new Y(this._keys,this._values,oe)},pe.prototype.entries=function(){return new Y(this._keys,this._values,ge)},pe.prototype["@@iterator"]=function(){return this.entries()},pe.prototype[o]=function(){return this.entries()},pe.prototype._find=function(ve,fe){return this._cacheKey!==ve&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=ve)),this._cacheIndex<0&&fe&&(this._cacheIndex=this._keys.length,this._keys.push(ve),this._values.push(void 0)),this._cacheIndex},pe}();function ie(pe,ve){return pe}function oe(pe,ve){return ve}function ge(pe,ve){return[pe,ve]}}function I(){return function(){function O(){this._map=new d}return Object.defineProperty(O.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),O.prototype.has=function(K){return this._map.has(K)},O.prototype.add=function(K){return this._map.set(K,K),this},O.prototype.delete=function(K){return this._map.delete(K)},O.prototype.clear=function(){this._map.clear()},O.prototype.keys=function(){return this._map.keys()},O.prototype.values=function(){return this._map.values()},O.prototype.entries=function(){return this._map.entries()},O.prototype["@@iterator"]=function(){return this.keys()},O.prototype[o]=function(){return this.keys()},O}()}function F(){var O=16,K=u.create(),Y=ie();return function(){function fe(){this._key=ie()}return fe.prototype.has=function(Ee){var Ce=oe(Ee,!1);return Ce!==void 0?u.has(Ce,this._key):!1},fe.prototype.get=function(Ee){var Ce=oe(Ee,!1);return Ce!==void 0?u.get(Ce,this._key):void 0},fe.prototype.set=function(Ee,Ce){var on=oe(Ee,!0);return on[this._key]=Ce,this},fe.prototype.delete=function(Ee){var Ce=oe(Ee,!1);return Ce!==void 0?delete Ce[this._key]:!1},fe.prototype.clear=function(){this._key=ie()},fe}();function ie(){var fe;do fe="@@WeakMap@@"+ve();while(u.has(K,fe));return K[fe]=!0,fe}function oe(fe,Ee){if(!r.call(fe,Y)){if(!Ee)return;Object.defineProperty(fe,Y,{value:u.create()})}return fe[Y]}function ge(fe,Ee){for(var Ce=0;Ce<Ee;++Ce)fe[Ce]=Math.random()*255|0;return fe}function pe(fe){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(fe)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(fe)):ge(new Uint8Array(fe),fe):ge(new Array(fe),fe)}function ve(){var fe=pe(O);fe[6]=fe[6]&79|64,fe[8]=fe[8]&191|128;for(var Ee="",Ce=0;Ce<O;++Ce){var on=fe[Ce];(Ce===4||Ce===6||Ce===8)&&(Ee+="-"),on<16&&(Ee+="0"),Ee+=on.toString(16).toLowerCase()}return Ee}}function ee(O){return O.__=void 0,delete O.__,O}})})(j_||(j_={}));var $r="named",Nx="name",Zh="unmanaged",Rx="optional",Qu="inject",Zo="multi_inject",Mx="inversify:tagged",Dx="inversify:tagged_props",Td="inversify:paramtypes",oz="design:paramtypes",$_="post_construct";function az(){return[Qu,Zo,Nx,Zh,$r,Rx]}var z_=az(),it={Request:"Request",Singleton:"Singleton",Transient:"Transient"},rt={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},rn={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},sz=0;function pa(){return sz++}var uz=function(){function e(t,r){this.id=pa(),this.activated=!1,this.serviceIdentifier=t,this.scope=r,this.type=rt.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===it.Singleton?this.activated:!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}(),cz="Cannot apply @injectable decorator multiple times.",fz="Metadata key was used more than once in a parameter:",vo="NULL argument",q_="Key Not Found",lz="Ambiguous match found for serviceIdentifier:",dz="Could not unbind serviceIdentifier:",hz="No matching bindings found for serviceIdentifier:",pz="Missing required @injectable annotation in:",vz="Missing required @inject or @multiInject annotation in:",gz=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},mz="Circular dependency found:",yz="Invalid binding type:",wz="No snapshot available to restore.",bz="Invalid return type in middleware. Middleware must return!",_z="Value provided to function binding must be a function!",Sz="The toSelf function can only be applied when a constructor is used as service identifier",Ez="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",Cz=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+(e[0]+" must be >= than the number of constructor arguments of its base class.")},Az="Invalid Container constructor argument. Container options must be an object.",xz="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",Tz="Invalid Container option. Auto bind injectable must be a boolean",Iz="Invalid Container option. Skip base check must be a boolean",Oz=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},kz=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency "+("in one of the '"+e[0]+"' bindings. Please investigate bindings with")+("service identifier '"+e[1]+"'.")},Pz="Maximum call stack size exceeded",Nz=function(){function e(){}return e.prototype.getConstructorMetadata=function(t){var r=Reflect.getMetadata(Td,t),n=Reflect.getMetadata(Mx,t);return{compilerGeneratedMetadata:r,userGeneratedMetadata:n||{}}},e.prototype.getPropertiesMetadata=function(t){var r=Reflect.getMetadata(Dx,t)||[];return r},e}(),As={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function Lx(e){return e instanceof RangeError||e.message===Pz}function ea(e){if(typeof e=="function"){var t=e;return t.name}else{if(typeof e=="symbol")return e.toString();var t=e;return t}}function K_(e,t,r){var n="",i=r(e,t);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var a="Object";o.implementationType!==null&&(a=Zu(o.implementationType)),n=n+`
 `+a,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}function Ux(e,t){return e.parentRequest===null?!1:e.parentRequest.serviceIdentifier===t?!0:Ux(e.parentRequest,t)}function Rz(e){function t(n,i){i===void 0&&(i=[]);var o=ea(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?t(n.parentRequest,i):i}var r=t(e);return r.reverse().join(" --> ")}function Bx(e){e.childRequests.forEach(function(t){if(Ux(t,t.serviceIdentifier)){var r=Rz(t);throw new Error(mz+" "+r)}else Bx(t)})}function Mz(e,t){if(t.isTagged()||t.isNamed()){var r="",n=t.getNamedTag(),i=t.getCustomTags();return n!==null&&(r+=n.toString()+`
`),i!==null&&i.forEach(function(o){r+=o.toString()+`
`})," "+e+`
 `+e+" - "+r}else return" "+e}function Zu(e){if(e.name)return e.name;var t=e.toString(),r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}var Fx=function(){function e(t){this.id=pa(),this.container=t}return e.prototype.addPlan=function(t){this.plan=t},e.prototype.setCurrentRequest=function(t){this.currentRequest=t},e}(),ci=function(){function e(t,r){this.key=t,this.value=r}return e.prototype.toString=function(){return this.key===$r?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}(),Dz=function(){function e(t,r){this.parentContext=t,this.rootRequest=r}return e}();function Lz(e,t,r,n){var i=Mx;jx(i,e,t,n,r)}function Uz(e,t,r){var n=Dx;jx(n,e.constructor,t,r)}function jx(e,t,r,n,i){var o={},a=typeof i=="number",s=i!==void 0&&a?i.toString():r;if(a&&r!==void 0)throw new Error(Ez);Reflect.hasOwnMetadata(e,t)&&(o=Reflect.getMetadata(e,t));var c=o[s];if(!Array.isArray(c))c=[];else for(var u=0,f=c;u<f.length;u++){var l=f[u];if(l.key===n.key)throw new Error(fz+" "+l.key.toString())}c.push(n),o[s]=c,Reflect.defineMetadata(e,o,t)}var Bz=function(){function e(t){this._cb=t}return e.prototype.unwrap=function(){return this._cb()},e}();function Wq(e){return function(t,r,n){if(e===void 0)throw new Error(gz(t.name));var i=new ci(Qu,e);typeof n=="number"?Lz(t,r,n,i):Uz(t,r,i)}}var Fz=function(){function e(t){this.str=t}return e.prototype.startsWith=function(t){return this.str.indexOf(t)===0},e.prototype.endsWith=function(t){var r="",n=t.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},n)},e.prototype.contains=function(t){return this.str.indexOf(t)!==-1},e.prototype.equals=function(t){return this.str===t},e.prototype.value=function(){return this.str},e}(),ec=function(){function e(t,r,n,i){this.id=pa(),this.type=t,this.serviceIdentifier=n,this.name=new Fz(r||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new ci($r,i):i instanceof ci&&(o=i),o!==null&&this.metadata.push(o)}return e.prototype.hasTag=function(t){for(var r=0,n=this.metadata;r<n.length;r++){var i=n[r];if(i.key===t)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(Zo)},e.prototype.matchesArray=function(t){return this.matchesTag(Zo)(t)},e.prototype.isNamed=function(){return this.hasTag($r)},e.prototype.isTagged=function(){return this.metadata.some(function(t){return z_.every(function(r){return t.key!==r})})},e.prototype.isOptional=function(){return this.matchesTag(Rx)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===$r})[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return z_.every(function(r){return t.key!==r})}):null},e.prototype.matchesNamedTag=function(t){return this.matchesTag($r)(t)},e.prototype.matchesTag=function(t){var r=this;return function(n){for(var i=0,o=r.metadata;i<o.length;i++){var a=o[i];if(a.key===t&&a.value===n)return!0}return!1}},e}(),hu=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function jz(e,t){var r=Zu(t),n=$x(e,r,t,!1);return n}function $x(e,t,r,n){var i=e.getConstructorMetadata(r),o=i.compilerGeneratedMetadata;if(o===void 0){var a=pz+" "+t+".";throw new Error(a)}var s=i.userGeneratedMetadata,c=Object.keys(s),u=r.length===0&&c.length>0,f=c.length>r.length,l=u||f?c.length:r.length,d=zz(n,t,o,s,l),h=zx(e,r),v=hu(hu([],d),h);return v}function $z(e,t,r,n,i){var o=i[e.toString()]||[],a=Kx(o),s=a.unmanaged!==!0,c=n[e],u=a.inject||a.multiInject;if(c=u||c,c instanceof Bz&&(c=c.unwrap()),s){var f=c===Object,l=c===Function,d=c===void 0,h=f||l||d;if(!t&&h){var v=vz+" argument "+e+" in class "+r+".";throw new Error(v)}var g=new ec(rn.ConstructorArgument,a.targetName,c);return g.metadata=o,g}return null}function zz(e,t,r,n,i){for(var o=[],a=0;a<i;a++){var s=a,c=$z(s,e,t,r,n);c!==null&&o.push(c)}return o}function zx(e,t){for(var r=e.getPropertiesMetadata(t),n=[],i=Object.keys(r),o=0,a=i;o<a.length;o++){var s=a[o],c=r[s],u=Kx(r[s]),f=u.targetName||s,l=u.inject||u.multiInject,d=new ec(rn.ClassProperty,f,l);d.metadata=c,n.push(d)}var h=Object.getPrototypeOf(t.prototype).constructor;if(h!==Object){var v=zx(e,h);n=hu(hu([],n),v)}return n}function qx(e,t){var r=Object.getPrototypeOf(t.prototype).constructor;if(r!==Object){var n=Zu(r),i=$x(e,n,r,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===Zh})}),a=[].concat.apply([],o).length,s=i.length-a;return s>0?s:qx(e,r)}else return 0}function Kx(e){var t={};return e.forEach(function(r){t[r.key.toString()]=r.value}),{inject:t[Qu],multiInject:t[Zo],targetName:t[Nx],unmanaged:t[Zh]}}var ep=function(){function e(t,r,n,i,o){this.id=pa(),this.serviceIdentifier=t,this.parentContext=r,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);return this.childRequests.push(i),i},e}();function Id(e){return e._bindingDictionary}function qz(e,t,r,n,i,o){var a=e?Zo:Qu,s=new ci(a,r),c=new ec(t,n,r,s);if(i!==void 0){var u=new ci(i,o);c.metadata.push(u)}return c}function H_(e,t,r,n,i){var o=ta(r.container,i.serviceIdentifier),a=[];return o.length===As.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=ta(r.container,i.serviceIdentifier)),t?a=o:a=o.filter(function(s){var c=new ep(s.serviceIdentifier,r,n,s,i);return s.constraint(c)}),Kz(i.serviceIdentifier,a,i,r.container),a}function Kz(e,t,r,n){switch(t.length){case As.NoBindingsAvailable:if(r.isOptional())return t;var i=ea(e),o=hz;throw o+=Mz(i,r),o+=K_(n,i,ta),new Error(o);case As.OnlyOneBindingAvailable:if(!r.isArray())return t;case As.MultipleBindingsAvailable:default:if(r.isArray())return t;var i=ea(e),o=lz+" "+i;throw o+=K_(n,i,ta),new Error(o)}}function Hx(e,t,r,n,i,o){var a,s;if(i===null){a=H_(e,t,n,null,o),s=new ep(r,n,null,a,o);var c=new Dz(n,s);n.addPlan(c)}else a=H_(e,t,n,i,o),s=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach(function(u){var f=null;if(o.isArray())f=s.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;f=s}if(u.type===rt.Instance&&u.implementationType!==null){var l=jz(e,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=qx(e,u.implementationType);if(l.length<d){var h=Cz(Zu(u.implementationType));throw new Error(h)}}l.forEach(function(v){Hx(e,!1,v.serviceIdentifier,n,f,v)})}})}function ta(e,t){var r=[],n=Id(e);return n.hasKey(t)?r=n.get(t):e.parent!==null&&(r=ta(e.parent,t)),r}function Hz(e,t,r,n,i,o,a,s){s===void 0&&(s=!1);var c=new Fx(t),u=qz(r,n,i,"",o,a);try{return Hx(e,s,i,c,null,u),c}catch(f){throw Lx(f)&&c.plan&&Bx(c.plan.rootRequest),f}}function Gz(e,t,r,n){var i=new ec(rn.Variable,"",t,new ci(r,n)),o=new Fx(e),a=new ep(t,o,null,[],i);return a}var Vz=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function Wz(e,t,r){var n=t.filter(function(o){return o.target!==null&&o.target.type===rn.ClassProperty}),i=n.map(r);return n.forEach(function(o,a){var s="";s=o.target.name.value();var c=i[a];e[s]=c}),e}function Jz(e,t){return new(e.bind.apply(e,Vz([void 0],t)))}function Yz(e,t){if(Reflect.hasMetadata($_,e)){var r=Reflect.getMetadata($_,e);try{t[r.value]()}catch(n){throw new Error(Oz(e.name,n.message))}}}function Xz(e,t,r){var n=null;if(t.length>0){var i=t.filter(function(a){return a.target!==null&&a.target.type===rn.ConstructorArgument}),o=i.map(r);n=Jz(e,o),n=Wz(n,t,r)}else n=new e;return Yz(e,n),n}var cf=function(e,t,r){try{return r()}catch(n){throw Lx(n)?new Error(kz(e,t.toString())):n}},Od=function(e){return function(t){t.parentContext.setCurrentRequest(t);var r=t.bindings,n=t.childRequests,i=t.target&&t.target.isArray(),o=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(i&&o)return n.map(function(l){var d=Od(e);return d(l)});var a=null;if(t.target.isOptional()&&r.length===0)return;var s=r[0],c=s.scope===it.Singleton,u=s.scope===it.Request;if(c&&s.activated)return s.cache;if(u&&e!==null&&e.has(s.id))return e.get(s.id);if(s.type===rt.ConstantValue)a=s.cache,s.activated=!0;else if(s.type===rt.Function)a=s.cache,s.activated=!0;else if(s.type===rt.Constructor)a=s.implementationType;else if(s.type===rt.DynamicValue&&s.dynamicValue!==null)a=cf("toDynamicValue",s.serviceIdentifier,function(){return s.dynamicValue(t.parentContext)});else if(s.type===rt.Factory&&s.factory!==null)a=cf("toFactory",s.serviceIdentifier,function(){return s.factory(t.parentContext)});else if(s.type===rt.Provider&&s.provider!==null)a=cf("toProvider",s.serviceIdentifier,function(){return s.provider(t.parentContext)});else if(s.type===rt.Instance&&s.implementationType!==null)a=Xz(s.implementationType,n,Od(e));else{var f=ea(t.serviceIdentifier);throw new Error(yz+" "+f)}return typeof s.onActivation=="function"&&(a=s.onActivation(t.parentContext,a)),c&&(s.cache=a,s.activated=!0),u&&e!==null&&!e.has(s.id)&&e.set(s.id,a),a}};function Qz(e){var t=Od(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}var Wr=function(e,t){var r=e.parentRequest;return r!==null?t(r)?!0:Wr(r,t):!1},Ao=function(e){return function(t){var r=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(e)(t)};return r.metaData=new ci(e,t),r}},Ya=Ao($r),ff=function(e){return function(t){var r=null;if(t!==null)if(r=t.bindings[0],typeof e=="string"){var n=r.serviceIdentifier;return n===e}else{var i=t.bindings[0].implementationType;return e===i}return!1}},tp=function(){function e(t){this._binding=t}return e.prototype.when=function(t){return this._binding.constraint=t,new Qe(this._binding)},e.prototype.whenTargetNamed=function(t){return this._binding.constraint=Ya(t),new Qe(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){var r=t.target!==null&&!t.target.isNamed()&&!t.target.isTagged();return r},new Qe(this._binding)},e.prototype.whenTargetTagged=function(t,r){return this._binding.constraint=Ao(t)(r),new Qe(this._binding)},e.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(r){return ff(t)(r.parentRequest)},new Qe(this._binding)},e.prototype.whenParentNamed=function(t){return this._binding.constraint=function(r){return Ya(t)(r.parentRequest)},new Qe(this._binding)},e.prototype.whenParentTagged=function(t,r){return this._binding.constraint=function(n){return Ao(t)(r)(n.parentRequest)},new Qe(this._binding)},e.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(r){return Wr(r,ff(t))},new Qe(this._binding)},e.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(r){return!Wr(r,ff(t))},new Qe(this._binding)},e.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(r){return Wr(r,Ya(t))},new Qe(this._binding)},e.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(r){return!Wr(r,Ya(t))},new Qe(this._binding)},e.prototype.whenAnyAncestorTagged=function(t,r){return this._binding.constraint=function(n){return Wr(n,Ao(t)(r))},new Qe(this._binding)},e.prototype.whenNoAncestorTagged=function(t,r){return this._binding.constraint=function(n){return!Wr(n,Ao(t)(r))},new Qe(this._binding)},e.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(r){return Wr(r,t)},new Qe(this._binding)},e.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(r){return!Wr(r,t)},new Qe(this._binding)},e}(),Qe=function(){function e(t){this._binding=t}return e.prototype.onActivation=function(t){return this._binding.onActivation=t,new tp(this._binding)},e}(),bn=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new tp(this._binding),this._bindingOnSyntax=new Qe(this._binding)}return e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,r){return this._bindingWhenSyntax.whenTargetTagged(t,r)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,r){return this._bindingWhenSyntax.whenParentTagged(t,r)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,r)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenNoAncestorTagged(t,r)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e}(),Zz=function(){function e(t){this._binding=t}return e.prototype.inRequestScope=function(){return this._binding.scope=it.Request,new bn(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=it.Transient,new bn(this._binding)},e}(),G_=function(){function e(t){this._binding=t,this._bindingWhenSyntax=new tp(this._binding),this._bindingOnSyntax=new Qe(this._binding),this._bindingInSyntax=new Zz(t)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},e.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(t,r){return this._bindingWhenSyntax.whenTargetTagged(t,r)},e.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},e.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},e.prototype.whenParentTagged=function(t,r){return this._bindingWhenSyntax.whenParentTagged(t,r)},e.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},e.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},e.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},e.prototype.whenAnyAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,r)},e.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},e.prototype.whenNoAncestorTagged=function(t,r){return this._bindingWhenSyntax.whenNoAncestorTagged(t,r)},e.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},e.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},e.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},e}(),e5=function(){function e(t){this._binding=t}return e.prototype.to=function(t){return this._binding.type=rt.Instance,this._binding.implementationType=t,new G_(this._binding)},e.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Sz);var t=this._binding.serviceIdentifier;return this.to(t)},e.prototype.toConstantValue=function(t){return this._binding.type=rt.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toDynamicValue=function(t){return this._binding.type=rt.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new G_(this._binding)},e.prototype.toConstructor=function(t){return this._binding.type=rt.Constructor,this._binding.implementationType=t,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toFactory=function(t){return this._binding.type=rt.Factory,this._binding.factory=t,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toFunction=function(t){if(typeof t!="function")throw new Error(_z);var r=this.toConstantValue(t);return this._binding.type=rt.Function,this._binding.scope=it.Singleton,r},e.prototype.toAutoFactory=function(t){return this._binding.type=rt.Factory,this._binding.factory=function(r){var n=function(){return r.container.get(t)};return n},this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toProvider=function(t){return this._binding.type=rt.Provider,this._binding.provider=t,this._binding.scope=it.Singleton,new bn(this._binding)},e.prototype.toService=function(t){this.toDynamicValue(function(r){return r.container.get(t)})},e}(),t5=function(){function e(){}return e.of=function(t,r){var n=new e;return n.bindings=t,n.middleware=r,n},e}(),V_=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(t,r){if(t==null)throw new Error(vo);if(r==null)throw new Error(vo);var n=this._map.get(t);n!==void 0?(n.push(r),this._map.set(t,n)):this._map.set(t,[r])},e.prototype.get=function(t){if(t==null)throw new Error(vo);var r=this._map.get(t);if(r!==void 0)return r;throw new Error(q_)},e.prototype.remove=function(t){if(t==null)throw new Error(vo);if(!this._map.delete(t))throw new Error(q_)},e.prototype.removeByCondition=function(t){var r=this;this._map.forEach(function(n,i){var o=n.filter(function(a){return!t(a)});o.length>0?r._map.set(i,o):r._map.delete(i)})},e.prototype.hasKey=function(t){if(t==null)throw new Error(vo);return this._map.has(t)},e.prototype.clone=function(){var t=new e;return this._map.forEach(function(r,n){r.forEach(function(i){return t.add(n,i.clone())})}),t},e.prototype.traverse=function(t){this._map.forEach(function(r,n){t(n,r)})},e}(),r5=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(f){try{u(n.next(f))}catch(l){a(l)}}function c(f){try{u(n.throw(f))}catch(l){a(l)}}function u(f){f.done?o(f.value):i(f.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},n5=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},i5=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Jq=function(){function e(t){this._appliedMiddleware=[];var r=t||{};if(typeof r!="object")throw new Error(""+Az);if(r.defaultScope===void 0)r.defaultScope=it.Transient;else if(r.defaultScope!==it.Singleton&&r.defaultScope!==it.Transient&&r.defaultScope!==it.Request)throw new Error(""+xz);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+Tz);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+Iz);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=pa(),this._bindingDictionary=new V_,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new Nz}return e.merge=function(t,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new e,a=i5([t,r],n).map(function(u){return Id(u)}),s=Id(o);function c(u,f){u.traverse(function(l,d){d.forEach(function(h){f.add(h.serviceIdentifier,h.clone())})})}return a.forEach(function(u){c(u,s)}),o},e.prototype.load=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=t;i<o.length;i++){var a=o[i],s=n(a.id);a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return r5(this,void 0,void 0,function(){var n,i,o,a,s;return n5(this,function(c){switch(c.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=t,c.label=1;case 1:return i<o.length?(a=o[i],s=n(a.id),[4,a.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.unload=function(){for(var t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=function(o){return function(a){return a.moduleId===o}};r.forEach(function(o){var a=i(o.id);t._bindingDictionary.removeByCondition(a)})},e.prototype.bind=function(t){var r=this.options.defaultScope||it.Transient,n=new uz(t,r);return this._bindingDictionary.add(t,n),new e5(n)},e.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},e.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch{throw new Error(dz+" "+ea(t))}},e.prototype.unbindAll=function(){this._bindingDictionary=new V_},e.prototype.isBound=function(t){var r=this._bindingDictionary.hasKey(t);return!r&&this.parent&&(r=this.parent.isBound(t)),r},e.prototype.isBoundNamed=function(t,r){return this.isBoundTagged(t,$r,r)},e.prototype.isBoundTagged=function(t,r,n){var i=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),a=Gz(this,t,r,n);i=o.some(function(s){return s.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,r,n)),i},e.prototype.snapshot=function(){this._snapshots.push(t5.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var t=this._snapshots.pop();if(t===void 0)throw new Error(wz);this._bindingDictionary=t.bindings,this._middleware=t.middleware},e.prototype.createChild=function(t){var r=new e(t||this.options);return r.parent=this,r},e.prototype.applyMiddleware=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._appliedMiddleware=this._appliedMiddleware.concat(t);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(i,o){return o(i)},n)},e.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},e.prototype.get=function(t){return this._get(!1,!1,rn.Variable,t)},e.prototype.getTagged=function(t,r,n){return this._get(!1,!1,rn.Variable,t,r,n)},e.prototype.getNamed=function(t,r){return this.getTagged(t,$r,r)},e.prototype.getAll=function(t){return this._get(!0,!0,rn.Variable,t)},e.prototype.getAllTagged=function(t,r,n){return this._get(!1,!0,rn.Variable,t,r,n)},e.prototype.getAllNamed=function(t,r){return this.getAllTagged(t,$r,r)},e.prototype.resolve=function(t){var r=this.createChild();return r.bind(t).toSelf(),this._appliedMiddleware.forEach(function(n){r.applyMiddleware(n)}),r.get(t)},e.prototype._getContainerModuleHelpersFactory=function(){var t=this,r=function(s,c){s._binding.moduleId=c},n=function(s){return function(c){var u=t.bind.bind(t),f=u(c);return r(f,s),f}},i=function(s){return function(c){var u=t.unbind.bind(t);u(c)}},o=function(s){return function(c){var u=t.isBound.bind(t);return u(c)}},a=function(s){return function(c){var u=t.rebind.bind(t),f=u(c);return r(f,s),f}};return function(s){return{bindFunction:n(s),isboundFunction:o(s),rebindFunction:a(s),unbindFunction:i(s)}}},e.prototype._get=function(t,r,n,i,o,a){var s=null,c={avoidConstraints:t,contextInterceptor:function(u){return u},isMultiInject:r,key:o,serviceIdentifier:i,targetType:n,value:a};if(this._middleware){if(s=this._middleware(c),s==null)throw new Error(bz)}else s=this._planAndResolve()(c);return s},e.prototype._planAndResolve=function(){var t=this;return function(r){var n=Hz(t._metadataReader,t,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);n=r.contextInterceptor(n);var i=Qz(n);return i}},e}();function Yq(){return function(e){if(Reflect.hasOwnMetadata(Td,e))throw new Error(cz);var t=Reflect.getMetadata(oz,e)||[];return Reflect.defineMetadata(Td,t,e),e}}var go=Symbol.for("INJECTION");function tc(e,t,r,n){function i(){return n&&!Reflect.hasMetadata(go,this,t)&&Reflect.defineMetadata(go,r(),this,t),Reflect.hasMetadata(go,this,t)?Reflect.getMetadata(go,this,t):r()}function o(a){Reflect.defineMetadata(go,a,this,t)}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:i,set:o})}function o5(e,t){return function(r){return function(n,i){var o=function(){return e.get(r)};tc(n,i,o,t)}}}function a5(e,t){return function(r,n){return function(i,o){var a=function(){return e.getNamed(r,n)};tc(i,o,a,t)}}}function s5(e,t){return function(r,n,i){return function(o,a){var s=function(){return e.getTagged(r,n,i)};tc(o,a,s,t)}}}function u5(e,t){return function(r){return function(n,i){var o=function(){return e.getAll(r)};tc(n,i,o,t)}}}function Xq(e,t){t===void 0&&(t=!0);var r=o5(e,t),n=a5(e,t),i=s5(e,t),o=u5(e,t);return{lazyInject:r,lazyInjectNamed:n,lazyInjectTagged:i,lazyMultiInject:o}}var rp={exports:{}},Gx=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},c5=Gx,Mn=Object.prototype.toString;function np(e){return Array.isArray(e)}function kd(e){return typeof e=="undefined"}function f5(e){return e!==null&&!kd(e)&&e.constructor!==null&&!kd(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Vx(e){return Mn.call(e)==="[object ArrayBuffer]"}function l5(e){return Mn.call(e)==="[object FormData]"}function d5(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vx(e.buffer),t}function h5(e){return typeof e=="string"}function p5(e){return typeof e=="number"}function Wx(e){return e!==null&&typeof e=="object"}function xs(e){if(Mn.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function v5(e){return Mn.call(e)==="[object Date]"}function g5(e){return Mn.call(e)==="[object File]"}function m5(e){return Mn.call(e)==="[object Blob]"}function Jx(e){return Mn.call(e)==="[object Function]"}function y5(e){return Wx(e)&&Jx(e.pipe)}function w5(e){return Mn.call(e)==="[object URLSearchParams]"}function b5(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function _5(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ip(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),np(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Pd(){var e={};function t(i,o){xs(e[o])&&xs(i)?e[o]=Pd(e[o],i):xs(i)?e[o]=Pd({},i):np(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)ip(arguments[r],t);return e}function S5(e,t,r){return ip(t,function(i,o){r&&typeof i=="function"?e[o]=c5(i,r):e[o]=i}),e}function E5(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Dt={isArray:np,isArrayBuffer:Vx,isBuffer:f5,isFormData:l5,isArrayBufferView:d5,isString:h5,isNumber:p5,isObject:Wx,isPlainObject:xs,isUndefined:kd,isDate:v5,isFile:g5,isBlob:m5,isFunction:Jx,isStream:y5,isURLSearchParams:w5,isStandardBrowserEnv:_5,forEach:ip,merge:Pd,extend:S5,trim:b5,stripBOM:E5},Ii=Dt;function W_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Yx=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Ii.isURLSearchParams(r))i=r.toString();else{var o=[];Ii.forEach(r,function(c,u){c===null||typeof c=="undefined"||(Ii.isArray(c)?u=u+"[]":c=[c],Ii.forEach(c,function(l){Ii.isDate(l)?l=l.toISOString():Ii.isObject(l)&&(l=JSON.stringify(l)),o.push(W_(u)+"="+W_(l))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},C5=Dt;function rc(){this.handlers=[]}rc.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};rc.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};rc.prototype.forEach=function(t){C5.forEach(this.handlers,function(n){n!==null&&t(n)})};var A5=rc,x5=Dt,T5=function(t,r){x5.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},Xx=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},I5=Xx,Qx=function(t,r,n,i,o){var a=new Error(t);return I5(a,r,n,i,o)},O5=Qx,k5=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(O5("Request failed with status code "+n.status,n.config,null,n.request,n))},Xa=Dt,P5=Xa.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var c=[];c.push(r+"="+encodeURIComponent(n)),Xa.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),Xa.isString(o)&&c.push("path="+o),Xa.isString(a)&&c.push("domain="+a),s===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),N5=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},R5=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},M5=N5,D5=R5,L5=function(t,r){return t&&!M5(r)?D5(t,r):r},lf=Dt,U5=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],B5=function(t){var r={},n,i,o;return t&&lf.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=lf.trim(s.substr(0,o)).toLowerCase(),i=lf.trim(s.substr(o+1)),n){if(r[n]&&U5.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},J_=Dt,F5=J_.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=J_.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function op(e){this.message=e}op.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};op.prototype.__CANCEL__=!0;var nc=op,Qa=Dt,j5=k5,$5=P5,z5=Yx,q5=L5,K5=B5,H5=F5,df=Qx,G5=oc,V5=nc,Y_=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType,c;function u(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}Qa.isFormData(o)&&delete a["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(l+":"+d)}var h=q5(t.baseURL,t.url);f.open(t.method.toUpperCase(),z5(h,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function v(){if(!!f){var _="getAllResponseHeaders"in f?K5(f.getAllResponseHeaders()):null,E=!s||s==="text"||s==="json"?f.responseText:f.response,S={data:E,status:f.status,statusText:f.statusText,headers:_,config:t,request:f};j5(function(R){n(R),u()},function(R){i(R),u()},S),f=null}}if("onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(v)},f.onabort=function(){!f||(i(df("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(df("Network Error",t,null,f)),f=null},f.ontimeout=function(){var E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",S=t.transitional||G5.transitional;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),i(df(E,t,S.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},Qa.isStandardBrowserEnv()){var g=(t.withCredentials||H5(h))&&t.xsrfCookieName?$5.read(t.xsrfCookieName):void 0;g&&(a[t.xsrfHeaderName]=g)}"setRequestHeader"in f&&Qa.forEach(a,function(E,S){typeof o=="undefined"&&S.toLowerCase()==="content-type"?delete a[S]:f.setRequestHeader(S,E)}),Qa.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),s&&s!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(c=function(_){!f||(i(!_||_&&_.type?new V5("canceled"):_),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c))),o||(o=null),f.send(o)})},tt=Dt,X_=T5,W5=Xx,J5={"Content-Type":"application/x-www-form-urlencoded"};function Q_(e,t){!tt.isUndefined(e)&&tt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function Y5(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Y_),e}function X5(e,t,r){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var ic={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Y5(),transformRequest:[function(t,r){return X_(r,"Accept"),X_(r,"Content-Type"),tt.isFormData(t)||tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)?t:tt.isArrayBufferView(t)?t.buffer:tt.isURLSearchParams(t)?(Q_(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):tt.isObject(t)||r&&r["Content-Type"]==="application/json"?(Q_(r,"application/json"),X5(t)):t}],transformResponse:[function(t){var r=this.transitional||ic.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&tt.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?W5(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};tt.forEach(["delete","get","head"],function(t){ic.headers[t]={}});tt.forEach(["post","put","patch"],function(t){ic.headers[t]=tt.merge(J5)});var oc=ic,Q5=Dt,Z5=oc,eq=function(t,r,n){var i=this||Z5;return Q5.forEach(n,function(a){t=a.call(i,t,r)}),t},Zx=function(t){return!!(t&&t.__CANCEL__)},Z_=Dt,hf=eq,tq=Zx,rq=oc,nq=nc;function pf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nq("canceled")}var iq=function(t){pf(t),t.headers=t.headers||{},t.data=hf.call(t,t.data,t.headers,t.transformRequest),t.headers=Z_.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Z_.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||rq.adapter;return r(t).then(function(i){return pf(t),i.data=hf.call(t,i.data,i.headers,t.transformResponse),i},function(i){return tq(i)||(pf(t),i&&i.response&&(i.response.data=hf.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},jt=Dt,e1=function(t,r){r=r||{};var n={};function i(f,l){return jt.isPlainObject(f)&&jt.isPlainObject(l)?jt.merge(f,l):jt.isPlainObject(l)?jt.merge({},l):jt.isArray(l)?l.slice():l}function o(f){if(jt.isUndefined(r[f])){if(!jt.isUndefined(t[f]))return i(void 0,t[f])}else return i(t[f],r[f])}function a(f){if(!jt.isUndefined(r[f]))return i(void 0,r[f])}function s(f){if(jt.isUndefined(r[f])){if(!jt.isUndefined(t[f]))return i(void 0,t[f])}else return i(void 0,r[f])}function c(f){if(f in r)return i(t[f],r[f]);if(f in t)return i(void 0,t[f])}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return jt.forEach(Object.keys(t).concat(Object.keys(r)),function(l){var d=u[l]||o,h=d(l);jt.isUndefined(h)&&d!==c||(n[l]=h)}),n},t1={version:"0.25.0"},oq=t1.version,ap={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ap[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var eS={};ap.transitional=function(t,r,n){function i(o,a){return"[Axios v"+oq+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!eS[a]&&(eS[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function aq(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],c=s===void 0||a(s,o,e);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}var sq={assertOptions:aq,validators:ap},r1=Dt,uq=Yx,tS=A5,rS=iq,ac=e1,n1=sq,Oi=n1.validators;function va(e){this.defaults=e,this.interceptors={request:new tS,response:new tS}}va.prototype.request=function(t,r){if(typeof t=="string"?(r=r||{},r.url=t):r=t||{},!r.url)throw new Error("Provided config url is not valid");r=ac(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&n1.assertOptions(n,{silentJSONParsing:Oi.transitional(Oi.boolean),forcedJSONParsing:Oi.transitional(Oi.boolean),clarifyTimeoutError:Oi.transitional(Oi.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(o=o&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});var a=[];this.interceptors.response.forEach(function(h){a.push(h.fulfilled,h.rejected)});var s;if(!o){var c=[rS,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(a),s=Promise.resolve(r);c.length;)s=s.then(c.shift(),c.shift());return s}for(var u=r;i.length;){var f=i.shift(),l=i.shift();try{u=f(u)}catch(d){l(d);break}}try{s=rS(u)}catch(d){return Promise.reject(d)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};va.prototype.getUri=function(t){if(!t.url)throw new Error("Provided config url is not valid");return t=ac(this.defaults,t),uq(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};r1.forEach(["delete","get","head","options"],function(t){va.prototype[t]=function(r,n){return this.request(ac(n||{},{method:t,url:r,data:(n||{}).data}))}});r1.forEach(["post","put","patch"],function(t){va.prototype[t]=function(r,n,i){return this.request(ac(i||{},{method:t,url:r,data:n}))}});var cq=va,fq=nc;function Yi(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new fq(i),t(r.reason))})}Yi.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Yi.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Yi.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Yi.source=function(){var t,r=new Yi(function(i){t=i});return{token:r,cancel:t}};var lq=Yi,dq=function(t){return function(n){return t.apply(null,n)}},hq=Dt,pq=function(t){return hq.isObject(t)&&t.isAxiosError===!0},nS=Dt,vq=Gx,Ts=cq,gq=e1,mq=oc;function i1(e){var t=new Ts(e),r=vq(Ts.prototype.request,t);return nS.extend(r,Ts.prototype,t),nS.extend(r,t),r.create=function(i){return i1(gq(e,i))},r}var qr=i1(mq);qr.Axios=Ts;qr.Cancel=nc;qr.CancelToken=lq;qr.isCancel=Zx;qr.VERSION=t1.version;qr.all=function(t){return Promise.all(t)};qr.spread=dq;qr.isAxiosError=pq;rp.exports=qr;rp.exports.default=qr;var yq=rp.exports,wq=Object.defineProperty,bq=Object.prototype.hasOwnProperty,iS=Object.getOwnPropertySymbols,_q=Object.prototype.propertyIsEnumerable,oS=(e,t,r)=>t in e?wq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gr=(e,t)=>{for(var r in t||(t={}))bq.call(t,r)&&oS(e,r,t[r]);if(iS)for(var r of iS(t))_q.call(t,r)&&oS(e,r,t[r]);return e};const mo=e=>e===void 0,aS=e=>Array.isArray(e),sS=e=>e&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.slice=="function",Nd=(e,t,r,n)=>((t=t||{}).indices=!mo(t.indices)&&t.indices,t.nullsAsUndefineds=!mo(t.nullsAsUndefineds)&&t.nullsAsUndefineds,t.booleansAsIntegers=!mo(t.booleansAsIntegers)&&t.booleansAsIntegers,t.allowEmptyArrays=!mo(t.allowEmptyArrays)&&t.allowEmptyArrays,r=r||new FormData,mo(e)||(e===null?t.nullsAsUndefineds||r.append(n,""):(i=>typeof i=="boolean")(e)?t.booleansAsIntegers?r.append(n,e?1:0):r.append(n,e):aS(e)?e.length?e.forEach((i,o)=>{const a=n+"["+(t.indices?o:"")+"]";Nd(i,t,r,a)}):t.allowEmptyArrays&&r.append(n+"[]",""):(i=>i instanceof Date)(e)?r.append(n,e.toISOString()):!(i=>i===Object(i))(e)||(i=>sS(i)&&typeof i.name=="string"&&(typeof i.lastModifiedDate=="object"||typeof i.lastModified=="number"))(e)||sS(e)?r.append(n,e):Object.keys(e).forEach(i=>{const o=e[i];if(aS(o))for(;i.length>2&&i.lastIndexOf("[]")===i.length-2;)i=i.substring(0,i.length-2);Nd(o,t,r,n?n+"["+i+"]":i)})),r);var Sq={serialize:Nd};function Rd(e){if(e===null||typeof e!="object")return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(r=>{t[r]=Rd(e[r])}),t}function uS(e){return Array.isArray(e)?e:[e]}function o1(e){return e instanceof File||e instanceof Blob||e instanceof FileList||typeof e=="object"&&e!==null&&Object.values(e).find(t=>o1(t))!==void 0}class Eq{constructor(){this.errors={},this.errors={}}set(t,r){typeof t=="object"?this.errors=t:this.set(gr(gr({},this.errors),{[t]:uS(r)}))}all(){return this.errors}has(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}hasAny(...t){return t.some(r=>this.has(r))}any(){return Object.keys(this.errors).length>0}get(t){if(this.has(t))return this.getAll(t)[0]}getAll(t){return uS(this.errors[t]||[])}only(...t){const r=[];return t.forEach(n=>{const i=this.get(n);i&&r.push(i)}),r}flatten(){return Object.values(this.errors).reduce((t,r)=>t.concat(r),[])}clear(t){const r={};t&&Object.keys(this.errors).forEach(n=>{n!==t&&(r[n]=this.errors[n])}),this.set(r)}}class ar{constructor(t={}){this.originalData={},this.busy=!1,this.successful=!1,this.recentlySuccessful=!1,this.recentlySuccessfulTimeoutId=void 0,this.errors=new Eq,this.progress=void 0,this.update(t)}static make(t){return new this(t)}update(t){this.originalData=Object.assign({},this.originalData,Rd(t)),Object.assign(this,t)}fill(t={}){this.keys().forEach(r=>{this[r]=t[r]})}data(){return this.keys().reduce((t,r)=>gr(gr({},t),{[r]:this[r]}),{})}keys(){return Object.keys(this).filter(t=>!ar.ignore.includes(t))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1,this.progress=void 0,this.recentlySuccessful=!1,clearTimeout(this.recentlySuccessfulTimeoutId)}finishProcessing(){this.busy=!1,this.successful=!0,this.progress=void 0,this.recentlySuccessful=!0,this.recentlySuccessfulTimeoutId=setTimeout(()=>{this.recentlySuccessful=!1},ar.recentlySuccessfulTimeout)}clear(){this.errors.clear(),this.successful=!1,this.recentlySuccessful=!1,this.progress=void 0,clearTimeout(this.recentlySuccessfulTimeoutId)}reset(){Object.keys(this).filter(t=>!ar.ignore.includes(t)).forEach(t=>{this[t]=Rd(this.originalData[t])})}get(t,r={}){return this.submit("get",t,r)}post(t,r={}){return this.submit("post",t,r)}patch(t,r={}){return this.submit("patch",t,r)}put(t,r={}){return this.submit("put",t,r)}delete(t,r={}){return this.submit("delete",t,r)}submit(t,r,n={}){return this.startProcessing(),n=gr({data:{},params:{},url:this.route(r),method:t,onUploadProgress:this.handleUploadProgress.bind(this)},n),t.toLowerCase()==="get"?n.params=gr(gr({},this.data()),n.params):(n.data=gr(gr({},this.data()),n.data),o1(n.data)&&!n.transformRequest&&(n.transformRequest=[i=>Sq.serialize(i)])),new Promise((i,o)=>{(ar.axios||yq).request(n).then(a=>{this.finishProcessing(),i(a)}).catch(a=>{this.handleErrors(a),o(a)})})}handleErrors(t){this.busy=!1,this.progress=void 0,t.response&&this.errors.set(this.extractErrors(t.response))}extractErrors(t){return t.data&&typeof t.data=="object"?t.data.errors?gr({},t.data.errors):t.data.message?{error:t.data.message}:gr({},t.data):{error:ar.errorMessage}}handleUploadProgress(t){this.progress={total:t.total,loaded:t.loaded,percentage:Math.round(100*t.loaded/t.total)}}route(t,r={}){let n=t;return Object.prototype.hasOwnProperty.call(ar.routes,t)&&(n=decodeURI(ar.routes[t])),typeof r!="object"&&(r={id:r}),Object.keys(r).forEach(i=>{n=n.replace(`{${i}}`,r[i])}),n}onKeydown(t){const r=t.target;r.name&&this.errors.clear(r.name)}}ar.routes={},ar.errorMessage="Something went wrong. Please try again.",ar.recentlySuccessfulTimeout=2e3,ar.ignore=["busy","successful","errors","progress","originalData","recentlySuccessful","recentlySuccessfulTimeoutId"];/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */function Cq(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:n});else{var r=e.prototype._init;e.prototype._init=function(i){i===void 0&&(i={}),i.init=i.init?[n].concat(i.init):n,r.call(this,i)}}function n(){var i=this.$options;i.store?this.$store=typeof i.store=="function"?i.store():i.store:i.parent&&i.parent.$store&&(this.$store=i.parent.$store)}}var Aq=typeof window!="undefined"?window:typeof global!="undefined"?global:{},ki=Aq.__VUE_DEVTOOLS_GLOBAL_HOOK__;function xq(e){!ki||(e._devtoolHook=ki,ki.emit("vuex:init",e),ki.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(t,r){ki.emit("vuex:mutation",t,r)},{prepend:!0}),e.subscribeAction(function(t,r){ki.emit("vuex:action",t,r)},{prepend:!0}))}function Tq(e,t){return e.filter(t)[0]}function Md(e,t){if(t===void 0&&(t=[]),e===null||typeof e!="object")return e;var r=Tq(t,function(i){return i.original===e});if(r)return r.copy;var n=Array.isArray(e)?[]:{};return t.push({original:e,copy:n}),Object.keys(e).forEach(function(i){n[i]=Md(e[i],t)}),n}function no(e,t){Object.keys(e).forEach(function(r){return t(e[r],r)})}function a1(e){return e!==null&&typeof e=="object"}function Iq(e){return e&&typeof e.then=="function"}function Oq(e,t){return function(){return e(t)}}var kr=function(t,r){this.runtime=r,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=(typeof n=="function"?n():n)||{}},s1={namespaced:{configurable:!0}};s1.namespaced.get=function(){return!!this._rawModule.namespaced};kr.prototype.addChild=function(t,r){this._children[t]=r};kr.prototype.removeChild=function(t){delete this._children[t]};kr.prototype.getChild=function(t){return this._children[t]};kr.prototype.hasChild=function(t){return t in this._children};kr.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};kr.prototype.forEachChild=function(t){no(this._children,t)};kr.prototype.forEachGetter=function(t){this._rawModule.getters&&no(this._rawModule.getters,t)};kr.prototype.forEachAction=function(t){this._rawModule.actions&&no(this._rawModule.actions,t)};kr.prototype.forEachMutation=function(t){this._rawModule.mutations&&no(this._rawModule.mutations,t)};Object.defineProperties(kr.prototype,s1);var vi=function(t){this.register([],t,!1)};vi.prototype.get=function(t){return t.reduce(function(r,n){return r.getChild(n)},this.root)};vi.prototype.getNamespace=function(t){var r=this.root;return t.reduce(function(n,i){return r=r.getChild(i),n+(r.namespaced?i+"/":"")},"")};vi.prototype.update=function(t){u1([],this.root,t)};vi.prototype.register=function(t,r,n){var i=this;n===void 0&&(n=!0);var o=new kr(r,n);if(t.length===0)this.root=o;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],o)}r.modules&&no(r.modules,function(s,c){i.register(t.concat(c),s,n)})};vi.prototype.unregister=function(t){var r=this.get(t.slice(0,-1)),n=t[t.length-1],i=r.getChild(n);!i||!i.runtime||r.removeChild(n)};vi.prototype.isRegistered=function(t){var r=this.get(t.slice(0,-1)),n=t[t.length-1];return r?r.hasChild(n):!1};function u1(e,t,r){if(t.update(r),r.modules)for(var n in r.modules){if(!t.getChild(n))return;u1(e.concat(n),t.getChild(n),r.modules[n])}}var Nt,Qt=function(t){var r=this;t===void 0&&(t={}),!Nt&&typeof window!="undefined"&&window.Vue&&l1(window.Vue);var n=t.plugins;n===void 0&&(n=[]);var i=t.strict;i===void 0&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new vi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Nt,this._makeLocalGettersCache=Object.create(null);var o=this,a=this,s=a.dispatch,c=a.commit;this.dispatch=function(d,h){return s.call(o,d,h)},this.commit=function(d,h,v){return c.call(o,d,h,v)},this.strict=i;var u=this._modules.root.state;sc(this,u,[],this._modules.root),up(this,u),n.forEach(function(l){return l(r)});var f=t.devtools!==void 0?t.devtools:Nt.config.devtools;f&&xq(this)},sp={state:{configurable:!0}};sp.state.get=function(){return this._vm._data.$$state};sp.state.set=function(e){};Qt.prototype.commit=function(t,r,n){var i=this,o=pu(t,r,n),a=o.type,s=o.payload,c={type:a,payload:s},u=this._mutations[a];!u||(this._withCommit(function(){u.forEach(function(l){l(s)})}),this._subscribers.slice().forEach(function(f){return f(c,i.state)}))};Qt.prototype.dispatch=function(t,r){var n=this,i=pu(t,r),o=i.type,a=i.payload,s={type:o,payload:a},c=this._actions[o];if(!!c){try{this._actionSubscribers.slice().filter(function(f){return f.before}).forEach(function(f){return f.before(s,n.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(f){return f(a)})):c[0](a);return new Promise(function(f,l){u.then(function(d){try{n._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(s,n.state)})}catch{}f(d)},function(d){try{n._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(s,n.state,d)})}catch{}l(d)})})}};Qt.prototype.subscribe=function(t,r){return c1(t,this._subscribers,r)};Qt.prototype.subscribeAction=function(t,r){var n=typeof t=="function"?{before:t}:t;return c1(n,this._actionSubscribers,r)};Qt.prototype.watch=function(t,r,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},r,n)};Qt.prototype.replaceState=function(t){var r=this;this._withCommit(function(){r._vm._data.$$state=t})};Qt.prototype.registerModule=function(t,r,n){n===void 0&&(n={}),typeof t=="string"&&(t=[t]),this._modules.register(t,r),sc(this,this.state,t,this._modules.get(t),n.preserveState),up(this,this.state)};Qt.prototype.unregisterModule=function(t){var r=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=cp(r.state,t.slice(0,-1));Nt.delete(n,t[t.length-1])}),f1(this)};Qt.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Qt.prototype.hotUpdate=function(t){this._modules.update(t),f1(this,!0)};Qt.prototype._withCommit=function(t){var r=this._committing;this._committing=!0,t(),this._committing=r};Object.defineProperties(Qt.prototype,sp);function c1(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function f1(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;sc(e,r,[],e._modules.root,!0),up(e,r,t)}function up(e,t,r){var n=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={};no(i,function(s,c){o[c]=Oq(s,e),Object.defineProperty(e.getters,c,{get:function(){return e._vm[c]},enumerable:!0})});var a=Nt.config.silent;Nt.config.silent=!0,e._vm=new Nt({data:{$$state:t},computed:o}),Nt.config.silent=a,e.strict&&Dq(e),n&&(r&&e._withCommit(function(){n._data.$$state=null}),Nt.nextTick(function(){return n.$destroy()}))}function sc(e,t,r,n,i){var o=!r.length,a=e._modules.getNamespace(r);if(n.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=n),!o&&!i){var s=cp(t,r.slice(0,-1)),c=r[r.length-1];e._withCommit(function(){Nt.set(s,c,n.state)})}var u=n.context=kq(e,a,r);n.forEachMutation(function(f,l){var d=a+l;Nq(e,d,f,u)}),n.forEachAction(function(f,l){var d=f.root?l:a+l,h=f.handler||f;Rq(e,d,h,u)}),n.forEachGetter(function(f,l){var d=a+l;Mq(e,d,f,u)}),n.forEachChild(function(f,l){sc(e,t,r.concat(l),f,i)})}function kq(e,t,r){var n=t==="",i={dispatch:n?e.dispatch:function(o,a,s){var c=pu(o,a,s),u=c.payload,f=c.options,l=c.type;return(!f||!f.root)&&(l=t+l),e.dispatch(l,u)},commit:n?e.commit:function(o,a,s){var c=pu(o,a,s),u=c.payload,f=c.options,l=c.type;(!f||!f.root)&&(l=t+l),e.commit(l,u,f)}};return Object.defineProperties(i,{getters:{get:n?function(){return e.getters}:function(){return Pq(e,t)}},state:{get:function(){return cp(e.state,r)}}}),i}function Pq(e,t){if(!e._makeLocalGettersCache[t]){var r={},n=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,n)===t){var o=i.slice(n);Object.defineProperty(r,o,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function Nq(e,t,r,n){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(a){r.call(e,n.state,a)})}function Rq(e,t,r,n){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(a){var s=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},a);return Iq(s)||(s=Promise.resolve(s)),e._devtoolHook?s.catch(function(c){throw e._devtoolHook.emit("vuex:error",c),c}):s})}function Mq(e,t,r,n){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(o){return r(n.state,n.getters,o.state,o.getters)})}function Dq(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function cp(e,t){return t.reduce(function(r,n){return r[n]},e)}function pu(e,t,r){return a1(e)&&e.type&&(r=t,t=e,e=e.type),{type:e,payload:t,options:r}}function l1(e){Nt&&e===Nt||(Nt=e,Cq(Nt))}var d1=cc(function(e,t){var r={};return uc(t).forEach(function(n){var i=n.key,o=n.val;r[i]=function(){var s=this.$store.state,c=this.$store.getters;if(e){var u=fc(this.$store,"mapState",e);if(!u)return;s=u.context.state,c=u.context.getters}return typeof o=="function"?o.call(this,s,c):s[o]},r[i].vuex=!0}),r}),h1=cc(function(e,t){var r={};return uc(t).forEach(function(n){var i=n.key,o=n.val;r[i]=function(){for(var s=[],c=arguments.length;c--;)s[c]=arguments[c];var u=this.$store.commit;if(e){var f=fc(this.$store,"mapMutations",e);if(!f)return;u=f.context.commit}return typeof o=="function"?o.apply(this,[u].concat(s)):u.apply(this.$store,[o].concat(s))}}),r}),p1=cc(function(e,t){var r={};return uc(t).forEach(function(n){var i=n.key,o=n.val;o=e+o,r[i]=function(){if(!(e&&!fc(this.$store,"mapGetters",e)))return this.$store.getters[o]},r[i].vuex=!0}),r}),v1=cc(function(e,t){var r={};return uc(t).forEach(function(n){var i=n.key,o=n.val;r[i]=function(){for(var s=[],c=arguments.length;c--;)s[c]=arguments[c];var u=this.$store.dispatch;if(e){var f=fc(this.$store,"mapActions",e);if(!f)return;u=f.context.dispatch}return typeof o=="function"?o.apply(this,[u].concat(s)):u.apply(this.$store,[o].concat(s))}}),r}),Lq=function(e){return{mapState:d1.bind(null,e),mapGetters:p1.bind(null,e),mapMutations:h1.bind(null,e),mapActions:v1.bind(null,e)}};function uc(e){return Uq(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function Uq(e){return Array.isArray(e)||a1(e)}function cc(e){return function(t,r){return typeof t!="string"?(r=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,r)}}function fc(e,t,r){var n=e._modulesNamespaceMap[r];return n}function Bq(e){e===void 0&&(e={});var t=e.collapsed;t===void 0&&(t=!0);var r=e.filter;r===void 0&&(r=function(f,l,d){return!0});var n=e.transformer;n===void 0&&(n=function(f){return f});var i=e.mutationTransformer;i===void 0&&(i=function(f){return f});var o=e.actionFilter;o===void 0&&(o=function(f,l){return!0});var a=e.actionTransformer;a===void 0&&(a=function(f){return f});var s=e.logMutations;s===void 0&&(s=!0);var c=e.logActions;c===void 0&&(c=!0);var u=e.logger;return u===void 0&&(u=console),function(f){var l=Md(f.state);typeof u!="undefined"&&(s&&f.subscribe(function(d,h){var v=Md(h);if(r(d,l,v)){var g=lS(),_=i(d),E="mutation "+d.type+g;cS(u,E,t),u.log("%c prev state","color: #9E9E9E; font-weight: bold",n(l)),u.log("%c mutation","color: #03A9F4; font-weight: bold",_),u.log("%c next state","color: #4CAF50; font-weight: bold",n(v)),fS(u)}l=v}),c&&f.subscribeAction(function(d,h){if(o(d,h)){var v=lS(),g=a(d),_="action "+d.type+v;cS(u,_,t),u.log("%c action","color: #03A9F4; font-weight: bold",g),fS(u)}}))}}function cS(e,t,r){var n=r?e.groupCollapsed:e.group;try{n.call(e,t)}catch{e.log(t)}}function fS(e){try{e.groupEnd()}catch{e.log("\u2014\u2014 log end \u2014\u2014")}}function lS(){var e=new Date;return" @ "+Za(e.getHours(),2)+":"+Za(e.getMinutes(),2)+":"+Za(e.getSeconds(),2)+"."+Za(e.getMilliseconds(),3)}function Fq(e,t){return new Array(t+1).join(e)}function Za(e,t){return Fq("0",t-e.toString().length)+e}var jq={Store:Qt,install:l1,version:"3.6.2",mapState:d1,mapMutations:h1,mapGetters:p1,mapActions:v1,createNamespacedHelpers:Lq,createLogger:Bq},Qq=jq;export{ai as A,Se as C,tn as H,qq as M,$q as P,zq as V,Hq as a,Kq as b,jO as c,ze as d,Wq as e,yq as f,qO as g,Gq as h,Yq as i,r8 as j,Jq as k,Xq as l,ar as m,Vq as n,Qq as o};
